var ML=Object.defineProperty;var gN=e=>{throw TypeError(e)};var FL=(e,t,n)=>t in e?ML(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var rp=(e,t,n)=>FL(e,typeof t!="symbol"?t+"":t,n),Am=(e,t,n)=>t.has(e)||gN("Cannot "+n);var G=(e,t,n)=>(Am(e,t,"read from private field"),n?n.call(e):t.get(e)),je=(e,t,n)=>t.has(e)?gN("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),Te=(e,t,n,r)=>(Am(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),Ze=(e,t,n)=>(Am(e,t,"access private method"),n);var ap=(e,t,n,r)=>({set _(a){Te(e,t,a,n)},get _(){return G(e,t,r)}});function PL(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const a in r)if(a!=="default"&&!(a in e)){const i=Object.getOwnPropertyDescriptor(r,a);i&&Object.defineProperty(e,a,i.get?i:{enumerable:!0,get:()=>r[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(a){if(a.ep)return;a.ep=!0;const i=n(a);fetch(a.href,i)}})();var fr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Xl(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function BL(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var a=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,a.get?a:{enumerable:!0,get:function(){return e[r]}})}),n}var pC={exports:{}},hf={},hC={exports:{}},rt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xd=Symbol.for("react.element"),UL=Symbol.for("react.portal"),$L=Symbol.for("react.fragment"),HL=Symbol.for("react.strict_mode"),zL=Symbol.for("react.profiler"),GL=Symbol.for("react.provider"),qL=Symbol.for("react.context"),VL=Symbol.for("react.forward_ref"),WL=Symbol.for("react.suspense"),YL=Symbol.for("react.memo"),KL=Symbol.for("react.lazy"),bN=Symbol.iterator;function ZL(e){return e===null||typeof e!="object"?null:(e=bN&&e[bN]||e["@@iterator"],typeof e=="function"?e:null)}var fC={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},mC=Object.assign,gC={};function Ql(e,t,n){this.props=e,this.context=t,this.refs=gC,this.updater=n||fC}Ql.prototype.isReactComponent={};Ql.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Ql.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function bC(){}bC.prototype=Ql.prototype;function sy(e,t,n){this.props=e,this.context=t,this.refs=gC,this.updater=n||fC}var iy=sy.prototype=new bC;iy.constructor=sy;mC(iy,Ql.prototype);iy.isPureReactComponent=!0;var yN=Array.isArray,yC=Object.prototype.hasOwnProperty,oy={current:null},xC={key:!0,ref:!0,__self:!0,__source:!0};function vC(e,t,n){var r,a={},i=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)yC.call(t,r)&&!xC.hasOwnProperty(r)&&(a[r]=t[r]);var l=arguments.length-2;if(l===1)a.children=n;else if(1<l){for(var u=Array(l),c=0;c<l;c++)u[c]=arguments[c+2];a.children=u}if(e&&e.defaultProps)for(r in l=e.defaultProps,l)a[r]===void 0&&(a[r]=l[r]);return{$$typeof:xd,type:e,key:i,ref:o,props:a,_owner:oy.current}}function XL(e,t){return{$$typeof:xd,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function ly(e){return typeof e=="object"&&e!==null&&e.$$typeof===xd}function QL(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var xN=/\/+/g;function Im(e,t){return typeof e=="object"&&e!==null&&e.key!=null?QL(""+e.key):t.toString(36)}function Gp(e,t,n,r,a){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case xd:case UL:o=!0}}if(o)return o=e,a=a(o),e=r===""?"."+Im(o,0):r,yN(a)?(n="",e!=null&&(n=e.replace(xN,"$&/")+"/"),Gp(a,t,n,"",function(c){return c})):a!=null&&(ly(a)&&(a=XL(a,n+(!a.key||o&&o.key===a.key?"":(""+a.key).replace(xN,"$&/")+"/")+e)),t.push(a)),1;if(o=0,r=r===""?".":r+":",yN(e))for(var l=0;l<e.length;l++){i=e[l];var u=r+Im(i,l);o+=Gp(i,t,n,u,a)}else if(u=ZL(e),typeof u=="function")for(e=u.call(e),l=0;!(i=e.next()).done;)i=i.value,u=r+Im(i,l++),o+=Gp(i,t,n,u,a);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function sp(e,t,n){if(e==null)return e;var r=[],a=0;return Gp(e,r,"","",function(i){return t.call(n,i,a++)}),r}function JL(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var er={current:null},qp={transition:null},ej={ReactCurrentDispatcher:er,ReactCurrentBatchConfig:qp,ReactCurrentOwner:oy};function EC(){throw Error("act(...) is not supported in production builds of React.")}rt.Children={map:sp,forEach:function(e,t,n){sp(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return sp(e,function(){t++}),t},toArray:function(e){return sp(e,function(t){return t})||[]},only:function(e){if(!ly(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};rt.Component=Ql;rt.Fragment=$L;rt.Profiler=zL;rt.PureComponent=sy;rt.StrictMode=HL;rt.Suspense=WL;rt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ej;rt.act=EC;rt.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=mC({},e.props),a=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=oy.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(u in t)yC.call(t,u)&&!xC.hasOwnProperty(u)&&(r[u]=t[u]===void 0&&l!==void 0?l[u]:t[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){l=Array(u);for(var c=0;c<u;c++)l[c]=arguments[c+2];r.children=l}return{$$typeof:xd,type:e.type,key:a,ref:i,props:r,_owner:o}};rt.createContext=function(e){return e={$$typeof:qL,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:GL,_context:e},e.Consumer=e};rt.createElement=vC;rt.createFactory=function(e){var t=vC.bind(null,e);return t.type=e,t};rt.createRef=function(){return{current:null}};rt.forwardRef=function(e){return{$$typeof:VL,render:e}};rt.isValidElement=ly;rt.lazy=function(e){return{$$typeof:KL,_payload:{_status:-1,_result:e},_init:JL}};rt.memo=function(e,t){return{$$typeof:YL,type:e,compare:t===void 0?null:t}};rt.startTransition=function(e){var t=qp.transition;qp.transition={};try{e()}finally{qp.transition=t}};rt.unstable_act=EC;rt.useCallback=function(e,t){return er.current.useCallback(e,t)};rt.useContext=function(e){return er.current.useContext(e)};rt.useDebugValue=function(){};rt.useDeferredValue=function(e){return er.current.useDeferredValue(e)};rt.useEffect=function(e,t){return er.current.useEffect(e,t)};rt.useId=function(){return er.current.useId()};rt.useImperativeHandle=function(e,t,n){return er.current.useImperativeHandle(e,t,n)};rt.useInsertionEffect=function(e,t){return er.current.useInsertionEffect(e,t)};rt.useLayoutEffect=function(e,t){return er.current.useLayoutEffect(e,t)};rt.useMemo=function(e,t){return er.current.useMemo(e,t)};rt.useReducer=function(e,t,n){return er.current.useReducer(e,t,n)};rt.useRef=function(e){return er.current.useRef(e)};rt.useState=function(e){return er.current.useState(e)};rt.useSyncExternalStore=function(e,t,n){return er.current.useSyncExternalStore(e,t,n)};rt.useTransition=function(){return er.current.useTransition()};rt.version="18.3.1";hC.exports=rt;var E=hC.exports;const It=Xl(E),tj=PL({__proto__:null,default:It},[E]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nj=E,rj=Symbol.for("react.element"),aj=Symbol.for("react.fragment"),sj=Object.prototype.hasOwnProperty,ij=nj.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,oj={key:!0,ref:!0,__self:!0,__source:!0};function wC(e,t,n){var r,a={},i=null,o=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)sj.call(t,r)&&!oj.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)a[r]===void 0&&(a[r]=t[r]);return{$$typeof:rj,type:e,key:i,ref:o,props:a,_owner:ij.current}}hf.Fragment=aj;hf.jsx=wC;hf.jsxs=wC;pC.exports=hf;var s=pC.exports,SC={exports:{}},Lr={},NC={exports:{}},kC={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t($,z){var _=$.length;$.push(z);e:for(;0<_;){var U=_-1>>>1,X=$[U];if(0<a(X,z))$[U]=z,$[_]=X,_=U;else break e}}function n($){return $.length===0?null:$[0]}function r($){if($.length===0)return null;var z=$[0],_=$.pop();if(_!==z){$[0]=_;e:for(var U=0,X=$.length,L=X>>>1;U<L;){var ie=2*(U+1)-1,W=$[ie],Q=ie+1,q=$[Q];if(0>a(W,_))Q<X&&0>a(q,W)?($[U]=q,$[Q]=_,U=Q):($[U]=W,$[ie]=_,U=ie);else if(Q<X&&0>a(q,_))$[U]=q,$[Q]=_,U=Q;else break e}}return z}function a($,z){var _=$.sortIndex-z.sortIndex;return _!==0?_:$.id-z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var u=[],c=[],d=1,p=null,h=3,f=!1,m=!1,v=!1,y=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w($){for(var z=n(c);z!==null;){if(z.callback===null)r(c);else if(z.startTime<=$)r(c),z.sortIndex=z.expirationTime,t(u,z);else break;z=n(c)}}function k($){if(v=!1,w($),!m)if(n(u)!==null)m=!0,Y(S);else{var z=n(c);z!==null&&K(k,z.startTime-$)}}function S($,z){m=!1,v&&(v=!1,g(I),I=-1),f=!0;var _=h;try{for(w(z),p=n(u);p!==null&&(!(p.expirationTime>z)||$&&!O());){var U=p.callback;if(typeof U=="function"){p.callback=null,h=p.priorityLevel;var X=U(p.expirationTime<=z);z=e.unstable_now(),typeof X=="function"?p.callback=X:p===n(u)&&r(u),w(z)}else r(u);p=n(u)}if(p!==null)var L=!0;else{var ie=n(c);ie!==null&&K(k,ie.startTime-z),L=!1}return L}finally{p=null,h=_,f=!1}}var T=!1,A=null,I=-1,C=5,N=-1;function O(){return!(e.unstable_now()-N<C)}function D(){if(A!==null){var $=e.unstable_now();N=$;var z=!0;try{z=A(!0,$)}finally{z?B():(T=!1,A=null)}}else T=!1}var B;if(typeof x=="function")B=function(){x(D)};else if(typeof MessageChannel<"u"){var j=new MessageChannel,P=j.port2;j.port1.onmessage=D,B=function(){P.postMessage(null)}}else B=function(){y(D,0)};function Y($){A=$,T||(T=!0,B())}function K($,z){I=y(function(){$(e.unstable_now())},z)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function($){$.callback=null},e.unstable_continueExecution=function(){m||f||(m=!0,Y(S))},e.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<$?Math.floor(1e3/$):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return n(u)},e.unstable_next=function($){switch(h){case 1:case 2:case 3:var z=3;break;default:z=h}var _=h;h=z;try{return $()}finally{h=_}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function($,z){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var _=h;h=$;try{return z()}finally{h=_}},e.unstable_scheduleCallback=function($,z,_){var U=e.unstable_now();switch(typeof _=="object"&&_!==null?(_=_.delay,_=typeof _=="number"&&0<_?U+_:U):_=U,$){case 1:var X=-1;break;case 2:X=250;break;case 5:X=1073741823;break;case 4:X=1e4;break;default:X=5e3}return X=_+X,$={id:d++,callback:z,priorityLevel:$,startTime:_,expirationTime:X,sortIndex:-1},_>U?($.sortIndex=_,t(c,$),n(u)===null&&$===n(c)&&(v?(g(I),I=-1):v=!0,K(k,_-U))):($.sortIndex=X,t(u,$),m||f||(m=!0,Y(S))),$},e.unstable_shouldYield=O,e.unstable_wrapCallback=function($){var z=h;return function(){var _=h;h=z;try{return $.apply(this,arguments)}finally{h=_}}}})(kC);NC.exports=kC;var lj=NC.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uj=E,Dr=lj;function me(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var _C=new Set,_c={};function ho(e,t){Dl(e,t),Dl(e+"Capture",t)}function Dl(e,t){for(_c[e]=t,e=0;e<t.length;e++)_C.add(t[e])}var os=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),e0=Object.prototype.hasOwnProperty,cj=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,vN={},EN={};function dj(e){return e0.call(EN,e)?!0:e0.call(vN,e)?!1:cj.test(e)?EN[e]=!0:(vN[e]=!0,!1)}function pj(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function hj(e,t,n,r){if(t===null||typeof t>"u"||pj(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function tr(e,t,n,r,a,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=a,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var _n={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){_n[e]=new tr(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];_n[t]=new tr(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){_n[e]=new tr(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){_n[e]=new tr(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){_n[e]=new tr(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){_n[e]=new tr(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){_n[e]=new tr(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){_n[e]=new tr(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){_n[e]=new tr(e,5,!1,e.toLowerCase(),null,!1,!1)});var uy=/[\-:]([a-z])/g;function cy(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(uy,cy);_n[t]=new tr(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(uy,cy);_n[t]=new tr(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(uy,cy);_n[t]=new tr(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){_n[e]=new tr(e,1,!1,e.toLowerCase(),null,!1,!1)});_n.xlinkHref=new tr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){_n[e]=new tr(e,1,!1,e.toLowerCase(),null,!0,!0)});function dy(e,t,n,r){var a=_n.hasOwnProperty(t)?_n[t]:null;(a!==null?a.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(hj(t,n,a,r)&&(n=null),r||a===null?dj(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):a.mustUseProperty?e[a.propertyName]=n===null?a.type===3?!1:"":n:(t=a.attributeName,r=a.attributeNamespace,n===null?e.removeAttribute(t):(a=a.type,n=a===3||a===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var hs=uj.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ip=Symbol.for("react.element"),$o=Symbol.for("react.portal"),Ho=Symbol.for("react.fragment"),py=Symbol.for("react.strict_mode"),t0=Symbol.for("react.profiler"),TC=Symbol.for("react.provider"),CC=Symbol.for("react.context"),hy=Symbol.for("react.forward_ref"),n0=Symbol.for("react.suspense"),r0=Symbol.for("react.suspense_list"),fy=Symbol.for("react.memo"),_s=Symbol.for("react.lazy"),AC=Symbol.for("react.offscreen"),wN=Symbol.iterator;function Nu(e){return e===null||typeof e!="object"?null:(e=wN&&e[wN]||e["@@iterator"],typeof e=="function"?e:null)}var $t=Object.assign,Rm;function Gu(e){if(Rm===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Rm=t&&t[1]||""}return`
`+Rm+e}var Dm=!1;function Om(e,t){if(!e||Dm)return"";Dm=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var a=c.stack.split(`
`),i=r.stack.split(`
`),o=a.length-1,l=i.length-1;1<=o&&0<=l&&a[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(a[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||a[o]!==i[l]){var u=`
`+a[o].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}while(1<=o&&0<=l);break}}}finally{Dm=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Gu(e):""}function fj(e){switch(e.tag){case 5:return Gu(e.type);case 16:return Gu("Lazy");case 13:return Gu("Suspense");case 19:return Gu("SuspenseList");case 0:case 2:case 15:return e=Om(e.type,!1),e;case 11:return e=Om(e.type.render,!1),e;case 1:return e=Om(e.type,!0),e;default:return""}}function a0(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Ho:return"Fragment";case $o:return"Portal";case t0:return"Profiler";case py:return"StrictMode";case n0:return"Suspense";case r0:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case CC:return(e.displayName||"Context")+".Consumer";case TC:return(e._context.displayName||"Context")+".Provider";case hy:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case fy:return t=e.displayName||null,t!==null?t:a0(e.type)||"Memo";case _s:t=e._payload,e=e._init;try{return a0(e(t))}catch{}}return null}function mj(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return a0(t);case 8:return t===py?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function ai(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function IC(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function gj(e){var t=IC(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var a=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function op(e){e._valueTracker||(e._valueTracker=gj(e))}function RC(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=IC(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function ph(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function s0(e,t){var n=t.checked;return $t({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function SN(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=ai(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function DC(e,t){t=t.checked,t!=null&&dy(e,"checked",t,!1)}function i0(e,t){DC(e,t);var n=ai(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?o0(e,t.type,n):t.hasOwnProperty("defaultValue")&&o0(e,t.type,ai(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function NN(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function o0(e,t,n){(t!=="number"||ph(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var qu=Array.isArray;function tl(e,t,n,r){if(e=e.options,t){t={};for(var a=0;a<n.length;a++)t["$"+n[a]]=!0;for(n=0;n<e.length;n++)a=t.hasOwnProperty("$"+e[n].value),e[n].selected!==a&&(e[n].selected=a),a&&r&&(e[n].defaultSelected=!0)}else{for(n=""+ai(n),t=null,a=0;a<e.length;a++){if(e[a].value===n){e[a].selected=!0,r&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function l0(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(me(91));return $t({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function kN(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(me(92));if(qu(n)){if(1<n.length)throw Error(me(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:ai(n)}}function OC(e,t){var n=ai(t.value),r=ai(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function _N(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function LC(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function u0(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?LC(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var lp,jC=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,a){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(lp=lp||document.createElement("div"),lp.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=lp.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Tc(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var tc={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},bj=["Webkit","ms","Moz","O"];Object.keys(tc).forEach(function(e){bj.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),tc[t]=tc[e]})});function MC(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||tc.hasOwnProperty(e)&&tc[e]?(""+t).trim():t+"px"}function FC(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,a=MC(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,a):e[n]=a}}var yj=$t({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function c0(e,t){if(t){if(yj[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(me(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(me(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(me(61))}if(t.style!=null&&typeof t.style!="object")throw Error(me(62))}}function d0(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var p0=null;function my(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var h0=null,nl=null,rl=null;function TN(e){if(e=wd(e)){if(typeof h0!="function")throw Error(me(280));var t=e.stateNode;t&&(t=yf(t),h0(e.stateNode,e.type,t))}}function PC(e){nl?rl?rl.push(e):rl=[e]:nl=e}function BC(){if(nl){var e=nl,t=rl;if(rl=nl=null,TN(e),t)for(e=0;e<t.length;e++)TN(t[e])}}function UC(e,t){return e(t)}function $C(){}var Lm=!1;function HC(e,t,n){if(Lm)return e(t,n);Lm=!0;try{return UC(e,t,n)}finally{Lm=!1,(nl!==null||rl!==null)&&($C(),BC())}}function Cc(e,t){var n=e.stateNode;if(n===null)return null;var r=yf(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(me(231,t,typeof n));return n}var f0=!1;if(os)try{var ku={};Object.defineProperty(ku,"passive",{get:function(){f0=!0}}),window.addEventListener("test",ku,ku),window.removeEventListener("test",ku,ku)}catch{f0=!1}function xj(e,t,n,r,a,i,o,l,u){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(d){this.onError(d)}}var nc=!1,hh=null,fh=!1,m0=null,vj={onError:function(e){nc=!0,hh=e}};function Ej(e,t,n,r,a,i,o,l,u){nc=!1,hh=null,xj.apply(vj,arguments)}function wj(e,t,n,r,a,i,o,l,u){if(Ej.apply(this,arguments),nc){if(nc){var c=hh;nc=!1,hh=null}else throw Error(me(198));fh||(fh=!0,m0=c)}}function fo(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function zC(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function CN(e){if(fo(e)!==e)throw Error(me(188))}function Sj(e){var t=e.alternate;if(!t){if(t=fo(e),t===null)throw Error(me(188));return t!==e?null:e}for(var n=e,r=t;;){var a=n.return;if(a===null)break;var i=a.alternate;if(i===null){if(r=a.return,r!==null){n=r;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===n)return CN(a),e;if(i===r)return CN(a),t;i=i.sibling}throw Error(me(188))}if(n.return!==r.return)n=a,r=i;else{for(var o=!1,l=a.child;l;){if(l===n){o=!0,n=a,r=i;break}if(l===r){o=!0,r=a,n=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===n){o=!0,n=i,r=a;break}if(l===r){o=!0,r=i,n=a;break}l=l.sibling}if(!o)throw Error(me(189))}}if(n.alternate!==r)throw Error(me(190))}if(n.tag!==3)throw Error(me(188));return n.stateNode.current===n?e:t}function GC(e){return e=Sj(e),e!==null?qC(e):null}function qC(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=qC(e);if(t!==null)return t;e=e.sibling}return null}var VC=Dr.unstable_scheduleCallback,AN=Dr.unstable_cancelCallback,Nj=Dr.unstable_shouldYield,kj=Dr.unstable_requestPaint,Yt=Dr.unstable_now,_j=Dr.unstable_getCurrentPriorityLevel,gy=Dr.unstable_ImmediatePriority,WC=Dr.unstable_UserBlockingPriority,mh=Dr.unstable_NormalPriority,Tj=Dr.unstable_LowPriority,YC=Dr.unstable_IdlePriority,ff=null,Ta=null;function Cj(e){if(Ta&&typeof Ta.onCommitFiberRoot=="function")try{Ta.onCommitFiberRoot(ff,e,void 0,(e.current.flags&128)===128)}catch{}}var ia=Math.clz32?Math.clz32:Rj,Aj=Math.log,Ij=Math.LN2;function Rj(e){return e>>>=0,e===0?32:31-(Aj(e)/Ij|0)|0}var up=64,cp=4194304;function Vu(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function gh(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,a=e.suspendedLanes,i=e.pingedLanes,o=n&268435455;if(o!==0){var l=o&~a;l!==0?r=Vu(l):(i&=o,i!==0&&(r=Vu(i)))}else o=n&~a,o!==0?r=Vu(o):i!==0&&(r=Vu(i));if(r===0)return 0;if(t!==0&&t!==r&&!(t&a)&&(a=r&-r,i=t&-t,a>=i||a===16&&(i&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-ia(t),a=1<<n,r|=e[n],t&=~a;return r}function Dj(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Oj(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,a=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-ia(i),l=1<<o,u=a[o];u===-1?(!(l&n)||l&r)&&(a[o]=Dj(l,t)):u<=t&&(e.expiredLanes|=l),i&=~l}}function g0(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function KC(){var e=up;return up<<=1,!(up&4194240)&&(up=64),e}function jm(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function vd(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-ia(t),e[t]=n}function Lj(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var a=31-ia(n),i=1<<a;t[a]=0,r[a]=-1,e[a]=-1,n&=~i}}function by(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ia(n),a=1<<r;a&t|e[r]&t&&(e[r]|=t),n&=~a}}var yt=0;function ZC(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var XC,yy,QC,JC,eA,b0=!1,dp=[],Ys=null,Ks=null,Zs=null,Ac=new Map,Ic=new Map,Is=[],jj="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function IN(e,t){switch(e){case"focusin":case"focusout":Ys=null;break;case"dragenter":case"dragleave":Ks=null;break;case"mouseover":case"mouseout":Zs=null;break;case"pointerover":case"pointerout":Ac.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ic.delete(t.pointerId)}}function _u(e,t,n,r,a,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[a]},t!==null&&(t=wd(t),t!==null&&yy(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function Mj(e,t,n,r,a){switch(t){case"focusin":return Ys=_u(Ys,e,t,n,r,a),!0;case"dragenter":return Ks=_u(Ks,e,t,n,r,a),!0;case"mouseover":return Zs=_u(Zs,e,t,n,r,a),!0;case"pointerover":var i=a.pointerId;return Ac.set(i,_u(Ac.get(i)||null,e,t,n,r,a)),!0;case"gotpointercapture":return i=a.pointerId,Ic.set(i,_u(Ic.get(i)||null,e,t,n,r,a)),!0}return!1}function tA(e){var t=Di(e.target);if(t!==null){var n=fo(t);if(n!==null){if(t=n.tag,t===13){if(t=zC(n),t!==null){e.blockedOn=t,eA(e.priority,function(){QC(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Vp(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=y0(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);p0=r,n.target.dispatchEvent(r),p0=null}else return t=wd(n),t!==null&&yy(t),e.blockedOn=n,!1;t.shift()}return!0}function RN(e,t,n){Vp(e)&&n.delete(t)}function Fj(){b0=!1,Ys!==null&&Vp(Ys)&&(Ys=null),Ks!==null&&Vp(Ks)&&(Ks=null),Zs!==null&&Vp(Zs)&&(Zs=null),Ac.forEach(RN),Ic.forEach(RN)}function Tu(e,t){e.blockedOn===t&&(e.blockedOn=null,b0||(b0=!0,Dr.unstable_scheduleCallback(Dr.unstable_NormalPriority,Fj)))}function Rc(e){function t(a){return Tu(a,e)}if(0<dp.length){Tu(dp[0],e);for(var n=1;n<dp.length;n++){var r=dp[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Ys!==null&&Tu(Ys,e),Ks!==null&&Tu(Ks,e),Zs!==null&&Tu(Zs,e),Ac.forEach(t),Ic.forEach(t),n=0;n<Is.length;n++)r=Is[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Is.length&&(n=Is[0],n.blockedOn===null);)tA(n),n.blockedOn===null&&Is.shift()}var al=hs.ReactCurrentBatchConfig,bh=!0;function Pj(e,t,n,r){var a=yt,i=al.transition;al.transition=null;try{yt=1,xy(e,t,n,r)}finally{yt=a,al.transition=i}}function Bj(e,t,n,r){var a=yt,i=al.transition;al.transition=null;try{yt=4,xy(e,t,n,r)}finally{yt=a,al.transition=i}}function xy(e,t,n,r){if(bh){var a=y0(e,t,n,r);if(a===null)qm(e,t,r,yh,n),IN(e,r);else if(Mj(a,e,t,n,r))r.stopPropagation();else if(IN(e,r),t&4&&-1<jj.indexOf(e)){for(;a!==null;){var i=wd(a);if(i!==null&&XC(i),i=y0(e,t,n,r),i===null&&qm(e,t,r,yh,n),i===a)break;a=i}a!==null&&r.stopPropagation()}else qm(e,t,r,null,n)}}var yh=null;function y0(e,t,n,r){if(yh=null,e=my(r),e=Di(e),e!==null)if(t=fo(e),t===null)e=null;else if(n=t.tag,n===13){if(e=zC(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return yh=e,null}function nA(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(_j()){case gy:return 1;case WC:return 4;case mh:case Tj:return 16;case YC:return 536870912;default:return 16}default:return 16}}var zs=null,vy=null,Wp=null;function rA(){if(Wp)return Wp;var e,t=vy,n=t.length,r,a="value"in zs?zs.value:zs.textContent,i=a.length;for(e=0;e<n&&t[e]===a[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===a[i-r];r++);return Wp=a.slice(e,1<r?1-r:void 0)}function Yp(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function pp(){return!0}function DN(){return!1}function jr(e){function t(n,r,a,i,o){this._reactName=n,this._targetInst=a,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?pp:DN,this.isPropagationStopped=DN,this}return $t(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=pp)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=pp)},persist:function(){},isPersistent:pp}),t}var Jl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ey=jr(Jl),Ed=$t({},Jl,{view:0,detail:0}),Uj=jr(Ed),Mm,Fm,Cu,mf=$t({},Ed,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:wy,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Cu&&(Cu&&e.type==="mousemove"?(Mm=e.screenX-Cu.screenX,Fm=e.screenY-Cu.screenY):Fm=Mm=0,Cu=e),Mm)},movementY:function(e){return"movementY"in e?e.movementY:Fm}}),ON=jr(mf),$j=$t({},mf,{dataTransfer:0}),Hj=jr($j),zj=$t({},Ed,{relatedTarget:0}),Pm=jr(zj),Gj=$t({},Jl,{animationName:0,elapsedTime:0,pseudoElement:0}),qj=jr(Gj),Vj=$t({},Jl,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Wj=jr(Vj),Yj=$t({},Jl,{data:0}),LN=jr(Yj),Kj={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Zj={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Xj={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Qj(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Xj[e])?!!t[e]:!1}function wy(){return Qj}var Jj=$t({},Ed,{key:function(e){if(e.key){var t=Kj[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Yp(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Zj[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:wy,charCode:function(e){return e.type==="keypress"?Yp(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Yp(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),e4=jr(Jj),t4=$t({},mf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),jN=jr(t4),n4=$t({},Ed,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:wy}),r4=jr(n4),a4=$t({},Jl,{propertyName:0,elapsedTime:0,pseudoElement:0}),s4=jr(a4),i4=$t({},mf,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),o4=jr(i4),l4=[9,13,27,32],Sy=os&&"CompositionEvent"in window,rc=null;os&&"documentMode"in document&&(rc=document.documentMode);var u4=os&&"TextEvent"in window&&!rc,aA=os&&(!Sy||rc&&8<rc&&11>=rc),MN=" ",FN=!1;function sA(e,t){switch(e){case"keyup":return l4.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function iA(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var zo=!1;function c4(e,t){switch(e){case"compositionend":return iA(t);case"keypress":return t.which!==32?null:(FN=!0,MN);case"textInput":return e=t.data,e===MN&&FN?null:e;default:return null}}function d4(e,t){if(zo)return e==="compositionend"||!Sy&&sA(e,t)?(e=rA(),Wp=vy=zs=null,zo=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return aA&&t.locale!=="ko"?null:t.data;default:return null}}var p4={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function PN(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!p4[e.type]:t==="textarea"}function oA(e,t,n,r){PC(r),t=xh(t,"onChange"),0<t.length&&(n=new Ey("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var ac=null,Dc=null;function h4(e){yA(e,0)}function gf(e){var t=Vo(e);if(RC(t))return e}function f4(e,t){if(e==="change")return t}var lA=!1;if(os){var Bm;if(os){var Um="oninput"in document;if(!Um){var BN=document.createElement("div");BN.setAttribute("oninput","return;"),Um=typeof BN.oninput=="function"}Bm=Um}else Bm=!1;lA=Bm&&(!document.documentMode||9<document.documentMode)}function UN(){ac&&(ac.detachEvent("onpropertychange",uA),Dc=ac=null)}function uA(e){if(e.propertyName==="value"&&gf(Dc)){var t=[];oA(t,Dc,e,my(e)),HC(h4,t)}}function m4(e,t,n){e==="focusin"?(UN(),ac=t,Dc=n,ac.attachEvent("onpropertychange",uA)):e==="focusout"&&UN()}function g4(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return gf(Dc)}function b4(e,t){if(e==="click")return gf(t)}function y4(e,t){if(e==="input"||e==="change")return gf(t)}function x4(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var ua=typeof Object.is=="function"?Object.is:x4;function Oc(e,t){if(ua(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var a=n[r];if(!e0.call(t,a)||!ua(e[a],t[a]))return!1}return!0}function $N(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function HN(e,t){var n=$N(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=$N(n)}}function cA(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?cA(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function dA(){for(var e=window,t=ph();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=ph(e.document)}return t}function Ny(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function v4(e){var t=dA(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&cA(n.ownerDocument.documentElement,n)){if(r!==null&&Ny(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=n.textContent.length,i=Math.min(r.start,a);r=r.end===void 0?i:Math.min(r.end,a),!e.extend&&i>r&&(a=r,r=i,i=a),a=HN(n,i);var o=HN(n,r);a&&o&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var E4=os&&"documentMode"in document&&11>=document.documentMode,Go=null,x0=null,sc=null,v0=!1;function zN(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;v0||Go==null||Go!==ph(r)||(r=Go,"selectionStart"in r&&Ny(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),sc&&Oc(sc,r)||(sc=r,r=xh(x0,"onSelect"),0<r.length&&(t=new Ey("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Go)))}function hp(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var qo={animationend:hp("Animation","AnimationEnd"),animationiteration:hp("Animation","AnimationIteration"),animationstart:hp("Animation","AnimationStart"),transitionend:hp("Transition","TransitionEnd")},$m={},pA={};os&&(pA=document.createElement("div").style,"AnimationEvent"in window||(delete qo.animationend.animation,delete qo.animationiteration.animation,delete qo.animationstart.animation),"TransitionEvent"in window||delete qo.transitionend.transition);function bf(e){if($m[e])return $m[e];if(!qo[e])return e;var t=qo[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in pA)return $m[e]=t[n];return e}var hA=bf("animationend"),fA=bf("animationiteration"),mA=bf("animationstart"),gA=bf("transitionend"),bA=new Map,GN="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function pi(e,t){bA.set(e,t),ho(t,[e])}for(var Hm=0;Hm<GN.length;Hm++){var zm=GN[Hm],w4=zm.toLowerCase(),S4=zm[0].toUpperCase()+zm.slice(1);pi(w4,"on"+S4)}pi(hA,"onAnimationEnd");pi(fA,"onAnimationIteration");pi(mA,"onAnimationStart");pi("dblclick","onDoubleClick");pi("focusin","onFocus");pi("focusout","onBlur");pi(gA,"onTransitionEnd");Dl("onMouseEnter",["mouseout","mouseover"]);Dl("onMouseLeave",["mouseout","mouseover"]);Dl("onPointerEnter",["pointerout","pointerover"]);Dl("onPointerLeave",["pointerout","pointerover"]);ho("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ho("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ho("onBeforeInput",["compositionend","keypress","textInput","paste"]);ho("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ho("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ho("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Wu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),N4=new Set("cancel close invalid load scroll toggle".split(" ").concat(Wu));function qN(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,wj(r,t,void 0,e),e.currentTarget=null}function yA(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],a=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var o=r.length-1;0<=o;o--){var l=r[o],u=l.instance,c=l.currentTarget;if(l=l.listener,u!==i&&a.isPropagationStopped())break e;qN(a,l,c),i=u}else for(o=0;o<r.length;o++){if(l=r[o],u=l.instance,c=l.currentTarget,l=l.listener,u!==i&&a.isPropagationStopped())break e;qN(a,l,c),i=u}}}if(fh)throw e=m0,fh=!1,m0=null,e}function Dt(e,t){var n=t[k0];n===void 0&&(n=t[k0]=new Set);var r=e+"__bubble";n.has(r)||(xA(t,e,2,!1),n.add(r))}function Gm(e,t,n){var r=0;t&&(r|=4),xA(n,e,r,t)}var fp="_reactListening"+Math.random().toString(36).slice(2);function Lc(e){if(!e[fp]){e[fp]=!0,_C.forEach(function(n){n!=="selectionchange"&&(N4.has(n)||Gm(n,!1,e),Gm(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[fp]||(t[fp]=!0,Gm("selectionchange",!1,t))}}function xA(e,t,n,r){switch(nA(t)){case 1:var a=Pj;break;case 4:a=Bj;break;default:a=xy}n=a.bind(null,t,n,e),a=void 0,!f0||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),r?a!==void 0?e.addEventListener(t,n,{capture:!0,passive:a}):e.addEventListener(t,n,!0):a!==void 0?e.addEventListener(t,n,{passive:a}):e.addEventListener(t,n,!1)}function qm(e,t,n,r,a){var i=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===a||l.nodeType===8&&l.parentNode===a)break;if(o===4)for(o=r.return;o!==null;){var u=o.tag;if((u===3||u===4)&&(u=o.stateNode.containerInfo,u===a||u.nodeType===8&&u.parentNode===a))return;o=o.return}for(;l!==null;){if(o=Di(l),o===null)return;if(u=o.tag,u===5||u===6){r=i=o;continue e}l=l.parentNode}}r=r.return}HC(function(){var c=i,d=my(n),p=[];e:{var h=bA.get(e);if(h!==void 0){var f=Ey,m=e;switch(e){case"keypress":if(Yp(n)===0)break e;case"keydown":case"keyup":f=e4;break;case"focusin":m="focus",f=Pm;break;case"focusout":m="blur",f=Pm;break;case"beforeblur":case"afterblur":f=Pm;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":f=ON;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":f=Hj;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":f=r4;break;case hA:case fA:case mA:f=qj;break;case gA:f=s4;break;case"scroll":f=Uj;break;case"wheel":f=o4;break;case"copy":case"cut":case"paste":f=Wj;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":f=jN}var v=(t&4)!==0,y=!v&&e==="scroll",g=v?h!==null?h+"Capture":null:h;v=[];for(var x=c,w;x!==null;){w=x;var k=w.stateNode;if(w.tag===5&&k!==null&&(w=k,g!==null&&(k=Cc(x,g),k!=null&&v.push(jc(x,k,w)))),y)break;x=x.return}0<v.length&&(h=new f(h,m,null,n,d),p.push({event:h,listeners:v}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",f=e==="mouseout"||e==="pointerout",h&&n!==p0&&(m=n.relatedTarget||n.fromElement)&&(Di(m)||m[ls]))break e;if((f||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,f?(m=n.relatedTarget||n.toElement,f=c,m=m?Di(m):null,m!==null&&(y=fo(m),m!==y||m.tag!==5&&m.tag!==6)&&(m=null)):(f=null,m=c),f!==m)){if(v=ON,k="onMouseLeave",g="onMouseEnter",x="mouse",(e==="pointerout"||e==="pointerover")&&(v=jN,k="onPointerLeave",g="onPointerEnter",x="pointer"),y=f==null?h:Vo(f),w=m==null?h:Vo(m),h=new v(k,x+"leave",f,n,d),h.target=y,h.relatedTarget=w,k=null,Di(d)===c&&(v=new v(g,x+"enter",m,n,d),v.target=w,v.relatedTarget=y,k=v),y=k,f&&m)t:{for(v=f,g=m,x=0,w=v;w;w=Io(w))x++;for(w=0,k=g;k;k=Io(k))w++;for(;0<x-w;)v=Io(v),x--;for(;0<w-x;)g=Io(g),w--;for(;x--;){if(v===g||g!==null&&v===g.alternate)break t;v=Io(v),g=Io(g)}v=null}else v=null;f!==null&&VN(p,h,f,v,!1),m!==null&&y!==null&&VN(p,y,m,v,!0)}}e:{if(h=c?Vo(c):window,f=h.nodeName&&h.nodeName.toLowerCase(),f==="select"||f==="input"&&h.type==="file")var S=f4;else if(PN(h))if(lA)S=y4;else{S=g4;var T=m4}else(f=h.nodeName)&&f.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(S=b4);if(S&&(S=S(e,c))){oA(p,S,n,d);break e}T&&T(e,h,c),e==="focusout"&&(T=h._wrapperState)&&T.controlled&&h.type==="number"&&o0(h,"number",h.value)}switch(T=c?Vo(c):window,e){case"focusin":(PN(T)||T.contentEditable==="true")&&(Go=T,x0=c,sc=null);break;case"focusout":sc=x0=Go=null;break;case"mousedown":v0=!0;break;case"contextmenu":case"mouseup":case"dragend":v0=!1,zN(p,n,d);break;case"selectionchange":if(E4)break;case"keydown":case"keyup":zN(p,n,d)}var A;if(Sy)e:{switch(e){case"compositionstart":var I="onCompositionStart";break e;case"compositionend":I="onCompositionEnd";break e;case"compositionupdate":I="onCompositionUpdate";break e}I=void 0}else zo?sA(e,n)&&(I="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(I="onCompositionStart");I&&(aA&&n.locale!=="ko"&&(zo||I!=="onCompositionStart"?I==="onCompositionEnd"&&zo&&(A=rA()):(zs=d,vy="value"in zs?zs.value:zs.textContent,zo=!0)),T=xh(c,I),0<T.length&&(I=new LN(I,e,null,n,d),p.push({event:I,listeners:T}),A?I.data=A:(A=iA(n),A!==null&&(I.data=A)))),(A=u4?c4(e,n):d4(e,n))&&(c=xh(c,"onBeforeInput"),0<c.length&&(d=new LN("onBeforeInput","beforeinput",null,n,d),p.push({event:d,listeners:c}),d.data=A))}yA(p,t)})}function jc(e,t,n){return{instance:e,listener:t,currentTarget:n}}function xh(e,t){for(var n=t+"Capture",r=[];e!==null;){var a=e,i=a.stateNode;a.tag===5&&i!==null&&(a=i,i=Cc(e,n),i!=null&&r.unshift(jc(e,i,a)),i=Cc(e,t),i!=null&&r.push(jc(e,i,a))),e=e.return}return r}function Io(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function VN(e,t,n,r,a){for(var i=t._reactName,o=[];n!==null&&n!==r;){var l=n,u=l.alternate,c=l.stateNode;if(u!==null&&u===r)break;l.tag===5&&c!==null&&(l=c,a?(u=Cc(n,i),u!=null&&o.unshift(jc(n,u,l))):a||(u=Cc(n,i),u!=null&&o.push(jc(n,u,l)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var k4=/\r\n?/g,_4=/\u0000|\uFFFD/g;function WN(e){return(typeof e=="string"?e:""+e).replace(k4,`
`).replace(_4,"")}function mp(e,t,n){if(t=WN(t),WN(e)!==t&&n)throw Error(me(425))}function vh(){}var E0=null,w0=null;function S0(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var N0=typeof setTimeout=="function"?setTimeout:void 0,T4=typeof clearTimeout=="function"?clearTimeout:void 0,YN=typeof Promise=="function"?Promise:void 0,C4=typeof queueMicrotask=="function"?queueMicrotask:typeof YN<"u"?function(e){return YN.resolve(null).then(e).catch(A4)}:N0;function A4(e){setTimeout(function(){throw e})}function Vm(e,t){var n=t,r=0;do{var a=n.nextSibling;if(e.removeChild(n),a&&a.nodeType===8)if(n=a.data,n==="/$"){if(r===0){e.removeChild(a),Rc(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=a}while(n);Rc(t)}function Xs(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function KN(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var eu=Math.random().toString(36).slice(2),ka="__reactFiber$"+eu,Mc="__reactProps$"+eu,ls="__reactContainer$"+eu,k0="__reactEvents$"+eu,I4="__reactListeners$"+eu,R4="__reactHandles$"+eu;function Di(e){var t=e[ka];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ls]||n[ka]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=KN(e);e!==null;){if(n=e[ka])return n;e=KN(e)}return t}e=n,n=e.parentNode}return null}function wd(e){return e=e[ka]||e[ls],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Vo(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(me(33))}function yf(e){return e[Mc]||null}var _0=[],Wo=-1;function hi(e){return{current:e}}function Ot(e){0>Wo||(e.current=_0[Wo],_0[Wo]=null,Wo--)}function At(e,t){Wo++,_0[Wo]=e.current,e.current=t}var si={},Un=hi(si),dr=hi(!1),Qi=si;function Ol(e,t){var n=e.type.contextTypes;if(!n)return si;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var a={},i;for(i in n)a[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function pr(e){return e=e.childContextTypes,e!=null}function Eh(){Ot(dr),Ot(Un)}function ZN(e,t,n){if(Un.current!==si)throw Error(me(168));At(Un,t),At(dr,n)}function vA(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var a in r)if(!(a in t))throw Error(me(108,mj(e)||"Unknown",a));return $t({},n,r)}function wh(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||si,Qi=Un.current,At(Un,e),At(dr,dr.current),!0}function XN(e,t,n){var r=e.stateNode;if(!r)throw Error(me(169));n?(e=vA(e,t,Qi),r.__reactInternalMemoizedMergedChildContext=e,Ot(dr),Ot(Un),At(Un,e)):Ot(dr),At(dr,n)}var Qa=null,xf=!1,Wm=!1;function EA(e){Qa===null?Qa=[e]:Qa.push(e)}function D4(e){xf=!0,EA(e)}function fi(){if(!Wm&&Qa!==null){Wm=!0;var e=0,t=yt;try{var n=Qa;for(yt=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Qa=null,xf=!1}catch(a){throw Qa!==null&&(Qa=Qa.slice(e+1)),VC(gy,fi),a}finally{yt=t,Wm=!1}}return null}var Yo=[],Ko=0,Sh=null,Nh=0,Hr=[],zr=0,Ji=null,rs=1,as="";function Ti(e,t){Yo[Ko++]=Nh,Yo[Ko++]=Sh,Sh=e,Nh=t}function wA(e,t,n){Hr[zr++]=rs,Hr[zr++]=as,Hr[zr++]=Ji,Ji=e;var r=rs;e=as;var a=32-ia(r)-1;r&=~(1<<a),n+=1;var i=32-ia(t)+a;if(30<i){var o=a-a%5;i=(r&(1<<o)-1).toString(32),r>>=o,a-=o,rs=1<<32-ia(t)+a|n<<a|r,as=i+e}else rs=1<<i|n<<a|r,as=e}function ky(e){e.return!==null&&(Ti(e,1),wA(e,1,0))}function _y(e){for(;e===Sh;)Sh=Yo[--Ko],Yo[Ko]=null,Nh=Yo[--Ko],Yo[Ko]=null;for(;e===Ji;)Ji=Hr[--zr],Hr[zr]=null,as=Hr[--zr],Hr[zr]=null,rs=Hr[--zr],Hr[zr]=null}var Tr=null,_r=null,Mt=!1,ra=null;function SA(e,t){var n=qr(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function QN(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Tr=e,_r=Xs(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Tr=e,_r=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Ji!==null?{id:rs,overflow:as}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=qr(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Tr=e,_r=null,!0):!1;default:return!1}}function T0(e){return(e.mode&1)!==0&&(e.flags&128)===0}function C0(e){if(Mt){var t=_r;if(t){var n=t;if(!QN(e,t)){if(T0(e))throw Error(me(418));t=Xs(n.nextSibling);var r=Tr;t&&QN(e,t)?SA(r,n):(e.flags=e.flags&-4097|2,Mt=!1,Tr=e)}}else{if(T0(e))throw Error(me(418));e.flags=e.flags&-4097|2,Mt=!1,Tr=e}}}function JN(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Tr=e}function gp(e){if(e!==Tr)return!1;if(!Mt)return JN(e),Mt=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!S0(e.type,e.memoizedProps)),t&&(t=_r)){if(T0(e))throw NA(),Error(me(418));for(;t;)SA(e,t),t=Xs(t.nextSibling)}if(JN(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(me(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){_r=Xs(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}_r=null}}else _r=Tr?Xs(e.stateNode.nextSibling):null;return!0}function NA(){for(var e=_r;e;)e=Xs(e.nextSibling)}function Ll(){_r=Tr=null,Mt=!1}function Ty(e){ra===null?ra=[e]:ra.push(e)}var O4=hs.ReactCurrentBatchConfig;function Au(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(me(309));var r=n.stateNode}if(!r)throw Error(me(147,e));var a=r,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var l=a.refs;o===null?delete l[i]:l[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(me(284));if(!n._owner)throw Error(me(290,e))}return e}function bp(e,t){throw e=Object.prototype.toString.call(t),Error(me(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function ek(e){var t=e._init;return t(e._payload)}function kA(e){function t(g,x){if(e){var w=g.deletions;w===null?(g.deletions=[x],g.flags|=16):w.push(x)}}function n(g,x){if(!e)return null;for(;x!==null;)t(g,x),x=x.sibling;return null}function r(g,x){for(g=new Map;x!==null;)x.key!==null?g.set(x.key,x):g.set(x.index,x),x=x.sibling;return g}function a(g,x){return g=ti(g,x),g.index=0,g.sibling=null,g}function i(g,x,w){return g.index=w,e?(w=g.alternate,w!==null?(w=w.index,w<x?(g.flags|=2,x):w):(g.flags|=2,x)):(g.flags|=1048576,x)}function o(g){return e&&g.alternate===null&&(g.flags|=2),g}function l(g,x,w,k){return x===null||x.tag!==6?(x=eg(w,g.mode,k),x.return=g,x):(x=a(x,w),x.return=g,x)}function u(g,x,w,k){var S=w.type;return S===Ho?d(g,x,w.props.children,k,w.key):x!==null&&(x.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===_s&&ek(S)===x.type)?(k=a(x,w.props),k.ref=Au(g,x,w),k.return=g,k):(k=th(w.type,w.key,w.props,null,g.mode,k),k.ref=Au(g,x,w),k.return=g,k)}function c(g,x,w,k){return x===null||x.tag!==4||x.stateNode.containerInfo!==w.containerInfo||x.stateNode.implementation!==w.implementation?(x=tg(w,g.mode,k),x.return=g,x):(x=a(x,w.children||[]),x.return=g,x)}function d(g,x,w,k,S){return x===null||x.tag!==7?(x=Vi(w,g.mode,k,S),x.return=g,x):(x=a(x,w),x.return=g,x)}function p(g,x,w){if(typeof x=="string"&&x!==""||typeof x=="number")return x=eg(""+x,g.mode,w),x.return=g,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case ip:return w=th(x.type,x.key,x.props,null,g.mode,w),w.ref=Au(g,null,x),w.return=g,w;case $o:return x=tg(x,g.mode,w),x.return=g,x;case _s:var k=x._init;return p(g,k(x._payload),w)}if(qu(x)||Nu(x))return x=Vi(x,g.mode,w,null),x.return=g,x;bp(g,x)}return null}function h(g,x,w,k){var S=x!==null?x.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return S!==null?null:l(g,x,""+w,k);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case ip:return w.key===S?u(g,x,w,k):null;case $o:return w.key===S?c(g,x,w,k):null;case _s:return S=w._init,h(g,x,S(w._payload),k)}if(qu(w)||Nu(w))return S!==null?null:d(g,x,w,k,null);bp(g,w)}return null}function f(g,x,w,k,S){if(typeof k=="string"&&k!==""||typeof k=="number")return g=g.get(w)||null,l(x,g,""+k,S);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case ip:return g=g.get(k.key===null?w:k.key)||null,u(x,g,k,S);case $o:return g=g.get(k.key===null?w:k.key)||null,c(x,g,k,S);case _s:var T=k._init;return f(g,x,w,T(k._payload),S)}if(qu(k)||Nu(k))return g=g.get(w)||null,d(x,g,k,S,null);bp(x,k)}return null}function m(g,x,w,k){for(var S=null,T=null,A=x,I=x=0,C=null;A!==null&&I<w.length;I++){A.index>I?(C=A,A=null):C=A.sibling;var N=h(g,A,w[I],k);if(N===null){A===null&&(A=C);break}e&&A&&N.alternate===null&&t(g,A),x=i(N,x,I),T===null?S=N:T.sibling=N,T=N,A=C}if(I===w.length)return n(g,A),Mt&&Ti(g,I),S;if(A===null){for(;I<w.length;I++)A=p(g,w[I],k),A!==null&&(x=i(A,x,I),T===null?S=A:T.sibling=A,T=A);return Mt&&Ti(g,I),S}for(A=r(g,A);I<w.length;I++)C=f(A,g,I,w[I],k),C!==null&&(e&&C.alternate!==null&&A.delete(C.key===null?I:C.key),x=i(C,x,I),T===null?S=C:T.sibling=C,T=C);return e&&A.forEach(function(O){return t(g,O)}),Mt&&Ti(g,I),S}function v(g,x,w,k){var S=Nu(w);if(typeof S!="function")throw Error(me(150));if(w=S.call(w),w==null)throw Error(me(151));for(var T=S=null,A=x,I=x=0,C=null,N=w.next();A!==null&&!N.done;I++,N=w.next()){A.index>I?(C=A,A=null):C=A.sibling;var O=h(g,A,N.value,k);if(O===null){A===null&&(A=C);break}e&&A&&O.alternate===null&&t(g,A),x=i(O,x,I),T===null?S=O:T.sibling=O,T=O,A=C}if(N.done)return n(g,A),Mt&&Ti(g,I),S;if(A===null){for(;!N.done;I++,N=w.next())N=p(g,N.value,k),N!==null&&(x=i(N,x,I),T===null?S=N:T.sibling=N,T=N);return Mt&&Ti(g,I),S}for(A=r(g,A);!N.done;I++,N=w.next())N=f(A,g,I,N.value,k),N!==null&&(e&&N.alternate!==null&&A.delete(N.key===null?I:N.key),x=i(N,x,I),T===null?S=N:T.sibling=N,T=N);return e&&A.forEach(function(D){return t(g,D)}),Mt&&Ti(g,I),S}function y(g,x,w,k){if(typeof w=="object"&&w!==null&&w.type===Ho&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case ip:e:{for(var S=w.key,T=x;T!==null;){if(T.key===S){if(S=w.type,S===Ho){if(T.tag===7){n(g,T.sibling),x=a(T,w.props.children),x.return=g,g=x;break e}}else if(T.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===_s&&ek(S)===T.type){n(g,T.sibling),x=a(T,w.props),x.ref=Au(g,T,w),x.return=g,g=x;break e}n(g,T);break}else t(g,T);T=T.sibling}w.type===Ho?(x=Vi(w.props.children,g.mode,k,w.key),x.return=g,g=x):(k=th(w.type,w.key,w.props,null,g.mode,k),k.ref=Au(g,x,w),k.return=g,g=k)}return o(g);case $o:e:{for(T=w.key;x!==null;){if(x.key===T)if(x.tag===4&&x.stateNode.containerInfo===w.containerInfo&&x.stateNode.implementation===w.implementation){n(g,x.sibling),x=a(x,w.children||[]),x.return=g,g=x;break e}else{n(g,x);break}else t(g,x);x=x.sibling}x=tg(w,g.mode,k),x.return=g,g=x}return o(g);case _s:return T=w._init,y(g,x,T(w._payload),k)}if(qu(w))return m(g,x,w,k);if(Nu(w))return v(g,x,w,k);bp(g,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,x!==null&&x.tag===6?(n(g,x.sibling),x=a(x,w),x.return=g,g=x):(n(g,x),x=eg(w,g.mode,k),x.return=g,g=x),o(g)):n(g,x)}return y}var jl=kA(!0),_A=kA(!1),kh=hi(null),_h=null,Zo=null,Cy=null;function Ay(){Cy=Zo=_h=null}function Iy(e){var t=kh.current;Ot(kh),e._currentValue=t}function A0(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function sl(e,t){_h=e,Cy=Zo=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(cr=!0),e.firstContext=null)}function Wr(e){var t=e._currentValue;if(Cy!==e)if(e={context:e,memoizedValue:t,next:null},Zo===null){if(_h===null)throw Error(me(308));Zo=e,_h.dependencies={lanes:0,firstContext:e}}else Zo=Zo.next=e;return t}var Oi=null;function Ry(e){Oi===null?Oi=[e]:Oi.push(e)}function TA(e,t,n,r){var a=t.interleaved;return a===null?(n.next=n,Ry(t)):(n.next=a.next,a.next=n),t.interleaved=n,us(e,r)}function us(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Ts=!1;function Dy(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function CA(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ss(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Qs(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,pt&2){var a=r.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),r.pending=t,us(e,n)}return a=r.interleaved,a===null?(t.next=t,Ry(r)):(t.next=a.next,a.next=t),r.interleaved=t,us(e,n)}function Kp(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,by(e,n)}}function tk(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var a=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?a=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?a=i=t:i=i.next=t}else a=i=t;n={baseState:r.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Th(e,t,n,r){var a=e.updateQueue;Ts=!1;var i=a.firstBaseUpdate,o=a.lastBaseUpdate,l=a.shared.pending;if(l!==null){a.shared.pending=null;var u=l,c=u.next;u.next=null,o===null?i=c:o.next=c,o=u;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=c:l.next=c,d.lastBaseUpdate=u))}if(i!==null){var p=a.baseState;o=0,d=c=u=null,l=i;do{var h=l.lane,f=l.eventTime;if((r&h)===h){d!==null&&(d=d.next={eventTime:f,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var m=e,v=l;switch(h=t,f=n,v.tag){case 1:if(m=v.payload,typeof m=="function"){p=m.call(f,p,h);break e}p=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=v.payload,h=typeof m=="function"?m.call(f,p,h):m,h==null)break e;p=$t({},p,h);break e;case 2:Ts=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,h=a.effects,h===null?a.effects=[l]:h.push(l))}else f={eventTime:f,lane:h,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(c=d=f,u=p):d=d.next=f,o|=h;if(l=l.next,l===null){if(l=a.shared.pending,l===null)break;h=l,l=h.next,h.next=null,a.lastBaseUpdate=h,a.shared.pending=null}}while(!0);if(d===null&&(u=p),a.baseState=u,a.firstBaseUpdate=c,a.lastBaseUpdate=d,t=a.shared.interleaved,t!==null){a=t;do o|=a.lane,a=a.next;while(a!==t)}else i===null&&(a.shared.lanes=0);to|=o,e.lanes=o,e.memoizedState=p}}function nk(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],a=r.callback;if(a!==null){if(r.callback=null,r=n,typeof a!="function")throw Error(me(191,a));a.call(r)}}}var Sd={},Ca=hi(Sd),Fc=hi(Sd),Pc=hi(Sd);function Li(e){if(e===Sd)throw Error(me(174));return e}function Oy(e,t){switch(At(Pc,t),At(Fc,e),At(Ca,Sd),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:u0(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=u0(t,e)}Ot(Ca),At(Ca,t)}function Ml(){Ot(Ca),Ot(Fc),Ot(Pc)}function AA(e){Li(Pc.current);var t=Li(Ca.current),n=u0(t,e.type);t!==n&&(At(Fc,e),At(Ca,n))}function Ly(e){Fc.current===e&&(Ot(Ca),Ot(Fc))}var Pt=hi(0);function Ch(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ym=[];function jy(){for(var e=0;e<Ym.length;e++)Ym[e]._workInProgressVersionPrimary=null;Ym.length=0}var Zp=hs.ReactCurrentDispatcher,Km=hs.ReactCurrentBatchConfig,eo=0,Bt=null,sn=null,bn=null,Ah=!1,ic=!1,Bc=0,L4=0;function Ln(){throw Error(me(321))}function My(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ua(e[n],t[n]))return!1;return!0}function Fy(e,t,n,r,a,i){if(eo=i,Bt=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Zp.current=e===null||e.memoizedState===null?P4:B4,e=n(r,a),ic){i=0;do{if(ic=!1,Bc=0,25<=i)throw Error(me(301));i+=1,bn=sn=null,t.updateQueue=null,Zp.current=U4,e=n(r,a)}while(ic)}if(Zp.current=Ih,t=sn!==null&&sn.next!==null,eo=0,bn=sn=Bt=null,Ah=!1,t)throw Error(me(300));return e}function Py(){var e=Bc!==0;return Bc=0,e}function ga(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return bn===null?Bt.memoizedState=bn=e:bn=bn.next=e,bn}function Yr(){if(sn===null){var e=Bt.alternate;e=e!==null?e.memoizedState:null}else e=sn.next;var t=bn===null?Bt.memoizedState:bn.next;if(t!==null)bn=t,sn=e;else{if(e===null)throw Error(me(310));sn=e,e={memoizedState:sn.memoizedState,baseState:sn.baseState,baseQueue:sn.baseQueue,queue:sn.queue,next:null},bn===null?Bt.memoizedState=bn=e:bn=bn.next=e}return bn}function Uc(e,t){return typeof t=="function"?t(e):t}function Zm(e){var t=Yr(),n=t.queue;if(n===null)throw Error(me(311));n.lastRenderedReducer=e;var r=sn,a=r.baseQueue,i=n.pending;if(i!==null){if(a!==null){var o=a.next;a.next=i.next,i.next=o}r.baseQueue=a=i,n.pending=null}if(a!==null){i=a.next,r=r.baseState;var l=o=null,u=null,c=i;do{var d=c.lane;if((eo&d)===d)u!==null&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var p={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};u===null?(l=u=p,o=r):u=u.next=p,Bt.lanes|=d,to|=d}c=c.next}while(c!==null&&c!==i);u===null?o=r:u.next=l,ua(r,t.memoizedState)||(cr=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=u,n.lastRenderedState=r}if(e=n.interleaved,e!==null){a=e;do i=a.lane,Bt.lanes|=i,to|=i,a=a.next;while(a!==e)}else a===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Xm(e){var t=Yr(),n=t.queue;if(n===null)throw Error(me(311));n.lastRenderedReducer=e;var r=n.dispatch,a=n.pending,i=t.memoizedState;if(a!==null){n.pending=null;var o=a=a.next;do i=e(i,o.action),o=o.next;while(o!==a);ua(i,t.memoizedState)||(cr=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function IA(){}function RA(e,t){var n=Bt,r=Yr(),a=t(),i=!ua(r.memoizedState,a);if(i&&(r.memoizedState=a,cr=!0),r=r.queue,By(LA.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||bn!==null&&bn.memoizedState.tag&1){if(n.flags|=2048,$c(9,OA.bind(null,n,r,a,t),void 0,null),xn===null)throw Error(me(349));eo&30||DA(n,t,a)}return a}function DA(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Bt.updateQueue,t===null?(t={lastEffect:null,stores:null},Bt.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function OA(e,t,n,r){t.value=n,t.getSnapshot=r,jA(t)&&MA(e)}function LA(e,t,n){return n(function(){jA(t)&&MA(e)})}function jA(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ua(e,n)}catch{return!0}}function MA(e){var t=us(e,1);t!==null&&oa(t,e,1,-1)}function rk(e){var t=ga();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Uc,lastRenderedState:e},t.queue=e,e=e.dispatch=F4.bind(null,Bt,e),[t.memoizedState,e]}function $c(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Bt.updateQueue,t===null?(t={lastEffect:null,stores:null},Bt.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function FA(){return Yr().memoizedState}function Xp(e,t,n,r){var a=ga();Bt.flags|=e,a.memoizedState=$c(1|t,n,void 0,r===void 0?null:r)}function vf(e,t,n,r){var a=Yr();r=r===void 0?null:r;var i=void 0;if(sn!==null){var o=sn.memoizedState;if(i=o.destroy,r!==null&&My(r,o.deps)){a.memoizedState=$c(t,n,i,r);return}}Bt.flags|=e,a.memoizedState=$c(1|t,n,i,r)}function ak(e,t){return Xp(8390656,8,e,t)}function By(e,t){return vf(2048,8,e,t)}function PA(e,t){return vf(4,2,e,t)}function BA(e,t){return vf(4,4,e,t)}function UA(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function $A(e,t,n){return n=n!=null?n.concat([e]):null,vf(4,4,UA.bind(null,t,e),n)}function Uy(){}function HA(e,t){var n=Yr();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&My(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function zA(e,t){var n=Yr();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&My(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function GA(e,t,n){return eo&21?(ua(n,t)||(n=KC(),Bt.lanes|=n,to|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,cr=!0),e.memoizedState=n)}function j4(e,t){var n=yt;yt=n!==0&&4>n?n:4,e(!0);var r=Km.transition;Km.transition={};try{e(!1),t()}finally{yt=n,Km.transition=r}}function qA(){return Yr().memoizedState}function M4(e,t,n){var r=ei(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},VA(e))WA(t,n);else if(n=TA(e,t,n,r),n!==null){var a=Zn();oa(n,e,r,a),YA(n,t,r)}}function F4(e,t,n){var r=ei(e),a={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(VA(e))WA(t,a);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,l=i(o,n);if(a.hasEagerState=!0,a.eagerState=l,ua(l,o)){var u=t.interleaved;u===null?(a.next=a,Ry(t)):(a.next=u.next,u.next=a),t.interleaved=a;return}}catch{}finally{}n=TA(e,t,a,r),n!==null&&(a=Zn(),oa(n,e,r,a),YA(n,t,r))}}function VA(e){var t=e.alternate;return e===Bt||t!==null&&t===Bt}function WA(e,t){ic=Ah=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function YA(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,by(e,n)}}var Ih={readContext:Wr,useCallback:Ln,useContext:Ln,useEffect:Ln,useImperativeHandle:Ln,useInsertionEffect:Ln,useLayoutEffect:Ln,useMemo:Ln,useReducer:Ln,useRef:Ln,useState:Ln,useDebugValue:Ln,useDeferredValue:Ln,useTransition:Ln,useMutableSource:Ln,useSyncExternalStore:Ln,useId:Ln,unstable_isNewReconciler:!1},P4={readContext:Wr,useCallback:function(e,t){return ga().memoizedState=[e,t===void 0?null:t],e},useContext:Wr,useEffect:ak,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Xp(4194308,4,UA.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Xp(4194308,4,e,t)},useInsertionEffect:function(e,t){return Xp(4,2,e,t)},useMemo:function(e,t){var n=ga();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=ga();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=M4.bind(null,Bt,e),[r.memoizedState,e]},useRef:function(e){var t=ga();return e={current:e},t.memoizedState=e},useState:rk,useDebugValue:Uy,useDeferredValue:function(e){return ga().memoizedState=e},useTransition:function(){var e=rk(!1),t=e[0];return e=j4.bind(null,e[1]),ga().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Bt,a=ga();if(Mt){if(n===void 0)throw Error(me(407));n=n()}else{if(n=t(),xn===null)throw Error(me(349));eo&30||DA(r,t,n)}a.memoizedState=n;var i={value:n,getSnapshot:t};return a.queue=i,ak(LA.bind(null,r,i,e),[e]),r.flags|=2048,$c(9,OA.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=ga(),t=xn.identifierPrefix;if(Mt){var n=as,r=rs;n=(r&~(1<<32-ia(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Bc++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=L4++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},B4={readContext:Wr,useCallback:HA,useContext:Wr,useEffect:By,useImperativeHandle:$A,useInsertionEffect:PA,useLayoutEffect:BA,useMemo:zA,useReducer:Zm,useRef:FA,useState:function(){return Zm(Uc)},useDebugValue:Uy,useDeferredValue:function(e){var t=Yr();return GA(t,sn.memoizedState,e)},useTransition:function(){var e=Zm(Uc)[0],t=Yr().memoizedState;return[e,t]},useMutableSource:IA,useSyncExternalStore:RA,useId:qA,unstable_isNewReconciler:!1},U4={readContext:Wr,useCallback:HA,useContext:Wr,useEffect:By,useImperativeHandle:$A,useInsertionEffect:PA,useLayoutEffect:BA,useMemo:zA,useReducer:Xm,useRef:FA,useState:function(){return Xm(Uc)},useDebugValue:Uy,useDeferredValue:function(e){var t=Yr();return sn===null?t.memoizedState=e:GA(t,sn.memoizedState,e)},useTransition:function(){var e=Xm(Uc)[0],t=Yr().memoizedState;return[e,t]},useMutableSource:IA,useSyncExternalStore:RA,useId:qA,unstable_isNewReconciler:!1};function Qr(e,t){if(e&&e.defaultProps){t=$t({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function I0(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:$t({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Ef={isMounted:function(e){return(e=e._reactInternals)?fo(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Zn(),a=ei(e),i=ss(r,a);i.payload=t,n!=null&&(i.callback=n),t=Qs(e,i,a),t!==null&&(oa(t,e,a,r),Kp(t,e,a))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Zn(),a=ei(e),i=ss(r,a);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=Qs(e,i,a),t!==null&&(oa(t,e,a,r),Kp(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Zn(),r=ei(e),a=ss(n,r);a.tag=2,t!=null&&(a.callback=t),t=Qs(e,a,r),t!==null&&(oa(t,e,r,n),Kp(t,e,r))}};function sk(e,t,n,r,a,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,i,o):t.prototype&&t.prototype.isPureReactComponent?!Oc(n,r)||!Oc(a,i):!0}function KA(e,t,n){var r=!1,a=si,i=t.contextType;return typeof i=="object"&&i!==null?i=Wr(i):(a=pr(t)?Qi:Un.current,r=t.contextTypes,i=(r=r!=null)?Ol(e,a):si),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Ef,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=i),t}function ik(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Ef.enqueueReplaceState(t,t.state,null)}function R0(e,t,n,r){var a=e.stateNode;a.props=n,a.state=e.memoizedState,a.refs={},Dy(e);var i=t.contextType;typeof i=="object"&&i!==null?a.context=Wr(i):(i=pr(t)?Qi:Un.current,a.context=Ol(e,i)),a.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(I0(e,t,i,n),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&Ef.enqueueReplaceState(a,a.state,null),Th(e,n,a,r),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function Fl(e,t){try{var n="",r=t;do n+=fj(r),r=r.return;while(r);var a=n}catch(i){a=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:a,digest:null}}function Qm(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function D0(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var $4=typeof WeakMap=="function"?WeakMap:Map;function ZA(e,t,n){n=ss(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Dh||(Dh=!0,H0=r),D0(e,t)},n}function XA(e,t,n){n=ss(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var a=t.value;n.payload=function(){return r(a)},n.callback=function(){D0(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){D0(e,t),typeof r!="function"&&(Js===null?Js=new Set([this]):Js.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function ok(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new $4;var a=new Set;r.set(t,a)}else a=r.get(t),a===void 0&&(a=new Set,r.set(t,a));a.has(n)||(a.add(n),e=t6.bind(null,e,t,n),t.then(e,e))}function lk(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function uk(e,t,n,r,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=ss(-1,1),t.tag=2,Qs(n,t,1))),n.lanes|=1),e)}var H4=hs.ReactCurrentOwner,cr=!1;function Yn(e,t,n,r){t.child=e===null?_A(t,null,n,r):jl(t,e.child,n,r)}function ck(e,t,n,r,a){n=n.render;var i=t.ref;return sl(t,a),r=Fy(e,t,n,r,i,a),n=Py(),e!==null&&!cr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,cs(e,t,a)):(Mt&&n&&ky(t),t.flags|=1,Yn(e,t,r,a),t.child)}function dk(e,t,n,r,a){if(e===null){var i=n.type;return typeof i=="function"&&!Yy(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,QA(e,t,i,r,a)):(e=th(n.type,null,r,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&a)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:Oc,n(o,r)&&e.ref===t.ref)return cs(e,t,a)}return t.flags|=1,e=ti(i,r),e.ref=t.ref,e.return=t,t.child=e}function QA(e,t,n,r,a){if(e!==null){var i=e.memoizedProps;if(Oc(i,r)&&e.ref===t.ref)if(cr=!1,t.pendingProps=r=i,(e.lanes&a)!==0)e.flags&131072&&(cr=!0);else return t.lanes=e.lanes,cs(e,t,a)}return O0(e,t,n,r,a)}function JA(e,t,n){var r=t.pendingProps,a=r.children,i=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},At(Qo,Nr),Nr|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,At(Qo,Nr),Nr|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,At(Qo,Nr),Nr|=r}else i!==null?(r=i.baseLanes|n,t.memoizedState=null):r=n,At(Qo,Nr),Nr|=r;return Yn(e,t,a,n),t.child}function eI(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function O0(e,t,n,r,a){var i=pr(n)?Qi:Un.current;return i=Ol(t,i),sl(t,a),n=Fy(e,t,n,r,i,a),r=Py(),e!==null&&!cr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,cs(e,t,a)):(Mt&&r&&ky(t),t.flags|=1,Yn(e,t,n,a),t.child)}function pk(e,t,n,r,a){if(pr(n)){var i=!0;wh(t)}else i=!1;if(sl(t,a),t.stateNode===null)Qp(e,t),KA(t,n,r),R0(t,n,r,a),r=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var u=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=Wr(c):(c=pr(n)?Qi:Un.current,c=Ol(t,c));var d=n.getDerivedStateFromProps,p=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";p||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||u!==c)&&ik(t,o,r,c),Ts=!1;var h=t.memoizedState;o.state=h,Th(t,r,o,a),u=t.memoizedState,l!==r||h!==u||dr.current||Ts?(typeof d=="function"&&(I0(t,n,d,r),u=t.memoizedState),(l=Ts||sk(t,n,l,r,h,u,c))?(p||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),o.props=r,o.state=u,o.context=c,r=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,CA(e,t),l=t.memoizedProps,c=t.type===t.elementType?l:Qr(t.type,l),o.props=c,p=t.pendingProps,h=o.context,u=n.contextType,typeof u=="object"&&u!==null?u=Wr(u):(u=pr(n)?Qi:Un.current,u=Ol(t,u));var f=n.getDerivedStateFromProps;(d=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==p||h!==u)&&ik(t,o,r,u),Ts=!1,h=t.memoizedState,o.state=h,Th(t,r,o,a);var m=t.memoizedState;l!==p||h!==m||dr.current||Ts?(typeof f=="function"&&(I0(t,n,f,r),m=t.memoizedState),(c=Ts||sk(t,n,c,r,h,m,u)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,m,u),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,m,u)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=m),o.props=r,o.state=m,o.context=u,r=c):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return L0(e,t,n,r,i,a)}function L0(e,t,n,r,a,i){eI(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return a&&XN(t,n,!1),cs(e,t,i);r=t.stateNode,H4.current=t;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=jl(t,e.child,null,i),t.child=jl(t,null,l,i)):Yn(e,t,l,i),t.memoizedState=r.state,a&&XN(t,n,!0),t.child}function tI(e){var t=e.stateNode;t.pendingContext?ZN(e,t.pendingContext,t.pendingContext!==t.context):t.context&&ZN(e,t.context,!1),Oy(e,t.containerInfo)}function hk(e,t,n,r,a){return Ll(),Ty(a),t.flags|=256,Yn(e,t,n,r),t.child}var j0={dehydrated:null,treeContext:null,retryLane:0};function M0(e){return{baseLanes:e,cachePool:null,transitions:null}}function nI(e,t,n){var r=t.pendingProps,a=Pt.current,i=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(a&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),At(Pt,a&1),e===null)return C0(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,i?(r=t.mode,i=t.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Nf(o,r,0,null),e=Vi(e,r,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=M0(n),t.memoizedState=j0,e):$y(t,o));if(a=e.memoizedState,a!==null&&(l=a.dehydrated,l!==null))return z4(e,t,o,r,l,a,n);if(i){i=r.fallback,o=t.mode,a=e.child,l=a.sibling;var u={mode:"hidden",children:r.children};return!(o&1)&&t.child!==a?(r=t.child,r.childLanes=0,r.pendingProps=u,t.deletions=null):(r=ti(a,u),r.subtreeFlags=a.subtreeFlags&14680064),l!==null?i=ti(l,i):(i=Vi(i,o,n,null),i.flags|=2),i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,o=e.child.memoizedState,o=o===null?M0(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~n,t.memoizedState=j0,r}return i=e.child,e=i.sibling,r=ti(i,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function $y(e,t){return t=Nf({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function yp(e,t,n,r){return r!==null&&Ty(r),jl(t,e.child,null,n),e=$y(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function z4(e,t,n,r,a,i,o){if(n)return t.flags&256?(t.flags&=-257,r=Qm(Error(me(422))),yp(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=r.fallback,a=t.mode,r=Nf({mode:"visible",children:r.children},a,0,null),i=Vi(i,a,o,null),i.flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,t.mode&1&&jl(t,e.child,null,o),t.child.memoizedState=M0(o),t.memoizedState=j0,i);if(!(t.mode&1))return yp(e,t,o,null);if(a.data==="$!"){if(r=a.nextSibling&&a.nextSibling.dataset,r)var l=r.dgst;return r=l,i=Error(me(419)),r=Qm(i,r,void 0),yp(e,t,o,r)}if(l=(o&e.childLanes)!==0,cr||l){if(r=xn,r!==null){switch(o&-o){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(r.suspendedLanes|o)?0:a,a!==0&&a!==i.retryLane&&(i.retryLane=a,us(e,a),oa(r,e,a,-1))}return Wy(),r=Qm(Error(me(421))),yp(e,t,o,r)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=n6.bind(null,e),a._reactRetry=t,null):(e=i.treeContext,_r=Xs(a.nextSibling),Tr=t,Mt=!0,ra=null,e!==null&&(Hr[zr++]=rs,Hr[zr++]=as,Hr[zr++]=Ji,rs=e.id,as=e.overflow,Ji=t),t=$y(t,r.children),t.flags|=4096,t)}function fk(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),A0(e.return,t,n)}function Jm(e,t,n,r,a){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:a}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=a)}function rI(e,t,n){var r=t.pendingProps,a=r.revealOrder,i=r.tail;if(Yn(e,t,r.children,n),r=Pt.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&fk(e,n,t);else if(e.tag===19)fk(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(At(Pt,r),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(n=t.child,a=null;n!==null;)e=n.alternate,e!==null&&Ch(e)===null&&(a=n),n=n.sibling;n=a,n===null?(a=t.child,t.child=null):(a=n.sibling,n.sibling=null),Jm(t,!1,a,n,i);break;case"backwards":for(n=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&Ch(e)===null){t.child=a;break}e=a.sibling,a.sibling=n,n=a,a=e}Jm(t,!0,n,null,i);break;case"together":Jm(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Qp(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function cs(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),to|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(me(153));if(t.child!==null){for(e=t.child,n=ti(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=ti(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function G4(e,t,n){switch(t.tag){case 3:tI(t),Ll();break;case 5:AA(t);break;case 1:pr(t.type)&&wh(t);break;case 4:Oy(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,a=t.memoizedProps.value;At(kh,r._currentValue),r._currentValue=a;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(At(Pt,Pt.current&1),t.flags|=128,null):n&t.child.childLanes?nI(e,t,n):(At(Pt,Pt.current&1),e=cs(e,t,n),e!==null?e.sibling:null);At(Pt,Pt.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return rI(e,t,n);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),At(Pt,Pt.current),r)break;return null;case 22:case 23:return t.lanes=0,JA(e,t,n)}return cs(e,t,n)}var aI,F0,sI,iI;aI=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};F0=function(){};sI=function(e,t,n,r){var a=e.memoizedProps;if(a!==r){e=t.stateNode,Li(Ca.current);var i=null;switch(n){case"input":a=s0(e,a),r=s0(e,r),i=[];break;case"select":a=$t({},a,{value:void 0}),r=$t({},r,{value:void 0}),i=[];break;case"textarea":a=l0(e,a),r=l0(e,r),i=[];break;default:typeof a.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=vh)}c0(n,r);var o;n=null;for(c in a)if(!r.hasOwnProperty(c)&&a.hasOwnProperty(c)&&a[c]!=null)if(c==="style"){var l=a[c];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(_c.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in r){var u=r[c];if(l=a!=null?a[c]:void 0,r.hasOwnProperty(c)&&u!==l&&(u!=null||l!=null))if(c==="style")if(l){for(o in l)!l.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in u)u.hasOwnProperty(o)&&l[o]!==u[o]&&(n||(n={}),n[o]=u[o])}else n||(i||(i=[]),i.push(c,n)),n=u;else c==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,l=l?l.__html:void 0,u!=null&&l!==u&&(i=i||[]).push(c,u)):c==="children"?typeof u!="string"&&typeof u!="number"||(i=i||[]).push(c,""+u):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(_c.hasOwnProperty(c)?(u!=null&&c==="onScroll"&&Dt("scroll",e),i||l===u||(i=[])):(i=i||[]).push(c,u))}n&&(i=i||[]).push("style",n);var c=i;(t.updateQueue=c)&&(t.flags|=4)}};iI=function(e,t,n,r){n!==r&&(t.flags|=4)};function Iu(e,t){if(!Mt)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function jn(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var a=e.child;a!==null;)n|=a.lanes|a.childLanes,r|=a.subtreeFlags&14680064,r|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)n|=a.lanes|a.childLanes,r|=a.subtreeFlags,r|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function q4(e,t,n){var r=t.pendingProps;switch(_y(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return jn(t),null;case 1:return pr(t.type)&&Eh(),jn(t),null;case 3:return r=t.stateNode,Ml(),Ot(dr),Ot(Un),jy(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(gp(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,ra!==null&&(q0(ra),ra=null))),F0(e,t),jn(t),null;case 5:Ly(t);var a=Li(Pc.current);if(n=t.type,e!==null&&t.stateNode!=null)sI(e,t,n,r,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(me(166));return jn(t),null}if(e=Li(Ca.current),gp(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[ka]=t,r[Mc]=i,e=(t.mode&1)!==0,n){case"dialog":Dt("cancel",r),Dt("close",r);break;case"iframe":case"object":case"embed":Dt("load",r);break;case"video":case"audio":for(a=0;a<Wu.length;a++)Dt(Wu[a],r);break;case"source":Dt("error",r);break;case"img":case"image":case"link":Dt("error",r),Dt("load",r);break;case"details":Dt("toggle",r);break;case"input":SN(r,i),Dt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Dt("invalid",r);break;case"textarea":kN(r,i),Dt("invalid",r)}c0(n,i),a=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?r.textContent!==l&&(i.suppressHydrationWarning!==!0&&mp(r.textContent,l,e),a=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&mp(r.textContent,l,e),a=["children",""+l]):_c.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&Dt("scroll",r)}switch(n){case"input":op(r),NN(r,i,!0);break;case"textarea":op(r),_N(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=vh)}r=a,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=LC(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[ka]=t,e[Mc]=r,aI(e,t,!1,!1),t.stateNode=e;e:{switch(o=d0(n,r),n){case"dialog":Dt("cancel",e),Dt("close",e),a=r;break;case"iframe":case"object":case"embed":Dt("load",e),a=r;break;case"video":case"audio":for(a=0;a<Wu.length;a++)Dt(Wu[a],e);a=r;break;case"source":Dt("error",e),a=r;break;case"img":case"image":case"link":Dt("error",e),Dt("load",e),a=r;break;case"details":Dt("toggle",e),a=r;break;case"input":SN(e,r),a=s0(e,r),Dt("invalid",e);break;case"option":a=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},a=$t({},r,{value:void 0}),Dt("invalid",e);break;case"textarea":kN(e,r),a=l0(e,r),Dt("invalid",e);break;default:a=r}c0(n,a),l=a;for(i in l)if(l.hasOwnProperty(i)){var u=l[i];i==="style"?FC(e,u):i==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&jC(e,u)):i==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&Tc(e,u):typeof u=="number"&&Tc(e,""+u):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(_c.hasOwnProperty(i)?u!=null&&i==="onScroll"&&Dt("scroll",e):u!=null&&dy(e,i,u,o))}switch(n){case"input":op(e),NN(e,r,!1);break;case"textarea":op(e),_N(e);break;case"option":r.value!=null&&e.setAttribute("value",""+ai(r.value));break;case"select":e.multiple=!!r.multiple,i=r.value,i!=null?tl(e,!!r.multiple,i,!1):r.defaultValue!=null&&tl(e,!!r.multiple,r.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=vh)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return jn(t),null;case 6:if(e&&t.stateNode!=null)iI(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(me(166));if(n=Li(Pc.current),Li(Ca.current),gp(t)){if(r=t.stateNode,n=t.memoizedProps,r[ka]=t,(i=r.nodeValue!==n)&&(e=Tr,e!==null))switch(e.tag){case 3:mp(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&mp(r.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[ka]=t,t.stateNode=r}return jn(t),null;case 13:if(Ot(Pt),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Mt&&_r!==null&&t.mode&1&&!(t.flags&128))NA(),Ll(),t.flags|=98560,i=!1;else if(i=gp(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error(me(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(me(317));i[ka]=t}else Ll(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;jn(t),i=!1}else ra!==null&&(q0(ra),ra=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Pt.current&1?ln===0&&(ln=3):Wy())),t.updateQueue!==null&&(t.flags|=4),jn(t),null);case 4:return Ml(),F0(e,t),e===null&&Lc(t.stateNode.containerInfo),jn(t),null;case 10:return Iy(t.type._context),jn(t),null;case 17:return pr(t.type)&&Eh(),jn(t),null;case 19:if(Ot(Pt),i=t.memoizedState,i===null)return jn(t),null;if(r=(t.flags&128)!==0,o=i.rendering,o===null)if(r)Iu(i,!1);else{if(ln!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Ch(e),o!==null){for(t.flags|=128,Iu(i,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)i=n,e=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return At(Pt,Pt.current&1|2),t.child}e=e.sibling}i.tail!==null&&Yt()>Pl&&(t.flags|=128,r=!0,Iu(i,!1),t.lanes=4194304)}else{if(!r)if(e=Ch(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Iu(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Mt)return jn(t),null}else 2*Yt()-i.renderingStartTime>Pl&&n!==1073741824&&(t.flags|=128,r=!0,Iu(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(n=i.last,n!==null?n.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Yt(),t.sibling=null,n=Pt.current,At(Pt,r?n&1|2:n&1),t):(jn(t),null);case 22:case 23:return Vy(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Nr&1073741824&&(jn(t),t.subtreeFlags&6&&(t.flags|=8192)):jn(t),null;case 24:return null;case 25:return null}throw Error(me(156,t.tag))}function V4(e,t){switch(_y(t),t.tag){case 1:return pr(t.type)&&Eh(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Ml(),Ot(dr),Ot(Un),jy(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Ly(t),null;case 13:if(Ot(Pt),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(me(340));Ll()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Ot(Pt),null;case 4:return Ml(),null;case 10:return Iy(t.type._context),null;case 22:case 23:return Vy(),null;case 24:return null;default:return null}}var xp=!1,Fn=!1,W4=typeof WeakSet=="function"?WeakSet:Set,Ae=null;function Xo(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){qt(e,t,r)}else n.current=null}function P0(e,t,n){try{n()}catch(r){qt(e,t,r)}}var mk=!1;function Y4(e,t){if(E0=bh,e=dA(),Ny(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var a=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,l=-1,u=-1,c=0,d=0,p=e,h=null;t:for(;;){for(var f;p!==n||a!==0&&p.nodeType!==3||(l=o+a),p!==i||r!==0&&p.nodeType!==3||(u=o+r),p.nodeType===3&&(o+=p.nodeValue.length),(f=p.firstChild)!==null;)h=p,p=f;for(;;){if(p===e)break t;if(h===n&&++c===a&&(l=o),h===i&&++d===r&&(u=o),(f=p.nextSibling)!==null)break;p=h,h=p.parentNode}p=f}n=l===-1||u===-1?null:{start:l,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(w0={focusedElem:e,selectionRange:n},bh=!1,Ae=t;Ae!==null;)if(t=Ae,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Ae=e;else for(;Ae!==null;){t=Ae;try{var m=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var v=m.memoizedProps,y=m.memoizedState,g=t.stateNode,x=g.getSnapshotBeforeUpdate(t.elementType===t.type?v:Qr(t.type,v),y);g.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var w=t.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(me(163))}}catch(k){qt(t,t.return,k)}if(e=t.sibling,e!==null){e.return=t.return,Ae=e;break}Ae=t.return}return m=mk,mk=!1,m}function oc(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var a=r=r.next;do{if((a.tag&e)===e){var i=a.destroy;a.destroy=void 0,i!==void 0&&P0(t,n,i)}a=a.next}while(a!==r)}}function wf(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function B0(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function oI(e){var t=e.alternate;t!==null&&(e.alternate=null,oI(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[ka],delete t[Mc],delete t[k0],delete t[I4],delete t[R4])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function lI(e){return e.tag===5||e.tag===3||e.tag===4}function gk(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||lI(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function U0(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=vh));else if(r!==4&&(e=e.child,e!==null))for(U0(e,t,n),e=e.sibling;e!==null;)U0(e,t,n),e=e.sibling}function $0(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for($0(e,t,n),e=e.sibling;e!==null;)$0(e,t,n),e=e.sibling}var Sn=null,ta=!1;function bs(e,t,n){for(n=n.child;n!==null;)uI(e,t,n),n=n.sibling}function uI(e,t,n){if(Ta&&typeof Ta.onCommitFiberUnmount=="function")try{Ta.onCommitFiberUnmount(ff,n)}catch{}switch(n.tag){case 5:Fn||Xo(n,t);case 6:var r=Sn,a=ta;Sn=null,bs(e,t,n),Sn=r,ta=a,Sn!==null&&(ta?(e=Sn,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Sn.removeChild(n.stateNode));break;case 18:Sn!==null&&(ta?(e=Sn,n=n.stateNode,e.nodeType===8?Vm(e.parentNode,n):e.nodeType===1&&Vm(e,n),Rc(e)):Vm(Sn,n.stateNode));break;case 4:r=Sn,a=ta,Sn=n.stateNode.containerInfo,ta=!0,bs(e,t,n),Sn=r,ta=a;break;case 0:case 11:case 14:case 15:if(!Fn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){a=r=r.next;do{var i=a,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&P0(n,t,o),a=a.next}while(a!==r)}bs(e,t,n);break;case 1:if(!Fn&&(Xo(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){qt(n,t,l)}bs(e,t,n);break;case 21:bs(e,t,n);break;case 22:n.mode&1?(Fn=(r=Fn)||n.memoizedState!==null,bs(e,t,n),Fn=r):bs(e,t,n);break;default:bs(e,t,n)}}function bk(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new W4),t.forEach(function(r){var a=r6.bind(null,e,r);n.has(r)||(n.add(r),r.then(a,a))})}}function Xr(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var a=n[r];try{var i=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:Sn=l.stateNode,ta=!1;break e;case 3:Sn=l.stateNode.containerInfo,ta=!0;break e;case 4:Sn=l.stateNode.containerInfo,ta=!0;break e}l=l.return}if(Sn===null)throw Error(me(160));uI(i,o,a),Sn=null,ta=!1;var u=a.alternate;u!==null&&(u.return=null),a.return=null}catch(c){qt(a,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)cI(t,e),t=t.sibling}function cI(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Xr(t,e),fa(e),r&4){try{oc(3,e,e.return),wf(3,e)}catch(v){qt(e,e.return,v)}try{oc(5,e,e.return)}catch(v){qt(e,e.return,v)}}break;case 1:Xr(t,e),fa(e),r&512&&n!==null&&Xo(n,n.return);break;case 5:if(Xr(t,e),fa(e),r&512&&n!==null&&Xo(n,n.return),e.flags&32){var a=e.stateNode;try{Tc(a,"")}catch(v){qt(e,e.return,v)}}if(r&4&&(a=e.stateNode,a!=null)){var i=e.memoizedProps,o=n!==null?n.memoizedProps:i,l=e.type,u=e.updateQueue;if(e.updateQueue=null,u!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&DC(a,i),d0(l,o);var c=d0(l,i);for(o=0;o<u.length;o+=2){var d=u[o],p=u[o+1];d==="style"?FC(a,p):d==="dangerouslySetInnerHTML"?jC(a,p):d==="children"?Tc(a,p):dy(a,d,p,c)}switch(l){case"input":i0(a,i);break;case"textarea":OC(a,i);break;case"select":var h=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!i.multiple;var f=i.value;f!=null?tl(a,!!i.multiple,f,!1):h!==!!i.multiple&&(i.defaultValue!=null?tl(a,!!i.multiple,i.defaultValue,!0):tl(a,!!i.multiple,i.multiple?[]:"",!1))}a[Mc]=i}catch(v){qt(e,e.return,v)}}break;case 6:if(Xr(t,e),fa(e),r&4){if(e.stateNode===null)throw Error(me(162));a=e.stateNode,i=e.memoizedProps;try{a.nodeValue=i}catch(v){qt(e,e.return,v)}}break;case 3:if(Xr(t,e),fa(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Rc(t.containerInfo)}catch(v){qt(e,e.return,v)}break;case 4:Xr(t,e),fa(e);break;case 13:Xr(t,e),fa(e),a=e.child,a.flags&8192&&(i=a.memoizedState!==null,a.stateNode.isHidden=i,!i||a.alternate!==null&&a.alternate.memoizedState!==null||(Gy=Yt())),r&4&&bk(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(Fn=(c=Fn)||d,Xr(t,e),Fn=c):Xr(t,e),fa(e),r&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!d&&e.mode&1)for(Ae=e,d=e.child;d!==null;){for(p=Ae=d;Ae!==null;){switch(h=Ae,f=h.child,h.tag){case 0:case 11:case 14:case 15:oc(4,h,h.return);break;case 1:Xo(h,h.return);var m=h.stateNode;if(typeof m.componentWillUnmount=="function"){r=h,n=h.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(v){qt(r,n,v)}}break;case 5:Xo(h,h.return);break;case 22:if(h.memoizedState!==null){xk(p);continue}}f!==null?(f.return=h,Ae=f):xk(p)}d=d.sibling}e:for(d=null,p=e;;){if(p.tag===5){if(d===null){d=p;try{a=p.stateNode,c?(i=a.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=p.stateNode,u=p.memoizedProps.style,o=u!=null&&u.hasOwnProperty("display")?u.display:null,l.style.display=MC("display",o))}catch(v){qt(e,e.return,v)}}}else if(p.tag===6){if(d===null)try{p.stateNode.nodeValue=c?"":p.memoizedProps}catch(v){qt(e,e.return,v)}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===e)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===e)break e;for(;p.sibling===null;){if(p.return===null||p.return===e)break e;d===p&&(d=null),p=p.return}d===p&&(d=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:Xr(t,e),fa(e),r&4&&bk(e);break;case 21:break;default:Xr(t,e),fa(e)}}function fa(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(lI(n)){var r=n;break e}n=n.return}throw Error(me(160))}switch(r.tag){case 5:var a=r.stateNode;r.flags&32&&(Tc(a,""),r.flags&=-33);var i=gk(e);$0(e,i,a);break;case 3:case 4:var o=r.stateNode.containerInfo,l=gk(e);U0(e,l,o);break;default:throw Error(me(161))}}catch(u){qt(e,e.return,u)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function K4(e,t,n){Ae=e,dI(e)}function dI(e,t,n){for(var r=(e.mode&1)!==0;Ae!==null;){var a=Ae,i=a.child;if(a.tag===22&&r){var o=a.memoizedState!==null||xp;if(!o){var l=a.alternate,u=l!==null&&l.memoizedState!==null||Fn;l=xp;var c=Fn;if(xp=o,(Fn=u)&&!c)for(Ae=a;Ae!==null;)o=Ae,u=o.child,o.tag===22&&o.memoizedState!==null?vk(a):u!==null?(u.return=o,Ae=u):vk(a);for(;i!==null;)Ae=i,dI(i),i=i.sibling;Ae=a,xp=l,Fn=c}yk(e)}else a.subtreeFlags&8772&&i!==null?(i.return=a,Ae=i):yk(e)}}function yk(e){for(;Ae!==null;){var t=Ae;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Fn||wf(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Fn)if(n===null)r.componentDidMount();else{var a=t.elementType===t.type?n.memoizedProps:Qr(t.type,n.memoizedProps);r.componentDidUpdate(a,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&nk(t,i,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}nk(t,o,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var p=d.dehydrated;p!==null&&Rc(p)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(me(163))}Fn||t.flags&512&&B0(t)}catch(h){qt(t,t.return,h)}}if(t===e){Ae=null;break}if(n=t.sibling,n!==null){n.return=t.return,Ae=n;break}Ae=t.return}}function xk(e){for(;Ae!==null;){var t=Ae;if(t===e){Ae=null;break}var n=t.sibling;if(n!==null){n.return=t.return,Ae=n;break}Ae=t.return}}function vk(e){for(;Ae!==null;){var t=Ae;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{wf(4,t)}catch(u){qt(t,n,u)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var a=t.return;try{r.componentDidMount()}catch(u){qt(t,a,u)}}var i=t.return;try{B0(t)}catch(u){qt(t,i,u)}break;case 5:var o=t.return;try{B0(t)}catch(u){qt(t,o,u)}}}catch(u){qt(t,t.return,u)}if(t===e){Ae=null;break}var l=t.sibling;if(l!==null){l.return=t.return,Ae=l;break}Ae=t.return}}var Z4=Math.ceil,Rh=hs.ReactCurrentDispatcher,Hy=hs.ReactCurrentOwner,Vr=hs.ReactCurrentBatchConfig,pt=0,xn=null,en=null,Nn=0,Nr=0,Qo=hi(0),ln=0,Hc=null,to=0,Sf=0,zy=0,lc=null,lr=null,Gy=0,Pl=1/0,Za=null,Dh=!1,H0=null,Js=null,vp=!1,Gs=null,Oh=0,uc=0,z0=null,Jp=-1,eh=0;function Zn(){return pt&6?Yt():Jp!==-1?Jp:Jp=Yt()}function ei(e){return e.mode&1?pt&2&&Nn!==0?Nn&-Nn:O4.transition!==null?(eh===0&&(eh=KC()),eh):(e=yt,e!==0||(e=window.event,e=e===void 0?16:nA(e.type)),e):1}function oa(e,t,n,r){if(50<uc)throw uc=0,z0=null,Error(me(185));vd(e,n,r),(!(pt&2)||e!==xn)&&(e===xn&&(!(pt&2)&&(Sf|=n),ln===4&&Rs(e,Nn)),hr(e,r),n===1&&pt===0&&!(t.mode&1)&&(Pl=Yt()+500,xf&&fi()))}function hr(e,t){var n=e.callbackNode;Oj(e,t);var r=gh(e,e===xn?Nn:0);if(r===0)n!==null&&AN(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&AN(n),t===1)e.tag===0?D4(Ek.bind(null,e)):EA(Ek.bind(null,e)),C4(function(){!(pt&6)&&fi()}),n=null;else{switch(ZC(r)){case 1:n=gy;break;case 4:n=WC;break;case 16:n=mh;break;case 536870912:n=YC;break;default:n=mh}n=xI(n,pI.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function pI(e,t){if(Jp=-1,eh=0,pt&6)throw Error(me(327));var n=e.callbackNode;if(il()&&e.callbackNode!==n)return null;var r=gh(e,e===xn?Nn:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Lh(e,r);else{t=r;var a=pt;pt|=2;var i=fI();(xn!==e||Nn!==t)&&(Za=null,Pl=Yt()+500,qi(e,t));do try{J4();break}catch(l){hI(e,l)}while(!0);Ay(),Rh.current=i,pt=a,en!==null?t=0:(xn=null,Nn=0,t=ln)}if(t!==0){if(t===2&&(a=g0(e),a!==0&&(r=a,t=G0(e,a))),t===1)throw n=Hc,qi(e,0),Rs(e,r),hr(e,Yt()),n;if(t===6)Rs(e,r);else{if(a=e.current.alternate,!(r&30)&&!X4(a)&&(t=Lh(e,r),t===2&&(i=g0(e),i!==0&&(r=i,t=G0(e,i))),t===1))throw n=Hc,qi(e,0),Rs(e,r),hr(e,Yt()),n;switch(e.finishedWork=a,e.finishedLanes=r,t){case 0:case 1:throw Error(me(345));case 2:Ci(e,lr,Za);break;case 3:if(Rs(e,r),(r&130023424)===r&&(t=Gy+500-Yt(),10<t)){if(gh(e,0)!==0)break;if(a=e.suspendedLanes,(a&r)!==r){Zn(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=N0(Ci.bind(null,e,lr,Za),t);break}Ci(e,lr,Za);break;case 4:if(Rs(e,r),(r&4194240)===r)break;for(t=e.eventTimes,a=-1;0<r;){var o=31-ia(r);i=1<<o,o=t[o],o>a&&(a=o),r&=~i}if(r=a,r=Yt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Z4(r/1960))-r,10<r){e.timeoutHandle=N0(Ci.bind(null,e,lr,Za),r);break}Ci(e,lr,Za);break;case 5:Ci(e,lr,Za);break;default:throw Error(me(329))}}}return hr(e,Yt()),e.callbackNode===n?pI.bind(null,e):null}function G0(e,t){var n=lc;return e.current.memoizedState.isDehydrated&&(qi(e,t).flags|=256),e=Lh(e,t),e!==2&&(t=lr,lr=n,t!==null&&q0(t)),e}function q0(e){lr===null?lr=e:lr.push.apply(lr,e)}function X4(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var a=n[r],i=a.getSnapshot;a=a.value;try{if(!ua(i(),a))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Rs(e,t){for(t&=~zy,t&=~Sf,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ia(t),r=1<<n;e[n]=-1,t&=~r}}function Ek(e){if(pt&6)throw Error(me(327));il();var t=gh(e,0);if(!(t&1))return hr(e,Yt()),null;var n=Lh(e,t);if(e.tag!==0&&n===2){var r=g0(e);r!==0&&(t=r,n=G0(e,r))}if(n===1)throw n=Hc,qi(e,0),Rs(e,t),hr(e,Yt()),n;if(n===6)throw Error(me(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ci(e,lr,Za),hr(e,Yt()),null}function qy(e,t){var n=pt;pt|=1;try{return e(t)}finally{pt=n,pt===0&&(Pl=Yt()+500,xf&&fi())}}function no(e){Gs!==null&&Gs.tag===0&&!(pt&6)&&il();var t=pt;pt|=1;var n=Vr.transition,r=yt;try{if(Vr.transition=null,yt=1,e)return e()}finally{yt=r,Vr.transition=n,pt=t,!(pt&6)&&fi()}}function Vy(){Nr=Qo.current,Ot(Qo)}function qi(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,T4(n)),en!==null)for(n=en.return;n!==null;){var r=n;switch(_y(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Eh();break;case 3:Ml(),Ot(dr),Ot(Un),jy();break;case 5:Ly(r);break;case 4:Ml();break;case 13:Ot(Pt);break;case 19:Ot(Pt);break;case 10:Iy(r.type._context);break;case 22:case 23:Vy()}n=n.return}if(xn=e,en=e=ti(e.current,null),Nn=Nr=t,ln=0,Hc=null,zy=Sf=to=0,lr=lc=null,Oi!==null){for(t=0;t<Oi.length;t++)if(n=Oi[t],r=n.interleaved,r!==null){n.interleaved=null;var a=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=a,r.next=o}n.pending=r}Oi=null}return e}function hI(e,t){do{var n=en;try{if(Ay(),Zp.current=Ih,Ah){for(var r=Bt.memoizedState;r!==null;){var a=r.queue;a!==null&&(a.pending=null),r=r.next}Ah=!1}if(eo=0,bn=sn=Bt=null,ic=!1,Bc=0,Hy.current=null,n===null||n.return===null){ln=1,Hc=t,en=null;break}e:{var i=e,o=n.return,l=n,u=t;if(t=Nn,l.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var c=u,d=l,p=d.tag;if(!(d.mode&1)&&(p===0||p===11||p===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var f=lk(o);if(f!==null){f.flags&=-257,uk(f,o,l,i,t),f.mode&1&&ok(i,c,t),t=f,u=c;var m=t.updateQueue;if(m===null){var v=new Set;v.add(u),t.updateQueue=v}else m.add(u);break e}else{if(!(t&1)){ok(i,c,t),Wy();break e}u=Error(me(426))}}else if(Mt&&l.mode&1){var y=lk(o);if(y!==null){!(y.flags&65536)&&(y.flags|=256),uk(y,o,l,i,t),Ty(Fl(u,l));break e}}i=u=Fl(u,l),ln!==4&&(ln=2),lc===null?lc=[i]:lc.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var g=ZA(i,u,t);tk(i,g);break e;case 1:l=u;var x=i.type,w=i.stateNode;if(!(i.flags&128)&&(typeof x.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(Js===null||!Js.has(w)))){i.flags|=65536,t&=-t,i.lanes|=t;var k=XA(i,l,t);tk(i,k);break e}}i=i.return}while(i!==null)}gI(n)}catch(S){t=S,en===n&&n!==null&&(en=n=n.return);continue}break}while(!0)}function fI(){var e=Rh.current;return Rh.current=Ih,e===null?Ih:e}function Wy(){(ln===0||ln===3||ln===2)&&(ln=4),xn===null||!(to&268435455)&&!(Sf&268435455)||Rs(xn,Nn)}function Lh(e,t){var n=pt;pt|=2;var r=fI();(xn!==e||Nn!==t)&&(Za=null,qi(e,t));do try{Q4();break}catch(a){hI(e,a)}while(!0);if(Ay(),pt=n,Rh.current=r,en!==null)throw Error(me(261));return xn=null,Nn=0,ln}function Q4(){for(;en!==null;)mI(en)}function J4(){for(;en!==null&&!Nj();)mI(en)}function mI(e){var t=yI(e.alternate,e,Nr);e.memoizedProps=e.pendingProps,t===null?gI(e):en=t,Hy.current=null}function gI(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=V4(n,t),n!==null){n.flags&=32767,en=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{ln=6,en=null;return}}else if(n=q4(n,t,Nr),n!==null){en=n;return}if(t=t.sibling,t!==null){en=t;return}en=t=e}while(t!==null);ln===0&&(ln=5)}function Ci(e,t,n){var r=yt,a=Vr.transition;try{Vr.transition=null,yt=1,e6(e,t,n,r)}finally{Vr.transition=a,yt=r}return null}function e6(e,t,n,r){do il();while(Gs!==null);if(pt&6)throw Error(me(327));n=e.finishedWork;var a=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(me(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(Lj(e,i),e===xn&&(en=xn=null,Nn=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||vp||(vp=!0,xI(mh,function(){return il(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Vr.transition,Vr.transition=null;var o=yt;yt=1;var l=pt;pt|=4,Hy.current=null,Y4(e,n),cI(n,e),v4(w0),bh=!!E0,w0=E0=null,e.current=n,K4(n),kj(),pt=l,yt=o,Vr.transition=i}else e.current=n;if(vp&&(vp=!1,Gs=e,Oh=a),i=e.pendingLanes,i===0&&(Js=null),Cj(n.stateNode),hr(e,Yt()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)a=t[n],r(a.value,{componentStack:a.stack,digest:a.digest});if(Dh)throw Dh=!1,e=H0,H0=null,e;return Oh&1&&e.tag!==0&&il(),i=e.pendingLanes,i&1?e===z0?uc++:(uc=0,z0=e):uc=0,fi(),null}function il(){if(Gs!==null){var e=ZC(Oh),t=Vr.transition,n=yt;try{if(Vr.transition=null,yt=16>e?16:e,Gs===null)var r=!1;else{if(e=Gs,Gs=null,Oh=0,pt&6)throw Error(me(331));var a=pt;for(pt|=4,Ae=e.current;Ae!==null;){var i=Ae,o=i.child;if(Ae.flags&16){var l=i.deletions;if(l!==null){for(var u=0;u<l.length;u++){var c=l[u];for(Ae=c;Ae!==null;){var d=Ae;switch(d.tag){case 0:case 11:case 15:oc(8,d,i)}var p=d.child;if(p!==null)p.return=d,Ae=p;else for(;Ae!==null;){d=Ae;var h=d.sibling,f=d.return;if(oI(d),d===c){Ae=null;break}if(h!==null){h.return=f,Ae=h;break}Ae=f}}}var m=i.alternate;if(m!==null){var v=m.child;if(v!==null){m.child=null;do{var y=v.sibling;v.sibling=null,v=y}while(v!==null)}}Ae=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,Ae=o;else e:for(;Ae!==null;){if(i=Ae,i.flags&2048)switch(i.tag){case 0:case 11:case 15:oc(9,i,i.return)}var g=i.sibling;if(g!==null){g.return=i.return,Ae=g;break e}Ae=i.return}}var x=e.current;for(Ae=x;Ae!==null;){o=Ae;var w=o.child;if(o.subtreeFlags&2064&&w!==null)w.return=o,Ae=w;else e:for(o=x;Ae!==null;){if(l=Ae,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:wf(9,l)}}catch(S){qt(l,l.return,S)}if(l===o){Ae=null;break e}var k=l.sibling;if(k!==null){k.return=l.return,Ae=k;break e}Ae=l.return}}if(pt=a,fi(),Ta&&typeof Ta.onPostCommitFiberRoot=="function")try{Ta.onPostCommitFiberRoot(ff,e)}catch{}r=!0}return r}finally{yt=n,Vr.transition=t}}return!1}function wk(e,t,n){t=Fl(n,t),t=ZA(e,t,1),e=Qs(e,t,1),t=Zn(),e!==null&&(vd(e,1,t),hr(e,t))}function qt(e,t,n){if(e.tag===3)wk(e,e,n);else for(;t!==null;){if(t.tag===3){wk(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Js===null||!Js.has(r))){e=Fl(n,e),e=XA(t,e,1),t=Qs(t,e,1),e=Zn(),t!==null&&(vd(t,1,e),hr(t,e));break}}t=t.return}}function t6(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Zn(),e.pingedLanes|=e.suspendedLanes&n,xn===e&&(Nn&n)===n&&(ln===4||ln===3&&(Nn&130023424)===Nn&&500>Yt()-Gy?qi(e,0):zy|=n),hr(e,t)}function bI(e,t){t===0&&(e.mode&1?(t=cp,cp<<=1,!(cp&130023424)&&(cp=4194304)):t=1);var n=Zn();e=us(e,t),e!==null&&(vd(e,t,n),hr(e,n))}function n6(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),bI(e,n)}function r6(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,a=e.memoizedState;a!==null&&(n=a.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(me(314))}r!==null&&r.delete(t),bI(e,n)}var yI;yI=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||dr.current)cr=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return cr=!1,G4(e,t,n);cr=!!(e.flags&131072)}else cr=!1,Mt&&t.flags&1048576&&wA(t,Nh,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Qp(e,t),e=t.pendingProps;var a=Ol(t,Un.current);sl(t,n),a=Fy(null,t,r,e,a,n);var i=Py();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,pr(r)?(i=!0,wh(t)):i=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,Dy(t),a.updater=Ef,t.stateNode=a,a._reactInternals=t,R0(t,r,e,n),t=L0(null,t,r,!0,i,n)):(t.tag=0,Mt&&i&&ky(t),Yn(null,t,a,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Qp(e,t),e=t.pendingProps,a=r._init,r=a(r._payload),t.type=r,a=t.tag=s6(r),e=Qr(r,e),a){case 0:t=O0(null,t,r,e,n);break e;case 1:t=pk(null,t,r,e,n);break e;case 11:t=ck(null,t,r,e,n);break e;case 14:t=dk(null,t,r,Qr(r.type,e),n);break e}throw Error(me(306,r,""))}return t;case 0:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:Qr(r,a),O0(e,t,r,a,n);case 1:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:Qr(r,a),pk(e,t,r,a,n);case 3:e:{if(tI(t),e===null)throw Error(me(387));r=t.pendingProps,i=t.memoizedState,a=i.element,CA(e,t),Th(t,r,null,n);var o=t.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){a=Fl(Error(me(423)),t),t=hk(e,t,r,n,a);break e}else if(r!==a){a=Fl(Error(me(424)),t),t=hk(e,t,r,n,a);break e}else for(_r=Xs(t.stateNode.containerInfo.firstChild),Tr=t,Mt=!0,ra=null,n=_A(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Ll(),r===a){t=cs(e,t,n);break e}Yn(e,t,r,n)}t=t.child}return t;case 5:return AA(t),e===null&&C0(t),r=t.type,a=t.pendingProps,i=e!==null?e.memoizedProps:null,o=a.children,S0(r,a)?o=null:i!==null&&S0(r,i)&&(t.flags|=32),eI(e,t),Yn(e,t,o,n),t.child;case 6:return e===null&&C0(t),null;case 13:return nI(e,t,n);case 4:return Oy(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=jl(t,null,r,n):Yn(e,t,r,n),t.child;case 11:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:Qr(r,a),ck(e,t,r,a,n);case 7:return Yn(e,t,t.pendingProps,n),t.child;case 8:return Yn(e,t,t.pendingProps.children,n),t.child;case 12:return Yn(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,a=t.pendingProps,i=t.memoizedProps,o=a.value,At(kh,r._currentValue),r._currentValue=o,i!==null)if(ua(i.value,o)){if(i.children===a.children&&!dr.current){t=cs(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var u=l.firstContext;u!==null;){if(u.context===r){if(i.tag===1){u=ss(-1,n&-n),u.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?u.next=u:(u.next=d.next,d.next=u),c.pending=u}}i.lanes|=n,u=i.alternate,u!==null&&(u.lanes|=n),A0(i.return,n,t),l.lanes|=n;break}u=u.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(me(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),A0(o,n,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Yn(e,t,a.children,n),t=t.child}return t;case 9:return a=t.type,r=t.pendingProps.children,sl(t,n),a=Wr(a),r=r(a),t.flags|=1,Yn(e,t,r,n),t.child;case 14:return r=t.type,a=Qr(r,t.pendingProps),a=Qr(r.type,a),dk(e,t,r,a,n);case 15:return QA(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:Qr(r,a),Qp(e,t),t.tag=1,pr(r)?(e=!0,wh(t)):e=!1,sl(t,n),KA(t,r,a),R0(t,r,a,n),L0(null,t,r,!0,e,n);case 19:return rI(e,t,n);case 22:return JA(e,t,n)}throw Error(me(156,t.tag))};function xI(e,t){return VC(e,t)}function a6(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function qr(e,t,n,r){return new a6(e,t,n,r)}function Yy(e){return e=e.prototype,!(!e||!e.isReactComponent)}function s6(e){if(typeof e=="function")return Yy(e)?1:0;if(e!=null){if(e=e.$$typeof,e===hy)return 11;if(e===fy)return 14}return 2}function ti(e,t){var n=e.alternate;return n===null?(n=qr(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function th(e,t,n,r,a,i){var o=2;if(r=e,typeof e=="function")Yy(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Ho:return Vi(n.children,a,i,t);case py:o=8,a|=8;break;case t0:return e=qr(12,n,t,a|2),e.elementType=t0,e.lanes=i,e;case n0:return e=qr(13,n,t,a),e.elementType=n0,e.lanes=i,e;case r0:return e=qr(19,n,t,a),e.elementType=r0,e.lanes=i,e;case AC:return Nf(n,a,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case TC:o=10;break e;case CC:o=9;break e;case hy:o=11;break e;case fy:o=14;break e;case _s:o=16,r=null;break e}throw Error(me(130,e==null?e:typeof e,""))}return t=qr(o,n,t,a),t.elementType=e,t.type=r,t.lanes=i,t}function Vi(e,t,n,r){return e=qr(7,e,r,t),e.lanes=n,e}function Nf(e,t,n,r){return e=qr(22,e,r,t),e.elementType=AC,e.lanes=n,e.stateNode={isHidden:!1},e}function eg(e,t,n){return e=qr(6,e,null,t),e.lanes=n,e}function tg(e,t,n){return t=qr(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function i6(e,t,n,r,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=jm(0),this.expirationTimes=jm(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=jm(0),this.identifierPrefix=r,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function Ky(e,t,n,r,a,i,o,l,u){return e=new i6(e,t,n,l,u),t===1?(t=1,i===!0&&(t|=8)):t=0,i=qr(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Dy(i),e}function o6(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:$o,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function vI(e){if(!e)return si;e=e._reactInternals;e:{if(fo(e)!==e||e.tag!==1)throw Error(me(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(pr(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(me(171))}if(e.tag===1){var n=e.type;if(pr(n))return vA(e,n,t)}return t}function EI(e,t,n,r,a,i,o,l,u){return e=Ky(n,r,!0,e,a,i,o,l,u),e.context=vI(null),n=e.current,r=Zn(),a=ei(n),i=ss(r,a),i.callback=t??null,Qs(n,i,a),e.current.lanes=a,vd(e,a,r),hr(e,r),e}function kf(e,t,n,r){var a=t.current,i=Zn(),o=ei(a);return n=vI(n),t.context===null?t.context=n:t.pendingContext=n,t=ss(i,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Qs(a,t,o),e!==null&&(oa(e,a,o,i),Kp(e,a,o)),o}function jh(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Sk(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Zy(e,t){Sk(e,t),(e=e.alternate)&&Sk(e,t)}function l6(){return null}var wI=typeof reportError=="function"?reportError:function(e){console.error(e)};function Xy(e){this._internalRoot=e}_f.prototype.render=Xy.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(me(409));kf(e,t,null,null)};_f.prototype.unmount=Xy.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;no(function(){kf(null,e,null,null)}),t[ls]=null}};function _f(e){this._internalRoot=e}_f.prototype.unstable_scheduleHydration=function(e){if(e){var t=JC();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Is.length&&t!==0&&t<Is[n].priority;n++);Is.splice(n,0,e),n===0&&tA(e)}};function Qy(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Tf(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Nk(){}function u6(e,t,n,r,a){if(a){if(typeof r=="function"){var i=r;r=function(){var c=jh(o);i.call(c)}}var o=EI(t,r,e,0,null,!1,!1,"",Nk);return e._reactRootContainer=o,e[ls]=o.current,Lc(e.nodeType===8?e.parentNode:e),no(),o}for(;a=e.lastChild;)e.removeChild(a);if(typeof r=="function"){var l=r;r=function(){var c=jh(u);l.call(c)}}var u=Ky(e,0,!1,null,null,!1,!1,"",Nk);return e._reactRootContainer=u,e[ls]=u.current,Lc(e.nodeType===8?e.parentNode:e),no(function(){kf(t,u,n,r)}),u}function Cf(e,t,n,r,a){var i=n._reactRootContainer;if(i){var o=i;if(typeof a=="function"){var l=a;a=function(){var u=jh(o);l.call(u)}}kf(t,o,e,a)}else o=u6(n,t,e,a,r);return jh(o)}XC=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Vu(t.pendingLanes);n!==0&&(by(t,n|1),hr(t,Yt()),!(pt&6)&&(Pl=Yt()+500,fi()))}break;case 13:no(function(){var r=us(e,1);if(r!==null){var a=Zn();oa(r,e,1,a)}}),Zy(e,1)}};yy=function(e){if(e.tag===13){var t=us(e,134217728);if(t!==null){var n=Zn();oa(t,e,134217728,n)}Zy(e,134217728)}};QC=function(e){if(e.tag===13){var t=ei(e),n=us(e,t);if(n!==null){var r=Zn();oa(n,e,t,r)}Zy(e,t)}};JC=function(){return yt};eA=function(e,t){var n=yt;try{return yt=e,t()}finally{yt=n}};h0=function(e,t,n){switch(t){case"input":if(i0(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var a=yf(r);if(!a)throw Error(me(90));RC(r),i0(r,a)}}}break;case"textarea":OC(e,n);break;case"select":t=n.value,t!=null&&tl(e,!!n.multiple,t,!1)}};UC=qy;$C=no;var c6={usingClientEntryPoint:!1,Events:[wd,Vo,yf,PC,BC,qy]},Ru={findFiberByHostInstance:Di,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},d6={bundleType:Ru.bundleType,version:Ru.version,rendererPackageName:Ru.rendererPackageName,rendererConfig:Ru.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:hs.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=GC(e),e===null?null:e.stateNode},findFiberByHostInstance:Ru.findFiberByHostInstance||l6,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ep=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ep.isDisabled&&Ep.supportsFiber)try{ff=Ep.inject(d6),Ta=Ep}catch{}}Lr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=c6;Lr.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Qy(t))throw Error(me(200));return o6(e,t,null,n)};Lr.createRoot=function(e,t){if(!Qy(e))throw Error(me(299));var n=!1,r="",a=wI;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=Ky(e,1,!1,null,null,n,!1,r,a),e[ls]=t.current,Lc(e.nodeType===8?e.parentNode:e),new Xy(t)};Lr.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(me(188)):(e=Object.keys(e).join(","),Error(me(268,e)));return e=GC(t),e=e===null?null:e.stateNode,e};Lr.flushSync=function(e){return no(e)};Lr.hydrate=function(e,t,n){if(!Tf(t))throw Error(me(200));return Cf(null,e,t,!0,n)};Lr.hydrateRoot=function(e,t,n){if(!Qy(e))throw Error(me(405));var r=n!=null&&n.hydratedSources||null,a=!1,i="",o=wI;if(n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=EI(t,null,e,1,n??null,a,!1,i,o),e[ls]=t.current,Lc(e),r)for(e=0;e<r.length;e++)n=r[e],a=n._getVersion,a=a(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,a]:t.mutableSourceEagerHydrationData.push(n,a);return new _f(t)};Lr.render=function(e,t,n){if(!Tf(t))throw Error(me(200));return Cf(null,e,t,!1,n)};Lr.unmountComponentAtNode=function(e){if(!Tf(e))throw Error(me(40));return e._reactRootContainer?(no(function(){Cf(null,null,e,!1,function(){e._reactRootContainer=null,e[ls]=null})}),!0):!1};Lr.unstable_batchedUpdates=qy;Lr.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Tf(n))throw Error(me(200));if(e==null||e._reactInternals===void 0)throw Error(me(38));return Cf(e,t,n,!1,r)};Lr.version="18.3.1-next-f1338f8080-20240426";function SI(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(SI)}catch(e){console.error(e)}}SI(),SC.exports=Lr;var p6=SC.exports,NI,kk=p6;NI=kk.createRoot,kk.hydrateRoot;var tu=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},ro=typeof window>"u"||"Deno"in globalThis;function $r(){}function h6(e,t){return typeof e=="function"?e(t):e}function V0(e){return typeof e=="number"&&e>=0&&e!==1/0}function kI(e,t){return Math.max(e+(t||0)-Date.now(),0)}function ol(e,t){return typeof e=="function"?e(t):e}function aa(e,t){return typeof e=="function"?e(t):e}function _k(e,t){const{type:n="all",exact:r,fetchStatus:a,predicate:i,queryKey:o,stale:l}=e;if(o){if(r){if(t.queryHash!==Jy(o,t.options))return!1}else if(!zc(t.queryKey,o))return!1}if(n!=="all"){const u=t.isActive();if(n==="active"&&!u||n==="inactive"&&u)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||a&&a!==t.state.fetchStatus||i&&!i(t))}function Tk(e,t){const{exact:n,status:r,predicate:a,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(n){if(ao(t.options.mutationKey)!==ao(i))return!1}else if(!zc(t.options.mutationKey,i))return!1}return!(r&&t.state.status!==r||a&&!a(t))}function Jy(e,t){return((t==null?void 0:t.queryKeyHashFn)||ao)(e)}function ao(e){return JSON.stringify(e,(t,n)=>W0(n)?Object.keys(n).sort().reduce((r,a)=>(r[a]=n[a],r),{}):n)}function zc(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(n=>zc(e[n],t[n])):!1}function _I(e,t){if(e===t)return e;const n=Ck(e)&&Ck(t);if(n||W0(e)&&W0(t)){const r=n?e:Object.keys(e),a=r.length,i=n?t:Object.keys(t),o=i.length,l=n?[]:{};let u=0;for(let c=0;c<o;c++){const d=n?c:i[c];(!n&&r.includes(d)||n)&&e[d]===void 0&&t[d]===void 0?(l[d]=void 0,u++):(l[d]=_I(e[d],t[d]),l[d]===e[d]&&e[d]!==void 0&&u++)}return a===o&&u===a?e:l}return t}function Mh(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}function Ck(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function W0(e){if(!Ak(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!Ak(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function Ak(e){return Object.prototype.toString.call(e)==="[object Object]"}function f6(e){return new Promise(t=>{setTimeout(t,e)})}function Y0(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?_I(e,t):t}function m6(e,t,n=0){const r=[...e,t];return n&&r.length>n?r.slice(1):r}function g6(e,t,n=0){const r=[t,...e];return n&&r.length>n?r.slice(0,-1):r}var ex=Symbol();function TI(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===ex?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var Fi,Os,xl,nC,b6=(nC=class extends tu{constructor(){super();je(this,Fi);je(this,Os);je(this,xl);Te(this,xl,t=>{if(!ro&&window.addEventListener){const n=()=>t();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){G(this,Os)||this.setEventListener(G(this,xl))}onUnsubscribe(){var t;this.hasListeners()||((t=G(this,Os))==null||t.call(this),Te(this,Os,void 0))}setEventListener(t){var n;Te(this,xl,t),(n=G(this,Os))==null||n.call(this),Te(this,Os,t(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(t){G(this,Fi)!==t&&(Te(this,Fi,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(n=>{n(t)})}isFocused(){var t;return typeof G(this,Fi)=="boolean"?G(this,Fi):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},Fi=new WeakMap,Os=new WeakMap,xl=new WeakMap,nC),tx=new b6,vl,Ls,El,rC,y6=(rC=class extends tu{constructor(){super();je(this,vl,!0);je(this,Ls);je(this,El);Te(this,El,t=>{if(!ro&&window.addEventListener){const n=()=>t(!0),r=()=>t(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){G(this,Ls)||this.setEventListener(G(this,El))}onUnsubscribe(){var t;this.hasListeners()||((t=G(this,Ls))==null||t.call(this),Te(this,Ls,void 0))}setEventListener(t){var n;Te(this,El,t),(n=G(this,Ls))==null||n.call(this),Te(this,Ls,t(this.setOnline.bind(this)))}setOnline(t){G(this,vl)!==t&&(Te(this,vl,t),this.listeners.forEach(r=>{r(t)}))}isOnline(){return G(this,vl)}},vl=new WeakMap,Ls=new WeakMap,El=new WeakMap,rC),Fh=new y6;function K0(){let e,t;const n=new Promise((a,i)=>{e=a,t=i});n.status="pending",n.catch(()=>{});function r(a){Object.assign(n,a),delete n.resolve,delete n.reject}return n.resolve=a=>{r({status:"fulfilled",value:a}),e(a)},n.reject=a=>{r({status:"rejected",reason:a}),t(a)},n}function x6(e){return Math.min(1e3*2**e,3e4)}function CI(e){return(e??"online")==="online"?Fh.isOnline():!0}var AI=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function ng(e){return e instanceof AI}function II(e){let t=!1,n=0,r=!1,a;const i=K0(),o=v=>{var y;r||(h(new AI(v)),(y=e.abort)==null||y.call(e))},l=()=>{t=!0},u=()=>{t=!1},c=()=>tx.isFocused()&&(e.networkMode==="always"||Fh.isOnline())&&e.canRun(),d=()=>CI(e.networkMode)&&e.canRun(),p=v=>{var y;r||(r=!0,(y=e.onSuccess)==null||y.call(e,v),a==null||a(),i.resolve(v))},h=v=>{var y;r||(r=!0,(y=e.onError)==null||y.call(e,v),a==null||a(),i.reject(v))},f=()=>new Promise(v=>{var y;a=g=>{(r||c())&&v(g)},(y=e.onPause)==null||y.call(e)}).then(()=>{var v;a=void 0,r||(v=e.onContinue)==null||v.call(e)}),m=()=>{if(r)return;let v;const y=n===0?e.initialPromise:void 0;try{v=y??e.fn()}catch(g){v=Promise.reject(g)}Promise.resolve(v).then(p).catch(g=>{var T;if(r)return;const x=e.retry??(ro?0:3),w=e.retryDelay??x6,k=typeof w=="function"?w(n,g):w,S=x===!0||typeof x=="number"&&n<x||typeof x=="function"&&x(n,g);if(t||!S){h(g);return}n++,(T=e.onFail)==null||T.call(e,n,g),f6(k).then(()=>c()?void 0:f()).then(()=>{t?h(g):m()})})};return{promise:i,cancel:o,continue:()=>(a==null||a(),i),cancelRetry:l,continueRetry:u,canStart:d,start:()=>(d()?m():f().then(m),i)}}var v6=e=>setTimeout(e,0);function E6(){let e=[],t=0,n=l=>{l()},r=l=>{l()},a=v6;const i=l=>{t?e.push(l):a(()=>{n(l)})},o=()=>{const l=e;e=[],l.length&&a(()=>{r(()=>{l.forEach(u=>{n(u)})})})};return{batch:l=>{let u;t++;try{u=l()}finally{t--,t||o()}return u},batchCalls:l=>(...u)=>{i(()=>{l(...u)})},schedule:i,setNotifyFunction:l=>{n=l},setBatchNotifyFunction:l=>{r=l},setScheduler:l=>{a=l}}}var on=E6(),Pi,aC,RI=(aC=class{constructor(){je(this,Pi)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),V0(this.gcTime)&&Te(this,Pi,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(ro?1/0:5*60*1e3))}clearGcTimeout(){G(this,Pi)&&(clearTimeout(G(this,Pi)),Te(this,Pi,void 0))}},Pi=new WeakMap,aC),wl,Sl,Ur,Bi,Mn,md,Ui,Jr,Ya,sC,w6=(sC=class extends RI{constructor(t){super();je(this,Jr);je(this,wl);je(this,Sl);je(this,Ur);je(this,Bi);je(this,Mn);je(this,md);je(this,Ui);Te(this,Ui,!1),Te(this,md,t.defaultOptions),this.setOptions(t.options),this.observers=[],Te(this,Bi,t.client),Te(this,Ur,G(this,Bi).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,Te(this,wl,S6(this.options)),this.state=t.state??G(this,wl),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=G(this,Mn))==null?void 0:t.promise}setOptions(t){this.options={...G(this,md),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&G(this,Ur).remove(this)}setData(t,n){const r=Y0(this.state.data,t,this.options);return Ze(this,Jr,Ya).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(t,n){Ze(this,Jr,Ya).call(this,{type:"setState",state:t,setStateOptions:n})}cancel(t){var r,a;const n=(r=G(this,Mn))==null?void 0:r.promise;return(a=G(this,Mn))==null||a.cancel(t),n?n.then($r).catch($r):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(G(this,wl))}isActive(){return this.observers.some(t=>aa(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===ex||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(t=0){return this.state.isInvalidated||this.state.data===void 0||!kI(this.state.dataUpdatedAt,t)}onFocus(){var n;const t=this.observers.find(r=>r.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(n=G(this,Mn))==null||n.continue()}onOnline(){var n;const t=this.observers.find(r=>r.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(n=G(this,Mn))==null||n.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),G(this,Ur).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(n=>n!==t),this.observers.length||(G(this,Mn)&&(G(this,Ui)?G(this,Mn).cancel({revert:!0}):G(this,Mn).cancelRetry()),this.scheduleGc()),G(this,Ur).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Ze(this,Jr,Ya).call(this,{type:"invalidate"})}fetch(t,n){var u,c,d;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(G(this,Mn))return G(this,Mn).continueRetry(),G(this,Mn).promise}if(t&&this.setOptions(t),!this.options.queryFn){const p=this.observers.find(h=>h.options.queryFn);p&&this.setOptions(p.options)}const r=new AbortController,a=p=>{Object.defineProperty(p,"signal",{enumerable:!0,get:()=>(Te(this,Ui,!0),r.signal)})},i=()=>{const p=TI(this.options,n),h={client:G(this,Bi),queryKey:this.queryKey,meta:this.meta};return a(h),Te(this,Ui,!1),this.options.persister?this.options.persister(p,h,this):p(h)},o={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:G(this,Bi),state:this.state,fetchFn:i};a(o),(u=this.options.behavior)==null||u.onFetch(o,this),Te(this,Sl,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((c=o.fetchOptions)==null?void 0:c.meta))&&Ze(this,Jr,Ya).call(this,{type:"fetch",meta:(d=o.fetchOptions)==null?void 0:d.meta});const l=p=>{var h,f,m,v;ng(p)&&p.silent||Ze(this,Jr,Ya).call(this,{type:"error",error:p}),ng(p)||((f=(h=G(this,Ur).config).onError)==null||f.call(h,p,this),(v=(m=G(this,Ur).config).onSettled)==null||v.call(m,this.state.data,p,this)),this.scheduleGc()};return Te(this,Mn,II({initialPromise:n==null?void 0:n.initialPromise,fn:o.fetchFn,abort:r.abort.bind(r),onSuccess:p=>{var h,f,m,v;if(p===void 0){l(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(p)}catch(y){l(y);return}(f=(h=G(this,Ur).config).onSuccess)==null||f.call(h,p,this),(v=(m=G(this,Ur).config).onSettled)==null||v.call(m,p,this.state.error,this),this.scheduleGc()},onError:l,onFail:(p,h)=>{Ze(this,Jr,Ya).call(this,{type:"failed",failureCount:p,error:h})},onPause:()=>{Ze(this,Jr,Ya).call(this,{type:"pause"})},onContinue:()=>{Ze(this,Jr,Ya).call(this,{type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0})),G(this,Mn).start()}},wl=new WeakMap,Sl=new WeakMap,Ur=new WeakMap,Bi=new WeakMap,Mn=new WeakMap,md=new WeakMap,Ui=new WeakMap,Jr=new WeakSet,Ya=function(t){const n=r=>{switch(t.type){case"failed":return{...r,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...DI(r.data,this.options),fetchMeta:t.meta??null};case"success":return{...r,data:t.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const a=t.error;return ng(a)&&a.revert&&G(this,Sl)?{...G(this,Sl),fetchStatus:"idle"}:{...r,error:a,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:a,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...t.state}}};this.state=n(this.state),on.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),G(this,Ur).notify({query:this,type:"updated",action:t})})},sC);function DI(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:CI(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function S6(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,r=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var xa,iC,N6=(iC=class extends tu{constructor(t={}){super();je(this,xa);this.config=t,Te(this,xa,new Map)}build(t,n,r){const a=n.queryKey,i=n.queryHash??Jy(a,n);let o=this.get(i);return o||(o=new w6({client:t,queryKey:a,queryHash:i,options:t.defaultQueryOptions(n),state:r,defaultOptions:t.getQueryDefaults(a)}),this.add(o)),o}add(t){G(this,xa).has(t.queryHash)||(G(this,xa).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const n=G(this,xa).get(t.queryHash);n&&(t.destroy(),n===t&&G(this,xa).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){on.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return G(this,xa).get(t)}getAll(){return[...G(this,xa).values()]}find(t){const n={exact:!0,...t};return this.getAll().find(r=>_k(n,r))}findAll(t={}){const n=this.getAll();return Object.keys(t).length>0?n.filter(r=>_k(t,r)):n}notify(t){on.batch(()=>{this.listeners.forEach(n=>{n(t)})})}onFocus(){on.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){on.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},xa=new WeakMap,iC),va,Vn,$i,Ea,Es,oC,k6=(oC=class extends RI{constructor(t){super();je(this,Ea);je(this,va);je(this,Vn);je(this,$i);this.mutationId=t.mutationId,Te(this,Vn,t.mutationCache),Te(this,va,[]),this.state=t.state||OI(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){G(this,va).includes(t)||(G(this,va).push(t),this.clearGcTimeout(),G(this,Vn).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){Te(this,va,G(this,va).filter(n=>n!==t)),this.scheduleGc(),G(this,Vn).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){G(this,va).length||(this.state.status==="pending"?this.scheduleGc():G(this,Vn).remove(this))}continue(){var t;return((t=G(this,$i))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var i,o,l,u,c,d,p,h,f,m,v,y,g,x,w,k,S,T,A,I;const n=()=>{Ze(this,Ea,Es).call(this,{type:"continue"})};Te(this,$i,II({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(C,N)=>{Ze(this,Ea,Es).call(this,{type:"failed",failureCount:C,error:N})},onPause:()=>{Ze(this,Ea,Es).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>G(this,Vn).canRun(this)}));const r=this.state.status==="pending",a=!G(this,$i).canStart();try{if(r)n();else{Ze(this,Ea,Es).call(this,{type:"pending",variables:t,isPaused:a}),await((o=(i=G(this,Vn).config).onMutate)==null?void 0:o.call(i,t,this));const N=await((u=(l=this.options).onMutate)==null?void 0:u.call(l,t));N!==this.state.context&&Ze(this,Ea,Es).call(this,{type:"pending",context:N,variables:t,isPaused:a})}const C=await G(this,$i).start();return await((d=(c=G(this,Vn).config).onSuccess)==null?void 0:d.call(c,C,t,this.state.context,this)),await((h=(p=this.options).onSuccess)==null?void 0:h.call(p,C,t,this.state.context)),await((m=(f=G(this,Vn).config).onSettled)==null?void 0:m.call(f,C,null,this.state.variables,this.state.context,this)),await((y=(v=this.options).onSettled)==null?void 0:y.call(v,C,null,t,this.state.context)),Ze(this,Ea,Es).call(this,{type:"success",data:C}),C}catch(C){try{throw await((x=(g=G(this,Vn).config).onError)==null?void 0:x.call(g,C,t,this.state.context,this)),await((k=(w=this.options).onError)==null?void 0:k.call(w,C,t,this.state.context)),await((T=(S=G(this,Vn).config).onSettled)==null?void 0:T.call(S,void 0,C,this.state.variables,this.state.context,this)),await((I=(A=this.options).onSettled)==null?void 0:I.call(A,void 0,C,t,this.state.context)),C}finally{Ze(this,Ea,Es).call(this,{type:"error",error:C})}}finally{G(this,Vn).runNext(this)}}},va=new WeakMap,Vn=new WeakMap,$i=new WeakMap,Ea=new WeakSet,Es=function(t){const n=r=>{switch(t.type){case"failed":return{...r,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...r,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:t.error,failureCount:r.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=n(this.state),on.batch(()=>{G(this,va).forEach(r=>{r.onMutationUpdate(t)}),G(this,Vn).notify({mutation:this,type:"updated",action:t})})},oC);function OI(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var es,ea,gd,lC,_6=(lC=class extends tu{constructor(t={}){super();je(this,es);je(this,ea);je(this,gd);this.config=t,Te(this,es,new Set),Te(this,ea,new Map),Te(this,gd,0)}build(t,n,r){const a=new k6({mutationCache:this,mutationId:++ap(this,gd)._,options:t.defaultMutationOptions(n),state:r});return this.add(a),a}add(t){G(this,es).add(t);const n=wp(t);if(typeof n=="string"){const r=G(this,ea).get(n);r?r.push(t):G(this,ea).set(n,[t])}this.notify({type:"added",mutation:t})}remove(t){if(G(this,es).delete(t)){const n=wp(t);if(typeof n=="string"){const r=G(this,ea).get(n);if(r)if(r.length>1){const a=r.indexOf(t);a!==-1&&r.splice(a,1)}else r[0]===t&&G(this,ea).delete(n)}}this.notify({type:"removed",mutation:t})}canRun(t){const n=wp(t);if(typeof n=="string"){const r=G(this,ea).get(n),a=r==null?void 0:r.find(i=>i.state.status==="pending");return!a||a===t}else return!0}runNext(t){var r;const n=wp(t);if(typeof n=="string"){const a=(r=G(this,ea).get(n))==null?void 0:r.find(i=>i!==t&&i.state.isPaused);return(a==null?void 0:a.continue())??Promise.resolve()}else return Promise.resolve()}clear(){on.batch(()=>{G(this,es).forEach(t=>{this.notify({type:"removed",mutation:t})}),G(this,es).clear(),G(this,ea).clear()})}getAll(){return Array.from(G(this,es))}find(t){const n={exact:!0,...t};return this.getAll().find(r=>Tk(n,r))}findAll(t={}){return this.getAll().filter(n=>Tk(t,n))}notify(t){on.batch(()=>{this.listeners.forEach(n=>{n(t)})})}resumePausedMutations(){const t=this.getAll().filter(n=>n.state.isPaused);return on.batch(()=>Promise.all(t.map(n=>n.continue().catch($r))))}},es=new WeakMap,ea=new WeakMap,gd=new WeakMap,lC);function wp(e){var t;return(t=e.options.scope)==null?void 0:t.id}function Ik(e){return{onFetch:(t,n)=>{var d,p,h,f,m;const r=t.options,a=(h=(p=(d=t.fetchOptions)==null?void 0:d.meta)==null?void 0:p.fetchMore)==null?void 0:h.direction,i=((f=t.state.data)==null?void 0:f.pages)||[],o=((m=t.state.data)==null?void 0:m.pageParams)||[];let l={pages:[],pageParams:[]},u=0;const c=async()=>{let v=!1;const y=w=>{Object.defineProperty(w,"signal",{enumerable:!0,get:()=>(t.signal.aborted?v=!0:t.signal.addEventListener("abort",()=>{v=!0}),t.signal)})},g=TI(t.options,t.fetchOptions),x=async(w,k,S)=>{if(v)return Promise.reject();if(k==null&&w.pages.length)return Promise.resolve(w);const T={client:t.client,queryKey:t.queryKey,pageParam:k,direction:S?"backward":"forward",meta:t.options.meta};y(T);const A=await g(T),{maxPages:I}=t.options,C=S?g6:m6;return{pages:C(w.pages,A,I),pageParams:C(w.pageParams,k,I)}};if(a&&i.length){const w=a==="backward",k=w?T6:Rk,S={pages:i,pageParams:o},T=k(r,S);l=await x(S,T,w)}else{const w=e??i.length;do{const k=u===0?o[0]??r.initialPageParam:Rk(r,l);if(u>0&&k==null)break;l=await x(l,k),u++}while(u<w)}return l};t.options.persister?t.fetchFn=()=>{var v,y;return(y=(v=t.options).persister)==null?void 0:y.call(v,c,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n)}:t.fetchFn=c}}}function Rk(e,{pages:t,pageParams:n}){const r=t.length-1;return t.length>0?e.getNextPageParam(t[r],t,n[r],n):void 0}function T6(e,{pages:t,pageParams:n}){var r;return t.length>0?(r=e.getPreviousPageParam)==null?void 0:r.call(e,t[0],t,n[0],n):void 0}var Gt,js,Ms,Nl,kl,Fs,_l,Tl,uC,C6=(uC=class{constructor(e={}){je(this,Gt);je(this,js);je(this,Ms);je(this,Nl);je(this,kl);je(this,Fs);je(this,_l);je(this,Tl);Te(this,Gt,e.queryCache||new N6),Te(this,js,e.mutationCache||new _6),Te(this,Ms,e.defaultOptions||{}),Te(this,Nl,new Map),Te(this,kl,new Map),Te(this,Fs,0)}mount(){ap(this,Fs)._++,G(this,Fs)===1&&(Te(this,_l,tx.subscribe(async e=>{e&&(await this.resumePausedMutations(),G(this,Gt).onFocus())})),Te(this,Tl,Fh.subscribe(async e=>{e&&(await this.resumePausedMutations(),G(this,Gt).onOnline())})))}unmount(){var e,t;ap(this,Fs)._--,G(this,Fs)===0&&((e=G(this,_l))==null||e.call(this),Te(this,_l,void 0),(t=G(this,Tl))==null||t.call(this),Te(this,Tl,void 0))}isFetching(e){return G(this,Gt).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return G(this,js).findAll({...e,status:"pending"}).length}getQueryData(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=G(this,Gt).get(t.queryHash))==null?void 0:n.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),n=G(this,Gt).build(this,t),r=n.state.data;return r===void 0?this.fetchQuery(e):(e.revalidateIfStale&&n.isStaleByTime(ol(t.staleTime,n))&&this.prefetchQuery(t),Promise.resolve(r))}getQueriesData(e){return G(this,Gt).findAll(e).map(({queryKey:t,state:n})=>{const r=n.data;return[t,r]})}setQueryData(e,t,n){const r=this.defaultQueryOptions({queryKey:e}),a=G(this,Gt).get(r.queryHash),i=a==null?void 0:a.state.data,o=h6(t,i);if(o!==void 0)return G(this,Gt).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(e,t,n){return on.batch(()=>G(this,Gt).findAll(e).map(({queryKey:r})=>[r,this.setQueryData(r,t,n)]))}getQueryState(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=G(this,Gt).get(t.queryHash))==null?void 0:n.state}removeQueries(e){const t=G(this,Gt);on.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=G(this,Gt);return on.batch(()=>(n.findAll(e).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const n={revert:!0,...t},r=on.batch(()=>G(this,Gt).findAll(e).map(a=>a.cancel(n)));return Promise.all(r).then($r).catch($r)}invalidateQueries(e,t={}){return on.batch(()=>(G(this,Gt).findAll(e).forEach(n=>{n.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const n={...t,cancelRefetch:t.cancelRefetch??!0},r=on.batch(()=>G(this,Gt).findAll(e).filter(a=>!a.isDisabled()).map(a=>{let i=a.fetch(void 0,n);return n.throwOnError||(i=i.catch($r)),a.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then($r)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=G(this,Gt).build(this,t);return n.isStaleByTime(ol(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then($r).catch($r)}fetchInfiniteQuery(e){return e.behavior=Ik(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then($r).catch($r)}ensureInfiniteQueryData(e){return e.behavior=Ik(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Fh.isOnline()?G(this,js).resumePausedMutations():Promise.resolve()}getQueryCache(){return G(this,Gt)}getMutationCache(){return G(this,js)}getDefaultOptions(){return G(this,Ms)}setDefaultOptions(e){Te(this,Ms,e)}setQueryDefaults(e,t){G(this,Nl).set(ao(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...G(this,Nl).values()],n={};return t.forEach(r=>{zc(e,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(e,t){G(this,kl).set(ao(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...G(this,kl).values()],n={};return t.forEach(r=>{zc(e,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...G(this,Ms).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=Jy(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===ex&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...G(this,Ms).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){G(this,Gt).clear(),G(this,js).clear()}},Gt=new WeakMap,js=new WeakMap,Ms=new WeakMap,Nl=new WeakMap,kl=new WeakMap,Fs=new WeakMap,_l=new WeakMap,Tl=new WeakMap,uC),ir,ot,bd,Wn,Hi,Cl,Ps,Bs,yd,Al,Il,zi,Gi,Us,Rl,bt,Yu,Z0,X0,Q0,J0,eb,tb,nb,LI,cC,A6=(cC=class extends tu{constructor(t,n){super();je(this,bt);je(this,ir);je(this,ot);je(this,bd);je(this,Wn);je(this,Hi);je(this,Cl);je(this,Ps);je(this,Bs);je(this,yd);je(this,Al);je(this,Il);je(this,zi);je(this,Gi);je(this,Us);je(this,Rl,new Set);this.options=n,Te(this,ir,t),Te(this,Bs,null),Te(this,Ps,K0()),this.options.experimental_prefetchInRender||G(this,Ps).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(G(this,ot).addObserver(this),Dk(G(this,ot),this.options)?Ze(this,bt,Yu).call(this):this.updateResult(),Ze(this,bt,J0).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return rb(G(this,ot),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return rb(G(this,ot),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,Ze(this,bt,eb).call(this),Ze(this,bt,tb).call(this),G(this,ot).removeObserver(this)}setOptions(t){const n=this.options,r=G(this,ot);if(this.options=G(this,ir).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof aa(this.options.enabled,G(this,ot))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");Ze(this,bt,nb).call(this),G(this,ot).setOptions(this.options),n._defaulted&&!Mh(this.options,n)&&G(this,ir).getQueryCache().notify({type:"observerOptionsUpdated",query:G(this,ot),observer:this});const a=this.hasListeners();a&&Ok(G(this,ot),r,this.options,n)&&Ze(this,bt,Yu).call(this),this.updateResult(),a&&(G(this,ot)!==r||aa(this.options.enabled,G(this,ot))!==aa(n.enabled,G(this,ot))||ol(this.options.staleTime,G(this,ot))!==ol(n.staleTime,G(this,ot)))&&Ze(this,bt,Z0).call(this);const i=Ze(this,bt,X0).call(this);a&&(G(this,ot)!==r||aa(this.options.enabled,G(this,ot))!==aa(n.enabled,G(this,ot))||i!==G(this,Us))&&Ze(this,bt,Q0).call(this,i)}getOptimisticResult(t){const n=G(this,ir).getQueryCache().build(G(this,ir),t),r=this.createResult(n,t);return R6(this,r)&&(Te(this,Wn,r),Te(this,Cl,this.options),Te(this,Hi,G(this,ot).state)),r}getCurrentResult(){return G(this,Wn)}trackResult(t,n){const r={};return Object.keys(t).forEach(a=>{Object.defineProperty(r,a,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(a),n==null||n(a),t[a])})}),r}trackProp(t){G(this,Rl).add(t)}getCurrentQuery(){return G(this,ot)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const n=G(this,ir).defaultQueryOptions(t),r=G(this,ir).getQueryCache().build(G(this,ir),n);return r.fetch().then(()=>this.createResult(r,n))}fetch(t){return Ze(this,bt,Yu).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),G(this,Wn)))}createResult(t,n){var C;const r=G(this,ot),a=this.options,i=G(this,Wn),o=G(this,Hi),l=G(this,Cl),c=t!==r?t.state:G(this,bd),{state:d}=t;let p={...d},h=!1,f;if(n._optimisticResults){const N=this.hasListeners(),O=!N&&Dk(t,n),D=N&&Ok(t,r,n,a);(O||D)&&(p={...p,...DI(d.data,t.options)}),n._optimisticResults==="isRestoring"&&(p.fetchStatus="idle")}let{error:m,errorUpdatedAt:v,status:y}=p;f=p.data;let g=!1;if(n.placeholderData!==void 0&&f===void 0&&y==="pending"){let N;i!=null&&i.isPlaceholderData&&n.placeholderData===(l==null?void 0:l.placeholderData)?(N=i.data,g=!0):N=typeof n.placeholderData=="function"?n.placeholderData((C=G(this,Il))==null?void 0:C.state.data,G(this,Il)):n.placeholderData,N!==void 0&&(y="success",f=Y0(i==null?void 0:i.data,N,n),h=!0)}if(n.select&&f!==void 0&&!g)if(i&&f===(o==null?void 0:o.data)&&n.select===G(this,yd))f=G(this,Al);else try{Te(this,yd,n.select),f=n.select(f),f=Y0(i==null?void 0:i.data,f,n),Te(this,Al,f),Te(this,Bs,null)}catch(N){Te(this,Bs,N)}G(this,Bs)&&(m=G(this,Bs),f=G(this,Al),v=Date.now(),y="error");const x=p.fetchStatus==="fetching",w=y==="pending",k=y==="error",S=w&&x,T=f!==void 0,I={status:y,fetchStatus:p.fetchStatus,isPending:w,isSuccess:y==="success",isError:k,isInitialLoading:S,isLoading:S,data:f,dataUpdatedAt:p.dataUpdatedAt,error:m,errorUpdatedAt:v,failureCount:p.fetchFailureCount,failureReason:p.fetchFailureReason,errorUpdateCount:p.errorUpdateCount,isFetched:p.dataUpdateCount>0||p.errorUpdateCount>0,isFetchedAfterMount:p.dataUpdateCount>c.dataUpdateCount||p.errorUpdateCount>c.errorUpdateCount,isFetching:x,isRefetching:x&&!w,isLoadingError:k&&!T,isPaused:p.fetchStatus==="paused",isPlaceholderData:h,isRefetchError:k&&T,isStale:nx(t,n),refetch:this.refetch,promise:G(this,Ps)};if(this.options.experimental_prefetchInRender){const N=B=>{I.status==="error"?B.reject(I.error):I.data!==void 0&&B.resolve(I.data)},O=()=>{const B=Te(this,Ps,I.promise=K0());N(B)},D=G(this,Ps);switch(D.status){case"pending":t.queryHash===r.queryHash&&N(D);break;case"fulfilled":(I.status==="error"||I.data!==D.value)&&O();break;case"rejected":(I.status!=="error"||I.error!==D.reason)&&O();break}}return I}updateResult(){const t=G(this,Wn),n=this.createResult(G(this,ot),this.options);if(Te(this,Hi,G(this,ot).state),Te(this,Cl,this.options),G(this,Hi).data!==void 0&&Te(this,Il,G(this,ot)),Mh(n,t))return;Te(this,Wn,n);const r=()=>{if(!t)return!0;const{notifyOnChangeProps:a}=this.options,i=typeof a=="function"?a():a;if(i==="all"||!i&&!G(this,Rl).size)return!0;const o=new Set(i??G(this,Rl));return this.options.throwOnError&&o.add("error"),Object.keys(G(this,Wn)).some(l=>{const u=l;return G(this,Wn)[u]!==t[u]&&o.has(u)})};Ze(this,bt,LI).call(this,{listeners:r()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&Ze(this,bt,J0).call(this)}},ir=new WeakMap,ot=new WeakMap,bd=new WeakMap,Wn=new WeakMap,Hi=new WeakMap,Cl=new WeakMap,Ps=new WeakMap,Bs=new WeakMap,yd=new WeakMap,Al=new WeakMap,Il=new WeakMap,zi=new WeakMap,Gi=new WeakMap,Us=new WeakMap,Rl=new WeakMap,bt=new WeakSet,Yu=function(t){Ze(this,bt,nb).call(this);let n=G(this,ot).fetch(this.options,t);return t!=null&&t.throwOnError||(n=n.catch($r)),n},Z0=function(){Ze(this,bt,eb).call(this);const t=ol(this.options.staleTime,G(this,ot));if(ro||G(this,Wn).isStale||!V0(t))return;const r=kI(G(this,Wn).dataUpdatedAt,t)+1;Te(this,zi,setTimeout(()=>{G(this,Wn).isStale||this.updateResult()},r))},X0=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(G(this,ot)):this.options.refetchInterval)??!1},Q0=function(t){Ze(this,bt,tb).call(this),Te(this,Us,t),!(ro||aa(this.options.enabled,G(this,ot))===!1||!V0(G(this,Us))||G(this,Us)===0)&&Te(this,Gi,setInterval(()=>{(this.options.refetchIntervalInBackground||tx.isFocused())&&Ze(this,bt,Yu).call(this)},G(this,Us)))},J0=function(){Ze(this,bt,Z0).call(this),Ze(this,bt,Q0).call(this,Ze(this,bt,X0).call(this))},eb=function(){G(this,zi)&&(clearTimeout(G(this,zi)),Te(this,zi,void 0))},tb=function(){G(this,Gi)&&(clearInterval(G(this,Gi)),Te(this,Gi,void 0))},nb=function(){const t=G(this,ir).getQueryCache().build(G(this,ir),this.options);if(t===G(this,ot))return;const n=G(this,ot);Te(this,ot,t),Te(this,bd,t.state),this.hasListeners()&&(n==null||n.removeObserver(this),t.addObserver(this))},LI=function(t){on.batch(()=>{t.listeners&&this.listeners.forEach(n=>{n(G(this,Wn))}),G(this,ir).getQueryCache().notify({query:G(this,ot),type:"observerResultsUpdated"})})},cC);function I6(e,t){return aa(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function Dk(e,t){return I6(e,t)||e.state.data!==void 0&&rb(e,t,t.refetchOnMount)}function rb(e,t,n){if(aa(t.enabled,e)!==!1){const r=typeof n=="function"?n(e):n;return r==="always"||r!==!1&&nx(e,t)}return!1}function Ok(e,t,n,r){return(e!==t||aa(r.enabled,e)===!1)&&(!n.suspense||e.state.status!=="error")&&nx(e,n)}function nx(e,t){return aa(t.enabled,e)!==!1&&e.isStaleByTime(ol(t.staleTime,e))}function R6(e,t){return!Mh(e.getCurrentResult(),t)}var $s,Hs,or,ts,is,nh,ab,dC,D6=(dC=class extends tu{constructor(n,r){super();je(this,is);je(this,$s);je(this,Hs);je(this,or);je(this,ts);Te(this,$s,n),this.setOptions(r),this.bindMethods(),Ze(this,is,nh).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(n){var a;const r=this.options;this.options=G(this,$s).defaultMutationOptions(n),Mh(this.options,r)||G(this,$s).getMutationCache().notify({type:"observerOptionsUpdated",mutation:G(this,or),observer:this}),r!=null&&r.mutationKey&&this.options.mutationKey&&ao(r.mutationKey)!==ao(this.options.mutationKey)?this.reset():((a=G(this,or))==null?void 0:a.state.status)==="pending"&&G(this,or).setOptions(this.options)}onUnsubscribe(){var n;this.hasListeners()||(n=G(this,or))==null||n.removeObserver(this)}onMutationUpdate(n){Ze(this,is,nh).call(this),Ze(this,is,ab).call(this,n)}getCurrentResult(){return G(this,Hs)}reset(){var n;(n=G(this,or))==null||n.removeObserver(this),Te(this,or,void 0),Ze(this,is,nh).call(this),Ze(this,is,ab).call(this)}mutate(n,r){var a;return Te(this,ts,r),(a=G(this,or))==null||a.removeObserver(this),Te(this,or,G(this,$s).getMutationCache().build(G(this,$s),this.options)),G(this,or).addObserver(this),G(this,or).execute(n)}},$s=new WeakMap,Hs=new WeakMap,or=new WeakMap,ts=new WeakMap,is=new WeakSet,nh=function(){var r;const n=((r=G(this,or))==null?void 0:r.state)??OI();Te(this,Hs,{...n,isPending:n.status==="pending",isSuccess:n.status==="success",isError:n.status==="error",isIdle:n.status==="idle",mutate:this.mutate,reset:this.reset})},ab=function(n){on.batch(()=>{var r,a,i,o,l,u,c,d;if(G(this,ts)&&this.hasListeners()){const p=G(this,Hs).variables,h=G(this,Hs).context;(n==null?void 0:n.type)==="success"?((a=(r=G(this,ts)).onSuccess)==null||a.call(r,n.data,p,h),(o=(i=G(this,ts)).onSettled)==null||o.call(i,n.data,null,p,h)):(n==null?void 0:n.type)==="error"&&((u=(l=G(this,ts)).onError)==null||u.call(l,n.error,p,h),(d=(c=G(this,ts)).onSettled)==null||d.call(c,void 0,n.error,p,h))}this.listeners.forEach(p=>{p(G(this,Hs))})})},dC),jI=E.createContext(void 0),nr=e=>{const t=E.useContext(jI);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},MI=({client:e,children:t})=>(E.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),s.jsx(jI.Provider,{value:e,children:t})),FI=E.createContext(!1),O6=()=>E.useContext(FI);FI.Provider;function L6(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var j6=E.createContext(L6()),M6=()=>E.useContext(j6);function PI(e,t){return typeof e=="function"?e(...t):!!e}function sb(){}var F6=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},P6=e=>{E.useEffect(()=>{e.clearReset()},[e])},B6=({result:e,errorResetBoundary:t,throwOnError:n,query:r,suspense:a})=>e.isError&&!t.isReset()&&!e.isFetching&&r&&(a&&e.data===void 0||PI(n,[e.error,r])),U6=e=>{const t=e.staleTime;e.suspense&&(e.staleTime=typeof t=="function"?(...n)=>Math.max(t(...n),1e3):Math.max(t??1e3,1e3),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3)))},$6=(e,t)=>e.isLoading&&e.isFetching&&!t,H6=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,Lk=(e,t,n)=>t.fetchOptimistic(e).catch(()=>{n.clearReset()});function z6(e,t,n){var p,h,f,m,v;const r=nr(),a=O6(),i=M6(),o=r.defaultQueryOptions(e);(h=(p=r.getDefaultOptions().queries)==null?void 0:p._experimental_beforeQuery)==null||h.call(p,o),o._optimisticResults=a?"isRestoring":"optimistic",U6(o),F6(o,i),P6(i);const l=!r.getQueryCache().get(o.queryHash),[u]=E.useState(()=>new t(r,o)),c=u.getOptimisticResult(o),d=!a&&e.subscribed!==!1;if(E.useSyncExternalStore(E.useCallback(y=>{const g=d?u.subscribe(on.batchCalls(y)):sb;return u.updateResult(),g},[u,d]),()=>u.getCurrentResult(),()=>u.getCurrentResult()),E.useEffect(()=>{u.setOptions(o)},[o,u]),H6(o,c))throw Lk(o,u,i);if(B6({result:c,errorResetBoundary:i,throwOnError:o.throwOnError,query:r.getQueryCache().get(o.queryHash),suspense:o.suspense}))throw c.error;if((m=(f=r.getDefaultOptions().queries)==null?void 0:f._experimental_afterQuery)==null||m.call(f,o,c),o.experimental_prefetchInRender&&!ro&&$6(c,a)){const y=l?Lk(o,u,i):(v=r.getQueryCache().get(o.queryHash))==null?void 0:v.promise;y==null||y.catch(sb).finally(()=>{u.updateResult()})}return o.notifyOnChangeProps?c:u.trackResult(c)}function Vt(e,t){return z6(e,A6)}function Ct(e,t){const n=nr(),[r]=E.useState(()=>new D6(n,e));E.useEffect(()=>{r.setOptions(e)},[r,e]);const a=E.useSyncExternalStore(E.useCallback(o=>r.subscribe(on.batchCalls(o)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),i=E.useCallback((o,l)=>{r.mutate(o,l).catch(sb)},[r]);if(a.error&&PI(r.options.throwOnError,[a.error]))throw a.error;return{...a,mutate:i,mutateAsync:a.mutate}}/**
 * @remix-run/router v1.21.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Gc(){return Gc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Gc.apply(this,arguments)}var qs;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(qs||(qs={}));const jk="popstate";function G6(e){e===void 0&&(e={});function t(r,a){let{pathname:i,search:o,hash:l}=r.location;return ib("",{pathname:i,search:o,hash:l},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(r,a){return typeof a=="string"?a:Ph(a)}return V6(t,n,null,e)}function Zt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function BI(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function q6(){return Math.random().toString(36).substr(2,8)}function Mk(e,t){return{usr:e.state,key:e.key,idx:t}}function ib(e,t,n,r){return n===void 0&&(n=null),Gc({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?nu(t):t,{state:n,key:t&&t.key||r||q6()})}function Ph(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function nu(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function V6(e,t,n,r){r===void 0&&(r={});let{window:a=document.defaultView,v5Compat:i=!1}=r,o=a.history,l=qs.Pop,u=null,c=d();c==null&&(c=0,o.replaceState(Gc({},o.state,{idx:c}),""));function d(){return(o.state||{idx:null}).idx}function p(){l=qs.Pop;let y=d(),g=y==null?null:y-c;c=y,u&&u({action:l,location:v.location,delta:g})}function h(y,g){l=qs.Push;let x=ib(v.location,y,g);c=d()+1;let w=Mk(x,c),k=v.createHref(x);try{o.pushState(w,"",k)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;a.location.assign(k)}i&&u&&u({action:l,location:v.location,delta:1})}function f(y,g){l=qs.Replace;let x=ib(v.location,y,g);c=d();let w=Mk(x,c),k=v.createHref(x);o.replaceState(w,"",k),i&&u&&u({action:l,location:v.location,delta:0})}function m(y){let g=a.location.origin!=="null"?a.location.origin:a.location.href,x=typeof y=="string"?y:Ph(y);return x=x.replace(/ $/,"%20"),Zt(g,"No window.location.(origin|href) available to create URL for href: "+x),new URL(x,g)}let v={get action(){return l},get location(){return e(a,o)},listen(y){if(u)throw new Error("A history only accepts one active listener");return a.addEventListener(jk,p),u=y,()=>{a.removeEventListener(jk,p),u=null}},createHref(y){return t(a,y)},createURL:m,encodeLocation(y){let g=m(y);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:h,replace:f,go(y){return o.go(y)}};return v}var Fk;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Fk||(Fk={}));function W6(e,t,n){return n===void 0&&(n="/"),Y6(e,t,n)}function Y6(e,t,n,r){let a=typeof t=="string"?nu(t):t,i=rx(a.pathname||"/",n);if(i==null)return null;let o=UI(e);K6(o);let l=null;for(let u=0;l==null&&u<o.length;++u){let c=o5(i);l=a5(o[u],c)}return l}function UI(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let a=(i,o,l)=>{let u={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};u.relativePath.startsWith("/")&&(Zt(u.relativePath.startsWith(r),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(r.length));let c=ni([r,u.relativePath]),d=n.concat(u);i.children&&i.children.length>0&&(Zt(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),UI(i.children,t,d,c)),!(i.path==null&&!i.index)&&t.push({path:c,score:n5(c,i.index),routesMeta:d})};return e.forEach((i,o)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))a(i,o);else for(let u of $I(i.path))a(i,o,u)}),t}function $I(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,a=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return a?[i,""]:[i];let o=$I(r.join("/")),l=[];return l.push(...o.map(u=>u===""?i:[i,u].join("/"))),a&&l.push(...o),l.map(u=>e.startsWith("/")&&u===""?"/":u)}function K6(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:r5(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const Z6=/^:[\w-]+$/,X6=3,Q6=2,J6=1,e5=10,t5=-2,Pk=e=>e==="*";function n5(e,t){let n=e.split("/"),r=n.length;return n.some(Pk)&&(r+=t5),t&&(r+=Q6),n.filter(a=>!Pk(a)).reduce((a,i)=>a+(Z6.test(i)?X6:i===""?J6:e5),r)}function r5(e,t){return e.length===t.length&&e.slice(0,-1).every((r,a)=>r===t[a])?e[e.length-1]-t[t.length-1]:0}function a5(e,t,n){let{routesMeta:r}=e,a={},i="/",o=[];for(let l=0;l<r.length;++l){let u=r[l],c=l===r.length-1,d=i==="/"?t:t.slice(i.length)||"/",p=s5({path:u.relativePath,caseSensitive:u.caseSensitive,end:c},d),h=u.route;if(!p)return null;Object.assign(a,p.params),o.push({params:a,pathname:ni([i,p.pathname]),pathnameBase:d5(ni([i,p.pathnameBase])),route:h}),p.pathnameBase!=="/"&&(i=ni([i,p.pathnameBase]))}return o}function s5(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=i5(e.path,e.caseSensitive,e.end),a=t.match(n);if(!a)return null;let i=a[0],o=i.replace(/(.)\/+$/,"$1"),l=a.slice(1);return{params:r.reduce((c,d,p)=>{let{paramName:h,isOptional:f}=d;if(h==="*"){let v=l[p]||"";o=i.slice(0,i.length-v.length).replace(/(.)\/+$/,"$1")}const m=l[p];return f&&!m?c[h]=void 0:c[h]=(m||"").replace(/%2F/g,"/"),c},{}),pathname:i,pathnameBase:o,pattern:e}}function i5(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),BI(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,u)=>(r.push({paramName:l,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),r]}function o5(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return BI(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function rx(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function l5(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:a=""}=typeof e=="string"?nu(e):e;return{pathname:n?n.startsWith("/")?n:u5(n,t):t,search:p5(r),hash:h5(a)}}function u5(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function rg(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function c5(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function ax(e,t){let n=c5(e);return t?n.map((r,a)=>a===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function sx(e,t,n,r){r===void 0&&(r=!1);let a;typeof e=="string"?a=nu(e):(a=Gc({},e),Zt(!a.pathname||!a.pathname.includes("?"),rg("?","pathname","search",a)),Zt(!a.pathname||!a.pathname.includes("#"),rg("#","pathname","hash",a)),Zt(!a.search||!a.search.includes("#"),rg("#","search","hash",a)));let i=e===""||a.pathname==="",o=i?"/":a.pathname,l;if(o==null)l=n;else{let p=t.length-1;if(!r&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),p-=1;a.pathname=h.join("/")}l=p>=0?t[p]:"/"}let u=l5(a,l),c=o&&o!=="/"&&o.endsWith("/"),d=(i||o===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(c||d)&&(u.pathname+="/"),u}const ni=e=>e.join("/").replace(/\/\/+/g,"/"),d5=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),p5=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,h5=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function f5(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const HI=["post","put","patch","delete"];new Set(HI);const m5=["get",...HI];new Set(m5);/**
 * React Router v6.28.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function qc(){return qc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},qc.apply(this,arguments)}const ix=E.createContext(null),g5=E.createContext(null),mi=E.createContext(null),Af=E.createContext(null),fs=E.createContext({outlet:null,matches:[],isDataRoute:!1}),zI=E.createContext(null);function b5(e,t){let{relative:n}=t===void 0?{}:t;ru()||Zt(!1);let{basename:r,navigator:a}=E.useContext(mi),{hash:i,pathname:o,search:l}=qI(e,{relative:n}),u=o;return r!=="/"&&(u=o==="/"?r:ni([r,o])),a.createHref({pathname:u,search:l,hash:i})}function ru(){return E.useContext(Af)!=null}function gi(){return ru()||Zt(!1),E.useContext(Af).location}function GI(e){E.useContext(mi).static||E.useLayoutEffect(e)}function Mr(){let{isDataRoute:e}=E.useContext(fs);return e?I5():y5()}function y5(){ru()||Zt(!1);let e=E.useContext(ix),{basename:t,future:n,navigator:r}=E.useContext(mi),{matches:a}=E.useContext(fs),{pathname:i}=gi(),o=JSON.stringify(ax(a,n.v7_relativeSplatPath)),l=E.useRef(!1);return GI(()=>{l.current=!0}),E.useCallback(function(c,d){if(d===void 0&&(d={}),!l.current)return;if(typeof c=="number"){r.go(c);return}let p=sx(c,JSON.parse(o),i,d.relative==="path");e==null&&t!=="/"&&(p.pathname=p.pathname==="/"?t:ni([t,p.pathname])),(d.replace?r.replace:r.push)(p,d.state,d)},[t,r,o,i,e])}function ox(){let{matches:e}=E.useContext(fs),t=e[e.length-1];return t?t.params:{}}function qI(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=E.useContext(mi),{matches:a}=E.useContext(fs),{pathname:i}=gi(),o=JSON.stringify(ax(a,r.v7_relativeSplatPath));return E.useMemo(()=>sx(e,JSON.parse(o),i,n==="path"),[e,o,i,n])}function x5(e,t){return v5(e,t)}function v5(e,t,n,r){ru()||Zt(!1);let{navigator:a}=E.useContext(mi),{matches:i}=E.useContext(fs),o=i[i.length-1],l=o?o.params:{};o&&o.pathname;let u=o?o.pathnameBase:"/";o&&o.route;let c=gi(),d;if(t){var p;let y=typeof t=="string"?nu(t):t;u==="/"||(p=y.pathname)!=null&&p.startsWith(u)||Zt(!1),d=y}else d=c;let h=d.pathname||"/",f=h;if(u!=="/"){let y=u.replace(/^\//,"").split("/");f="/"+h.replace(/^\//,"").split("/").slice(y.length).join("/")}let m=W6(e,{pathname:f}),v=k5(m&&m.map(y=>Object.assign({},y,{params:Object.assign({},l,y.params),pathname:ni([u,a.encodeLocation?a.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?u:ni([u,a.encodeLocation?a.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),i,n,r);return t&&v?E.createElement(Af.Provider,{value:{location:qc({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:qs.Pop}},v):v}function E5(){let e=A5(),t=f5(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return E.createElement(E.Fragment,null,E.createElement("h2",null,"Unexpected Application Error!"),E.createElement("h3",{style:{fontStyle:"italic"}},t),n?E.createElement("pre",{style:a},n):null,null)}const w5=E.createElement(E5,null);class S5 extends E.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?E.createElement(fs.Provider,{value:this.props.routeContext},E.createElement(zI.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function N5(e){let{routeContext:t,match:n,children:r}=e,a=E.useContext(ix);return a&&a.static&&a.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=n.route.id),E.createElement(fs.Provider,{value:t},r)}function k5(e,t,n,r){var a;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var i;if(!n)return null;if(n.errors)e=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let o=e,l=(a=n)==null?void 0:a.errors;if(l!=null){let d=o.findIndex(p=>p.route.id&&(l==null?void 0:l[p.route.id])!==void 0);d>=0||Zt(!1),o=o.slice(0,Math.min(o.length,d+1))}let u=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<o.length;d++){let p=o[d];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(c=d),p.route.id){let{loaderData:h,errors:f}=n,m=p.route.loader&&h[p.route.id]===void 0&&(!f||f[p.route.id]===void 0);if(p.route.lazy||m){u=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((d,p,h)=>{let f,m=!1,v=null,y=null;n&&(f=l&&p.route.id?l[p.route.id]:void 0,v=p.route.errorElement||w5,u&&(c<0&&h===0?(R5("route-fallback"),m=!0,y=null):c===h&&(m=!0,y=p.route.hydrateFallbackElement||null)));let g=t.concat(o.slice(0,h+1)),x=()=>{let w;return f?w=v:m?w=y:p.route.Component?w=E.createElement(p.route.Component,null):p.route.element?w=p.route.element:w=d,E.createElement(N5,{match:p,routeContext:{outlet:d,matches:g,isDataRoute:n!=null},children:w})};return n&&(p.route.ErrorBoundary||p.route.errorElement||h===0)?E.createElement(S5,{location:n.location,revalidation:n.revalidation,component:v,error:f,children:x(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):x()},null)}var VI=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(VI||{}),WI=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(WI||{});function _5(e){let t=E.useContext(ix);return t||Zt(!1),t}function T5(e){let t=E.useContext(g5);return t||Zt(!1),t}function C5(e){let t=E.useContext(fs);return t||Zt(!1),t}function YI(e){let t=C5(),n=t.matches[t.matches.length-1];return n.route.id||Zt(!1),n.route.id}function A5(){var e;let t=E.useContext(zI),n=T5(),r=YI();return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function I5(){let{router:e}=_5(VI.UseNavigateStable),t=YI(WI.UseNavigateStable),n=E.useRef(!1);return GI(()=>{n.current=!0}),E.useCallback(function(a,i){i===void 0&&(i={}),n.current&&(typeof a=="number"?e.navigate(a):e.navigate(a,qc({fromRouteId:t},i)))},[e,t])}const Bk={};function R5(e,t,n){Bk[e]||(Bk[e]=!0)}const Uk={};function D5(e,t){Uk[t]||(Uk[t]=!0,console.warn(t))}const $k=(e,t,n)=>D5(e," React Router Future Flag Warning: "+t+". "+("You can use the `"+e+"` future flag to opt-in early. ")+("For more information, see "+n+"."));function O5(e,t){(e==null?void 0:e.v7_startTransition)===void 0&&$k("v7_startTransition","React Router will begin wrapping state updates in `React.startTransition` in v7","https://reactrouter.com/v6/upgrading/future#v7_starttransition"),(e==null?void 0:e.v7_relativeSplatPath)===void 0&&$k("v7_relativeSplatPath","Relative route resolution within Splat routes is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath")}function lx(e){let{to:t,replace:n,state:r,relative:a}=e;ru()||Zt(!1);let{future:i,static:o}=E.useContext(mi),{matches:l}=E.useContext(fs),{pathname:u}=gi(),c=Mr(),d=sx(t,ax(l,i.v7_relativeSplatPath),u,a==="path"),p=JSON.stringify(d);return E.useEffect(()=>c(JSON.parse(p),{replace:n,state:r,relative:a}),[c,p,a,n,r]),null}function Br(e){Zt(!1)}function L5(e){let{basename:t="/",children:n=null,location:r,navigationType:a=qs.Pop,navigator:i,static:o=!1,future:l}=e;ru()&&Zt(!1);let u=t.replace(/^\/*/,"/"),c=E.useMemo(()=>({basename:u,navigator:i,static:o,future:qc({v7_relativeSplatPath:!1},l)}),[u,l,i,o]);typeof r=="string"&&(r=nu(r));let{pathname:d="/",search:p="",hash:h="",state:f=null,key:m="default"}=r,v=E.useMemo(()=>{let y=rx(d,u);return y==null?null:{location:{pathname:y,search:p,hash:h,state:f,key:m},navigationType:a}},[u,d,p,h,f,m,a]);return v==null?null:E.createElement(mi.Provider,{value:c},E.createElement(Af.Provider,{children:n,value:v}))}function Hk(e){let{children:t,location:n}=e;return x5(ob(t),n)}new Promise(()=>{});function ob(e,t){t===void 0&&(t=[]);let n=[];return E.Children.forEach(e,(r,a)=>{if(!E.isValidElement(r))return;let i=[...t,a];if(r.type===E.Fragment){n.push.apply(n,ob(r.props.children,i));return}r.type!==Br&&Zt(!1),!r.props.index||!r.props.children||Zt(!1);let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=ob(r.props.children,i)),n.push(o)}),n}/**
 * React Router DOM v6.28.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function lb(){return lb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},lb.apply(this,arguments)}function j5(e,t){if(e==null)return{};var n={},r=Object.keys(e),a,i;for(i=0;i<r.length;i++)a=r[i],!(t.indexOf(a)>=0)&&(n[a]=e[a]);return n}function M5(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function F5(e,t){return e.button===0&&(!t||t==="_self")&&!M5(e)}const P5=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],B5="6";try{window.__reactRouterVersion=B5}catch{}const U5="startTransition",zk=tj[U5];function $5(e){let{basename:t,children:n,future:r,window:a}=e,i=E.useRef();i.current==null&&(i.current=G6({window:a,v5Compat:!0}));let o=i.current,[l,u]=E.useState({action:o.action,location:o.location}),{v7_startTransition:c}=r||{},d=E.useCallback(p=>{c&&zk?zk(()=>u(p)):u(p)},[u,c]);return E.useLayoutEffect(()=>o.listen(d),[o,d]),E.useEffect(()=>O5(r),[r]),E.createElement(L5,{basename:t,children:n,location:l.location,navigationType:l.action,navigator:o,future:r})}const H5=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",z5=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ku=E.forwardRef(function(t,n){let{onClick:r,relative:a,reloadDocument:i,replace:o,state:l,target:u,to:c,preventScrollReset:d,viewTransition:p}=t,h=j5(t,P5),{basename:f}=E.useContext(mi),m,v=!1;if(typeof c=="string"&&z5.test(c)&&(m=c,H5))try{let w=new URL(window.location.href),k=c.startsWith("//")?new URL(w.protocol+c):new URL(c),S=rx(k.pathname,f);k.origin===w.origin&&S!=null?c=S+k.search+k.hash:v=!0}catch{}let y=b5(c,{relative:a}),g=G5(c,{replace:o,state:l,target:u,preventScrollReset:d,relative:a,viewTransition:p});function x(w){r&&r(w),w.defaultPrevented||g(w)}return E.createElement("a",lb({},h,{href:m||y,onClick:v||i?r:x,ref:n,target:u}))});var Gk;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Gk||(Gk={}));var qk;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(qk||(qk={}));function G5(e,t){let{target:n,replace:r,state:a,preventScrollReset:i,relative:o,viewTransition:l}=t===void 0?{}:t,u=Mr(),c=gi(),d=qI(e,{relative:o});return E.useCallback(p=>{if(F5(p,n)){p.preventDefault();let h=r!==void 0?r:Ph(c)===Ph(d);u(e,{replace:h,state:a,preventScrollReset:i,relative:o,viewTransition:l})}},[c,u,d,r,a,n,e,i,o,l])}const q5="modulepreload",V5=function(e){return"/"+e},Vk={},Bl=function(t,n,r){let a=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));a=Promise.allSettled(n.map(u=>{if(u=V5(u),u in Vk)return;Vk[u]=!0;const c=u.endsWith(".css"),d=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${d}`))return;const p=document.createElement("link");if(p.rel=c?"stylesheet":q5,c||(p.as="script"),p.crossOrigin="",p.href=u,l&&p.setAttribute("nonce",l),document.head.appendChild(p),c)return new Promise((h,f)=>{p.addEventListener("load",h),p.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${u}`)))})}))}function i(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return a.then(o=>{for(const l of o||[])l.status==="rejected"&&i(l.reason);return t().catch(i)})},W5=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>Bl(async()=>{const{default:r}=await Promise.resolve().then(()=>au);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)};class ux extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}}class Y5 extends ux{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class K5 extends ux{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class Z5 extends ux{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var ub;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(ub||(ub={}));var X5=function(e,t,n,r){function a(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{c(r.next(d))}catch(p){o(p)}}function u(d){try{c(r.throw(d))}catch(p){o(p)}}function c(d){d.done?i(d.value):a(d.value).then(l,u)}c((r=r.apply(e,t||[])).next())})};class Q5{constructor(t,{headers:n={},customFetch:r,region:a=ub.Any}={}){this.url=t,this.headers=n,this.region=a,this.fetch=W5(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,n={}){var r;return X5(this,void 0,void 0,function*(){try{const{headers:a,method:i,body:o}=n;let l={},{region:u}=n;u||(u=this.region),u&&u!=="any"&&(l["x-region"]=u);let c;o&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",c=o):typeof o=="string"?(l["Content-Type"]="text/plain",c=o):typeof FormData<"u"&&o instanceof FormData?c=o:(l["Content-Type"]="application/json",c=JSON.stringify(o)));const d=yield this.fetch(`${this.url}/${t}`,{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),a),body:c}).catch(m=>{throw new Y5(m)}),p=d.headers.get("x-relay-error");if(p&&p==="true")throw new K5(d);if(!d.ok)throw new Z5(d);let h=((r=d.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),f;return h==="application/json"?f=yield d.json():h==="application/octet-stream"?f=yield d.blob():h==="text/event-stream"?f=d:h==="multipart/form-data"?f=yield d.formData():f=yield d.text(),{data:f,error:null}}catch(a){return{data:null,error:a}}})}}var ur={},cx={},If={},Nd={},Rf={},Df={},J5=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Ul=J5();const eM=Ul.fetch,KI=Ul.fetch.bind(Ul),ZI=Ul.Headers,tM=Ul.Request,nM=Ul.Response,au=Object.freeze(Object.defineProperty({__proto__:null,Headers:ZI,Request:tM,Response:nM,default:KI,fetch:eM},Symbol.toStringTag,{value:"Module"})),rM=BL(au);var Of={};Object.defineProperty(Of,"__esModule",{value:!0});let aM=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};Of.default=aM;var XI=fr&&fr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Df,"__esModule",{value:!0});const sM=XI(rM),iM=XI(Of);let oM=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=sM.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,n){return this.headers=Object.assign({},this.headers),this.headers[t]=n,this}then(t,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const r=this.fetch;let a=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var o,l,u;let c=null,d=null,p=null,h=i.status,f=i.statusText;if(i.ok){if(this.method!=="HEAD"){const g=await i.text();g===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?d=g:d=JSON.parse(g))}const v=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),y=(l=i.headers.get("content-range"))===null||l===void 0?void 0:l.split("/");v&&y&&y.length>1&&(p=parseInt(y[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(c={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,p=null,h=406,f="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{const v=await i.text();try{c=JSON.parse(v),Array.isArray(c)&&i.status===404&&(d=[],c=null,h=200,f="OK")}catch{i.status===404&&v===""?(h=204,f="No Content"):c={message:v}}if(c&&this.isMaybeSingle&&(!((u=c==null?void 0:c.details)===null||u===void 0)&&u.includes("0 rows"))&&(c=null,h=200,f="OK"),c&&this.shouldThrowOnError)throw new iM.default(c)}return{error:c,data:d,count:p,status:h,statusText:f}});return this.shouldThrowOnError||(a=a.catch(i=>{var o,l,u;return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(l=i==null?void 0:i.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(u=i==null?void 0:i.code)!==null&&u!==void 0?u:""}`},data:null,count:null,status:0,statusText:""}})),a.then(t,n)}returns(){return this}overrideTypes(){return this}};Df.default=oM;var lM=fr&&fr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Rf,"__esModule",{value:!0});const uM=lM(Df);let cM=class extends uM.default{select(t){let n=!1;const r=(t??"*").split("").map(a=>/\s/.test(a)&&!n?"":(a==='"'&&(n=!n),a)).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:n=!0,nullsFirst:r,foreignTable:a,referencedTable:i=a}={}){const o=i?`${i}.order`:"order",l=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${l?`${l},`:""}${t}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:n,referencedTable:r=n}={}){const a=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(a,`${t}`),this}range(t,n,{foreignTable:r,referencedTable:a=r}={}){const i=typeof a>"u"?"offset":`${a}.offset`,o=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(i,`${t}`),this.url.searchParams.set(o,`${n-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:n=!1,settings:r=!1,buffers:a=!1,wal:i=!1,format:o="text"}={}){var l;const u=[t?"analyze":null,n?"verbose":null,r?"settings":null,a?"buffers":null,i?"wal":null].filter(Boolean).join("|"),c=(l=this.headers.Accept)!==null&&l!==void 0?l:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${c}"; options=${u};`,o==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};Rf.default=cM;var dM=fr&&fr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Nd,"__esModule",{value:!0});const pM=dM(Rf);let hM=class extends pM.default{eq(t,n){return this.url.searchParams.append(t,`eq.${n}`),this}neq(t,n){return this.url.searchParams.append(t,`neq.${n}`),this}gt(t,n){return this.url.searchParams.append(t,`gt.${n}`),this}gte(t,n){return this.url.searchParams.append(t,`gte.${n}`),this}lt(t,n){return this.url.searchParams.append(t,`lt.${n}`),this}lte(t,n){return this.url.searchParams.append(t,`lte.${n}`),this}like(t,n){return this.url.searchParams.append(t,`like.${n}`),this}likeAllOf(t,n){return this.url.searchParams.append(t,`like(all).{${n.join(",")}}`),this}likeAnyOf(t,n){return this.url.searchParams.append(t,`like(any).{${n.join(",")}}`),this}ilike(t,n){return this.url.searchParams.append(t,`ilike.${n}`),this}ilikeAllOf(t,n){return this.url.searchParams.append(t,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(t,n){return this.url.searchParams.append(t,`ilike(any).{${n.join(",")}}`),this}is(t,n){return this.url.searchParams.append(t,`is.${n}`),this}in(t,n){const r=Array.from(new Set(n)).map(a=>typeof a=="string"&&new RegExp("[,()]").test(a)?`"${a}"`:`${a}`).join(",");return this.url.searchParams.append(t,`in.(${r})`),this}contains(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cs.{${n.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(n)}`),this}containedBy(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cd.{${n.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(n)}`),this}rangeGt(t,n){return this.url.searchParams.append(t,`sr.${n}`),this}rangeGte(t,n){return this.url.searchParams.append(t,`nxl.${n}`),this}rangeLt(t,n){return this.url.searchParams.append(t,`sl.${n}`),this}rangeLte(t,n){return this.url.searchParams.append(t,`nxr.${n}`),this}rangeAdjacent(t,n){return this.url.searchParams.append(t,`adj.${n}`),this}overlaps(t,n){return typeof n=="string"?this.url.searchParams.append(t,`ov.${n}`):this.url.searchParams.append(t,`ov.{${n.join(",")}}`),this}textSearch(t,n,{config:r,type:a}={}){let i="";a==="plain"?i="pl":a==="phrase"?i="ph":a==="websearch"&&(i="w");const o=r===void 0?"":`(${r})`;return this.url.searchParams.append(t,`${i}fts${o}.${n}`),this}match(t){return Object.entries(t).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(t,n,r){return this.url.searchParams.append(t,`not.${n}.${r}`),this}or(t,{foreignTable:n,referencedTable:r=n}={}){const a=r?`${r}.or`:"or";return this.url.searchParams.append(a,`(${t})`),this}filter(t,n,r){return this.url.searchParams.append(t,`${n}.${r}`),this}};Nd.default=hM;var fM=fr&&fr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(If,"__esModule",{value:!0});const Du=fM(Nd);let mM=class{constructor(t,{headers:n={},schema:r,fetch:a}){this.url=t,this.headers=n,this.schema=r,this.fetch=a}select(t,{head:n=!1,count:r}={}){const a=n?"HEAD":"GET";let i=!1;const o=(t??"*").split("").map(l=>/\s/.test(l)&&!i?"":(l==='"'&&(i=!i),l)).join("");return this.url.searchParams.set("select",o),r&&(this.headers.Prefer=`count=${r}`),new Du.default({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:n,defaultToNull:r=!0}={}){const a="POST",i=[];if(this.headers.Prefer&&i.push(this.headers.Prefer),n&&i.push(`count=${n}`),r||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(t)){const o=t.reduce((l,u)=>l.concat(Object.keys(u)),[]);if(o.length>0){const l=[...new Set(o)].map(u=>`"${u}"`);this.url.searchParams.set("columns",l.join(","))}}return new Du.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:n,ignoreDuplicates:r=!1,count:a,defaultToNull:i=!0}={}){const o="POST",l=[`resolution=${r?"ignore":"merge"}-duplicates`];if(n!==void 0&&this.url.searchParams.set("on_conflict",n),this.headers.Prefer&&l.push(this.headers.Prefer),a&&l.push(`count=${a}`),i||l.push("missing=default"),this.headers.Prefer=l.join(","),Array.isArray(t)){const u=t.reduce((c,d)=>c.concat(Object.keys(d)),[]);if(u.length>0){const c=[...new Set(u)].map(d=>`"${d}"`);this.url.searchParams.set("columns",c.join(","))}}return new Du.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:n}={}){const r="PATCH",a=[];return this.headers.Prefer&&a.push(this.headers.Prefer),n&&a.push(`count=${n}`),this.headers.Prefer=a.join(","),new Du.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const n="DELETE",r=[];return t&&r.push(`count=${t}`),this.headers.Prefer&&r.unshift(this.headers.Prefer),this.headers.Prefer=r.join(","),new Du.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};If.default=mM;var Lf={},jf={};Object.defineProperty(jf,"__esModule",{value:!0});jf.version=void 0;jf.version="0.0.0-automated";Object.defineProperty(Lf,"__esModule",{value:!0});Lf.DEFAULT_HEADERS=void 0;const gM=jf;Lf.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${gM.version}`};var QI=fr&&fr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(cx,"__esModule",{value:!0});const bM=QI(If),yM=QI(Nd),xM=Lf;let vM=class JI{constructor(t,{headers:n={},schema:r,fetch:a}={}){this.url=t,this.headers=Object.assign(Object.assign({},xM.DEFAULT_HEADERS),n),this.schemaName=r,this.fetch=a}from(t){const n=new URL(`${this.url}/${t}`);return new bM.default(n,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new JI(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,n={},{head:r=!1,get:a=!1,count:i}={}){let o;const l=new URL(`${this.url}/rpc/${t}`);let u;r||a?(o=r?"HEAD":"GET",Object.entries(n).filter(([d,p])=>p!==void 0).map(([d,p])=>[d,Array.isArray(p)?`{${p.join(",")}}`:`${p}`]).forEach(([d,p])=>{l.searchParams.append(d,p)})):(o="POST",u=n);const c=Object.assign({},this.headers);return i&&(c.Prefer=`count=${i}`),new yM.default({method:o,url:l,headers:c,schema:this.schemaName,body:u,fetch:this.fetch,allowEmpty:!1})}};cx.default=vM;var su=fr&&fr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ur,"__esModule",{value:!0});ur.PostgrestError=ur.PostgrestBuilder=ur.PostgrestTransformBuilder=ur.PostgrestFilterBuilder=ur.PostgrestQueryBuilder=ur.PostgrestClient=void 0;const eR=su(cx);ur.PostgrestClient=eR.default;const tR=su(If);ur.PostgrestQueryBuilder=tR.default;const nR=su(Nd);ur.PostgrestFilterBuilder=nR.default;const rR=su(Rf);ur.PostgrestTransformBuilder=rR.default;const aR=su(Df);ur.PostgrestBuilder=aR.default;const sR=su(Of);ur.PostgrestError=sR.default;var EM=ur.default={PostgrestClient:eR.default,PostgrestQueryBuilder:tR.default,PostgrestFilterBuilder:nR.default,PostgrestTransformBuilder:rR.default,PostgrestBuilder:aR.default,PostgrestError:sR.default};const{PostgrestClient:wM,PostgrestQueryBuilder:Bre,PostgrestFilterBuilder:Ure,PostgrestTransformBuilder:$re,PostgrestBuilder:Hre,PostgrestError:zre}=EM,SM="2.11.2",NM={"X-Client-Info":`realtime-js/${SM}`},kM="1.0.0",iR=1e4,_M=1e3;var ll;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(ll||(ll={}));var Sr;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Sr||(Sr={}));var na;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(na||(na={}));var cb;(function(e){e.websocket="websocket"})(cb||(cb={}));var Ii;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Ii||(Ii={}));class TM{constructor(){this.HEADER_LENGTH=1}decode(t,n){return t.constructor===ArrayBuffer?n(this._binaryDecode(t)):n(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const n=new DataView(t),r=new TextDecoder;return this._decodeBroadcast(t,n,r)}_decodeBroadcast(t,n,r){const a=n.getUint8(1),i=n.getUint8(2);let o=this.HEADER_LENGTH+2;const l=r.decode(t.slice(o,o+a));o=o+a;const u=r.decode(t.slice(o,o+i));o=o+i;const c=JSON.parse(r.decode(t.slice(o,t.byteLength)));return{ref:null,topic:l,event:u,payload:c}}}class oR{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Nt;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Nt||(Nt={}));const Wk=(e,t,n={})=>{var r;const a=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(t).reduce((i,o)=>(i[o]=CM(o,e,t,a),i),{})},CM=(e,t,n,r)=>{const a=t.find(l=>l.name===e),i=a==null?void 0:a.type,o=n[e];return i&&!r.includes(i)?lR(i,o):db(o)},lR=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return DM(t,n)}switch(e){case Nt.bool:return AM(t);case Nt.float4:case Nt.float8:case Nt.int2:case Nt.int4:case Nt.int8:case Nt.numeric:case Nt.oid:return IM(t);case Nt.json:case Nt.jsonb:return RM(t);case Nt.timestamp:return OM(t);case Nt.abstime:case Nt.date:case Nt.daterange:case Nt.int4range:case Nt.int8range:case Nt.money:case Nt.reltime:case Nt.text:case Nt.time:case Nt.timestamptz:case Nt.timetz:case Nt.tsrange:case Nt.tstzrange:return db(t);default:return db(t)}},db=e=>e,AM=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},IM=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},RM=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},DM=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let i;const o=e.slice(1,n);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(l=>lR(t,l))}return e},OM=e=>typeof e=="string"?e.replace(" ","T"):e,uR=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class ag{constructor(t,n,r={},a=iR){this.channel=t,this.event=n,this.payload=r,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Yk;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(Yk||(Yk={}));class cc{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},a=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=cc.syncState(this.state,a,i,o),this.pendingDiffs.forEach(u=>{this.state=cc.syncDiff(this.state,u,i,o)}),this.pendingDiffs=[],l()}),this.channel._on(r.diff,{},a=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=cc.syncDiff(this.state,a,i,o),l())}),this.onJoin((a,i,o)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:i,newPresences:o})}),this.onLeave((a,i,o)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,a){const i=this.cloneDeep(t),o=this.transformState(n),l={},u={};return this.map(i,(c,d)=>{o[c]||(u[c]=d)}),this.map(o,(c,d)=>{const p=i[c];if(p){const h=d.map(y=>y.presence_ref),f=p.map(y=>y.presence_ref),m=d.filter(y=>f.indexOf(y.presence_ref)<0),v=p.filter(y=>h.indexOf(y.presence_ref)<0);m.length>0&&(l[c]=m),v.length>0&&(u[c]=v)}else l[c]=d}),this.syncDiff(i,{joins:l,leaves:u},r,a)}static syncDiff(t,n,r,a){const{joins:i,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),a||(a=()=>{}),this.map(i,(l,u)=>{var c;const d=(c=t[l])!==null&&c!==void 0?c:[];if(t[l]=this.cloneDeep(u),d.length>0){const p=t[l].map(f=>f.presence_ref),h=d.filter(f=>p.indexOf(f.presence_ref)<0);t[l].unshift(...h)}r(l,d,u)}),this.map(o,(l,u)=>{let c=t[l];if(!c)return;const d=u.map(p=>p.presence_ref);c=c.filter(p=>d.indexOf(p.presence_ref)<0),t[l]=c,a(l,c,u),c.length===0&&delete t[l]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{const a=t[r];return"metas"in a?n[r]=a.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):n[r]=a,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Kk;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(Kk||(Kk={}));var Zk;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Zk||(Zk={}));var Xa;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Xa||(Xa={}));class dx{constructor(t,n={config:{}},r){this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=Sr.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new ag(this,na.join,this.params,this.timeout),this.rejoinTimer=new oR(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Sr.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Sr.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=Sr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Sr.errored,this.rejoinTimer.scheduleTimeout())}),this._on(na.reply,{},(a,i)=>{this._trigger(this._replyEventName(i),a)}),this.presence=new cc(this),this.broadcastEndpointURL=uR(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,n=this.timeout){var r,a;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:i,presence:o,private:l}}=this.params;this._onError(d=>t==null?void 0:t(Xa.CHANNEL_ERROR,d)),this._onClose(()=>t==null?void 0:t(Xa.CLOSED));const u={},c={broadcast:i,presence:o,postgres_changes:(a=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(d=>d.filter))!==null&&a!==void 0?a:[],private:l};this.socket.accessTokenValue&&(u.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:c},u)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:d})=>{var p;if(this.socket.setAuth(),d===void 0){t==null||t(Xa.SUBSCRIBED);return}else{const h=this.bindings.postgres_changes,f=(p=h==null?void 0:h.length)!==null&&p!==void 0?p:0,m=[];for(let v=0;v<f;v++){const y=h[v],{filter:{event:g,schema:x,table:w,filter:k}}=y,S=d&&d[v];if(S&&S.event===g&&S.schema===x&&S.table===w&&S.filter===k)m.push(Object.assign(Object.assign({},y),{id:S.id}));else{this.unsubscribe(),t==null||t(Xa.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=m,t&&t(Xa.SUBSCRIBED);return}}).receive("error",d=>{t==null||t(Xa.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(d).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Xa.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this._on(t,n,r)}async send(t,n={}){var r,a;if(!this._canPush()&&t.type==="broadcast"){const{event:i,payload:o}=t,u={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,u,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((a=c.body)===null||a===void 0?void 0:a.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,l,u;const c=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((u=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||u===void 0)&&u.ack)&&i("ok"),c.receive("ok",()=>i("ok")),c.receive("error",()=>i("error")),c.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Sr.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(na.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(r=>{const a=new ag(this,na.leave,{},t);a.receive("ok",()=>{n(),r("ok")}).receive("timeout",()=>{n(),r("timed out")}).receive("error",()=>{r("error")}),a.send(),this._canPush()||a.trigger("ok",{})})}async _fetchWithTimeout(t,n,r){const a=new AbortController,i=setTimeout(()=>a.abort(),r),o=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:a.signal}));return clearTimeout(i),o}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new ag(this,t,n,r);return this._canPush()?a.send():(a.startTimeout(),this.pushBuffer.push(a)),a}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var a,i;const o=t.toLocaleLowerCase(),{close:l,error:u,leave:c,join:d}=na;if(r&&[l,u,c,d].indexOf(o)>=0&&r!==this._joinRef())return;let h=this._onMessage(o,n,r);if(n&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(f=>{var m,v,y;return((m=f.filter)===null||m===void 0?void 0:m.event)==="*"||((y=(v=f.filter)===null||v===void 0?void 0:v.event)===null||y===void 0?void 0:y.toLocaleLowerCase())===o}).map(f=>f.callback(h,r)):(i=this.bindings[o])===null||i===void 0||i.filter(f=>{var m,v,y,g,x,w;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in f){const k=f.id,S=(m=f.filter)===null||m===void 0?void 0:m.event;return k&&((v=n.ids)===null||v===void 0?void 0:v.includes(k))&&(S==="*"||(S==null?void 0:S.toLocaleLowerCase())===((y=n.data)===null||y===void 0?void 0:y.type.toLocaleLowerCase()))}else{const k=(x=(g=f==null?void 0:f.filter)===null||g===void 0?void 0:g.event)===null||x===void 0?void 0:x.toLocaleLowerCase();return k==="*"||k===((w=n==null?void 0:n.event)===null||w===void 0?void 0:w.toLocaleLowerCase())}else return f.type.toLocaleLowerCase()===o}).map(f=>{if(typeof h=="object"&&"ids"in h){const m=h.data,{schema:v,table:y,commit_timestamp:g,type:x,errors:w}=m;h=Object.assign(Object.assign({},{schema:v,table:y,commit_timestamp:g,eventType:x,new:{},old:{},errors:w}),this._getPayloadRecords(m))}f.callback(h,r)})}_isClosed(){return this.state===Sr.closed}_isJoined(){return this.state===Sr.joined}_isJoining(){return this.state===Sr.joining}_isLeaving(){return this.state===Sr.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){const a=t.toLocaleLowerCase(),i={type:a,filter:n,callback:r};return this.bindings[a]?this.bindings[a].push(i):this.bindings[a]=[i],this}_off(t,n){const r=t.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(a=>{var i;return!(((i=a.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===r&&dx.isEqual(a.filter,n))}),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const r in t)if(t[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(na.close,{},t)}_onError(t){this._on(na.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Sr.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=Wk(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=Wk(t.columns,t.old_record)),n}}const LM=()=>{},jM=typeof WebSocket<"u",MM=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class FM{constructor(t,n){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=NM,this.params={},this.timeout=iR,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=LM,this.conn=null,this.sendBuffer=[],this.serializer=new TM,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=i=>{let o;return i?o=i:typeof fetch>"u"?o=(...l)=>Bl(async()=>{const{default:u}=await Promise.resolve().then(()=>au);return{default:u}},void 0).then(({default:u})=>u(...l)):o=fetch,(...l)=>o(...l)},this.endPoint=`${t}/${cb.websocket}`,this.httpEndpoint=uR(t),n!=null&&n.transport?this.transport=n.transport:this.transport=null,n!=null&&n.params&&(this.params=n.params),n!=null&&n.headers&&(this.headers=Object.assign(Object.assign({},this.headers),n.headers)),n!=null&&n.timeout&&(this.timeout=n.timeout),n!=null&&n.logger&&(this.logger=n.logger),n!=null&&n.heartbeatIntervalMs&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs);const a=(r=n==null?void 0:n.params)===null||r===void 0?void 0:r.apikey;if(a&&(this.accessTokenValue=a,this.apiKey=a),this.reconnectAfterMs=n!=null&&n.reconnectAfterMs?n.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=n!=null&&n.encode?n.encode:(i,o)=>o(JSON.stringify(i)),this.decode=n!=null&&n.decode?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new oR(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(n==null?void 0:n.fetch),n!=null&&n.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(n==null?void 0:n.worker)||!1,this.workerUrl=n==null?void 0:n.workerUrl}this.accessToken=(n==null?void 0:n.accessToken)||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(jM){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new PM(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),Bl(async()=>{const{default:t}=await import("./browser-BuunKaF5.js").then(n=>n.b);return{default:t}},[]).then(({default:t})=>{this.conn=new t(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:kM}))}disconnect(t,n){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,n??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case ll.connecting:return Ii.Connecting;case ll.open:return Ii.Open;case ll.closing:return Ii.Closing;default:return Ii.Closed}}isConnected(){return this.connectionState()===Ii.Open}channel(t,n={config:{}}){const r=new dx(`realtime:${t}`,n,this);return this.channels.push(r),r}push(t){const{topic:n,event:r,payload:a,ref:i}=t,o=()=>{this.encode(t,l=>{var u;(u=this.conn)===null||u===void 0||u.send(l)})};this.log("push",`${n} ${r} (${i})`,a),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){let n=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(n){let r=null;try{r=JSON.parse(atob(n.split(".")[1]))}catch{}if(r&&r.exp&&!(Math.floor(Date.now()/1e3)-r.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${r.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${r.exp}`);this.accessTokenValue=n,this.channels.forEach(a=>{n&&a.updateJoinPayload({access_token:n}),a.joinedOnce&&a._isJoined()&&a._push(na.access_token,{access_token:n})})}}async sendHeartbeat(){var t;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(t=this.conn)===null||t===void 0||t.close(_M,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n._joinRef()!==t._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,n=>{let{topic:r,event:a,payload:i,ref:o}=n;o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${r} ${a} ${o&&"("+o+")"||""}`,i),this.channels.filter(l=>l._isMember(r)).forEach(l=>l._trigger(a,i,o)),this.stateChangeCallbacks.message.forEach(l=>l(n))})}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(t=>t())}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(n=>n(t))}_onConnError(t){this.log("transport",t.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(n=>n(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(na.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const r=t.match(/\?/)?"&":"?",a=new URLSearchParams(n);return`${t}${r}${a}`}_workerObjectUrl(t){let n;if(t)n=t;else{const r=new Blob([MM],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}}class PM{constructor(t,n,r){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=ll.connecting,this.send=()=>{},this.url=null,this.url=t,this.close=r.close}}class px extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function gn(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class BM extends px{constructor(t,n){super(t),this.name="StorageApiError",this.status=n}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class pb extends px{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}var UM=function(e,t,n,r){function a(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{c(r.next(d))}catch(p){o(p)}}function u(d){try{c(r.throw(d))}catch(p){o(p)}}function c(d){d.done?i(d.value):a(d.value).then(l,u)}c((r=r.apply(e,t||[])).next())})};const cR=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>Bl(async()=>{const{default:r}=await Promise.resolve().then(()=>au);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},$M=()=>UM(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Bl(()=>Promise.resolve().then(()=>au),void 0)).Response:Response}),hb=e=>{if(Array.isArray(e))return e.map(n=>hb(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,r])=>{const a=n.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[a]=hb(r)}),t};var mo=function(e,t,n,r){function a(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{c(r.next(d))}catch(p){o(p)}}function u(d){try{c(r.throw(d))}catch(p){o(p)}}function c(d){d.done?i(d.value):a(d.value).then(l,u)}c((r=r.apply(e,t||[])).next())})};const sg=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),HM=(e,t,n)=>mo(void 0,void 0,void 0,function*(){const r=yield $M();e instanceof r&&!(n!=null&&n.noResolveJson)?e.json().then(a=>{t(new BM(sg(a),e.status||500))}).catch(a=>{t(new pb(sg(a),a))}):t(new pb(sg(e),e))}),zM=(e,t,n,r)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),r&&(a.body=JSON.stringify(r)),Object.assign(Object.assign({},a),n))};function kd(e,t,n,r,a,i){return mo(this,void 0,void 0,function*(){return new Promise((o,l)=>{e(n,zM(t,r,a,i)).then(u=>{if(!u.ok)throw u;return r!=null&&r.noResolveJson?u:u.json()}).then(u=>o(u)).catch(u=>HM(u,l,r))})})}function Bh(e,t,n,r){return mo(this,void 0,void 0,function*(){return kd(e,"GET",t,n,r)})}function Cs(e,t,n,r,a){return mo(this,void 0,void 0,function*(){return kd(e,"POST",t,r,a,n)})}function GM(e,t,n,r,a){return mo(this,void 0,void 0,function*(){return kd(e,"PUT",t,r,a,n)})}function qM(e,t,n,r){return mo(this,void 0,void 0,function*(){return kd(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function dR(e,t,n,r,a){return mo(this,void 0,void 0,function*(){return kd(e,"DELETE",t,r,a,n)})}var rr=function(e,t,n,r){function a(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{c(r.next(d))}catch(p){o(p)}}function u(d){try{c(r.throw(d))}catch(p){o(p)}}function c(d){d.done?i(d.value):a(d.value).then(l,u)}c((r=r.apply(e,t||[])).next())})};const VM={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Xk={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class WM{constructor(t,n={},r,a){this.url=t,this.headers=n,this.bucketId=r,this.fetch=cR(a)}uploadOrUpdate(t,n,r,a){return rr(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},Xk),a);let l=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const u=o.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),u&&i.append("metadata",this.encodeMetadata(u)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.append("cacheControl",o.cacheControl),u&&i.append("metadata",this.encodeMetadata(u))):(i=r,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,u&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(u)))),a!=null&&a.headers&&(l=Object.assign(Object.assign({},l),a.headers));const c=this._removeEmptyFolders(n),d=this._getFinalPath(c),p=yield this.fetch(`${this.url}/object/${d}`,Object.assign({method:t,body:i,headers:l},o!=null&&o.duplex?{duplex:o.duplex}:{})),h=yield p.json();return p.ok?{data:{path:c,id:h.Id,fullPath:h.Key},error:null}:{data:null,error:h}}catch(i){if(gn(i))return{data:null,error:i};throw i}})}upload(t,n,r){return rr(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,r)})}uploadToSignedUrl(t,n,r,a){return rr(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(t),o=this._getFinalPath(i),l=new URL(this.url+`/object/upload/sign/${o}`);l.searchParams.set("token",n);try{let u;const c=Object.assign({upsert:Xk.upsert},a),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&r instanceof Blob?(u=new FormData,u.append("cacheControl",c.cacheControl),u.append("",r)):typeof FormData<"u"&&r instanceof FormData?(u=r,u.append("cacheControl",c.cacheControl)):(u=r,d["cache-control"]=`max-age=${c.cacheControl}`,d["content-type"]=c.contentType);const p=yield this.fetch(l.toString(),{method:"PUT",body:u,headers:d}),h=yield p.json();return p.ok?{data:{path:i,fullPath:h.Key},error:null}:{data:null,error:h}}catch(u){if(gn(u))return{data:null,error:u};throw u}})}createSignedUploadUrl(t,n){return rr(this,void 0,void 0,function*(){try{let r=this._getFinalPath(t);const a=Object.assign({},this.headers);n!=null&&n.upsert&&(a["x-upsert"]="true");const i=yield Cs(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:a}),o=new URL(this.url+i.url),l=o.searchParams.get("token");if(!l)throw new px("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:l},error:null}}catch(r){if(gn(r))return{data:null,error:r};throw r}})}update(t,n,r){return rr(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,r)})}move(t,n,r){return rr(this,void 0,void 0,function*(){try{return{data:yield Cs(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(a){if(gn(a))return{data:null,error:a};throw a}})}copy(t,n,r){return rr(this,void 0,void 0,function*(){try{return{data:{path:(yield Cs(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(a){if(gn(a))return{data:null,error:a};throw a}})}createSignedUrl(t,n,r){return rr(this,void 0,void 0,function*(){try{let a=this._getFinalPath(t),i=yield Cs(this.fetch,`${this.url}/object/sign/${a}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(a){if(gn(a))return{data:null,error:a};throw a}})}createSignedUrls(t,n,r){return rr(this,void 0,void 0,function*(){try{const a=yield Cs(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:a.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(a){if(gn(a))return{data:null,error:a};throw a}})}download(t,n){return rr(this,void 0,void 0,function*(){const a=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),o=i?`?${i}`:"";try{const l=this._getFinalPath(t);return{data:yield(yield Bh(this.fetch,`${this.url}/${a}/${l}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if(gn(l))return{data:null,error:l};throw l}})}info(t){return rr(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{const r=yield Bh(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:hb(r),error:null}}catch(r){if(gn(r))return{data:null,error:r};throw r}})}exists(t){return rr(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{return yield qM(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(gn(r)&&r instanceof pb){const a=r.originalError;if([400,404].includes(a==null?void 0:a.status))return{data:!1,error:r}}throw r}})}getPublicUrl(t,n){const r=this._getFinalPath(t),a=[],i=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";i!==""&&a.push(i);const l=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",u=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});u!==""&&a.push(u);let c=a.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${r}${c}`)}}}remove(t){return rr(this,void 0,void 0,function*(){try{return{data:yield dR(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(gn(n))return{data:null,error:n};throw n}})}list(t,n,r){return rr(this,void 0,void 0,function*(){try{const a=Object.assign(Object.assign(Object.assign({},VM),n),{prefix:t||""});return{data:yield Cs(this.fetch,`${this.url}/object/list/${this.bucketId}`,a,{headers:this.headers},r),error:null}}catch(a){if(gn(a))return{data:null,error:a};throw a}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}}const YM="2.7.1",KM={"X-Client-Info":`storage-js/${YM}`};var Ro=function(e,t,n,r){function a(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{c(r.next(d))}catch(p){o(p)}}function u(d){try{c(r.throw(d))}catch(p){o(p)}}function c(d){d.done?i(d.value):a(d.value).then(l,u)}c((r=r.apply(e,t||[])).next())})};class ZM{constructor(t,n={},r){this.url=t,this.headers=Object.assign(Object.assign({},KM),n),this.fetch=cR(r)}listBuckets(){return Ro(this,void 0,void 0,function*(){try{return{data:yield Bh(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(gn(t))return{data:null,error:t};throw t}})}getBucket(t){return Ro(this,void 0,void 0,function*(){try{return{data:yield Bh(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(gn(n))return{data:null,error:n};throw n}})}createBucket(t,n={public:!1}){return Ro(this,void 0,void 0,function*(){try{return{data:yield Cs(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(gn(r))return{data:null,error:r};throw r}})}updateBucket(t,n){return Ro(this,void 0,void 0,function*(){try{return{data:yield GM(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(gn(r))return{data:null,error:r};throw r}})}emptyBucket(t){return Ro(this,void 0,void 0,function*(){try{return{data:yield Cs(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(gn(n))return{data:null,error:n};throw n}})}deleteBucket(t){return Ro(this,void 0,void 0,function*(){try{return{data:yield dR(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(gn(n))return{data:null,error:n};throw n}})}}class XM extends ZM{constructor(t,n={},r){super(t,n,r)}from(t){return new WM(this.url,this.headers,t,this.fetch)}}const QM="2.49.4";let Zu="";typeof Deno<"u"?Zu="deno":typeof document<"u"?Zu="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Zu="react-native":Zu="node";const JM={"X-Client-Info":`supabase-js-${Zu}/${QM}`},eF={headers:JM},tF={schema:"public"},nF={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},rF={};var aF=function(e,t,n,r){function a(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{c(r.next(d))}catch(p){o(p)}}function u(d){try{c(r.throw(d))}catch(p){o(p)}}function c(d){d.done?i(d.value):a(d.value).then(l,u)}c((r=r.apply(e,t||[])).next())})};const sF=e=>{let t;return e?t=e:typeof fetch>"u"?t=KI:t=fetch,(...n)=>t(...n)},iF=()=>typeof Headers>"u"?ZI:Headers,oF=(e,t,n)=>{const r=sF(n),a=iF();return(i,o)=>aF(void 0,void 0,void 0,function*(){var l;const u=(l=yield t())!==null&&l!==void 0?l:e;let c=new a(o==null?void 0:o.headers);return c.has("apikey")||c.set("apikey",e),c.has("Authorization")||c.set("Authorization",`Bearer ${u}`),r(i,Object.assign(Object.assign({},o),{headers:c}))})};var lF=function(e,t,n,r){function a(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{c(r.next(d))}catch(p){o(p)}}function u(d){try{c(r.throw(d))}catch(p){o(p)}}function c(d){d.done?i(d.value):a(d.value).then(l,u)}c((r=r.apply(e,t||[])).next())})};function uF(e){return e.replace(/\/$/,"")}function cF(e,t){const{db:n,auth:r,realtime:a,global:i}=e,{db:o,auth:l,realtime:u,global:c}=t,d={db:Object.assign(Object.assign({},o),n),auth:Object.assign(Object.assign({},l),r),realtime:Object.assign(Object.assign({},u),a),global:Object.assign(Object.assign({},c),i),accessToken:()=>lF(this,void 0,void 0,function*(){return""})};return e.accessToken?d.accessToken=e.accessToken:delete d.accessToken,d}const pR="2.69.1",Po=30*1e3,fb=3,ig=fb*Po,dF="http://localhost:9999",pF="supabase.auth.token",hF={"X-Client-Info":`gotrue-js/${pR}`},mb="X-Supabase-Api-Version",hR={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},fF=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,mF=6e5;class hx extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function Ke(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class gF extends hx{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function bF(e){return Ke(e)&&e.name==="AuthApiError"}class fR extends hx{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class bi extends hx{constructor(t,n,r,a){super(t,r,a),this.name=n,this.status=r}}class ws extends bi{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function yF(e){return Ke(e)&&e.name==="AuthSessionMissingError"}class og extends bi{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Sp extends bi{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Np extends bi{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function xF(e){return Ke(e)&&e.name==="AuthImplicitGrantRedirectError"}class Qk extends bi{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class gb extends bi{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function lg(e){return Ke(e)&&e.name==="AuthRetryableFetchError"}class Jk extends bi{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class dc extends bi{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const e_="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),t_=` 	
\r=`.split(""),vF=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<t_.length;t+=1)e[t_[t].charCodeAt(0)]=-2;for(let t=0;t<e_.length;t+=1)e[e_[t].charCodeAt(0)]=t;return e})();function mR(e,t,n){const r=vF[e];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function n_(e){const t=[],n=o=>{t.push(String.fromCodePoint(o))},r={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},i=o=>{SF(o,r,n)};for(let o=0;o<e.length;o+=1)mR(e.charCodeAt(o),a,i);return t.join("")}function EF(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function wF(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){const a=(r-55296)*1024&65535;r=(e.charCodeAt(n+1)-56320&65535|a)+65536,n+=1}EF(r,t)}}function SF(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let r=1;r<6;r+=1)if(!(e>>7-r&1)){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function NF(e){const t=[],n={queue:0,queuedBits:0},r=a=>{t.push(a)};for(let a=0;a<e.length;a+=1)mR(e.charCodeAt(a),n,r);return new Uint8Array(t)}function kF(e){const t=[];return wF(e,n=>t.push(n)),new Uint8Array(t)}function _F(e){return Math.round(Date.now()/1e3)+e}function TF(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const ma=()=>typeof window<"u"&&typeof document<"u",Si={tested:!1,writable:!1},pc=()=>{if(!ma())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Si.tested)return Si.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Si.tested=!0,Si.writable=!0}catch{Si.tested=!0,Si.writable=!1}return Si.writable};function CF(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((a,i)=>{t[i]=a})}catch{}return n.searchParams.forEach((r,a)=>{t[a]=r}),t}const gR=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>Bl(async()=>{const{default:r}=await Promise.resolve().then(()=>au);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},AF=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",bR=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},kp=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},_p=async(e,t)=>{await e.removeItem(t)};class Mf{constructor(){this.promise=new Mf.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}Mf.promiseConstructor=Promise;function ug(e){const t=e.split(".");if(t.length!==3)throw new dc("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!fF.test(t[r]))throw new dc("JWT not in base64url format");return{header:JSON.parse(n_(t[0])),payload:JSON.parse(n_(t[1])),signature:NF(t[2]),raw:{header:t[0],payload:t[1]}}}async function IF(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function RF(e,t){return new Promise((r,a)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await e(i);if(!t(i,null,o)){r(o);return}}catch(o){if(!t(i,o)){a(o);return}}})()})}function DF(e){return("0"+e.toString(16)).substr(-2)}function OF(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let a="";for(let i=0;i<56;i++)a+=n.charAt(Math.floor(Math.random()*r));return a}return crypto.getRandomValues(t),Array.from(t,DF).join("")}async function LF(e){const n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),a=new Uint8Array(r);return Array.from(a).map(i=>String.fromCharCode(i)).join("")}async function jF(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await LF(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Do(e,t,n=!1){const r=OF();let a=r;n&&(a+="/PASSWORD_RECOVERY"),await bR(e,`${t}-code-verifier`,a);const i=await jF(r);return[i,r===i?"plain":"s256"]}const MF=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function FF(e){const t=e.headers.get(mb);if(!t||!t.match(MF))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function PF(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function BF(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}var UF=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n};const Ai=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),$F=[502,503,504];async function r_(e){var t;if(!AF(e))throw new gb(Ai(e),0);if($F.includes(e.status))throw new gb(Ai(e),e.status);let n;try{n=await e.json()}catch(i){throw new fR(Ai(i),i)}let r;const a=FF(e);if(a&&a.getTime()>=hR["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new Jk(Ai(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new ws}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new Jk(Ai(n),e.status,n.weak_password.reasons);throw new gF(Ai(n),e.status||500,r)}const HF=(e,t,n,r)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),a.body=JSON.stringify(r),Object.assign(Object.assign({},a),n))};async function st(e,t,n,r){var a;const i=Object.assign({},r==null?void 0:r.headers);i[mb]||(i[mb]=hR["2024-01-01"].name),r!=null&&r.jwt&&(i.Authorization=`Bearer ${r.jwt}`);const o=(a=r==null?void 0:r.query)!==null&&a!==void 0?a:{};r!=null&&r.redirectTo&&(o.redirect_to=r.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",u=await zF(e,t,n+l,{headers:i,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(u):{data:Object.assign({},u),error:null}}async function zF(e,t,n,r,a,i){const o=HF(t,r,a,i);let l;try{l=await e(n,Object.assign({},o))}catch(u){throw console.error(u),new gb(Ai(u),0)}if(l.ok||await r_(l),r!=null&&r.noResolveJson)return l;try{return await l.json()}catch(u){await r_(u)}}function Ss(e){var t;let n=null;WF(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=_F(e.expires_in)));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function a_(e){const t=Ss(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Ds(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function GF(e){return{data:e,error:null}}function qF(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:a,verification_type:i}=e,o=UF(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:n,hashed_token:r,redirect_to:a,verification_type:i},u=Object.assign({},o);return{data:{properties:l,user:u},error:null}}function VF(e){return e}function WF(e){return e.access_token&&e.refresh_token&&e.expires_in}var YF=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n};class KF{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=gR(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,n="global"){try{return await st(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Ke(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await st(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Ds})}catch(r){if(Ke(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:n}=t,r=YF(t,["options"]),a=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(a.new_email=r==null?void 0:r.newEmail,delete a.newEmail),await st(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:qF,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(Ke(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await st(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Ds})}catch(n){if(Ke(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,a,i,o,l,u;try{const c={nextPage:null,lastPage:0,total:0},d=await st(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(a=t==null?void 0:t.perPage)===null||a===void 0?void 0:a.toString())!==null&&i!==void 0?i:""},xform:VF});if(d.error)throw d.error;const p=await d.json(),h=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,f=(u=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&u!==void 0?u:[];return f.length>0&&(f.forEach(m=>{const v=parseInt(m.split(";")[0].split("=")[1].substring(0,1)),y=JSON.parse(m.split(";")[1].split("=")[1]);c[`${y}Page`]=v}),c.total=parseInt(h)),{data:Object.assign(Object.assign({},p),c),error:null}}catch(c){if(Ke(c))return{data:{users:[]},error:c};throw c}}async getUserById(t){try{return await st(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Ds})}catch(n){if(Ke(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){try{return await st(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:Ds})}catch(r){if(Ke(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){try{return await st(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:Ds})}catch(r){if(Ke(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){try{const{data:n,error:r}=await st(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:n,error:r}}catch(n){if(Ke(n))return{data:null,error:n};throw n}}async _deleteFactor(t){try{return{data:await st(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(Ke(n))return{data:null,error:n};throw n}}}const ZF={getItem:e=>pc()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{pc()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{pc()&&globalThis.localStorage.removeItem(e)}};function s_(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}function XF(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Oo={debug:!!(globalThis&&pc()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class yR extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class QF extends yR{}async function JF(e,t,n){Oo.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),Oo.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async a=>{if(a){Oo.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,a.name);try{return await n()}finally{Oo.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,a.name)}}else{if(t===0)throw Oo.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new QF(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Oo.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}XF();const eP={url:dF,storageKey:pF,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:hF,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function i_(e,t,n){return await n()}class Vc{constructor(t){var n,r;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Vc.nextInstanceID,Vc.nextInstanceID+=1,this.instanceID>0&&ma()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const a=Object.assign(Object.assign({},eP),t);if(this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.persistSession=a.persistSession,this.storageKey=a.storageKey,this.autoRefreshToken=a.autoRefreshToken,this.admin=new KF({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=gR(a.fetch),this.lock=a.lock||i_,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,a.lock?this.lock=a.lock:ma()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=JF:this.lock=i_,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?a.storage?this.storage=a.storage:pc()?this.storage=ZF:(this.memoryStorage={},this.storage=s_(this.memoryStorage)):(this.memoryStorage={},this.storage=s_(this.memoryStorage)),ma()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${pR}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const n=CF(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),ma()&&this.detectSessionInUrl&&r!=="none"){const{data:a,error:i}=await this._getSessionFromURL(n,r);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),xF(i)){const u=(t=i.details)===null||t===void 0?void 0:t.code;if(u==="identity_already_exists"||u==="identity_not_found"||u==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:l}=a;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return Ke(n)?{error:n}:{error:new fR("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,r,a;try{const i=await st(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(a=t==null?void 0:t.options)===null||a===void 0?void 0:a.captchaToken}},xform:Ss}),{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const u=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",u)),{data:{user:c,session:u},error:null}}catch(i){if(Ke(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(t){var n,r,a;try{let i;if("email"in t){const{email:d,password:p,options:h}=t;let f=null,m=null;this.flowType==="pkce"&&([f,m]=await Do(this.storage,this.storageKey)),i=await st(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:d,password:p,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:f,code_challenge_method:m},xform:Ss})}else if("phone"in t){const{phone:d,password:p,options:h}=t;i=await st(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:p,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},channel:(a=h==null?void 0:h.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:Ss})}else throw new Sp("You must provide either an email or phone number and a password");const{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const u=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",u)),{data:{user:c,session:u},error:null}}catch(i){if(Ke(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(t){try{let n;if("email"in t){const{email:i,password:o,options:l}=t;n=await st(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:a_})}else if("phone"in t){const{phone:i,password:o,options:l}=t;n=await st(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:a_})}else throw new Sp("You must provide either an email or phone number and a password");const{data:r,error:a}=n;return a?{data:{user:null,session:null},error:a}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new og}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:a})}catch(n){if(Ke(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(t){var n,r,a,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(a=t.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async _exchangeCodeForSession(t){const n=await kp(this.storage,`${this.storageKey}-code-verifier`),[r,a]=(n??"").split("/");try{const{data:i,error:o}=await st(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:Ss});if(await _p(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new og}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:a??null}),error:o})}catch(i){if(Ke(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(t){try{const{options:n,provider:r,token:a,access_token:i,nonce:o}=t,l=await st(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:a,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:Ss}),{data:u,error:c}=l;return c?{data:{user:null,session:null},error:c}:!u||!u.session||!u.user?{data:{user:null,session:null},error:new og}:(u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",u.session)),{data:u,error:c})}catch(n){if(Ke(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(t){var n,r,a,i,o;try{if("email"in t){const{email:l,options:u}=t;let c=null,d=null;this.flowType==="pkce"&&([c,d]=await Do(this.storage,this.storageKey));const{error:p}=await st(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(n=u==null?void 0:u.data)!==null&&n!==void 0?n:{},create_user:(r=u==null?void 0:u.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken},code_challenge:c,code_challenge_method:d},redirectTo:u==null?void 0:u.emailRedirectTo});return{data:{user:null,session:null},error:p}}if("phone"in t){const{phone:l,options:u}=t,{data:c,error:d}=await st(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(a=u==null?void 0:u.data)!==null&&a!==void 0?a:{},create_user:(i=u==null?void 0:u.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken},channel:(o=u==null?void 0:u.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:d}}throw new Sp("You must provide either an email or phone number.")}catch(l){if(Ke(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(t){var n,r;try{let a,i;"options"in t&&(a=(n=t.options)===null||n===void 0?void 0:n.redirectTo,i=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:l}=await st(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:a,xform:Ss});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const u=o.session,c=o.user;return u!=null&&u.access_token&&(await this._saveSession(u),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",u)),{data:{user:c,session:u},error:null}}catch(a){if(Ke(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithSSO(t){var n,r,a;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await Do(this.storage,this.storageKey)),await st(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((a=t==null?void 0:t.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:GF})}catch(i){if(Ke(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;if(r)throw r;if(!n)throw new ws;const{error:a}=await st(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:a}})}catch(t){if(Ke(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:r,type:a,options:i}=t,{error:o}=await st(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:a,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in t){const{phone:r,type:a,options:i}=t,{data:o,error:l}=await st(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:a,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:l}}throw new Sp("You must provide either an email or phone number and a type")}catch(n){if(Ke(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await kp(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at*1e3-Date.now()<ig:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.storage.isServer){let o=this.suppressGetSessionWarning;t=new Proxy(t,{get:(u,c,d)=>(!o&&c==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(u,c,d))})}return{data:{session:t},error:null}}const{session:a,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{session:null},error:i}:{data:{session:a},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await st(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Ds}):await this._useSession(async n=>{var r,a,i;const{data:o,error:l}=n;if(l)throw l;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new ws}:await st(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(a=o.session)===null||a===void 0?void 0:a.access_token)!==null&&i!==void 0?i:void 0,xform:Ds})})}catch(n){if(Ke(n))return yF(n)&&(await this._removeSession(),await _p(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async r=>{const{data:a,error:i}=r;if(i)throw i;if(!a.session)throw new ws;const o=a.session;let l=null,u=null;this.flowType==="pkce"&&t.email!=null&&([l,u]=await Do(this.storage,this.storageKey));const{data:c,error:d}=await st(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:u}),jwt:o.access_token,xform:Ds});if(d)throw d;return o.user=c.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(r){if(Ke(r))return{data:{user:null},error:r};throw r}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new ws;const n=Date.now()/1e3;let r=n,a=!0,i=null;const{payload:o}=ug(t.access_token);if(o.exp&&(r=o.exp,a=r<=n),a){const{session:l,error:u}=await this._callRefreshToken(t.refresh_token);if(u)return{data:{user:null,session:null},error:u};if(!l)return{data:{user:null,session:null},error:null};i=l}else{const{data:l,error:u}=await this._getUser(t.access_token);if(u)throw u;i={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(n){if(Ke(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var r;if(!t){const{data:o,error:l}=n;if(l)throw l;t=(r=o.session)!==null&&r!==void 0?r:void 0}if(!(t!=null&&t.refresh_token))throw new ws;const{session:a,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{user:null,session:null},error:i}:a?{data:{user:a.user,session:a},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(Ke(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(t,n){try{if(!ma())throw new Np("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Np(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new Qk("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Np("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Qk("No code detected.");const{data:x,error:w}=await this._exchangeCodeForSession(t.code);if(w)throw w;const k=new URL(window.location.href);return k.searchParams.delete("code"),window.history.replaceState(window.history.state,"",k.toString()),{data:{session:x.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:a,access_token:i,refresh_token:o,expires_in:l,expires_at:u,token_type:c}=t;if(!i||!l||!o||!c)throw new Np("No session defined in URL");const d=Math.round(Date.now()/1e3),p=parseInt(l);let h=d+p;u&&(h=parseInt(u));const f=h-d;f*1e3<=Po&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${f}s, should have been closer to ${p}s`);const m=h-p;d-m>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",m,h,d):d-m<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",m,h,d);const{data:v,error:y}=await this._getUser(i);if(y)throw y;const g={provider_token:r,provider_refresh_token:a,access_token:i,expires_in:p,expires_at:h,refresh_token:o,token_type:c,user:v.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:g,redirectType:t.type},error:null}}catch(r){if(Ke(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await kp(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:a,error:i}=n;if(i)return{error:i};const o=(r=a.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:l}=await this.admin.signOut(o,t);if(l&&!(bF(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return t!=="others"&&(await this._removeSession(),await _p(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const n=TF(),r={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async n=>{var r,a;try{const{data:{session:i},error:o}=n;if(o)throw o;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((a=this.stateChangeEmitters.get(t))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,n={}){let r=null,a=null;this.flowType==="pkce"&&([r,a]=await Do(this.storage,this.storageKey,!0));try{return await st(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:a,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(i){if(Ke(i))return{data:null,error:i};throw i}}async getUserIdentities(){var t;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(n){if(Ke(n))return{data:null,error:n};throw n}}async linkIdentity(t){var n;try{const{data:r,error:a}=await this._useSession(async i=>{var o,l,u,c,d;const{data:p,error:h}=i;if(h)throw h;const f=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(u=t.options)===null||u===void 0?void 0:u.queryParams,skipBrowserRedirect:!0});return await st(this.fetch,"GET",f,{headers:this.headers,jwt:(d=(c=p.session)===null||c===void 0?void 0:c.access_token)!==null&&d!==void 0?d:void 0})});if(a)throw a;return ma()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:t.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(Ke(r))return{data:{provider:t.provider,url:null},error:r};throw r}}async unlinkIdentity(t){try{return await this._useSession(async n=>{var r,a;const{data:i,error:o}=n;if(o)throw o;return await st(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(a=(r=i.session)===null||r===void 0?void 0:r.access_token)!==null&&a!==void 0?a:void 0})})}catch(n){if(Ke(n))return{data:null,error:n};throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await RF(async a=>(a>0&&await IF(200*Math.pow(2,a-1)),this._debug(n,"refreshing attempt",a),await st(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Ss})),(a,i)=>{const o=200*Math.pow(2,a);return i&&lg(i)&&Date.now()+o-r<Po})}catch(r){if(this._debug(n,"error",r),Ke(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",r),ma()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const r=await kp(this.storage,this.storageKey);if(this._debug(n,"session from storage",r),!this._isValidSession(r)){this._debug(n,"session is not valid"),r!==null&&await this._removeSession();return}const a=((t=r.expires_at)!==null&&t!==void 0?t:1/0)*1e3-Date.now()<ig;if(this._debug(n,`session has${a?"":" not"} expired with margin of ${ig}s`),a){if(this.autoRefreshToken&&r.refresh_token){const{error:i}=await this._callRefreshToken(r.refresh_token);i&&(console.error(i),lg(i)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",i),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){this._debug(n,"error",r),console.error(r);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var n,r;if(!t)throw new ws;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new Mf;const{data:i,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!i.session)throw new ws;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const l={session:i.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(i){if(this._debug(a,"error",i),Ke(i)){const o={session:null,error:i};return lg(i)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(i),i}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(t,n,r=!0){const a=`#_notifyAllSubscribers(${t})`;this._debug(a,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:n});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,n)}catch(u){i.push(u)}});if(await Promise.all(o),i.length>0){for(let l=0;l<i.length;l+=1)console.error(i[l]);throw i[0]}}finally{this._debug(a,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await bR(this.storage,this.storageKey,t)}async _removeSession(){this._debug("#_removeSession()"),await _p(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&ma()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Po);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((r.expires_at*1e3-t)/Po);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${Po}ms, refresh threshold is ${fb} ticks`),a<=fb&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof yR)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!ma()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,r){const a=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&a.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&a.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[i,o]=await Do(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});a.push(l.toString())}if(r!=null&&r.queryParams){const i=new URLSearchParams(r.queryParams);a.push(i.toString())}return r!=null&&r.skipBrowserRedirect&&a.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${a.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var r;const{data:a,error:i}=n;return i?{data:null,error:i}:await st(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=a==null?void 0:a.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(Ke(n))return{data:null,error:n};throw n}}async _enroll(t){try{return await this._useSession(async n=>{var r,a;const{data:i,error:o}=n;if(o)return{data:null,error:o};const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:u,error:c}=await st(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return c?{data:null,error:c}:(t.factorType==="totp"&&(!((a=u==null?void 0:u.totp)===null||a===void 0)&&a.qr_code)&&(u.totp.qr_code=`data:image/svg+xml;utf-8,${u.totp.qr_code}`),{data:u,error:null})})}catch(n){if(Ke(n))return{data:null,error:n};throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:a,error:i}=n;if(i)return{data:null,error:i};const{data:o,error:l}=await st(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(r=a==null?void 0:a.session)===null||r===void 0?void 0:r.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:l})})}catch(n){if(Ke(n))return{data:null,error:n};throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:a,error:i}=n;return i?{data:null,error:i}:await st(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(r=a==null?void 0:a.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(Ke(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(t){const{data:n,error:r}=await this._challenge({factorId:t.factorId});return r?{data:null,error:r}:await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){const{data:{user:t},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=(t==null?void 0:t.factors)||[],a=r.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=r.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:r,totp:a,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var n,r;const{data:{session:a},error:i}=t;if(i)return{data:null,error:i};if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=ug(a.access_token);let l=null;o.aal&&(l=o.aal);let u=l;((r=(n=a.user.factors)===null||n===void 0?void 0:n.filter(p=>p.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(u="aal2");const d=o.amr||[];return{data:{currentLevel:l,nextLevel:u,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(t,n={keys:[]}){let r=n.keys.find(o=>o.kid===t);if(r||(r=this.jwks.keys.find(o=>o.kid===t),r&&this.jwks_cached_at+mF>Date.now()))return r;const{data:a,error:i}=await st(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(i)throw i;if(!a.keys||a.keys.length===0)throw new dc("JWKS is empty");if(this.jwks=a,this.jwks_cached_at=Date.now(),r=a.keys.find(o=>o.kid===t),!r)throw new dc("No matching signing key found in JWKS");return r}async getClaims(t,n={keys:[]}){try{let r=t;if(!r){const{data:f,error:m}=await this.getSession();if(m||!f.session)return{data:null,error:m};r=f.session.access_token}const{header:a,payload:i,signature:o,raw:{header:l,payload:u}}=ug(r);if(PF(i.exp),!a.kid||a.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:f}=await this.getUser(r);if(f)throw f;return{data:{claims:i,header:a,signature:o},error:null}}const c=BF(a.alg),d=await this.fetchJwk(a.kid,n),p=await crypto.subtle.importKey("jwk",d,c,!0,["verify"]);if(!await crypto.subtle.verify(c,p,o,kF(`${l}.${u}`)))throw new dc("Invalid JWT signature");return{data:{claims:i,header:a,signature:o},error:null}}catch(r){if(Ke(r))return{data:null,error:r};throw r}}}Vc.nextInstanceID=0;const tP=Vc;class nP extends tP{constructor(t){super(t)}}var rP=function(e,t,n,r){function a(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{c(r.next(d))}catch(p){o(p)}}function u(d){try{c(r.throw(d))}catch(p){o(p)}}function c(d){d.done?i(d.value):a(d.value).then(l,u)}c((r=r.apply(e,t||[])).next())})};class aP{constructor(t,n,r){var a,i,o;if(this.supabaseUrl=t,this.supabaseKey=n,!t)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const l=uF(t);this.realtimeUrl=`${l}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${l}/auth/v1`,this.storageUrl=`${l}/storage/v1`,this.functionsUrl=`${l}/functions/v1`;const u=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,c={db:tF,realtime:rF,auth:Object.assign(Object.assign({},nF),{storageKey:u}),global:eF},d=cF(r??{},c);this.storageKey=(a=d.auth.storageKey)!==null&&a!==void 0?a:"",this.headers=(i=d.global.headers)!==null&&i!==void 0?i:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(p,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=d.auth)!==null&&o!==void 0?o:{},this.headers,d.global.fetch),this.fetch=oF(n,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new wM(`${l}/rest/v1`,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),d.accessToken||this._listenForAuthEvents()}get functions(){return new Q5(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new XM(this.storageUrl,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,n={},r={}){return this.rest.rpc(t,n,r)}channel(t,n={config:{}}){return this.realtime.channel(t,n)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,n;return rP(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(t=r.session)===null||t===void 0?void 0:t.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:a,storageKey:i,flowType:o,lock:l,debug:u},c,d){const p={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new nP({url:this.authUrl,headers:Object.assign(Object.assign({},p),c),storageKey:i,autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:a,flowType:o,lock:l,debug:u,fetch:d,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new FM(this.realtimeUrl,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(t,n,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:t==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const sP=(e,t,n)=>new aP(e,t,n),iP="https://tkenxulvmzhhkuhfvcpt.supabase.co",oP="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InRrZW54dWx2bXpoaGt1aGZ2Y3B0Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3MzgwOTEwNzgsImV4cCI6MjA1MzY2NzA3OH0.UJPzvtHD6k6rJ09BlFYkdYEyHC3sx3h1rpAG8DULSHI",cg={maxRetries:3,retryDelay:1e3,retryCondition:e=>{var t,n,r,a,i;return(e==null?void 0:e.status)===500||(e==null?void 0:e.status)===503||(e==null?void 0:e.status)===504||(e==null?void 0:e.status)===429||((t=e==null?void 0:e.message)==null?void 0:t.includes("Database error"))||((n=e==null?void 0:e.message)==null?void 0:n.includes("unexpected_failure"))||((r=e==null?void 0:e.message)==null?void 0:r.includes("schema"))||((a=e==null?void 0:e.message)==null?void 0:a.includes("network"))||((i=e==null?void 0:e.message)==null?void 0:i.includes("timeout"))}},se=sP(iP,oP,{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,storage:window.localStorage,storageKey:"dragonbane_auth",flowType:"implicit"},global:{headers:{"X-Client-Info":"dragonbane-character-manager"}},db:{schema:"public"},realtime:{params:{eventsPerSecond:10}},maxRetries:cg.maxRetries,retryDelay:cg.retryDelay,retryCondition:cg.retryCondition});se.auth.onAuthStateChange((e,t)=>{(e==="USER_DELETED"||e==="SIGNED_OUT")&&console.log("Auth event:",e),e==="TOKEN_REFRESHED"&&console.log("Token refreshed successfully"),e==="SIGNED_OUT"&&!t&&console.error("Auth error: Session ended unexpectedly")});window.addEventListener("online",()=>{se.auth.startAutoRefresh()});window.addEventListener("offline",()=>{se.auth.stopAutoRefresh()});/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lP=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),xR=(...e)=>e.filter((t,n,r)=>!!t&&r.indexOf(t)===n).join(" ");/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var uP={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cP=E.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:a="",children:i,iconNode:o,...l},u)=>E.createElement("svg",{ref:u,...uP,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:xR("lucide",a),...l},[...o.map(([c,d])=>E.createElement(c,d)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const re=(e,t)=>{const n=E.forwardRef(({className:r,...a},i)=>E.createElement(cP,{ref:i,iconNode:t,className:xR(`lucide-${lP(e)}`,r),...a}));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fx=re("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bb=re("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vR=re("ArrowUpDown",[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ff=re("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ER=re("Backpack",[["path",{d:"M4 10a4 4 0 0 1 4-4h8a4 4 0 0 1 4 4v10a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2Z",key:"wvr1b5"}],["path",{d:"M9 6V4a2 2 0 0 1 2-2h2a2 2 0 0 1 2 2v2",key:"donm21"}],["path",{d:"M8 21v-5a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v5",key:"xk3gvk"}],["path",{d:"M8 10h8",key:"c7uz4u"}],["path",{d:"M8 18h8",key:"1no2b1"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o_=re("Bed",[["path",{d:"M2 4v16",key:"vw9hq8"}],["path",{d:"M2 8h18a2 2 0 0 1 2 2v10",key:"1dgv2r"}],["path",{d:"M2 17h20",key:"18nfp3"}],["path",{d:"M6 8v9",key:"1yriud"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dP=re("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mx=re("Bold",[["path",{d:"M6 12h9a4 4 0 0 1 0 8H7a1 1 0 0 1-1-1V5a1 1 0 0 1 1-1h7a4 4 0 0 1 0 8",key:"mg9rjx"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aa=re("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pP=re("BookUser",[["path",{d:"M15 13a3 3 0 1 0-6 0",key:"10j68g"}],["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}],["circle",{cx:"12",cy:"8",r:"2",key:"1822b1"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _d=re("Book",[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hP=re("BookmarkPlus",[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}],["line",{x1:"12",x2:"12",y1:"7",y2:"13",key:"1cppfj"}],["line",{x1:"15",x2:"9",y1:"10",y2:"10",key:"1gty7f"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dg=re("Bookmark",[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fP=re("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wR=re("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mP=re("Briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SR=re("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vs=re("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iu=re("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lo=re("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wa=re("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gP=re("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wt=re("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wi=re("CircleCheckBig",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wc=re("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bP=re("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yP=re("CircleMinus",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yc=re("CirclePlus",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yi=re("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xP=re("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vP=re("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pf=re("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bf=re("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EP=re("Coins",[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gx=re("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yb=re("Crosshair",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"22",x2:"18",y1:"12",y2:"12",key:"l9bcsi"}],["line",{x1:"6",x2:"2",y1:"12",y2:"12",key:"13hhkx"}],["line",{x1:"12",x2:"12",y1:"6",y2:"2",key:"10w3f3"}],["line",{x1:"12",x2:"12",y1:"22",y2:"18",key:"15g9kq"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l_=re("Crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u_=re("Dice4",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["path",{d:"M16 8h.01",key:"cr5u4v"}],["path",{d:"M8 8h.01",key:"1e4136"}],["path",{d:"M8 16h.01",key:"18s6g9"}],["path",{d:"M16 16h.01",key:"1f9h7w"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NR=re("Dice6",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["path",{d:"M16 8h.01",key:"cr5u4v"}],["path",{d:"M16 12h.01",key:"1l6xoz"}],["path",{d:"M16 16h.01",key:"1f9h7w"}],["path",{d:"M8 8h.01",key:"1e4136"}],["path",{d:"M8 12h.01",key:"czm47f"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ut=re("Dices",[["rect",{width:"12",height:"12",x:"2",y:"10",rx:"2",ry:"2",key:"6agr2n"}],["path",{d:"m17.92 14 3.5-3.5a2.24 2.24 0 0 0 0-3l-5-4.92a2.24 2.24 0 0 0-3 0L10 6",key:"1o487t"}],["path",{d:"M6 18h.01",key:"uhywen"}],["path",{d:"M10 14h.01",key:"ssrbsk"}],["path",{d:"M15 6h.01",key:"cblpky"}],["path",{d:"M18 9h.01",key:"2061c0"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wP=re("Dumbbell",[["path",{d:"M14.4 14.4 9.6 9.6",key:"ic80wn"}],["path",{d:"M18.657 21.485a2 2 0 1 1-2.829-2.828l-1.767 1.768a2 2 0 1 1-2.829-2.829l6.364-6.364a2 2 0 1 1 2.829 2.829l-1.768 1.767a2 2 0 1 1 2.828 2.829z",key:"nnl7wr"}],["path",{d:"m21.5 21.5-1.4-1.4",key:"1f1ice"}],["path",{d:"M3.9 3.9 2.5 2.5",key:"1evmna"}],["path",{d:"M6.404 12.768a2 2 0 1 1-2.829-2.829l1.768-1.767a2 2 0 1 1-2.828-2.829l2.828-2.828a2 2 0 1 1 2.829 2.828l1.767-1.768a2 2 0 1 1 2.829 2.829z",key:"yhosts"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bx=re("EllipsisVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yx=re("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uf=re("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SP=re("Feather",[["path",{d:"M12.67 19a2 2 0 0 0 1.416-.588l6.154-6.172a6 6 0 0 0-8.49-8.49L5.586 9.914A2 2 0 0 0 5 11.328V18a1 1 0 0 0 1 1z",key:"18jl4k"}],["path",{d:"M16 8 2 22",key:"vp34q"}],["path",{d:"M17.5 15H9",key:"1oz8nu"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ou=re("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Td=re("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NP=re("Flag",[["path",{d:"M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z",key:"i9b6wo"}],["line",{x1:"4",x2:"4",y1:"22",y2:"15",key:"1cm3nv"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kP=re("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xu=re("GraduationCap",[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _P=re("Hammer",[["path",{d:"m15 12-8.373 8.373a1 1 0 1 1-3-3L12 9",key:"eefl8a"}],["path",{d:"m18 15 4-4",key:"16gjal"}],["path",{d:"m21.5 11.5-1.914-1.914A2 2 0 0 1 19 8.172V7l-2.26-2.26a6 6 0 0 0-4.202-1.756L9 2.96l.92.82A6.18 6.18 0 0 1 12 8.4V10l2 2h1.172a2 2 0 0 1 1.414.586L18.5 14.5",key:"b7pghm"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xx=re("Heading1",[["path",{d:"M4 12h8",key:"17cfdx"}],["path",{d:"M4 18V6",key:"1rz3zl"}],["path",{d:"M12 18V6",key:"zqpxq5"}],["path",{d:"m17 12 3-2v8",key:"1hhhft"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TP=re("HeartCrack",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}],["path",{d:"m12 13-1-1 2-2-3-3 2-2",key:"xjdxli"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vx=re("HeartPulse",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}],["path",{d:"M3.22 12H9.5l.5-1 2 4.5 2-7 1.5 3.5h5.27",key:"1uw2ng"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xi=re("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kR=re("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CP=re("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c_=re("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oa=re("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ex=re("Italic",[["line",{x1:"19",x2:"10",y1:"4",y2:"4",key:"15jd3p"}],["line",{x1:"14",x2:"5",y1:"20",y2:"20",key:"bu0au3"}],["line",{x1:"15",x2:"9",y1:"4",y2:"20",key:"uljnxc"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AP=re("KeyRound",[["path",{d:"M2.586 17.414A2 2 0 0 0 2 18.828V21a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h1a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h.172a2 2 0 0 0 1.414-.586l.814-.814a6.5 6.5 0 1 0-4-4z",key:"1s6t7t"}],["circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor",key:"w0ekpg"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IP=re("LampDesk",[["path",{d:"m14 5-3 3 2 7 8-8-7-2Z",key:"1b0msb"}],["path",{d:"m14 5-3 3-3-3 3-3 3 3Z",key:"1uemms"}],["path",{d:"M9.5 6.5 4 12l3 6",key:"1bx08v"}],["path",{d:"M3 22v-2c0-1.1.9-2 2-2h4a2 2 0 0 1 2 2v2H3Z",key:"wap775"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RP=re("Library",[["path",{d:"m16 6 4 14",key:"ji33uf"}],["path",{d:"M12 6v14",key:"1n7gus"}],["path",{d:"M8 8v12",key:"1gg7y9"}],["path",{d:"M4 4v16",key:"6qkkli"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $f=re("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wx=re("ListOrdered",[["line",{x1:"10",x2:"21",y1:"6",y2:"6",key:"76qw6h"}],["line",{x1:"10",x2:"21",y1:"12",y2:"12",key:"16nom4"}],["line",{x1:"10",x2:"21",y1:"18",y2:"18",key:"u3jurt"}],["path",{d:"M4 6h1v4",key:"cnovpq"}],["path",{d:"M4 10h2",key:"16xx2s"}],["path",{d:"M6 18H4c0-1 2-2 2-3s-1-1.5-2-1",key:"m9a95d"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DP=re("ListTodo",[["rect",{x:"3",y:"5",width:"6",height:"6",rx:"1",key:"1defrl"}],["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hf=re("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sa=re("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OP=re("Loader",[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hc=re("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sx=re("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d_=re("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nx=re("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _R=re("Map",[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LP=re("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jP=re("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kx=re("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MP=re("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FP=re("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const so=re("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _x=re("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cd=re("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PP=re("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BP=re("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ht=re("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tx=re("Quote",[["path",{d:"M16 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"rib7q0"}],["path",{d:"M5 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"1ymkrd"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cx=re("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ax=re("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UP=re("Ruler",[["path",{d:"M21.3 15.3a2.4 2.4 0 0 1 0 3.4l-2.6 2.6a2.4 2.4 0 0 1-3.4 0L2.7 8.7a2.41 2.41 0 0 1 0-3.4l2.6-2.6a2.41 2.41 0 0 1 3.4 0Z",key:"icamh8"}],["path",{d:"m14.5 12.5 2-2",key:"inckbg"}],["path",{d:"m11.5 9.5 2-2",key:"fmmyf7"}],["path",{d:"m8.5 6.5 2-2",key:"vc6u1g"}],["path",{d:"m17.5 15.5 2-2",key:"wo5hmg"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vn=re("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TR=re("Scale",[["path",{d:"m16 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"7g6ntu"}],["path",{d:"m2 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"ijws7r"}],["path",{d:"M7 21h10",key:"1b0cd5"}],["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"M3 7h2c2 0 5-1 7-2 2 1 5 2 7 2h2",key:"3gwbw2"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $P=re("Scroll",[["path",{d:"M19 17V5a2 2 0 0 0-2-2H4",key:"zz82l3"}],["path",{d:"M8 21h12a2 2 0 0 0 2-2v-1a1 1 0 0 0-1-1H11a1 1 0 0 0-1 1v1a2 2 0 1 1-4 0V5a2 2 0 1 0-4 0v2a1 1 0 0 0 1 1h3",key:"1ph1d7"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mr=re("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uh=re("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $h=re("ShieldAlert",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ix=re("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HP=re("ShieldOff",[["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M5 5a1 1 0 0 0-1 1v7c0 5 3.5 7.5 7.67 8.94a1 1 0 0 0 .67.01c2.35-.82 4.48-1.97 5.9-3.71",key:"1jlk70"}],["path",{d:"M9.309 3.652A12.252 12.252 0 0 0 11.24 2.28a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1v7a9.784 9.784 0 0 1-.08 1.264",key:"18rp1v"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CR=re("ShieldQuestion",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M9.1 9a3 3 0 0 1 5.82 1c0 2-3 3-3 3",key:"mhlwft"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tn=re("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p_=re("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zP=re("SkipForward",[["polygon",{points:"5 4 15 12 5 20 5 4",key:"16p6eg"}],["line",{x1:"19",x2:"19",y1:"5",y2:"19",key:"futhcm"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ds=re("Skull",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["path",{d:"M8 20v2h8v-2",key:"ded4og"}],["path",{d:"m12.5 17-.5-1-.5 1h1z",key:"3me087"}],["path",{d:"M16 20a2 2 0 0 0 1.56-3.25 8 8 0 1 0-11.12 0A2 2 0 0 0 8 20",key:"xq9p5u"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $l=re("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h_=re("Spline",[["circle",{cx:"19",cy:"5",r:"2",key:"mhkx31"}],["circle",{cx:"5",cy:"19",r:"2",key:"v8kfzx"}],["path",{d:"M5 17A12 12 0 0 1 17 5",key:"1okkup"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ad=re("SquareCheckBig",[["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}],["path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11",key:"1jnkn4"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GP=re("SquareMinus",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M8 12h8",key:"1wcyev"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qP=re("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VP=re("SquareUser",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 21v-2a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v2",key:"1m6ac2"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rx=re("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ia=re("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ii=re("StickyNote",[["path",{d:"M16 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V8Z",key:"qazsjp"}],["path",{d:"M15 3v4a2 2 0 0 0 2 2h4",key:"40519r"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WP=re("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Or=re("Sword",[["polyline",{points:"14.5 17.5 3 6 3 3 6 3 17.5 14.5",key:"1hfsw2"}],["line",{x1:"13",x2:"19",y1:"19",y2:"13",key:"1vrmhu"}],["line",{x1:"16",x2:"20",y1:"16",y2:"20",key:"1bron3"}],["line",{x1:"19",x2:"21",y1:"21",y2:"19",key:"13pww6"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dx=re("Swords",[["polyline",{points:"14.5 17.5 3 6 3 3 6 3 17.5 14.5",key:"1hfsw2"}],["line",{x1:"13",x2:"19",y1:"19",y2:"13",key:"1vrmhu"}],["line",{x1:"16",x2:"20",y1:"16",y2:"20",key:"1bron3"}],["line",{x1:"19",x2:"21",y1:"21",y2:"19",key:"13pww6"}],["polyline",{points:"14.5 6.5 18 3 21 3 21 6 17.5 9.5",key:"hbey2j"}],["line",{x1:"5",x2:"9",y1:"14",y2:"18",key:"1hf58s"}],["line",{x1:"7",x2:"4",y1:"17",y2:"20",key:"pidxm4"}],["line",{x1:"3",x2:"5",y1:"19",y2:"21",key:"1pehsh"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ox=re("Table",[["path",{d:"M12 3v18",key:"108xh3"}],["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f_=re("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hh=re("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YP=re("ThumbsDown",[["path",{d:"M17 14V2",key:"8ymqnk"}],["path",{d:"M9 18.12 10 14H4.17a2 2 0 0 1-1.92-2.56l2.33-8A2 2 0 0 1 6.5 2H20a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2h-2.76a2 2 0 0 0-1.79 1.11L12 22a3.13 3.13 0 0 1-3-3.88Z",key:"m61m77"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KP=re("ThumbsUp",[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a3.13 3.13 0 0 1 3 3.88Z",key:"emmmcr"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZP=re("ToggleLeft",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"6",ry:"6",key:"f2vt7d"}],["circle",{cx:"8",cy:"12",r:"2",key:"1nvbw3"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XP=re("ToggleRight",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"6",ry:"6",key:"f2vt7d"}],["circle",{cx:"16",cy:"12",r:"2",key:"4ma0v8"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cn=re("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const go=re("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QP=re("UserCog",[["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m21.7 16.4-.9-.3",key:"12j9ji"}],["path",{d:"m15.2 13.9-.9-.3",key:"1fdjdi"}],["path",{d:"m16.6 18.7.3-.9",key:"heedtr"}],["path",{d:"m19.1 12.2.3-.9",key:"1af3ki"}],["path",{d:"m19.6 18.7-.4-1",key:"1x9vze"}],["path",{d:"m16.8 12.3-.4-1",key:"vqeiwj"}],["path",{d:"m14.3 16.6 1-.4",key:"1qlj63"}],["path",{d:"m20.7 13.8 1-.4",key:"1v5t8k"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zf=re("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AR=re("UserX",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ms=re("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cr=re("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zh=re("WandSparkles",[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72",key:"ul74o6"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JP=re("Weight",[["circle",{cx:"12",cy:"5",r:"3",key:"rqqgnr"}],["path",{d:"M6.5 8a2 2 0 0 0-1.905 1.46L2.1 18.5A2 2 0 0 0 4 21h16a2 2 0 0 0 1.925-2.54L19.4 9.5A2 2 0 0 0 17.48 8Z",key:"56o5sh"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e8=re("Wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mt=re("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ar=re("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),IR=E.createContext(void 0);function t8({children:e}){const[t,n]=E.useState(null),[r,a]=E.useState(!1),[i,o]=E.useState(null);return s.jsxs(IR.Provider,{value:{setGlobalError:n,setGlobalLoading:a,setGlobalWarning:o},children:[r&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsx("div",{className:"bg-white rounded-lg p-6 shadow-xl",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-4 border-blue-500 border-t-transparent"})})}),i&&s.jsx("div",{className:"fixed top-4 right-4 max-w-sm z-50",children:s.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg shadow-lg p-4",children:s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx(go,{className:"w-5 h-5 text-yellow-500 flex-shrink-0 mt-0.5"}),s.jsx("div",{className:"flex-1",children:s.jsx("p",{className:"text-yellow-700",children:i})}),s.jsx("button",{onClick:()=>o(null),className:"text-yellow-500 hover:text-yellow-700",children:s.jsx(mt,{className:"w-5 h-5"})})]})})}),t&&s.jsx("div",{className:"fixed top-4 right-4 max-w-sm z-50",children:s.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg shadow-lg p-4",children:s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx(wt,{className:"w-5 h-5 text-red-500 flex-shrink-0 mt-0.5"}),s.jsx("div",{className:"flex-1",children:s.jsx("p",{className:"text-red-700",children:t})}),s.jsx("button",{onClick:()=>n(null),className:"text-red-500 hover:text-red-700",children:s.jsx(mt,{className:"w-5 h-5"})})]})})}),e]})}function RR(){const e=E.useContext(IR);if(e===void 0)throw new Error("useApp must be used within an AppProvider");return e}async function n8(e,t,n,r){const{data:a,error:i}=await se.auth.signUp({email:e,password:t,options:{data:{username:n.trim(),role:r}}});if(i)throw i.message.includes("User already registered")?new Error("An account with this email already exists."):(console.error("Sign up error (auth):",i.message),new Error(`Authentication error: ${i.message}`));if(!a.user)throw console.error("Sign up error: User object not returned after sign up."),new Error("Sign up failed: Could not retrieve user information.");const{error:o}=await se.from("users").insert({id:a.user.id,username:n.trim(),role:r,email:e});if(o)throw console.error("Sign up error (profile creation):",o.message),new Error(`Account created, but failed to set up user profile: ${o.message}. Please contact support.`);return a.user}async function r8(e,t){const{data:n,error:r}=await se.auth.signInWithPassword({email:e,password:t});if(r)throw r;if(n.user){const{error:a}=await se.from("users").update({last_login:new Date().toISOString(),updated_at:new Date().toISOString()}).eq("id",n.user.id);a&&console.error("Failed to update user timestamps on login:",a.message)}if(!n.session){const{data:a,error:i}=await se.auth.getSession();if(i)throw i;return{user:n.user,session:a.session}}return{user:n.user,session:n.session}}async function a8(){const{error:e}=await se.auth.signOut();if(e)throw console.error("Sign out error:",e.message),e}const m_=["player","dm","admin"],DR=E.createContext(void 0);function cn(){const e=E.useContext(DR);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e}function s8({children:e}){const[t,n]=E.useState(null),[r,a]=E.useState(null),[i,o]=E.useState(null),[l,u]=E.useState(!0),[c,d]=E.useState(!1),p=Mr(),{setGlobalError:h}=RR(),f=E.useCallback(async S=>{var T,A,I;try{const{data:C}=await se.auth.getSession(),N=(I=(A=(T=C==null?void 0:C.session)==null?void 0:T.user)==null?void 0:A.user_metadata)==null?void 0:I.role;if(N&&m_.includes(N))return N;const{data:O,error:D}=await se.from("users").select("role").eq("id",S).single();if(D)return console.error("Error fetching user role from table:",D.message),"player";const B=O==null?void 0:O.role;return B&&m_.includes(B)?B:"player"}catch(C){return console.error("Unexpected error in fetchUserRole:",C),"player"}},[]);E.useEffect(()=>{se.auth.getSession().then(({data:{session:T}})=>{a(T),n((T==null?void 0:T.user)??null)}).catch(T=>{console.error("Error getting initial session:",T),n(null),a(null),u(!1)});const{data:S}=se.auth.onAuthStateChange((T,A)=>{a(A),n((A==null?void 0:A.user)??null)});return()=>{var T;(T=S==null?void 0:S.subscription)==null||T.unsubscribe()}},[]),E.useEffect(()=>{t?f(t.id).then(o).finally(()=>{u(!1)}):(o(null),u(!1))},[t,f]);const m=async(S,T,A,I)=>{try{d(!0),h(null),await n8(S,T,A,I)}catch(C){throw h(C instanceof Error?C.message:"Signup failed"),C}finally{d(!1)}},v=async(S,T)=>{try{d(!0),h(null),await r8(S,T),p("/")}catch(A){let I="Authentication failed. Please check your credentials.";throw A instanceof Error&&(A.message.includes("Invalid login credentials")?I="Incorrect email or password.":A.message.includes("Email not confirmed")?I="Please verify your email address before logging in.":A.message.includes("network error")||A.message.includes("Failed to fetch")?I="Network error. Please check your connection and try again.":I=A.message.length>100?"An unexpected authentication error occurred.":A.message),h(I),new Error(I)}finally{d(!1)}},y=E.useCallback(async()=>{if(!c)try{d(!0),await a8(),n(null),a(null),o(null),h(null),p("/login")}catch(S){console.error("Sign out error:",S),h("Failed to sign out")}finally{d(!1)}},[c,p,h]),g=()=>i==="admin",x=()=>i==="dm"||i==="admin",w=()=>i==="player",k=l||c;return s.jsx(DR.Provider,{value:{user:t,session:r,role:i,isLoading:k,signIn:v,signUp:m,signOut:y,isAdmin:g,isDM:x,isPlayer:w},children:e})}const OR=E.createContext(void 0),Tp=30*60*1e3,g_=30*1e3,i8=10*1e3;function o8({children:e}){const{signOut:t}=cn(),n=Mr(),r=E.useRef(Date.now()),a=E.useRef(null),i=E.useRef(null),[o,l]=E.useState(!1),u=E.useCallback(()=>{a.current&&clearTimeout(a.current),i.current&&clearTimeout(i.current),i.current=setTimeout(()=>{l(!0)},Tp-g_),a.current=setTimeout(async()=>{await t(),n("/login",{state:{message:"Your session has expired due to inactivity."}})},Tp),r.current=Date.now(),l(!1)},[t,n]),c=E.useCallback(()=>{u()},[u]);return E.useEffect(()=>{const d=["mousedown","keydown","scroll","mousemove","click","touchstart"];let p;function h(m,v){let y;return function(...x){const w=()=>{clearTimeout(y),m(...x)};clearTimeout(y),y=setTimeout(w,v)}}const f=h(()=>{Date.now()-r.current>1e3&&u()},1e3);return d.forEach(m=>{document.addEventListener(m,f)}),p=window.setInterval(()=>{const m=Date.now()-r.current;m>=Tp-g_&&l(!0),m>=Tp&&(t(),n("/login",{state:{message:"Your session has expired due to inactivity."}}))},i8),u(),()=>{d.forEach(m=>{document.removeEventListener(m,f)}),a.current&&clearTimeout(a.current),i.current&&clearTimeout(i.current),window.clearInterval(p)}},[u,t,n]),s.jsx(OR.Provider,{value:{showWarning:o,extendSession:c},children:e})}function l8(){const e=E.useContext(OR);if(e===void 0)throw new Error("useSessionTimeout must be used within a SessionTimeoutProvider");return e}const ya=class ya{constructor(){rp(this,"environment");this.environment="production"}static getInstance(){return ya.instance||(ya.instance=new ya),ya.instance}logError(t,n={},r="medium"){const a={error:t,context:{...n,timestamp:new Date().toISOString(),path:window.location.pathname},severity:r};this.environment==="development"&&console.error("Error Report:",{message:t.message,stack:t.stack,...a.context,severity:r}),this.environment==="production"&&this.sendToErrorTrackingService(a)}async sendToErrorTrackingService(t){try{console.error("Production Error:",t)}catch(n){console.error("Failed to send error report:",n)}}static handleError(t,n){const r=ya.getInstance();t instanceof Error?r.logError(t,n):r.logError(new Error(String(t)),n)}static handleNetworkError(t,n){const r=ya.getInstance();if(t instanceof Error){const a=t.message.toLowerCase().includes("network")||t.message.toLowerCase().includes("connection")||t.message.toLowerCase().includes("offline");r.logError(t,{...n,additionalData:{isNetworkError:a}},a?"high":"medium")}}static handleAuthError(t,n){const r=ya.getInstance();if(t instanceof Error){const a=t.message.toLowerCase().includes("auth")||t.message.toLowerCase().includes("unauthorized")||t.message.toLowerCase().includes("forbidden");r.logError(t,{...n,additionalData:{isAuthError:a}},a?"high":"medium")}}};rp(ya,"instance");let ul=ya;class u8 extends E.Component{constructor(n){super(n);rp(this,"handleRefresh",()=>{window.location.reload()});this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(n){return{hasError:!0,error:n,errorInfo:null}}componentDidCatch(n,r){ul.handleError(n,{action:"render",additionalData:{componentStack:r.componentStack}})}render(){return this.state.hasError?this.props.fallback?this.props.fallback:s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4",children:s.jsxs("div",{className:"max-w-md w-full bg-white rounded-lg shadow-lg p-6",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[s.jsx(go,{className:"w-8 h-8 text-red-500"}),s.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"Something went wrong"})]}),s.jsx("p",{className:"text-gray-600 mb-4",children:"We apologize for the inconvenience. The application has encountered an unexpected error."}),this.state.error&&s.jsx("div",{className:"mb-6",children:s.jsxs("div",{className:"bg-red-50 border border-red-100 rounded-lg p-4",children:[s.jsx("p",{className:"text-sm font-medium text-red-800 mb-2",children:"Error Details:"}),s.jsx("p",{className:"text-sm text-red-700 font-mono break-all",children:this.state.error.message||"No error message available"})]})}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[s.jsxs("button",{onClick:this.handleRefresh,className:"flex-1 flex items-center justify-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[s.jsx(Cx,{className:"w-5 h-5"}),"Refresh Page"]}),s.jsxs(Ku,{to:"/",className:"flex-1 flex items-center justify-center gap-2 px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors",children:[s.jsx(CP,{className:"w-5 h-5"}),"Go Home"]})]})]})}):this.props.children}}const LR=new C6({defaultOptions:{queries:{staleTime:1e3*60*5,refetchOnWindowFocus:!1,retry:1}}}),c8=/(\d+)?d(\d+)/i;function d8(e){const t=e.match(c8);if(!t){const i=`d${e.replace(/\D/g,"")}`;return["d4","d6","d8","d10","d12","d20"].includes(i)?[i]:(console.warn(`Invalid dice string format: "${e}". Could not parse.`),[])}const n=parseInt(t[1]||"1",10),r=parseInt(t[2],10),a=`d${r}`;return["d4","d6","d8","d10","d12","d20"].includes(a)?Array(n).fill(a):(console.warn(`Invalid die type in string: "d${r}" from "${e}".`),[])}const jR=E.createContext(void 0),p8=20;function h8({children:e}){const[t,n]=E.useState(!1),[r,a]=E.useState(null),[i,o]=E.useState([]),[l,u]=E.useState([]),[c,d]=E.useState(!1),[p,h]=E.useState(!1),f=E.useCallback(S=>{n(T=>{const A=!T;if(A){const I={...S};I.label&&!I.description&&(I.description=I.label),a(I||null);let C=[];S!=null&&S.dice?C=d8(S.dice):S!=null&&S.initialDice&&(C=S.initialDice),(S==null?void 0:S.rollMode)==="deathRoll"?C=["d20"]:(S==null?void 0:S.rollMode)==="recoveryRoll"?C=["d6"]:(S==null?void 0:S.rollMode)==="rallyRoll"?C=["d20"]:(S==null?void 0:S.rollMode)==="skillCheck"&&C.length===0?C=["d20"]:(S==null?void 0:S.rollMode)==="advancementRoll"&&(C=["d20"]),o(C),d(!1),h((S==null?void 0:S.requiresBane)||(S==null?void 0:S.rollMode)==="rallyRoll"||!1)}else a(null),o([]),d(!1),h(!1);return A})},[]),m=E.useCallback(S=>{r!=null&&r.rollMode&&["deathRoll","recoveryRoll","rallyRoll","advancementRoll"].includes(r.rollMode)||(o(T=>[...T,S]),(c||p)&&(d(!1),h(!1)))},[c,p,r]),v=E.useCallback(S=>{r!=null&&r.rollMode&&["deathRoll","recoveryRoll","rallyRoll","advancementRoll"].includes(r.rollMode)||o(T=>{if(T.length===0)return[];if(S){const A=T.lastIndexOf(S);if(A!==-1){const I=[...T];return I.splice(A,1),I}}return T.slice(0,-1)})},[r]),y=E.useCallback(()=>{r!=null&&r.rollMode&&["deathRoll","recoveryRoll","rallyRoll","advancementRoll"].includes(r.rollMode)||(o([]),d(!1),h(!1))},[r]),g=E.useCallback(S=>{r!=null&&r.rollMode&&["deathRoll","recoveryRoll","rallyRoll","advancementRoll"].includes(r.rollMode)||(S?(d(!0),h(!1),o(["d20"])):d(!1))},[r]),x=E.useCallback(S=>{r!=null&&r.rollMode&&["deathRoll","recoveryRoll","rallyRoll","advancementRoll"].includes(r.rollMode)||(S?(h(!0),d(!1),o(["d20"])):(r==null?void 0:r.rollMode)!=="rallyRoll"&&h(!1))},[r]),w=E.useCallback(S=>{u(T=>{const I=[{...S,id:crypto.randomUUID(),timestamp:Date.now()},...T];return I.length>p8&&I.pop(),I})},[]),k=E.useCallback(()=>{u([])},[]);return s.jsx(jR.Provider,{value:{showDiceRoller:t,currentConfig:r,dicePool:i,rollHistory:l,isBoonActive:c,isBaneActive:p,toggleDiceRoller:f,addDie:m,removeLastDie:v,clearDicePool:y,setBoon:g,setBane:x,addRollToHistory:w,clearHistory:k},children:e})}function Kr(){const e=E.useContext(jR);if(e===void 0)throw new Error("useDice must be used within a DiceProvider");return e}function f8(){const e=gi(),{signOut:t,isAdmin:n,isDM:r,role:a,user:i}=cn(),{toggleDiceRoller:o}=Kr(),[l,u]=E.useState(!1),[c,d]=E.useState(!1),p=E.useRef(null),h=E.useRef(null),f=y=>e.pathname===y,m=[{path:"/",label:"Characters",icon:Cr,roles:["player","dm","admin"]},{path:"/compendium",label:"Compendium",icon:_d,roles:["player","dm","admin"]},{path:"/adventure-party",label:"Adventure Party",icon:Or,roles:["player","dm","admin"]},{path:"/notes",label:"Notes",icon:ii,roles:["player","dm","admin"]}],v=()=>{l&&u(!1)};return E.useEffect(()=>{const y=g=>{p.current&&!p.current.contains(g.target)&&u(!1),h.current&&!h.current.contains(g.target)&&d(!1)};return document.addEventListener("mousedown",y),()=>{document.removeEventListener("mousedown",y)}},[]),s.jsxs("nav",{className:"bg-gray-800 text-white",ref:p,children:[s.jsx("div",{className:"container mx-auto px-4",children:s.jsxs("div",{className:"flex items-center justify-between h-16",children:[s.jsx("div",{className:"flex-shrink-0"}),s.jsxs("div",{className:"hidden md:flex flex-1 items-center justify-between",children:[s.jsx("div",{className:"flex items-center space-x-4",children:m.filter(y=>y.roles.includes(a||"player")).map(({path:y,label:g,icon:x})=>s.jsxs(Ku,{to:y,onClick:v,className:`flex items-center space-x-2 px-3 py-2 rounded-md text-sm font-medium ${f(y)?"bg-gray-900 text-white":"text-gray-300 hover:bg-gray-700 hover:text-white"}`,children:[s.jsx(x,{className:"w-5 h-5"}),s.jsx("span",{children:g})]},y))}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs("button",{onClick:o,className:"flex items-center space-x-2 px-3 py-2 rounded-md text-sm font-medium text-gray-300 hover:bg-gray-700 hover:text-white",title:"Open Dice Roller",children:[s.jsx(Ut,{className:"w-5 h-5"}),s.jsx("span",{className:"hidden lg:inline",children:"Dice"})]}),s.jsxs("div",{className:"flex items-center space-x-2 px-3 py-2 rounded-md bg-gray-700",title:`Current role: ${a}`,children:[n()?s.jsx(l_,{className:"w-5 h-5 text-yellow-400"}):r()?s.jsx(Tn,{className:"w-5 h-5 text-blue-400"}):s.jsx(Cr,{className:"w-5 h-5 text-green-400"}),s.jsx("span",{className:"text-sm font-medium hidden lg:inline",children:n()?"Admin":r()?"DM":"Player"})]}),s.jsxs("div",{className:"relative",ref:h,children:[s.jsxs("button",{onClick:()=>d(!c),className:"flex items-center space-x-2 px-3 py-2 rounded-md text-sm font-medium text-gray-300 hover:bg-gray-700 hover:text-white",children:[s.jsx("span",{children:(i==null?void 0:i.username)||"Account"}),s.jsx(iu,{className:`w-4 h-4 transition-transform ${c?"rotate-180":""}`})]}),c&&s.jsx("div",{className:"absolute right-0 mt-2 w-48 bg-gray-800 rounded-md shadow-lg z-50 ring-1 ring-black ring-opacity-5",children:s.jsxs("div",{className:"py-1",children:[s.jsxs(Ku,{to:"/settings",onClick:()=>d(!1),className:"flex items-center w-full text-left px-4 py-2 text-sm text-gray-300 hover:bg-gray-700 hover:text-white",children:[s.jsx(Uh,{className:"w-5 h-5 mr-3"}),s.jsx("span",{children:"Settings"})]}),s.jsxs("button",{onClick:()=>{t(),d(!1)},className:"flex items-center w-full text-left px-4 py-2 text-sm text-gray-300 hover:bg-gray-700 hover:text-white",children:[s.jsx(d_,{className:"w-5 h-5 mr-3"}),s.jsx("span",{children:"Log Out"})]})]})})]})]})]}),s.jsxs("div",{className:"md:hidden flex items-center",children:[s.jsx("button",{onClick:o,className:"p-2 rounded-md text-gray-300 hover:bg-gray-700 hover:text-white mr-2",title:"Open Dice Roller",children:s.jsx(Ut,{className:"w-6 h-6"})}),s.jsxs("button",{onClick:()=>u(!l),className:"p-2 rounded-md text-gray-300 hover:bg-gray-700 hover:text-white","aria-expanded":l,"aria-controls":"mobile-menu",children:[s.jsx("span",{className:"sr-only",children:"Open main menu"}),l?s.jsx(mt,{className:"block h-6 w-6"}):s.jsx(LP,{className:"block h-6 w-6"})]})]})]})}),l&&s.jsx("div",{className:"md:hidden absolute top-16 inset-x-0 bg-gray-800 z-50 shadow-lg",id:"mobile-menu",children:s.jsxs("div",{className:"px-2 pt-2 pb-3 space-y-1 sm:px-3",children:[m.filter(y=>y.roles.includes(a||"player")).map(({path:y,label:g,icon:x})=>s.jsxs(Ku,{to:y,onClick:v,className:`flex items-center space-x-3 px-3 py-2 rounded-md text-base font-medium ${f(y)?"bg-gray-900 text-white":"text-gray-300 hover:bg-gray-700 hover:text-white"}`,children:[s.jsx(x,{className:"w-6 h-6"}),s.jsx("span",{children:g})]},y)),s.jsx("hr",{className:"border-gray-700 my-2"}),s.jsxs(Ku,{to:"/settings",onClick:v,className:`flex items-center space-x-3 px-3 py-2 rounded-md text-base font-medium ${f("/settings")?"bg-gray-900 text-white":"text-gray-300 hover:bg-gray-700 hover:text-white"}`,children:[s.jsx(Uh,{className:"w-6 h-6"}),s.jsx("span",{children:"Settings"})]}),s.jsxs("button",{onClick:()=>{t(),v()},className:"w-full flex items-center space-x-3 px-3 py-2 rounded-md text-base font-medium text-gray-300 hover:bg-gray-700 hover:text-white",children:[s.jsx(d_,{className:"w-6 h-6"}),s.jsx("span",{children:"Log Out"})]}),s.jsx("div",{className:"px-3 pt-4",children:s.jsx("div",{className:"flex items-center space-x-2 px-3 py-2 rounded-md bg-gray-700 w-full",children:n()?s.jsxs(s.Fragment,{children:[s.jsx(l_,{className:"w-5 h-5 text-yellow-400"}),s.jsxs("span",{className:"text-sm font-medium",children:["Admin: ",(i==null?void 0:i.username)||""]})]}):r()?s.jsxs(s.Fragment,{children:[s.jsx(Tn,{className:"w-5 h-5 text-blue-400"}),s.jsxs("span",{className:"text-sm font-medium",children:["DM: ",(i==null?void 0:i.username)||""]})]}):s.jsxs(s.Fragment,{children:[s.jsx(Cr,{className:"w-5 h-5 text-green-400"}),s.jsxs("span",{className:"text-sm font-medium",children:["Player: ",(i==null?void 0:i.username)||""]})]})})})]})})]})}function m8({character:e}){const t=n=>n>=16?"text-purple-600":n>=14?"text-blue-600":n>=12?"text-green-600":n>=10?"text-yellow-600":"text-gray-600";return s.jsx("div",{className:"bg-white rounded-lg shadow-md overflow-hidden hover:shadow-lg transition-shadow cursor-pointer",children:s.jsxs("div",{className:"p-4",children:[s.jsxs("div",{className:"flex justify-between items-start mb-4",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-bold text-gray-900",children:e.name}),s.jsxs("p",{className:"text-sm text-gray-600",children:[e.kin," ",e.profession]})]}),s.jsx("span",{className:"px-2 py-1 text-xs font-semibold rounded-full bg-gray-100 text-gray-800",children:e.age})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Tn,{className:"w-4 h-4 text-red-600"}),s.jsx("span",{className:t(e.attributes.STR),children:e.attributes.STR})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(xi,{className:"w-4 h-4 text-pink-600"}),s.jsx("span",{className:t(e.attributes.CON),children:e.attributes.CON})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Dx,{className:"w-4 h-4 text-yellow-600"}),s.jsx("span",{className:t(e.attributes.AGL),children:e.attributes.AGL})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(wR,{className:"w-4 h-4 text-blue-600"}),s.jsx("span",{className:t(e.attributes.INT),children:e.attributes.INT})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ar,{className:"w-4 h-4 text-purple-600"}),s.jsx("span",{className:t(e.attributes.WIL),children:e.attributes.WIL})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Cr,{className:"w-4 h-4 text-green-600"}),s.jsx("span",{className:t(e.attributes.CHA),children:e.attributes.CHA})]})]}),s.jsx("div",{className:"text-sm text-gray-600",children:s.jsx("p",{className:"line-clamp-2",children:e.appearance||"No appearance set"})})]})})}const g8={},b_=e=>{let t;const n=new Set,r=(d,p)=>{const h=typeof d=="function"?d(t):d;if(!Object.is(h,t)){const f=t;t=p??(typeof h!="object"||h===null)?h:Object.assign({},t,h),n.forEach(m=>m(t,f))}},a=()=>t,u={setState:r,getState:a,getInitialState:()=>c,subscribe:d=>(n.add(d),()=>n.delete(d)),destroy:()=>{(g8?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},c=t=e(r,a,u);return u},b8=e=>e?b_(e):b_;var MR={exports:{}},FR={},PR={exports:{}},BR={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hl=E;function y8(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var x8=typeof Object.is=="function"?Object.is:y8,v8=Hl.useState,E8=Hl.useEffect,w8=Hl.useLayoutEffect,S8=Hl.useDebugValue;function N8(e,t){var n=t(),r=v8({inst:{value:n,getSnapshot:t}}),a=r[0].inst,i=r[1];return w8(function(){a.value=n,a.getSnapshot=t,pg(a)&&i({inst:a})},[e,n,t]),E8(function(){return pg(a)&&i({inst:a}),e(function(){pg(a)&&i({inst:a})})},[e]),S8(n),n}function pg(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!x8(e,n)}catch{return!0}}function k8(e,t){return t()}var _8=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?k8:N8;BR.useSyncExternalStore=Hl.useSyncExternalStore!==void 0?Hl.useSyncExternalStore:_8;PR.exports=BR;var T8=PR.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gf=E,C8=T8;function A8(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var I8=typeof Object.is=="function"?Object.is:A8,R8=C8.useSyncExternalStore,D8=Gf.useRef,O8=Gf.useEffect,L8=Gf.useMemo,j8=Gf.useDebugValue;FR.useSyncExternalStoreWithSelector=function(e,t,n,r,a){var i=D8(null);if(i.current===null){var o={hasValue:!1,value:null};i.current=o}else o=i.current;i=L8(function(){function u(f){if(!c){if(c=!0,d=f,f=r(f),a!==void 0&&o.hasValue){var m=o.value;if(a(m,f))return p=m}return p=f}if(m=p,I8(d,f))return m;var v=r(f);return a!==void 0&&a(m,v)?(d=f,m):(d=f,p=v)}var c=!1,d,p,h=n===void 0?null:n;return[function(){return u(t())},h===null?void 0:function(){return u(h())}]},[t,n,r,a]);var l=R8(e,i[0],i[1]);return O8(function(){o.hasValue=!0,o.value=l},[l]),j8(l),l};MR.exports=FR;var M8=MR.exports;const F8=Xl(M8),UR={},{useDebugValue:P8}=It,{useSyncExternalStoreWithSelector:B8}=F8;let y_=!1;const U8=e=>e;function $8(e,t=U8,n){(UR?"production":void 0)!=="production"&&n&&!y_&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),y_=!0);const r=B8(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return P8(r),r}const x_=e=>{(UR?"production":void 0)!=="production"&&typeof e!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const t=typeof e=="function"?b8(e):e,n=(r,a)=>$8(t,r,a);return Object.assign(n,t),n},$R=e=>e?x_(e):x_,La=$R(e=>({step:0,character:{},setStep:t=>e({step:t}),updateCharacter:t=>e(n=>({character:{...n.character,...t}})),resetCharacter:()=>e({character:{},step:0})}));async function H8(){const{data:e,error:t}=await se.from("kin").select("id, name, description, heroic_ability");if(t)throw console.error("Error fetching kin list:",t),new Error(t.message||"Failed to fetch kin list");return e||[]}async function z8(e){if(!e||e.length===0)return[];const t=e.map(a=>a.trim()).filter(a=>a);if(t.length===0)return[];const{data:n,error:r}=await se.from("heroic_abilities").select("id, name, description, willpower_cost, requirement").in("name",t);if(r)throw console.error("Error fetching ability details by names:",r),new Error(r.message||"Failed to fetch ability details");return(n||[]).map(a=>({id:a.id,name:a.name,description:a.description,willpower_cost:a.willpower_cost,requirement:a.requirement}))}function et({size:e="md",className:t=""}){const n={sm:"w-4 h-4 border-2",md:"w-8 h-8 border-4",lg:"w-12 h-12 border-4"};return s.jsx("div",{className:`flex items-center justify-center ${t}`,role:"status",children:s.jsx("div",{className:`${n[e]} animate-spin rounded-full border-gray-200 border-t-blue-600`,"aria-label":"Loading..."})})}function He({message:e,onClose:t}){return e?s.jsxs("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-4 flex items-start justify-between",role:"alert",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(yi,{className:"w-5 h-5 mr-2 flex-shrink-0"}),s.jsx("span",{className:"block sm:inline",children:e})]}),t&&s.jsx("button",{onClick:t,className:"ml-4 p-1 text-red-500 hover:text-red-700 hover:bg-red-200 rounded-full transition-colors","aria-label":"Close error message",children:s.jsx(mt,{className:"w-4 h-4"})})]}):null}const v_=e=>e?e.split(",").map(t=>t.trim()).filter(t=>t):[];function G8(){const{character:e,updateCharacter:t}=La(),[n,r]=E.useState(null),{data:a=[],isLoading:i,error:o}=Vt({queryKey:["kinListWithHeroicAbility"],queryFn:H8,retry:!1});E.useEffect(()=>{if(e.kin&&a.length>0&&!n){const m=a.find(v=>v.name===e.kin);if(m){r(m.id);const v=v_(m.heroic_ability);JSON.stringify(e.kinAbilityNames)!==JSON.stringify(v)&&t({kinAbilityNames:v})}}},[e.kin,a,n,e.kinAbilityNames,t]);const l=m=>{r(m.id);const v=v_(m.heroic_ability);t({kin:m.name,kinAbilityNames:v})},u=E.useMemo(()=>a.find(m=>m.id===n),[a,n]),c=E.useMemo(()=>e.kinAbilityNames||[],[e.kinAbilityNames]),{data:d=[],isLoading:p,error:h}=Vt({queryKey:["abilityDetails",c.sort().join(",")],queryFn:()=>z8(c),enabled:c.length>0,staleTime:10*60*1e3,retry:!1}),f=m=>s.jsxs("div",{className:"mb-4 p-3 border rounded bg-gray-50 shadow-sm",children:[s.jsx("h4",{className:"font-semibold text-md text-gray-800",children:m.name}),m.willpower_cost!=null&&s.jsxs("p",{className:"text-xs text-purple-700 font-medium mt-1",children:["Willpower Cost: ",m.willpower_cost]}),m.requirement&&s.jsxs("p",{className:"text-xs text-gray-600 mt-1",children:["Requirement: ",m.requirement]}),s.jsx("p",{className:"text-sm text-gray-700 mt-2",children:m.description})]},m.id);if(i)return s.jsx("div",{className:"flex justify-center items-center h-[60vh]",children:s.jsx(et,{size:"lg"})});if(o){const m=o instanceof Error?o.message:"Failed to load Kin options.";return console.error("Error loading Kin:",o),s.jsx(He,{title:"Error Loading Kin",message:m})}return s.jsxs("div",{className:"flex space-x-6 h-[60vh]",children:[s.jsxs("div",{className:"w-1/3 border-r pr-4 overflow-y-auto",children:[s.jsx("h3",{className:"text-xl font-bold mb-4 sticky top-0 bg-white pb-2 z-10",children:"Kin List"}),s.jsx("ul",{className:"space-y-1",children:a.map(m=>s.jsx("li",{className:`cursor-pointer p-2 rounded-md text-sm ${n===m.id?"bg-blue-100 font-semibold text-blue-800":"hover:bg-gray-100 text-gray-700"}`,onClick:()=>l(m),children:m.name},m.id))})]}),s.jsx("div",{className:"w-2/3 pl-4 overflow-y-auto",children:u?s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold mb-1",children:u.name}),s.jsx("p",{className:"text-gray-700 mb-4 text-sm",children:u.description}),s.jsx("hr",{className:"my-4 border-gray-300"}),s.jsx("h3",{className:"text-lg font-semibold mb-3 text-gray-800",children:"Kin Abilities"}),p?s.jsx("div",{className:"flex justify-center py-4",children:s.jsx(et,{})}):h?s.jsx(He,{title:"Error Loading Abilities",message:h.message||"Failed to load ability details."}):d.length>0?d.map(f):c.length>0&&!p?s.jsxs(s.Fragment,{children:[s.jsx("p",{className:"text-sm text-orange-600 italic mb-2",children:"Could not fetch full details for the following abilities (check names in database):"}),s.jsx("ul",{className:"list-disc list-inside text-sm text-gray-600",children:c.map(m=>s.jsx("li",{children:m},m))})]}):s.jsx("p",{className:"text-sm text-gray-500 italic",children:"No specific heroic abilities listed for this Kin."})]}):s.jsx("div",{className:"flex items-center justify-center h-full",children:s.jsx("p",{className:"text-gray-500",children:"Select a kin from the list to view details and abilities."})})})]})}async function q8(){const{data:e,error:t}=await se.from("professions").select("*").order("name");if(t)throw console.error("Error fetching profession list:",t),new Error(t.message||"Failed to fetch profession list");return e||[]}async function V8(e){const{data:t,error:n}=await se.from("heroic_abilities").select("*").eq("profession",e);if(n)throw console.error("Error fetching heroic abilities:",n),new Error(n.message||"Failed to fetch heroic abilities");return t||[]}async function W8(){const{data:e,error:t}=await se.from("game_spells").select(`
      *,
      magic_schools ( name )
    `).order("name",{ascending:!0});if(t)throw console.error("Error fetching spells:",t),new Error(t.message||"Failed to fetch spells");return e||[]}async function HR(){const{data:e,error:t}=await se.from("magic_schools").select("id, name, description").order("name",{ascending:!0});if(t)throw console.error("Error fetching magic schools:",t),new Error(t.message||"Failed to fetch magic schools");return e||[]}function Y8(){const{character:e,updateCharacter:t}=La(),[n,r]=E.useState(null),[a,i]=E.useState([]),[o,l]=E.useState(null),[u,c]=E.useState(!1),[d,p]=E.useState(null),{data:h=[],isLoading:f,error:m}=Vt({queryKey:["professions"],queryFn:q8}),{data:v=[],isLoading:y,error:g}=Vt({queryKey:["magicSchools"],queryFn:HR});E.useEffect(()=>{if(e.profession&&h.length>0){const A=h.find(I=>I.name===e.profession);if(A&&(r(A),A.magic_school_id===null&&e.professionHeroicAbilityName&&x(A.name,e.professionHeroicAbilityName),e.professionHeroicAbilityName&&a.length>0)){const I=a.find(C=>C.name===e.professionHeroicAbilityName);I&&l(I)}}},[e.profession,h,e.professionHeroicAbilityName]);const x=async(A,I)=>{c(!0),p(null);try{const N=await V8(A);i(N);const O=I??e.professionHeroicAbilityName;if(O){const D=N.find(B=>B.name===O);l(D||null)}else l(null)}catch(C){p(C instanceof Error?C.message:"Failed to load heroic abilities"),i([]),l(null)}finally{c(!1)}};E.useEffect(()=>{n&&n.magic_school_id===null?x(n.name):(i([]),l(null),e.professionHeroicAbilityName&&t({professionHeroicAbilityName:null}))},[n]);const w=A=>{var C;r(A),A.magic_school_id!==null&&((C=v.find(N=>N.id===A.magic_school_id))==null||C.name);const I={profession:A.name,key_attribute:A.key_attribute,magicSchool:A.magic_school_id??null,professionHeroicAbilityName:null};A.magic_school_id!==null&&l(null),t(I)},k=A=>{l(A),t({professionHeroicAbilityName:A.name})},S=A=>{var I;return A===null||v.length===0?null:((I=v.find(C=>C.id===A))==null?void 0:I.name)??`ID: ${A}`},T=(A,I)=>{if(!Array.isArray(A)||A.length===0)return s.jsxs("p",{className:"text-sm text-gray-500",children:["No ",I.toLowerCase()," listed."]});const C=A.filter(N=>typeof N=="string");return C.length===0?s.jsxs("p",{className:"text-sm text-gray-500",children:["No valid ",I.toLowerCase()," listed."]}):s.jsx("ul",{className:"list-disc list-inside text-sm text-gray-600",children:C.map((N,O)=>s.jsx("li",{children:N},O))})};return f||y?s.jsx("div",{className:"flex justify-center items-center h-[80vh]",children:s.jsx(et,{size:"lg"})}):m||g?s.jsx(He,{message:(m==null?void 0:m.message)||(g==null?void 0:g.message)||"Failed to load required data."}):(n&&console.log("Selected Profession Data:",n),s.jsxs("div",{className:"flex flex-col md:flex-row space-y-6 md:space-y-0 md:space-x-6 h-[80vh]",children:[s.jsxs("div",{className:"w-full md:w-1/3 border-b md:border-b-0 md:border-r pb-4 md:pb-0 md:pr-4 overflow-y-auto max-h-[30vh] md:max-h-full",children:[s.jsx("h3",{className:"text-xl font-bold mb-4 sticky top-0 bg-white pb-2 z-10",children:"Profession List"}),s.jsx("ul",{className:"space-y-2",children:h.map(A=>s.jsx("li",{className:`cursor-pointer p-2 rounded-md border ${(n==null?void 0:n.id)===A.id?"bg-blue-100 border-blue-300 font-semibold":"border-gray-200 hover:border-blue-300 hover:bg-blue-50"}`,onClick:()=>w(A),children:A.name},A.id))})]}),s.jsx("div",{className:"w-full md:w-2/3 md:pl-4 overflow-y-auto max-h-[calc(80vh-30vh-2rem)] md:max-h-full",children:n?s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold mb-2",children:n.name}),s.jsx("p",{className:"text-gray-600 mb-4",children:n.description})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-lg",children:"Key Attribute"}),s.jsx("p",{className:"text-gray-700",children:n.key_attribute})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-lg mb-1",children:"Skills"}),T(n.skills,"Skills")]}),n.starting_equipment&&s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-lg mb-1",children:"Starting Equipment"}),T(n.starting_equipment,"Starting Equipment")]}),n.equipment_description&&s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-lg mb-1",children:"Equipment Notes"}),T(n.equipment_description,"Equipment Notes")]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-lg mb-1",children:"Heroic Ability / Magic"}),n.magic_school_id!==null?s.jsxs("p",{className:"text-gray-600",children:["As a mage of the ",s.jsx("strong",{children:S(n.magic_school_id)??"Unknown School"})," school, you don't get a starting heroic ability. Instead, you get your magic."]}):s.jsxs(s.Fragment,{children:[u&&s.jsx(et,{size:"sm"}),d&&s.jsx(He,{message:d}),!u&&!d&&a.length>0?s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:a.map(A=>s.jsxs("div",{className:`border rounded-lg p-4 cursor-pointer transition-all ${(o==null?void 0:o.id)===A.id?"border-green-500 bg-green-50 ring-2 ring-green-300":"border-gray-200 hover:border-green-300 hover:bg-green-50"}`,onClick:()=>k(A),children:[s.jsx("h5",{className:"font-semibold text-lg mb-2",children:A.name}),s.jsx("p",{className:"text-sm text-gray-600 mb-2",children:A.description}),s.jsxs("p",{className:"text-sm text-blue-600",children:["Willpower Cost: ",A.willpower_cost??"N/A"," WP"]}),A.requirement&&typeof A.requirement=="string"&&s.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Requirement: ",A.requirement]})]},A.id))}):!u&&!d&&s.jsx("p",{className:"text-gray-600",children:"No specific heroic abilities listed for this profession, or none available."})]})]}),s.jsxs("div",{className:"mt-6 p-4 bg-blue-50 border border-blue-200 rounded-lg sticky bottom-0",children:[s.jsxs("p",{className:"text-blue-800 font-medium",children:["Selected: ",s.jsx("strong",{children:n.name}),n.magic_school_id!==null&&s.jsxs(s.Fragment,{children:[" (Magic School: ",s.jsx("strong",{children:S(n.magic_school_id)??"N/A"}),")"]}),n.magic_school_id===null&&e.professionHeroicAbilityName&&s.jsxs(s.Fragment,{children:[" with Heroic Ability: ",s.jsx("strong",{children:e.professionHeroicAbilityName})]})]}),n.magic_school_id===null&&!e.professionHeroicAbilityName&&a.length>0&&!u&&s.jsx("p",{className:"text-amber-700 mt-2 text-sm",children:"Please select a heroic ability above to continue."}),n.magic_school_id===null&&a.length===0&&!u&&!d&&s.jsx("p",{className:"text-gray-600 mt-2 text-sm",children:"No heroic ability selection required for this profession."})]})]}):s.jsx("div",{className:"flex justify-center items-center h-full",children:s.jsx("p",{className:"text-gray-500 text-lg",children:"Select a profession from the list to view details."})})})]}))}const Cp={Young:{attributes:{STR:0,CON:1,AGL:1,INT:0,WIL:0,CHA:0},skillPoints:8},Adult:{attributes:{STR:0,CON:0,AGL:0,INT:0,WIL:0,CHA:0},skillPoints:10},Old:{attributes:{STR:-2,CON:-2,AGL:-2,INT:1,WIL:1,CHA:0},skillPoints:12}};function K8(){const{character:e,updateCharacter:t}=La(),n=r=>r===0?"No change":r>0?`+${r}`:r;return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"prose",children:[s.jsx("h3",{className:"text-xl font-bold mb-4",children:"Character Details"}),s.jsx("p",{className:"text-gray-600",children:"Choose a name that fits your character's background and select their age category. Age affects your starting attributes and the number of skill points available during character creation."})]}),s.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Character Name"}),s.jsxs("div",{className:"relative rounded-md shadow-sm",children:[s.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:s.jsx(ms,{className:"h-5 w-5 text-gray-400"})}),s.jsx("input",{type:"text",value:e.name||"",onChange:r=>t({name:r.target.value}),className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter character name"})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Age Category"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:["Young","Adult","Old"].map(r=>s.jsxs("div",{className:`relative rounded-lg border p-6 cursor-pointer transition-all ${e.age===r?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-blue-300"}`,onClick:()=>t({age:r}),children:[s.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[s.jsx(SR,{className:`h-5 w-5 ${e.age===r?"text-blue-500":"text-gray-400"}`}),s.jsx("h4",{className:"text-lg font-medium",children:r})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{children:[s.jsx("h5",{className:"text-sm font-medium text-gray-700 mb-1",children:"Attribute Modifiers"}),s.jsx("div",{className:"grid grid-cols-2 gap-x-4 gap-y-1 text-sm",children:Object.entries(Cp[r].attributes).map(([a,i])=>i!==0&&s.jsxs("div",{className:"flex justify-between",children:[s.jsxs("span",{className:"text-gray-600",children:[a,":"]}),s.jsx("span",{className:i>0?"text-green-600":"text-red-600",children:n(i)})]},a))})]}),s.jsxs("div",{children:[s.jsx("h5",{className:"text-sm font-medium text-gray-700 mb-1",children:"Skill Points"}),s.jsxs("p",{className:"text-sm text-blue-600 font-medium",children:[Cp[r].skillPoints," points"]})]}),s.jsxs("div",{className:"text-xs text-gray-500",children:[r==="Young"&&"Quick to learn, physically developing",r==="Adult"&&"Balanced attributes and experience",r==="Old"&&"Wise and knowledgeable, physically declining"]})]})]},r))})]})]}),(e.name||e.age)&&s.jsx("div",{className:"mt-6 p-4 bg-green-50 border border-green-200 rounded-lg",children:s.jsxs("div",{className:"space-y-2",children:[e.name&&s.jsxs("p",{className:"text-green-800",children:["Name: ",s.jsx("strong",{children:e.name})]}),e.age&&s.jsxs("div",{className:"space-y-1",children:[s.jsxs("p",{className:"text-green-800",children:["Age Category: ",s.jsx("strong",{children:e.age})]}),s.jsxs("p",{className:"text-sm text-green-700",children:["Starting Skill Points: ",s.jsx("strong",{children:Cp[e.age].skillPoints})]}),Object.entries(Cp[e.age].attributes).filter(([r,a])=>a!==0).map(([r,a])=>s.jsxs("p",{className:"text-sm text-green-700",children:[r," Modifier: ",s.jsx("strong",{children:n(a)})]},r))]})]})})]})}function zR(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(n=zR(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function GR(){for(var e,t,n=0,r="",a=arguments.length;n<a;n++)(e=arguments[n])&&(t=zR(e))&&(r&&(r+=" "),r+=t);return r}const E_=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,w_=GR,Z8=(e,t)=>n=>{var r;if((t==null?void 0:t.variants)==null)return w_(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:a,defaultVariants:i}=t,o=Object.keys(a).map(c=>{const d=n==null?void 0:n[c],p=i==null?void 0:i[c];if(d===null)return null;const h=E_(d)||E_(p);return a[c][h]}),l=n&&Object.entries(n).reduce((c,d)=>{let[p,h]=d;return h===void 0||(c[p]=h),c},{}),u=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((c,d)=>{let{class:p,className:h,...f}=d;return Object.entries(f).every(m=>{let[v,y]=m;return Array.isArray(y)?y.includes({...i,...l}[v]):{...i,...l}[v]===y})?[...c,p,h]:c},[]);return w_(e,o,u,n==null?void 0:n.class,n==null?void 0:n.className)},Lx="-",X8=e=>{const t=J8(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:o=>{const l=o.split(Lx);return l[0]===""&&l.length!==1&&l.shift(),qR(l,t)||Q8(o)},getConflictingClassGroupIds:(o,l)=>{const u=n[o]||[];return l&&r[o]?[...u,...r[o]]:u}}},qR=(e,t)=>{var o;if(e.length===0)return t.classGroupId;const n=e[0],r=t.nextPart.get(n),a=r?qR(e.slice(1),r):void 0;if(a)return a;if(t.validators.length===0)return;const i=e.join(Lx);return(o=t.validators.find(({validator:l})=>l(i)))==null?void 0:o.classGroupId},S_=/^\[(.+)\]$/,Q8=e=>{if(S_.test(e)){const t=S_.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},J8=e=>{const{theme:t,prefix:n}=e,r={nextPart:new Map,validators:[]};return t7(Object.entries(e.classGroups),n).forEach(([i,o])=>{xb(o,r,i,t)}),r},xb=(e,t,n,r)=>{e.forEach(a=>{if(typeof a=="string"){const i=a===""?t:N_(t,a);i.classGroupId=n;return}if(typeof a=="function"){if(e7(a)){xb(a(r),t,n,r);return}t.validators.push({validator:a,classGroupId:n});return}Object.entries(a).forEach(([i,o])=>{xb(o,N_(t,i),n,r)})})},N_=(e,t)=>{let n=e;return t.split(Lx).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},e7=e=>e.isThemeGetter,t7=(e,t)=>t?e.map(([n,r])=>{const a=r.map(i=>typeof i=="string"?t+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,l])=>[t+o,l])):i);return[n,a]}):e,n7=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,r=new Map;const a=(i,o)=>{n.set(i,o),t++,t>e&&(t=0,r=n,n=new Map)};return{get(i){let o=n.get(i);if(o!==void 0)return o;if((o=r.get(i))!==void 0)return a(i,o),o},set(i,o){n.has(i)?n.set(i,o):a(i,o)}}},VR="!",r7=e=>{const{separator:t,experimentalParseClassName:n}=e,r=t.length===1,a=t[0],i=t.length,o=l=>{const u=[];let c=0,d=0,p;for(let y=0;y<l.length;y++){let g=l[y];if(c===0){if(g===a&&(r||l.slice(y,y+i)===t)){u.push(l.slice(d,y)),d=y+i;continue}if(g==="/"){p=y;continue}}g==="["?c++:g==="]"&&c--}const h=u.length===0?l:l.substring(d),f=h.startsWith(VR),m=f?h.substring(1):h,v=p&&p>d?p-d:void 0;return{modifiers:u,hasImportantModifier:f,baseClassName:m,maybePostfixModifierPosition:v}};return n?l=>n({className:l,parseClassName:o}):o},a7=e=>{if(e.length<=1)return e;const t=[];let n=[];return e.forEach(r=>{r[0]==="["?(t.push(...n.sort(),r),n=[]):n.push(r)}),t.push(...n.sort()),t},s7=e=>({cache:n7(e.cacheSize),parseClassName:r7(e),...X8(e)}),i7=/\s+/,o7=(e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:a}=t,i=[],o=e.trim().split(i7);let l="";for(let u=o.length-1;u>=0;u-=1){const c=o[u],{modifiers:d,hasImportantModifier:p,baseClassName:h,maybePostfixModifierPosition:f}=n(c);let m=!!f,v=r(m?h.substring(0,f):h);if(!v){if(!m){l=c+(l.length>0?" "+l:l);continue}if(v=r(h),!v){l=c+(l.length>0?" "+l:l);continue}m=!1}const y=a7(d).join(":"),g=p?y+VR:y,x=g+v;if(i.includes(x))continue;i.push(x);const w=a(v,m);for(let k=0;k<w.length;++k){const S=w[k];i.push(g+S)}l=c+(l.length>0?" "+l:l)}return l};function l7(){let e=0,t,n,r="";for(;e<arguments.length;)(t=arguments[e++])&&(n=WR(t))&&(r&&(r+=" "),r+=n);return r}const WR=e=>{if(typeof e=="string")return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=WR(e[r]))&&(n&&(n+=" "),n+=t);return n};function u7(e,...t){let n,r,a,i=o;function o(u){const c=t.reduce((d,p)=>p(d),e());return n=s7(c),r=n.cache.get,a=n.cache.set,i=l,l(u)}function l(u){const c=r(u);if(c)return c;const d=o7(u,n);return a(u,d),d}return function(){return i(l7.apply(null,arguments))}}const Rt=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},YR=/^\[(?:([a-z-]+):)?(.+)\]$/i,c7=/^\d+\/\d+$/,d7=new Set(["px","full","screen"]),p7=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,h7=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,f7=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,m7=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,g7=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,$a=e=>cl(e)||d7.has(e)||c7.test(e),ys=e=>lu(e,"length",N7),cl=e=>!!e&&!Number.isNaN(Number(e)),hg=e=>lu(e,"number",cl),Ou=e=>!!e&&Number.isInteger(Number(e)),b7=e=>e.endsWith("%")&&cl(e.slice(0,-1)),Ve=e=>YR.test(e),xs=e=>p7.test(e),y7=new Set(["length","size","percentage"]),x7=e=>lu(e,y7,KR),v7=e=>lu(e,"position",KR),E7=new Set(["image","url"]),w7=e=>lu(e,E7,_7),S7=e=>lu(e,"",k7),Lu=()=>!0,lu=(e,t,n)=>{const r=YR.exec(e);return r?r[1]?typeof t=="string"?r[1]===t:t.has(r[1]):n(r[2]):!1},N7=e=>h7.test(e)&&!f7.test(e),KR=()=>!1,k7=e=>m7.test(e),_7=e=>g7.test(e),T7=()=>{const e=Rt("colors"),t=Rt("spacing"),n=Rt("blur"),r=Rt("brightness"),a=Rt("borderColor"),i=Rt("borderRadius"),o=Rt("borderSpacing"),l=Rt("borderWidth"),u=Rt("contrast"),c=Rt("grayscale"),d=Rt("hueRotate"),p=Rt("invert"),h=Rt("gap"),f=Rt("gradientColorStops"),m=Rt("gradientColorStopPositions"),v=Rt("inset"),y=Rt("margin"),g=Rt("opacity"),x=Rt("padding"),w=Rt("saturate"),k=Rt("scale"),S=Rt("sepia"),T=Rt("skew"),A=Rt("space"),I=Rt("translate"),C=()=>["auto","contain","none"],N=()=>["auto","hidden","clip","visible","scroll"],O=()=>["auto",Ve,t],D=()=>[Ve,t],B=()=>["",$a,ys],j=()=>["auto",cl,Ve],P=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],Y=()=>["solid","dashed","dotted","double","none"],K=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],$=()=>["start","end","center","between","around","evenly","stretch"],z=()=>["","0",Ve],_=()=>["auto","avoid","all","avoid-page","page","left","right","column"],U=()=>[cl,Ve];return{cacheSize:500,separator:":",theme:{colors:[Lu],spacing:[$a,ys],blur:["none","",xs,Ve],brightness:U(),borderColor:[e],borderRadius:["none","","full",xs,Ve],borderSpacing:D(),borderWidth:B(),contrast:U(),grayscale:z(),hueRotate:U(),invert:z(),gap:D(),gradientColorStops:[e],gradientColorStopPositions:[b7,ys],inset:O(),margin:O(),opacity:U(),padding:D(),saturate:U(),scale:U(),sepia:z(),skew:U(),space:D(),translate:D()},classGroups:{aspect:[{aspect:["auto","square","video",Ve]}],container:["container"],columns:[{columns:[xs]}],"break-after":[{"break-after":_()}],"break-before":[{"break-before":_()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...P(),Ve]}],overflow:[{overflow:N()}],"overflow-x":[{"overflow-x":N()}],"overflow-y":[{"overflow-y":N()}],overscroll:[{overscroll:C()}],"overscroll-x":[{"overscroll-x":C()}],"overscroll-y":[{"overscroll-y":C()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[v]}],"inset-x":[{"inset-x":[v]}],"inset-y":[{"inset-y":[v]}],start:[{start:[v]}],end:[{end:[v]}],top:[{top:[v]}],right:[{right:[v]}],bottom:[{bottom:[v]}],left:[{left:[v]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Ou,Ve]}],basis:[{basis:O()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Ve]}],grow:[{grow:z()}],shrink:[{shrink:z()}],order:[{order:["first","last","none",Ou,Ve]}],"grid-cols":[{"grid-cols":[Lu]}],"col-start-end":[{col:["auto",{span:["full",Ou,Ve]},Ve]}],"col-start":[{"col-start":j()}],"col-end":[{"col-end":j()}],"grid-rows":[{"grid-rows":[Lu]}],"row-start-end":[{row:["auto",{span:[Ou,Ve]},Ve]}],"row-start":[{"row-start":j()}],"row-end":[{"row-end":j()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Ve]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Ve]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...$()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...$(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...$(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[x]}],px:[{px:[x]}],py:[{py:[x]}],ps:[{ps:[x]}],pe:[{pe:[x]}],pt:[{pt:[x]}],pr:[{pr:[x]}],pb:[{pb:[x]}],pl:[{pl:[x]}],m:[{m:[y]}],mx:[{mx:[y]}],my:[{my:[y]}],ms:[{ms:[y]}],me:[{me:[y]}],mt:[{mt:[y]}],mr:[{mr:[y]}],mb:[{mb:[y]}],ml:[{ml:[y]}],"space-x":[{"space-x":[A]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[A]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Ve,t]}],"min-w":[{"min-w":[Ve,t,"min","max","fit"]}],"max-w":[{"max-w":[Ve,t,"none","full","min","max","fit","prose",{screen:[xs]},xs]}],h:[{h:[Ve,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Ve,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Ve,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Ve,t,"auto","min","max","fit"]}],"font-size":[{text:["base",xs,ys]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",hg]}],"font-family":[{font:[Lu]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Ve]}],"line-clamp":[{"line-clamp":["none",cl,hg]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",$a,Ve]}],"list-image":[{"list-image":["none",Ve]}],"list-style-type":[{list:["none","disc","decimal",Ve]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[g]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[g]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Y(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",$a,ys]}],"underline-offset":[{"underline-offset":["auto",$a,Ve]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:D()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ve]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ve]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[g]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...P(),v7]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",x7]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},w7]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[m]}],"gradient-via-pos":[{via:[m]}],"gradient-to-pos":[{to:[m]}],"gradient-from":[{from:[f]}],"gradient-via":[{via:[f]}],"gradient-to":[{to:[f]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[g]}],"border-style":[{border:[...Y(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[g]}],"divide-style":[{divide:Y()}],"border-color":[{border:[a]}],"border-color-x":[{"border-x":[a]}],"border-color-y":[{"border-y":[a]}],"border-color-s":[{"border-s":[a]}],"border-color-e":[{"border-e":[a]}],"border-color-t":[{"border-t":[a]}],"border-color-r":[{"border-r":[a]}],"border-color-b":[{"border-b":[a]}],"border-color-l":[{"border-l":[a]}],"divide-color":[{divide:[a]}],"outline-style":[{outline:["",...Y()]}],"outline-offset":[{"outline-offset":[$a,Ve]}],"outline-w":[{outline:[$a,ys]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:B()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[g]}],"ring-offset-w":[{"ring-offset":[$a,ys]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",xs,S7]}],"shadow-color":[{shadow:[Lu]}],opacity:[{opacity:[g]}],"mix-blend":[{"mix-blend":[...K(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":K()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[u]}],"drop-shadow":[{"drop-shadow":["","none",xs,Ve]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[p]}],saturate:[{saturate:[w]}],sepia:[{sepia:[S]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[u]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[p]}],"backdrop-opacity":[{"backdrop-opacity":[g]}],"backdrop-saturate":[{"backdrop-saturate":[w]}],"backdrop-sepia":[{"backdrop-sepia":[S]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Ve]}],duration:[{duration:U()}],ease:[{ease:["linear","in","out","in-out",Ve]}],delay:[{delay:U()}],animate:[{animate:["none","spin","ping","pulse","bounce",Ve]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[k]}],"scale-x":[{"scale-x":[k]}],"scale-y":[{"scale-y":[k]}],rotate:[{rotate:[Ou,Ve]}],"translate-x":[{"translate-x":[I]}],"translate-y":[{"translate-y":[I]}],"skew-x":[{"skew-x":[T]}],"skew-y":[{"skew-y":[T]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Ve]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ve]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":D()}],"scroll-mx":[{"scroll-mx":D()}],"scroll-my":[{"scroll-my":D()}],"scroll-ms":[{"scroll-ms":D()}],"scroll-me":[{"scroll-me":D()}],"scroll-mt":[{"scroll-mt":D()}],"scroll-mr":[{"scroll-mr":D()}],"scroll-mb":[{"scroll-mb":D()}],"scroll-ml":[{"scroll-ml":D()}],"scroll-p":[{"scroll-p":D()}],"scroll-px":[{"scroll-px":D()}],"scroll-py":[{"scroll-py":D()}],"scroll-ps":[{"scroll-ps":D()}],"scroll-pe":[{"scroll-pe":D()}],"scroll-pt":[{"scroll-pt":D()}],"scroll-pr":[{"scroll-pr":D()}],"scroll-pb":[{"scroll-pb":D()}],"scroll-pl":[{"scroll-pl":D()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ve]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[$a,ys,hg]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},C7=u7(T7);function A7(...e){return C7(GR(e))}const I7=Z8("inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{primary:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline",danger:"bg-red-600 text-white hover:bg-red-700",danger_outline:"border border-red-500 text-red-600 hover:bg-red-50"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"primary",size:"default"}}),V=It.forwardRef(({className:e,variant:t,size:n,icon:r,iconPosition:a="left",fullWidth:i,loading:o,children:l,...u},c)=>{const d=o||u.disabled;return s.jsxs("button",{className:A7(I7({variant:t,size:n,className:e}),i&&"w-full",o&&"relative"),ref:c,disabled:d,...u,children:[o&&s.jsx(Sa,{className:`animate-spin h-4 w-4 ${l?a==="left"?"mr-2":"ml-2":""}`}),!o&&r&&a==="left"&&s.jsx(r,{className:`h-4 w-4 ${l?"mr-2":""}`}),!o&&l,!o&&r&&a==="right"&&s.jsx(r,{className:`h-4 w-4 ${l?"ml-2":""}`})]})});V.displayName="Button";const fg=e=>e<=5?3:e<=8?4:e<=12?5:e<=15?6:7,mg=e=>e<=12?"None":e<=15?"+D4":"+D6",jo=()=>{const e=Array.from({length:4},()=>Math.floor(Math.random()*6)+1);return e.sort((t,n)=>n-t),e.slice(0,3).reduce((t,n)=>t+n,0)},R7=()=>({STR:jo(),CON:jo(),AGL:jo(),INT:jo(),WIL:jo(),CHA:jo()}),D7={Young:{STR:0,CON:1,AGL:1,INT:0,WIL:0,CHA:0},Adult:{STR:0,CON:0,AGL:0,INT:0,WIL:0,CHA:0},Old:{STR:-2,CON:-2,AGL:-2,INT:1,WIL:1,CHA:0}};function O7(){var w,k,S,T,A,I;const{character:e,updateCharacter:t}=La(),[n,r]=E.useState({STR:{value:((w=e.attributes)==null?void 0:w.STR)||0,baseChance:0},CON:{value:((k=e.attributes)==null?void 0:k.CON)||0,baseChance:0},AGL:{value:((S=e.attributes)==null?void 0:S.AGL)||0,baseChance:0},INT:{value:((T=e.attributes)==null?void 0:T.INT)||0,baseChance:0},WIL:{value:((A=e.attributes)==null?void 0:A.WIL)||0,baseChance:0},CHA:{value:((I=e.attributes)==null?void 0:I.CHA)||0,baseChance:0}}),[a,i]=E.useState(!1),[o,l]=E.useState(null),[u,c]=E.useState(""),d=C=>e.age?D7[e.age][C]:0,p=(C,N)=>N+d(C),h=()=>{i(!0);const C=R7(),N=Object.entries(C).reduce((D,[B,j])=>({...D,[B]:p(B,j)}),{}),O=Object.entries(C).reduce((D,[B,j])=>({...D,[B]:{value:j,baseChance:fg(p(B,j))}}),{});r(O),t({attributes:N,current_hp:N.CON,current_wp:N.WIL,magic_school:e.magicSchool??null}),i(!1)},f=(C,N)=>{const O=p(C,N),D={...n,[C]:{value:N,baseChance:fg(O)}};r(D);const B=Object.entries(D).reduce((j,[P,{value:Y}])=>({...j,[P]:p(P,Y)}),{});t({attributes:B,current_hp:B.CON,current_wp:B.WIL,magic_school:e.magicSchool??null})},m=(C,N)=>{l(C),c(N>0?N.toString():"")},v=()=>{l(null),c("")},y=C=>{if(C.preventDefault(),!o)return;const N=Math.max(3,Math.min(18,parseInt(u,10)||3));f(o,N),v()},g=()=>{if(!e.kin||!n.AGL.value)return 0;const C={Human:10,Halfling:8,Dwarf:8,Elf:10,Mallard:8,Wolfkin:12}[e.kin],N=p("AGL",n.AGL.value);let O=0;return N<=6?O=-4:N<=9?O=-2:N<=12?O=0:N<=15?O=2:O=4,C+O},x=e.key_attribute;return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"prose",children:[s.jsx("h3",{className:"text-xl font-bold mb-4",children:"Assign Attributes"}),s.jsxs("p",{className:"text-gray-600",children:["Roll or manually enter your character's attributes. Scores range from 3 to 18.",e.age&&" Age modifiers will be automatically applied."]}),e.profession&&s.jsx("div",{className:"mt-4 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:s.jsxs("p",{className:"text-blue-800",children:["Selected Profession: ",s.jsx("strong",{children:e.profession}),x&&s.jsxs(s.Fragment,{children:[" (Key Attribute: ",s.jsx("strong",{children:x}),")"]})]})})]}),s.jsx("div",{className:"flex justify-between items-center",children:s.jsxs("button",{onClick:h,disabled:a,className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50",children:[a?s.jsx(Cx,{className:"w-5 h-5 animate-spin"}):s.jsx(Ut,{className:"w-5 h-5"}),"Roll All Attributes"]})}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:Object.entries(n).map(([C,{value:N}])=>{const O=d(C),D=p(C,N),B=x===C;return s.jsxs("div",{className:`p-4 border rounded-lg shadow-sm bg-white ${B?"bg-yellow-100 border-yellow-500":""}`,children:[s.jsxs("div",{className:"flex justify-between items-center mb-2",children:[s.jsx("label",{className:"text-lg font-medium",children:C}),s.jsxs("span",{className:"text-sm text-gray-500",children:["Base Chance: ",fg(D)]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("input",{type:"text",readOnly:!0,value:N>0?N:"",onClick:()=>m(C,N),placeholder:"Click to set value",className:"w-full px-3 py-2 border rounded-md cursor-pointer focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),O!==0&&s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsx("span",{className:"text-gray-600",children:"Age Modifier:"}),s.jsx("span",{className:O>0?"text-green-600":"text-red-600",children:O>0?`+${O}`:O})]}),N>0&&s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsx("span",{className:"text-gray-600",children:"Final Value:"}),s.jsx("span",{className:"font-medium text-blue-600",children:D})]})]}),(C==="STR"||C==="AGL")&&D>12&&s.jsxs("p",{className:"mt-2 text-sm text-blue-600",children:["Damage Bonus: ",mg(D)]})]},C)})}),e.kin&&Object.values(n).every(C=>C.value>0)&&s.jsx("div",{className:"mt-6 p-4 bg-green-50 border border-green-200 rounded-lg",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-gray-700",children:"Movement"}),s.jsx("p",{className:"text-2xl font-bold text-green-700",children:g()})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-gray-700",children:"STR Damage Bonus"}),s.jsx("p",{className:"text-2xl font-bold text-blue-700",children:mg(p("STR",n.STR.value))})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-gray-700",children:"AGL Damage Bonus"}),s.jsx("p",{className:"text-2xl font-bold text-blue-700",children:mg(p("AGL",n.AGL.value))})]})]})}),e.age&&s.jsxs("div",{className:"flex items-start gap-2 p-4 bg-amber-50 border border-amber-200 rounded-lg",children:[s.jsx(wt,{className:"w-5 h-5 text-amber-500 flex-shrink-0 mt-0.5"}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-amber-800",children:"Age Modifiers Applied"}),s.jsxs("p",{className:"text-sm text-amber-700",children:[e.age==="Young"&&"Young: +1 CON, +1 AGL",e.age==="Adult"&&"Adult: No attribute modifiers",e.age==="Old"&&"Old: -2 STR, -2 CON, -2 AGL, +1 INT, +1 WIL"]})]})]}),o&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",onClick:v,children:s.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-xl w-full max-w-xs",onClick:C=>C.stopPropagation(),children:[s.jsxs("h3",{className:"text-lg font-bold mb-4",children:["Set ",o," Score (3-18)"]}),s.jsxs("form",{onSubmit:y,children:[s.jsx("input",{type:"number",value:u,onChange:C=>c(C.target.value),onKeyDown:C=>C.key==="Enter"&&y(C),className:"w-full px-3 py-2 border rounded-md text-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",autoFocus:!0}),s.jsxs("div",{className:"mt-6 flex justify-end gap-2",children:[s.jsx(V,{type:"button",variant:"outline",onClick:v,children:"Cancel"}),s.jsx(V,{type:"submit",children:"OK"})]})]})]})})]})}function L7(e){const[t,n]=E.useState([]),[r,a]=E.useState([]),[i,o]=E.useState(!0),[l,u]=E.useState(null);return E.useEffect(()=>{async function c(){try{o(!0),u(null);const{data:d,error:p}=await se.from("game_spells").select("*").eq("rank",0).order("name");if(p)throw p;n(d||[]);let h=se.from("game_spells").select(`
            *,
            magic_schools ( name )
          `).eq("rank",1).order("name");e?h=h.or(`school_id.is.null,school_id.eq.${e}`):h=h.is("school_id",null);const{data:f,error:m}=await h;if(m)throw m;a(f||[])}catch(d){console.error("Error loading spells:",d),u(d instanceof Error?d.message:"Failed to load spells")}finally{o(!1)}}c()},[e]),{tricks:t,spells:r,loading:i,error:l}}function j7(){var D;const{character:e,updateCharacter:t}=La(),[n,r]=E.useState([]),[a,i]=E.useState([]),[o,l]=E.useState("all"),[u,c]=E.useState(null),[d,p]=E.useState(null),[h,f]=E.useState([]),[m,v]=E.useState(!0),[y,g]=E.useState(null),x=(D=e.profession)==null?void 0:D.includes("Mage"),w=x&&e.magicSchool?e.magicSchool:null,{tricks:k,spells:S,loading:T,error:A}=L7(w);E.useEffect(()=>{(async()=>{v(!0),g(null);const{data:j,error:P}=await se.from("magic_schools").select("id, name");P?(console.error("Error fetching magic schools:",P),g("Failed to load magic school data. Please try refreshing.")):f(j||[]),v(!1)})()},[]);const I=E.useMemo(()=>h.reduce((B,j)=>(B[j.id]=j.name,B),{}),[h]);E.useMemo(()=>T||!k?[]:k.filter(B=>B.school_id===null||B.school_id===w),[k,w,T]),E.useMemo(()=>T||!S?[]:S.filter(B=>o==="general"?B.school_id===null:o==="school"?B.school_id===w:B.rank===1),[S,o,w,T]);const C=T||m;if(!x)return s.jsx("div",{className:"p-6 text-center",children:s.jsx("p",{className:"text-gray-600",children:"Only mages can learn and cast spells. Continue to the next step."})});if(w===null)return s.jsx("div",{className:"p-6",children:s.jsxs("div",{className:"flex items-start gap-2 p-4 bg-amber-50 border border-amber-200 rounded-lg",children:[s.jsx(wt,{className:"w-5 h-5 text-amber-500 flex-shrink-0 mt-0.5"}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-amber-800",children:"Magic School Required"}),s.jsx("p",{className:"text-sm text-amber-700",children:"Please go back to the Profession step and select a magic school before choosing spells."})]})]})});if(C)return s.jsxs("div",{className:"flex items-center justify-center p-8",children:[s.jsx(OP,{className:"w-8 h-8 animate-spin text-blue-600"}),s.jsx("span",{className:"ml-2 text-gray-600",children:"Loading magic data..."})]});if(A||y)return s.jsx("div",{className:"p-6",children:s.jsxs("div",{className:"flex items-start gap-2 p-4 bg-red-50 border border-red-200 rounded-lg",children:[s.jsx(wt,{className:"w-5 h-5 text-red-500 flex-shrink-0 mt-0.5"}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-red-800",children:"Error"}),s.jsx("p",{className:"text-sm text-red-700",children:A||y})]})]})});const N=()=>{},O=I[w]||"General";return s.jsxs("div",{className:"space-y-6",onClick:N,children:[s.jsxs("div",{className:"prose",children:[s.jsx("h3",{className:"text-xl font-bold mb-4",children:"Select Magic"}),s.jsxs("p",{className:"text-gray-600",children:["As a new mage, choose three rank 1 spells and three magic tricks from General Magic and your chosen school (",O,")."]})]}),s.jsxs("div",{className:"flex items-start gap-2 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:[s.jsx(Oa,{className:"w-5 h-5 text-blue-500 flex-shrink-0 mt-0.5"}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-blue-800",children:"Your Magic School"}),s.jsx("p",{className:"text-sm text-blue-700",children:O})]})]})]})}function ZR(){const[e,t]=E.useState([]),[n,r]=E.useState(!0),[a,i]=E.useState(null);return E.useEffect(()=>{async function o(){r(!0),i(null),console.log("useSkills: Fetching skills...");try{const{data:l,error:u}=await se.from("game_skills").select("*").order("name");if(u)throw console.error("useSkills: Supabase error fetching skills:",u),new Error(u.message||"Failed to fetch skills from database");if(console.log("useSkills: Raw data received from Supabase:",l),Array.isArray(l)){let d=!1;l.forEach((p,h)=>{if(p&&typeof p=="object"){const f=Object.keys(p);f.length>0&&/^[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}$/.test(f[0])&&(!("id"in p)||!("name"in p))&&(console.warn(`useSkills: Potential problematic object structure found at index ${h}:`,p),d=!0),(typeof p.id!="string"||typeof p.name!="string")&&console.warn(`useSkills: Item at index ${h} missing 'id' or 'name', or they have wrong types:`,p)}else console.warn(`useSkills: Invalid non-object item found in fetched data at index ${h}:`,p),d=!0}),d||console.log("useSkills: Initial check of fetched data structure passed.")}else console.warn("useSkills: Fetched data is not an array:",l);const c=Array.isArray(l)?l:[];t(c),console.log(`useSkills: Successfully processed and set ${c.length} skills.`)}catch(l){console.error("useSkills: Error during fetch or processing:",l);const u=l instanceof Error?l.message:"An unknown error occurred while fetching skills";i(u),t([])}finally{r(!1),console.log("useSkills: Fetch finished.")}}o()},[]),{skills:e,loading:n,error:a}}const Ap=e=>{switch(e){case"Young":return 2;case"Adult":return 4;case"Old":return 6;default:return 0}},M7={Acrobatics:"AGL",Awareness:"INT",Bartering:"CHA","Beast Lore":"INT",Bluffing:"CHA",Bushcraft:"INT",Crafting:"STR",Evade:"AGL",Healing:"INT","Hunting & Fishing":"AGL",Languages:"INT","Myths & Legends":"INT",Performance:"CHA",Persuasion:"CHA",Riding:"AGL",Seamanship:"INT","Sleight of Hand":"AGL",Sneaking:"AGL","Spot Hidden":"INT",Swimming:"AGL",Axes:"STR",Bows:"AGL",Brawling:"STR",Crossbows:"AGL",Hammers:"STR",Knives:"AGL",Slings:"AGL",Spears:"STR",Staves:"AGL",Swords:"STR",Mentalism:"WIL",Animism:"WIL",Elementalism:"WIL"},F7=["Axes","Bows","Brawling","Crossbows","Hammers","Knives","Slings","Spears","Staves","Swords"],k_=["Animism","Elementalism","Mentalism"];function P7(){const{character:e,updateCharacter:t}=La(),{skills:n,loading:r,error:a}=ZR(),[i,o]=E.useState([]),[l,u]=E.useState([]),[c,d]=E.useState("profession"),[p,h]=E.useState("all"),[f,m]=E.useState([]),[v,y]=E.useState(!1),[g,x]=E.useState(null),[w,k]=E.useState([]),[S,T]=E.useState(!1),[A,I]=E.useState(null),[C,N]=E.useState(null),O=E.useMemo(()=>{var oe;return(oe=e.profession)==null?void 0:oe.toLowerCase().includes("mage")},[e.profession]);E.useEffect(()=>{O&&(T(!0),se.from("magic_schools").select("id, name").then(({data:oe,error:ge})=>{if(ge)throw ge;k(oe||[])}).catch(oe=>console.error("Failed to fetch magic schools:",oe)).finally(()=>T(!1)))},[O]);const D=E.useMemo(()=>{var ge;const oe=e.magicSchool;return typeof oe=="object"&&oe!==null&&"name"in oe?oe.name:typeof oe=="string"&&w.length>0?((ge=w.find(pe=>pe.id===oe))==null?void 0:ge.name)??null:null},[e.magicSchool,w]);E.useEffect(()=>{async function oe(){if(e.profession){y(!0),x(null);try{const{data:ge,error:pe}=await se.from("professions").select("skills").eq("name",e.profession).single();if(pe)throw pe;m(Array.isArray(ge==null?void 0:ge.skills)?ge.skills.filter(dt=>typeof dt=="string"):[])}catch(ge){x(ge instanceof Error?ge.message:"Failed to load skills.")}finally{y(!1)}}}oe()},[e.profession]);const B=E.useMemo(()=>r||v||!Array.isArray(n)?[]:n.filter(oe=>oe&&f.includes(oe.name)),[n,r,v,f]),j=E.useMemo(()=>{if(r||!Array.isArray(n))return[];const oe=n.filter(ge=>ge&&!i.includes(ge.name));return O&&D?oe.filter(ge=>!k_.includes(ge.name)||ge.name===D):oe.filter(ge=>!k_.includes(ge.name))},[n,r,i,O,D]),P=(oe,ge)=>oe.filter(pe=>F7.includes(pe.name)===ge),Y=E.useMemo(()=>P(B,!1),[B]),K=E.useMemo(()=>P(B,!0),[B]),$=E.useMemo(()=>P(j,!1),[j]),z=E.useMemo(()=>P(j,!0),[j]),_=(oe,ge)=>{const pe=ge==="profession"?6:Ap(e.age||"");(ge==="profession"?o:u)(qe=>qe.includes(oe)?qe.filter(_e=>_e!==oe):qe.length<pe?[...qe,oe]:qe)},U=()=>{c==="profession"&&i.length===6?d("additional"):c==="additional"&&l.length===Ap(e.age||"")&&t({trainedSkills:[...new Set([...i,...l])]})},X=(oe,ge)=>{const pe=oe.currentTarget.getBoundingClientRect();I(ge),N({top:pe.top,left:pe.left+pe.width/2})},L=()=>{I(null),N(null)},ie=(oe,ge)=>{oe.stopPropagation(),A===ge?L():X(oe,ge)},W=(oe,ge)=>{if(!(oe!=null&&oe.id)||!oe.name)return null;const pe=ge==="profession"?i.includes(oe.name):l.includes(oe.name),dt=ge==="profession"?6:Ap(e.age||""),_e=(ge==="profession"?i.length:l.length)>=dt&&!pe;return s.jsxs("div",{onClick:()=>!_e&&_(oe.name,ge),className:`flex items-center justify-between p-3 border-b transition-colors ${_e?"bg-gray-50 opacity-60 cursor-not-allowed":"cursor-pointer"} ${pe?"bg-blue-50":"hover:bg-gray-50"}`,children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Wc,{className:`w-6 h-6 flex-shrink-0 ${pe?"text-blue-500":"text-gray-300"}`}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("h5",{className:"font-medium text-gray-800",children:oe.name}),oe.description&&s.jsx("div",{className:"p-1",onClick:$e=>ie($e,oe.description),onMouseEnter:$e=>X($e,oe.description),onMouseLeave:L,children:s.jsx(Oa,{className:"w-4 h-4 text-blue-500 cursor-help"})})]})]}),s.jsx("span",{className:"text-sm text-gray-500 bg-gray-100 px-2 py-1 rounded-full",children:M7[oe.name]||"N/A"})]},oe.id)};if(r||S)return s.jsx(et,{size:"lg",className:"my-8"});if(a)return s.jsx(He,{message:`Skills Error: ${a}`});if(!e.profession||!e.age)return s.jsx("div",{className:"p-6 text-center",children:s.jsx("p",{className:"text-gray-600",children:"Please select a profession and age first."})});if(O&&!D)return s.jsx("div",{className:"p-6",children:s.jsxs("div",{className:"flex items-start gap-2 p-4 bg-amber-50 border border-amber-200 rounded-lg",children:[s.jsx(wt,{className:"w-5 h-5 text-amber-500 flex-shrink-0 mt-0.5"}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-amber-800",children:"Magic School Required"}),s.jsx("p",{className:"text-sm text-amber-700",children:"As a Mage, please select a magic school first."})]})]})});const Q=i.length,q=l.length,ee=6,ve=Ap(e.age),Ie=Q===ee,te=q===ve;return s.jsxs("div",{className:"space-y-6",onClick:L,children:[s.jsxs("div",{className:"prose max-w-none",children:[s.jsx("h3",{className:"text-xl font-bold mb-2",children:"Select Skills"}),e.profession&&s.jsxs("div",{className:"mb-4 p-3 bg-indigo-50 border border-indigo-200 rounded-lg text-sm",children:[" ",s.jsxs("p",{className:"text-indigo-800",children:["Profession: ",s.jsx("strong",{children:e.profession}),e.key_attribute&&` (Key Attribute: ${e.key_attribute})`,O&&D&&` (School: ${D})`]})," ",s.jsxs("p",{className:"text-indigo-700 mt-1",children:["Age: ",s.jsx("strong",{children:e.age})," (Grants ",ve," additional skill points)"]})," "]}),s.jsx("p",{className:"text-gray-600 text-sm",children:c==="profession"?`Choose ${ee} skills from your profession's list below.`:`Choose ${ve} additional skills based on your age (${e.age}).`})]}),s.jsxs("div",{className:"flex items-start gap-2 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:[" ",s.jsx(Oa,{className:"w-5 h-5 text-blue-500 flex-shrink-0 mt-0.5"})," ",s.jsxs("div",{children:[" ",s.jsx("h4",{className:"font-medium text-blue-800 text-sm",children:"Selection Progress"})," ",s.jsx("p",{className:"text-sm text-blue-700",children:c==="profession"?`Professional Skills: ${Q}/${ee}`:`Additional Skills: ${q}/${ve}`})," "]})," "]}),s.jsx("div",{className:"border rounded-lg bg-white shadow-sm overflow-hidden",onClick:oe=>oe.stopPropagation(),children:c==="profession"?s.jsxs(s.Fragment,{children:[Y.length>0&&s.jsxs("div",{children:[s.jsx("h4",{className:"font-bold text-gray-700 p-3 bg-gray-50 border-b",children:"General Skills"}),Y.map(oe=>W(oe,"profession"))]}),K.length>0&&s.jsxs("div",{children:[s.jsx("h4",{className:"font-bold text-gray-700 p-3 bg-gray-50 border-b border-t",children:"Combat Skills"}),K.map(oe=>W(oe,"profession"))]})]}):s.jsxs(s.Fragment,{children:[$.length>0&&s.jsxs("div",{children:[s.jsx("h4",{className:"font-bold text-gray-700 p-3 bg-gray-50 border-b",children:"General Skills"}),$.map(oe=>W(oe,"additional"))]}),z.length>0&&s.jsxs("div",{children:[s.jsx("h4",{className:"font-bold text-gray-700 p-3 bg-gray-50 border-b border-t",children:"Combat Skills"}),z.map(oe=>W(oe,"additional"))]})]})}),(c==="profession"&&!Ie&&Q>0||c==="additional"&&!te&&q>0)&&s.jsxs("div",{className:"flex items-start gap-2 p-3 bg-amber-50 border border-amber-200 rounded-lg",children:[" ",s.jsx(wt,{className:"w-5 h-5 text-amber-500 flex-shrink-0 mt-0.5"})," ",s.jsxs("div",{children:[" ",s.jsx("h4",{className:"font-medium text-amber-800 text-sm",children:"Incomplete Selection"})," ",s.jsx("p",{className:"text-sm text-amber-700",children:c==="profession"?`Please select ${ee-Q} more skill(s).`:`Please select ${ve-q} more skill(s).`})," "]})," "]}),s.jsxs("button",{onClick:U,disabled:c==="profession"&&!Ie||c==="additional"&&!te||v,className:"w-full flex items-center justify-center gap-2 px-4 py-2 bg-blue-600 text-white font-medium rounded-lg shadow-sm hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[" ",v?s.jsx(Sa,{className:"w-5 h-5 animate-spin"}):s.jsx(Wc,{className:"w-5 h-5"})," ",c==="profession"?"Continue to Additional Skills":"Confirm Skill Selections"," "]}),A&&C&&s.jsxs("div",{style:{top:`${C.top}px`,left:`${C.left}px`},className:"fixed -translate-x-1/2 -translate-y-full mb-2 w-72 p-3 bg-gray-800 text-white text-sm rounded-lg shadow-lg z-[60] pointer-events-none",children:[" ",s.jsx("p",{children:A})," "]})]})}async function Id(e){let t=se.from("game_items").select("*");e&&e!=="all"&&typeof e=="string"&&(t=t.eq("category",e.toUpperCase()));const{data:n,error:r}=await t.order("category").order("name");if(r)throw console.error("Error fetching game items:",r),new Error(r.message||"Failed to fetch game items");return n||[]}function gg(e){const t={gold:0,silver:0,copper:0};if(!e||typeof e!="string")return t;const n=e.toLowerCase().split(/,\s*|\s+/);for(let r=0;r<n.length;r++){const a=parseInt(n[r]);if(!isNaN(a)&&r+1<n.length){const i=n[r+1];i.startsWith("gold")||i.startsWith("g")?(t.gold=a,r++):i.startsWith("silver")||i.startsWith("s")?(t.silver=a,r++):(i.startsWith("copper")||i.startsWith("c"))&&(t.copper=a,r++)}}return jx(t)}function XR(e){if(!e)return"0 copper";const t=[];return e.gold>0&&t.push(`${e.gold} gold`),e.silver>0&&t.push(`${e.silver} silver`),e.copper>0&&t.push(`${e.copper} copper`),t.length>0?t.join(", "):"0 copper"}function jx(e){let{gold:t,silver:n,copper:r}=e;return n+=Math.floor(r/100),r%=100,t+=Math.floor(n/100),n%=100,{gold:t,silver:n,copper:r}}function B7(e,t){const n=e.gold*1e4+e.silver*100+e.copper,r=t.gold*1e4+t.silver*100+t.copper;if(n<r)return{success:!1,newMoney:e};let a=n-r;const i=Math.floor(a/1e4);a%=1e4;const o=Math.floor(a/100);return a%=100,{success:!0,newMoney:{gold:i,silver:o,copper:a}}}function U7(){var N,O;const{character:e,updateCharacter:t}=La(),[n,r]=E.useState(null),[a,i]=E.useState([]),[o,l]=E.useState(!1),[u,c]=E.useState(!1),[d,p]=E.useState({}),[h,f]=E.useState(!0),[m,v]=E.useState(""),{data:y=[],isLoading:g,error:x}=Vt({queryKey:["gameItems"],queryFn:Id,staleTime:1e3*60*10});E.useEffect(()=>{async function D(){if(!e.profession){v("Profession not selected."),f(!1);return}try{f(!0),v("");const{data:B,error:j}=await se.from("professions").select("starting_equipment, equipment_description").eq("name",e.profession).single();if(j)throw j;if(B){const P=B,Y=(P.starting_equipment||[]).map((K,$)=>({option:$+1,items:K.split(",").map(z=>z.trim()).filter(Boolean),description:(P.equipment_description||[])[$]||""}));i(Y)}}catch{v("Failed to load equipment options.")}finally{f(!1)}}D()},[e.profession]);const w=D=>{const j=D.split(" or ")[0].trim().replace(/^\d+\s+/,"");return y.find(P=>P.name.toLowerCase()===j.toLowerCase())},k=D=>{const B=D.match(/^(\d*D\d+)/i);if(!B)return null;const j=B[1],P=j.toUpperCase().split("D"),Y=P[0]===""?1:parseInt(P[0]),K=parseInt(P[1]),$=D.slice(j.length).trim();return{count:Y,sides:K,rest:$}},S=(D,B)=>{let j=0;for(let P=0;P<D;P++)j+=Math.floor(Math.random()*B)+1;return j},T=D=>{r(D),l(!1)},A=()=>{var j,P;if(n===null)return;const D=a.find(Y=>Y.option===n);if(!D)return;if(D.items.some(Y=>k(Y)||Y.toLowerCase().includes(" or "))){const Y=D.items.reduce((K,$,z)=>($.toLowerCase().includes(" or ")?K[z]=$.split(/\s+or\s+/i)[0].trim():K[z]="",K),{});p(Y),c(!0)}else t({startingEquipment:{option:n,items:D.items},equipment:{money:((j=e.equipment)==null?void 0:j.money)||{gold:0,silver:0,copper:0},equipped:((P=e.equipment)==null?void 0:P.equipped)||{weapons:[]},inventory:[...D.items]}}),l(!0)},I=()=>{var Y,K;if(n===null)return;const D=a.find($=>$.option===n);if(!D)return;const j={...((Y=e.equipment)==null?void 0:Y.money)||{gold:0,silver:0,copper:0}},P=[];D.items.forEach(($,z)=>{if($.toLowerCase().includes(" or "))P.push(d[z]||$.split(/\s+or\s+/i)[0].trim());else{const _=k($);if(_){const U=d[z]?parseInt(d[z]):S(_.count,_.sides),X=_.rest.toLowerCase();X.includes("gold")?j.gold+=U:X.includes("silver")?j.silver+=U:X.includes("copper")?j.copper+=U:P.push(`${U} ${_.rest}`)}else P.push($)}}),t({startingEquipment:{option:n,items:P},equipment:{money:jx(j),equipped:((K=e.equipment)==null?void 0:K.equipped)||{weapons:[]},inventory:[...P]}}),c(!1),l(!0)},C=n!==null&&((N=a.find(D=>D.option===n))==null?void 0:N.items.every((D,B)=>D.toLowerCase().includes(" or ")||k(D)?!!d[B]:!0));return h||g?s.jsx(et,{}):m||x?s.jsx(He,{message:m||(x==null?void 0:x.message)||"Failed to load data."}):e.profession?s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"prose",children:[s.jsx("h3",{className:"text-xl font-bold mb-4",children:"Choose Starting Equipment"}),s.jsxs("p",{className:"text-gray-600",children:["Select one of the equipment packages for your ",e.profession,"."]})]}),s.jsxs("div",{className:"flex items-start gap-2 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:[s.jsx(Oa,{className:"w-5 h-5 text-blue-500 flex-shrink-0 mt-0.5"}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-blue-800",children:"Equipment Selection"}),s.jsxs("p",{className:"text-sm text-blue-700",children:["Items with ",s.jsx(u_,{className:"inline w-4 h-4 text-amber-600"})," require a roll, items with ",s.jsx(h_,{className:"inline w-4 h-4 text-purple-600"})," offer a choice."]})]})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:a.map(D=>s.jsxs("div",{onClick:()=>T(D.option),className:`p-6 border rounded-lg cursor-pointer transition-all ${n===D.option?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-blue-300"}`,children:[s.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[s.jsx(so,{className:"w-6 h-6 text-gray-500"}),s.jsxs("div",{children:[s.jsxs("h4",{className:"font-semibold",children:["Option ",D.option]}),s.jsx("p",{className:"text-sm text-gray-600",children:D.description})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("h5",{className:"font-medium text-gray-700",children:"Equipment List:"}),s.jsx("ul",{className:"space-y-1.5",children:D.items.map((B,j)=>{const P=!!k(B),Y=B.toLowerCase().includes(" or "),K=w(B);return s.jsxs("li",{className:"flex items-center gap-2 text-sm text-gray-600",children:[P?s.jsx(u_,{className:"w-4 h-4 text-amber-500 flex-shrink-0"}):Y?s.jsx(h_,{className:"w-4 h-4 text-purple-500 flex-shrink-0"}):s.jsx(Wc,{className:"w-4 h-4 text-green-500 flex-shrink-0"}),s.jsx("span",{children:B}),(K==null?void 0:K.effect)&&s.jsxs("span",{className:"relative group flex items-center",children:[s.jsx(Oa,{className:"w-4 h-4 text-gray-400 hover:text-gray-600 cursor-help"}),s.jsxs("div",{className:"absolute bottom-full left-1/2 -translate-x-1/2 mb-2 w-max max-w-xs bg-gray-800 text-white text-xs p-2 rounded shadow-lg opacity-0 group-hover:opacity-100 transition-opacity whitespace-normal z-20 pointer-events-none",children:[s.jsx("p",{className:"font-bold",children:K.name}),s.jsx("p",{children:K.effect}),s.jsxs("p",{className:"mt-1 text-gray-300",children:["Weight: ",K.weight,", Cost: ",K.cost]})]})]})]},j)})})]}),n===D.option&&s.jsxs("div",{className:"mt-4 flex items-center gap-2 text-blue-600",children:[s.jsx(Wc,{className:"w-5 h-5"}),s.jsx("span",{className:"text-sm font-medium",children:"Selected"})]})]},D.option))}),!n&&s.jsxs("div",{className:"flex items-start gap-2 p-4 bg-amber-50 border border-amber-200 rounded-lg",children:[s.jsx(wt,{className:"w-5 h-5 text-amber-500 flex-shrink-0 mt-0.5"}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-amber-800",children:"Equipment Required"}),s.jsx("p",{className:"text-sm text-amber-700",children:"Please select a starting equipment package."})]})]}),s.jsxs("button",{onClick:A,disabled:!n||o,className:`w-full flex items-center justify-center gap-2 px-4 py-2 rounded-lg transition-colors ${o?"bg-green-600 text-white cursor-default":"bg-blue-600 text-white hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed"}`,children:[s.jsx(ER,{className:"w-5 h-5"}),o?"Equipment Confirmed":"Confirm Equipment Selection"]}),u&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:s.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full max-h-[80vh] overflow-y-auto",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsx("h3",{className:"text-xl font-bold",children:"Resolve Dice Rolls & Selections"}),s.jsx("button",{onClick:()=>c(!1),className:"text-gray-500 hover:text-gray-700",children:s.jsx(mt,{className:"w-5 h-5"})})]}),(((O=a.find(D=>D.option===n))==null?void 0:O.items)||[]).map((D,B)=>{if(D.toLowerCase().includes(" or ")){const P=D.split(/\s+or\s+/i).map(Y=>Y.trim());return s.jsxs("div",{className:"mb-4 p-3 border rounded bg-purple-50 border-purple-200",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:D}),s.jsxs("select",{value:d[B]||"",onChange:Y=>p(K=>({...K,[B]:Y.target.value})),className:"mt-1 w-full border rounded px-2 py-1 text-sm",children:[s.jsx("option",{value:"",disabled:!0,children:"Select one..."}),P.map((Y,K)=>s.jsx("option",{value:Y,children:Y},K))]})]},B)}const j=k(D);return j?s.jsxs("div",{className:"mb-4 p-3 border rounded bg-amber-50 border-amber-200",children:[s.jsxs("div",{className:"flex items-center justify-between mb-1",children:[s.jsx("span",{className:"font-medium",children:D}),s.jsxs(V,{size:"sm",variant:"secondary",onClick:()=>{const P=S(j.count,j.sides);p(Y=>({...Y,[B]:P.toString()}))},children:["Roll ",j.count,"D",j.sides]})]}),s.jsx("input",{type:"number",min:j.count,max:j.count*j.sides,value:d[B]||"",onChange:P=>{const Y=P.target.value;if(Y==="")p(K=>({...K,[B]:""}));else{const K=parseInt(Y);if(!isNaN(K)){const $=Math.max(j.count,Math.min(j.count*j.sides,K));p(z=>({...z,[B]:$.toString()}))}}},className:"mt-1 w-full border rounded px-2 py-1 text-sm",placeholder:`Enter result (${j.count}-${j.count*j.sides})`})]},B):null}),s.jsxs("div",{className:"flex justify-end gap-4 mt-6",children:[s.jsx(V,{variant:"secondary",onClick:()=>c(!1),children:"Cancel"}),s.jsx(V,{variant:"primary",onClick:I,disabled:!C,children:"Confirm Rolls/Choices"})]})]})})]}):s.jsx("div",{className:"p-6 text-center",children:s.jsx("p",{className:"text-gray-600",children:"Please select a profession first."})})}async function $7(){const{data:e,error:t}=await se.from("compendium").select("*").order("category").order("title");if(t)throw console.error("Error fetching compendium entries:",t),new Error(t.message||"Failed to load compendium entries");return e||[]}async function H7(){const{data:e,error:t}=await se.from("bio_data").select("appearance, mementos, flaws");if(t)throw console.error("Error fetching bio data:",t),new Error(t.message||"Failed to load bio data");const n=new Set,r=new Set,a=new Set;return(e||[]).forEach(i=>{(i.appearance||[]).forEach(o=>n.add(o)),(i.mementos||[]).forEach(o=>r.add(o)),(i.flaws||[]).forEach(o=>a.add(o))}),{appearance:Array.from(n).sort(),mementos:Array.from(r).sort(),flaws:Array.from(a).sort()}}const __=["Diminutive","Short","Below Average","Average","Above Average","Tall","Towering"],T_=["Gaunt","Slight","Lean","Wiry","Average","Athletic","Muscular","Stocky","Heavy"],C_=["Raven Black","Chestnut Brown","Sandy Blonde","Fiery Red","Ash Gray","Snow White","Auburn"],A_=["Slicked Back","Short & Spiky","Long & Flowing","Ornate Braids","Messy Bun","Curly Mop","Shaved Sides","Tonsure","Bald"],I_=["Chocolate Brown","Sky Blue","Emerald Green","Stormy Gray","Warm Hazel","Amber"],R_=["Pale","Fair","Light","Olive","Ruddy","Tan","Dark","Ebony"],D_=["Deep Blue","Crimson","Silver","Violet","Pastel Pink"],O_=["Lilac","Gold","Silver","Blood Red","All White (No Pupil)"],L_=["Simple traveler's clothes","Ragged commoner's garb","Well-made leather armor","Sturdy chainmail hauberk","Flamboyant noble's attire","Scholar's robes and spectacles","Mysterious hooded cloak","Practical hunter's leathers","Grim ritual vestments","Colorful entertainer's outfit","Tailored city guard uniform","Patched and worn adventurer's gear"],Ip=({label:e,placeholder:t,options:n,value:r,onChange:a,mode:i,onModeChange:o,onRandomize:l,isLoading:u=!1,rows:c=3})=>s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between items-center mb-1",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:e}),s.jsxs("button",{onClick:()=>o(i==="manual"?"select":"manual"),className:"flex items-center gap-1 text-xs text-gray-600 hover:text-blue-600",title:`Switch to ${i==="manual"?"selection":"manual"} mode`,children:[i==="manual"?s.jsx(ZP,{className:"w-4 h-4"}):s.jsx(XP,{className:"w-4 h-4"}),s.jsx("span",{children:i==="manual"?"Manual":"Select"})]})]}),i==="manual"?s.jsx("textarea",{value:r,onChange:d=>a(d.target.value),placeholder:t,className:"w-full px-3 py-2 border border-gray-300 rounded-md",rows:c}):s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("select",{value:r,onChange:d=>a(d.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md",disabled:u||n.length===0,children:[s.jsx("option",{value:"",children:u?"Loading...":"Select an option..."}),n.map(d=>s.jsx("option",{value:d,children:d},d))]}),s.jsx(V,{variant:"secondary",size:"icon",onClick:l,disabled:u||n.length===0,"aria-label":`Randomize ${e}`,icon:Ut})]})]});function z7(){const{character:e,updateCharacter:t}=La(),{data:n,isLoading:r}=Vt({queryKey:["bioData"],queryFn:H7,staleTime:1e3*60*5}),[a,i]=E.useState({height:"",build:"",hairColor:"",hairStyle:"",eyeColor:"",skinTone:"",distinctiveFeatures:"",clothing:"",memento:"",flaw:""}),[o,l]=E.useState({distinctiveFeatures:"select",clothing:"select",memento:"select",flaw:"select"}),u=(g,x)=>{i(w=>({...w,[g]:x}))},c=(g,x)=>{l(w=>({...w,[g]:x})),i(w=>({...w,[g]:""}))},d=g=>!g||g.length===0?"":g[Math.floor(Math.random()*g.length)],p=(g,x)=>{x&&x.length>0&&i(w=>({...w,[g]:d(x)}))},h=()=>{i(g=>({...g,height:d(__),build:d(T_)}))},f=()=>{const g=Math.random()<.05?d(D_):d(C_),x=Math.random()<.05?d(O_):d(I_);i(w=>({...w,hairColor:g,hairStyle:d(A_),eyeColor:x,skinTone:d(R_)}))},m=()=>{const g=[];a.height&&a.build&&g.push(`A ${a.height.toLowerCase()}, ${a.build.toLowerCase()} individual`),a.hairStyle&&a.hairColor&&(a.hairStyle.toLowerCase()==="bald"?g.push("with a bald head"):g.push(`with ${a.hairStyle.toLowerCase()} ${a.hairColor.toLowerCase()} hair`)),a.eyeColor&&g.push(`${a.eyeColor.toLowerCase()} eyes`),a.skinTone&&g.push(`and ${a.skinTone.toLowerCase()} skin`);let x=g.join(", ").replace(/,([^,]*)$/," and$1")+".";return a.distinctiveFeatures&&(x+=` They are notable for ${a.distinctiveFeatures.toLowerCase()}.`),a.clothing&&(x+=` They typically wear ${a.clothing.toLowerCase()}.`),x},v=()=>{const g=m();t({appearance:g,mementos:a.memento?[a.memento]:[],weak_spot:a.flaw})},y=()=>Object.values(a).every(g=>g.trim()!=="");return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Character Appearance"}),s.jsx("p",{className:"mt-2 text-gray-600",children:"Describe your character's physical appearance, clothing, and defining traits."})]}),s.jsxs("div",{className:"flex items-start gap-3 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:[s.jsx(Oa,{className:"w-5 h-5 text-blue-500 flex-shrink-0 mt-0.5"}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-blue-800",children:"Character Details"}),s.jsxs("p",{className:"text-sm text-blue-700",children:[e.kin,"  ",e.age,"  ",e.profession]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-6 gap-y-8",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("h4",{className:"font-medium flex items-center gap-2 text-gray-800",children:[s.jsx(UP,{className:"w-5 h-5 text-gray-500"}),"Physical Characteristics"]}),s.jsx(V,{variant:"secondary",size:"sm",icon:Ut,onClick:h,children:"Randomize"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Height"}),s.jsxs("select",{value:a.height,onChange:g=>u("height",g.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md",children:[s.jsx("option",{value:"",children:"Select height..."}),__.map(g=>s.jsx("option",{value:g,children:g},g))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Build"}),s.jsxs("select",{value:a.build,onChange:g=>u("build",g.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md",children:[s.jsx("option",{value:"",children:"Select build..."}),T_.map(g=>s.jsx("option",{value:g,children:g},g))]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("h4",{className:"font-medium flex items-center gap-2 text-gray-800",children:[s.jsx(ms,{className:"w-5 h-5 text-gray-500"}),"Hair and Face"]}),s.jsx(V,{variant:"secondary",size:"sm",icon:Ut,onClick:f,children:"Randomize"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Hair Color"}),s.jsxs("select",{value:a.hairColor,onChange:g=>u("hairColor",g.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md",children:[s.jsx("option",{value:"",children:"Select color..."}),[...C_,...D_].map(g=>s.jsx("option",{value:g,children:g},g))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Hair Style"}),s.jsxs("select",{value:a.hairStyle,onChange:g=>u("hairStyle",g.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md",children:[s.jsx("option",{value:"",children:"Select style..."}),A_.map(g=>s.jsx("option",{value:g,children:g},g))]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Eye Color"}),s.jsxs("select",{value:a.eyeColor,onChange:g=>u("eyeColor",g.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md",children:[s.jsx("option",{value:"",children:"Select color..."}),[...I_,...O_].map(g=>s.jsx("option",{value:g,children:g},g))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Skin Tone"}),s.jsxs("select",{value:a.skinTone,onChange:g=>u("skinTone",g.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md",children:[s.jsx("option",{value:"",children:"Select tone..."}),R_.map(g=>s.jsx("option",{value:g,children:g},g))]})]})]})]}),s.jsx("div",{className:"space-y-4 md:col-span-2",children:s.jsxs("h4",{className:"font-medium flex items-center gap-2 text-gray-800 border-b pb-2",children:[s.jsx($l,{className:"w-5 h-5 text-gray-500"}),"Traits & Possessions"]})}),s.jsx(Ip,{label:"Distinctive Feature",placeholder:"Scars, tattoos, birthmarks...",options:(n==null?void 0:n.appearance)||[],value:a.distinctiveFeatures,onChange:g=>u("distinctiveFeatures",g),mode:o.distinctiveFeatures,onModeChange:g=>c("distinctiveFeatures",g),onRandomize:()=>p("distinctiveFeatures",n==null?void 0:n.appearance),isLoading:r}),s.jsx(Ip,{label:"Typical Clothing",placeholder:"Describe typical clothing...",options:L_,value:a.clothing,onChange:g=>u("clothing",g),mode:o.clothing,onModeChange:g=>c("clothing",g),onRandomize:()=>p("clothing",L_)}),s.jsx(Ip,{label:"Memento",placeholder:"A locket, a worn coin...",options:(n==null?void 0:n.mementos)||[],value:a.memento,onChange:g=>u("memento",g),mode:o.memento,onModeChange:g=>c("memento",g),onRandomize:()=>p("memento",n==null?void 0:n.mementos),isLoading:r}),s.jsx(Ip,{label:"Flaw / Weak Spot",placeholder:"A fear of heights, a gambling problem...",options:(n==null?void 0:n.flaws)||[],value:a.flaw,onChange:g=>u("flaw",g),mode:o.flaw,onModeChange:g=>c("flaw",g),onRandomize:()=>p("flaw",n==null?void 0:n.flaws),isLoading:r})]}),y()?s.jsxs("div",{className:"p-4 bg-green-50 border border-green-200 rounded-lg space-y-3",children:[s.jsx("h4",{className:"font-medium text-green-800 mb-1",children:"Appearance Preview"}),s.jsx("p",{className:"text-sm text-green-700",children:m()})]}):s.jsxs("div",{className:"flex items-start gap-3 p-4 bg-amber-50 border border-amber-200 rounded-lg",children:[s.jsx(wt,{className:"w-5 h-5 text-amber-500 flex-shrink-0 mt-0.5"}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-amber-800",children:"Incomplete Description"}),s.jsx("p",{className:"text-sm text-amber-700",children:"Please fill in all appearance details to see a preview and save."})]})]}),s.jsx(V,{onClick:v,disabled:!y(),icon:vn,className:"w-full justify-center",children:"Save Appearance"})]})}const ju=[{title:"Kin",component:G8},{title:"Profession",component:Y8},{title:"Name & Age",component:K8},{title:"Attributes",component:O7},{title:"Magic",component:j7},{title:"Trained Skills",component:P7},{title:"Gear",component:U7},{title:"Appearance",component:z7}],G7=e=>e<=5?3:e<=8?4:e<=12?5:e<=15?6:7,j_={Acrobatics:"AGL",Awareness:"INT",Bartering:"CHA","Beast Lore":"INT",Bluffing:"CHA",Bushcraft:"INT",Crafting:"STR",Evade:"AGL",Healing:"INT","Hunting & Fishing":"AGL",Languages:"INT","Myths & Legends":"INT",Performance:"CHA",Persuasion:"CHA",Riding:"AGL",Seamanship:"INT","Sleight of Hand":"AGL",Sneaking:"AGL","Spot Hidden":"INT",Swimming:"AGL",Axes:"STR",Bows:"AGL",Brawling:"STR",Crossbows:"AGL",Hammers:"STR",Knives:"AGL",Slings:"AGL",Spears:"STR",Staves:"AGL",Swords:"STR",Mentalism:"WIL",Animism:"WIL",Elementalism:"WIL"},q7=["Mentalism","Animism","Elementalism"];function V7(){const{user:e}=cn(),{step:t,setStep:n,character:r,resetCharacter:a}=La(),[i,o]=It.useState(null),[l,u]=It.useState(!1),c=Mr(),d=nr(),p=ju[t].component,[h,f]=E.useState([]);E.useEffect(()=>{se.from("magic_schools").select("id, name").then(({data:y,error:g})=>{g?console.error("Failed to fetch magic schools in wizard:",g):f(y||[])})},[]);const m=()=>{var y;switch(t){case 0:return!!r.kin&&r.kinAbilityNames!==void 0&&r.kinAbilityNames.length>0;case 1:const g=r.magicSchool!==null&&r.magicSchool!==void 0;return!!r.profession&&(g||r.professionHeroicAbilityName!==void 0);case 2:return!!r.name&&r.name.trim().length>0&&!!r.age;case 3:return r.attributes&&Object.values(r.attributes).every(x=>x>0);case 4:return r.magicSchool?((y=r.spells)==null?void 0:y.general)&&r.spells.general.length>=3:!0;case 5:return r.trainedSkills&&r.trainedSkills.length>=6&&!!r.attributes;case 6:return r.startingEquipment&&r.startingEquipment.items.length>=0;case 7:return!!r.appearance&&r.appearance.trim().length>0&&!!r.mementos&&r.mementos.length>0&&!!r.weak_spot&&r.weak_spot.trim().length>0;default:return!1}},v=async()=>{var g,x,w,k,S;const y=La.getState().character;if(!e||!y.attributes){o("User or attributes missing.");return}if(!m()){o("Please complete all required fields for the final step before saving.");return}try{u(!0),o(null);const T={},A=new Set(y.trainedSkills||[]),I=(g=y.profession)==null?void 0:g.toLowerCase().includes("mage"),C=I&&typeof y.magicSchool=="string"?(x=h.find(j=>j.id===y.magicSchool))==null?void 0:x.name:null;for(const j in j_){const P=j_[j];if(!q7.includes(j)||I&&j===C){const K=y.attributes[P]??10,$=G7(K);T[j]=A.has(j)?$*2:$}}const N=[...y.kinAbilityNames||[],...y.professionHeroicAbilityName?[y.professionHeroicAbilityName]:[]].filter(Boolean),O={user_id:e.id,name:(w=y.name)==null?void 0:w.trim(),kin:y.kin,profession:y.profession,magic_school:I?y.magicSchool:null,age:y.age,attributes:y.attributes,trained_skills:y.trainedSkills||[],skill_levels:T,equipment:y.equipment||{inventory:[],equipped:{weapons:[]},money:{gold:0,silver:0,copper:0}},appearance:(k=y.appearance)==null?void 0:k.trim(),conditions:{exhausted:!1,sickly:!1,dazed:!1,angry:!1,scared:!1,disheartened:!1},spells:y.spells||null,starting_equipment:y.startingEquipment||{items:[],money:{gold:0,silver:0,copper:0}},experience:{marked_skills:[]},max_hp:y.attributes.CON,current_hp:y.attributes.CON,max_wp:y.attributes.WIL,current_wp:y.attributes.WIL,heroic_ability:N,memento:((S=y.mementos)==null?void 0:S[0])||null,weak_spot:y.weak_spot||null},{data:D,error:B}=await se.from("characters").insert(O).select().single();if(B)throw B;await d.invalidateQueries({queryKey:["characters",e.id]}),a(),c(`/characters/${D.id}`)}catch(T){const A=T instanceof Error?T.message:"Failed to save character";o(`Failed to save character: ${A}`)}finally{u(!1)}};return s.jsxs("div",{className:"max-w-4xl mx-auto bg-white rounded-lg shadow-xl p-6 md:p-8 my-8",children:[s.jsxs("div",{className:"mb-8",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsx("h2",{className:"text-3xl font-bold text-gray-800",children:"Create New Character"}),s.jsxs("span",{className:"text-sm font-medium text-gray-500",children:["Step ",t+1," of ",ju.length]})]}),s.jsx("div",{className:"flex space-x-1",children:ju.map((y,g)=>s.jsx("div",{className:"flex-1 h-2 rounded-full overflow-hidden bg-gray-200",children:s.jsx("div",{className:`h-full rounded-full transition-all duration-300 ${g<t?"bg-blue-500":g===t?"bg-blue-300":"bg-gray-200"}`,style:{width:g===t?"50%":"100%"}})},y.title))}),s.jsx("p",{className:"text-center text-lg font-semibold mt-3 text-gray-700",children:ju[t].title})]}),i&&s.jsxs("div",{className:"mb-6 flex items-start gap-3 p-4 bg-red-50 border border-red-300 rounded-lg shadow-sm",children:[s.jsx(wt,{className:"w-5 h-5 text-red-600 flex-shrink-0 mt-0.5"}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-red-800",children:"Creation Error"}),s.jsx("p",{className:"text-sm text-red-700",children:i})]})]}),s.jsx("div",{className:"min-h-[400px] mb-8",children:s.jsx(p,{})}),s.jsxs("div",{className:"flex justify-between items-center mt-8 border-t pt-6",children:[s.jsx("button",{onClick:()=>n(t-1),disabled:t===0||l,className:"px-5 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md shadow-sm hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),t===ju.length-1?s.jsxs("button",{onClick:v,disabled:!m()||l,className:`inline-flex items-center gap-2 px-5 py-2 text-sm font-semibold text-white rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 transition-colors duration-150 ${l?"bg-gray-400 cursor-not-allowed":m()?"bg-green-600 hover:bg-green-700":"bg-gray-300 cursor-not-allowed"}`,children:[s.jsx(vn,{className:`w-4 h-4 ${l?"animate-spin":""}`}),l?"Saving Character...":"Create Character"]}):s.jsx("button",{onClick:()=>n(t+1),disabled:!m()||l,className:`inline-flex items-center px-5 py-2 text-sm font-medium text-white rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-150 ${!m()||l?"bg-gray-300 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700"}`,children:"Next Step"})]})]})}function vb({icon:e,title:t,description:n,action:r}){return s.jsxs("div",{className:"text-center py-12",children:[s.jsx(e,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:t}),s.jsx("p",{className:"text-gray-500 mb-6",children:n}),r]})}const QR="*, magic_school:magic_schools!left(*)",uu=e=>{const t={STR:10,AGL:10,INT:10,CON:10,WIL:10,CHA:10},n=e.attributes||{},r={STR:n.STR??t.STR,AGL:n.AGL??t.AGL,INT:n.INT??t.INT,CHA:n.CHA??t.CHA,CON:n.CON??t.CON,WIL:n.WIL??t.WIL},a=e.max_hp??r.CON,i=e.max_wp??r.WIL;let o={};if(typeof e.skill_levels=="string")try{o=JSON.parse(e.skill_levels)}catch{}else typeof e.skill_levels=="object"&&e.skill_levels!==null&&(o=e.skill_levels);const l=e.equipment||{};return{id:e.id,user_id:e.user_id,name:e.name||"Unnamed Character",kin:e.kin||"Unknown",profession:e.profession||"Unknown",age:e.age,appearance:e.appearance||"",background:e.background||"",notes:e.notes||"",portrait_url:e.portrait_url,magicSchool:e.magic_school||null,memento:e.memento||"",flaw:e.weak_spot||"",attributes:r,max_hp:a,current_hp:e.current_hp??a,max_wp:i,current_wp:e.current_wp??i,skill_levels:o,trainedSkills:e.trained_skills||[],spells:e.spells||{known:[]},heroic_abilities:e.heroic_ability||[],equipment:{inventory:l.inventory||[],equipped:l.equipped||{weapons:[]},money:l.money||{gold:0,silver:0,copper:0}},conditions:e.conditions||{exhausted:!1,sickly:!1,dazed:!1,angry:!1,scared:!1,disheartened:!1},is_rallied:e.is_rallied??!1,death_rolls_passed:e.death_rolls_passed??0,death_rolls_failed:e.death_rolls_failed??0,experience:e.experience??0,teacher:e.teacher||null,reputation:e.reputation??0,corruption:e.corruption??0,created_at:e.created_at,updated_at:e.updated_at,party_id:e.party_id,party_info:e.party_info}};async function W7(e){if(!e)return[];const{data:t,error:n}=await se.from("characters").select(QR).eq("user_id",e).order("created_at",{ascending:!1});if(n)throw new Error(n.message||"Failed to fetch characters");return(t||[]).map(uu)}async function Y7(e,t){if(!e||!t)return console.warn("fetchCharacterById requires both character ID and user ID."),null;try{const{data:n,error:r}=await se.rpc("get_character_details_with_party",{p_character_id:e,p_user_id:t});return r?(console.error("Error fetching character via RPC:",r),null):n?uu(n):null}catch(n){return console.error("Unexpected error in fetchCharacterById:",n),null}}async function JR(e,t){const n={...t};n.heroic_abilities&&(n.heroic_ability=n.heroic_abilities,delete n.heroic_abilities),n.trainedSkills&&(n.trained_skills=n.trainedSkills,delete n.trainedSkills),n.magicSchool&&(n.magic_school=n.magicSchool,delete n.magicSchool),n.updated_at=new Date().toISOString();const{data:r,error:a}=await se.from("characters").update(n).eq("id",e).select(QR).single();if(a)throw new Error(a.message||"Failed to update character");return r?uu(r):null}async function K7(e){if(e.length===0)return;const{error:t}=await se.from("characters").delete().in("id",e);if(t)throw new Error(t.message||"Failed to delete characters")}const e3=It.forwardRef(({className:e,...t},n)=>s.jsx("input",{ref:n,className:`block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm disabled:bg-gray-50 disabled:cursor-not-allowed ${e}`,...t}));e3.displayName="Input";function Z7({isOpen:e,onClose:t,onJoin:n}){const[r,a]=E.useState(""),[i,o]=E.useState(""),[l,u]=E.useState(!1),c=async()=>{o("");const p=r.match(/party\/join\/([^/?]+)/);if(p&&p[1]){const h=p[1];u(!0);try{await n(h),d()}catch(f){console.error("Join operation failed:",f)}finally{u(!1)}}else o("Invalid party invite link. Please paste the full link.")},d=()=>{a(""),o(""),u(!1),t()};return e?s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 transition-opacity","aria-labelledby":"join-party-title",role:"dialog","aria-modal":"true",onClick:d,children:s.jsxs("div",{className:"relative bg-white rounded-lg shadow-xl p-6 w-full max-w-md m-4 transform transition-all",onClick:p=>p.stopPropagation(),children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsxs("h2",{id:"join-party-title",className:"text-xl font-bold text-gray-900 flex items-center gap-2",children:[s.jsx(Sx,{className:"w-6 h-6 text-blue-600"}),"Join an Adventure Party"]}),s.jsx("button",{onClick:d,className:"p-1 rounded-full text-gray-400 hover:bg-gray-200 hover:text-gray-600","aria-label":"Close dialog",disabled:l,children:s.jsx(mt,{className:"w-5 h-5"})})]}),s.jsx("p",{className:"text-gray-600 mb-4",children:"Paste the invite link you received from your Dungeon Master to join their party."}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"party-link",className:"sr-only",children:"Party Invite Link"}),s.jsx(e3,{id:"party-link",type:"text",value:r,onChange:p=>a(p.target.value),placeholder:"https://.../party/join/...",className:"w-full","aria-describedby":"link-error",disabled:l}),i&&s.jsx("p",{id:"link-error",className:"text-red-500 text-sm mt-2",children:i})]}),s.jsxs("div",{className:"flex justify-end gap-4 mt-6",children:[s.jsx(V,{variant:"secondary",onClick:d,disabled:l,children:"Cancel"}),s.jsx(V,{variant:"primary",onClick:c,disabled:!r||l,children:l?"Joining...":"Join Party"})]})]})}):null}function Eb({isOpen:e,onClose:t,onConfirm:n,title:r,description:a,confirmText:i="Confirm",cancelText:o="Cancel",isLoading:l=!1,isDestructive:u=!1,icon:c}){return e?s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 backdrop-blur-sm",onClick:t,"aria-modal":"true",role:"dialog",children:s.jsxs("div",{className:"relative bg-white rounded-xl shadow-2xl w-full max-w-md m-4 p-6",onClick:d=>d.stopPropagation(),children:[s.jsxs("div",{className:"flex items-start space-x-4",children:[c&&s.jsx("div",{className:`mx-auto flex-shrink-0 flex items-center justify-center h-12 w-12 rounded-full ${u?"bg-red-100":"bg-blue-100"}`,children:c}),s.jsxs("div",{className:"flex-grow",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",id:"modal-title",children:r}),s.jsx("div",{className:"mt-2",children:s.jsx("p",{className:"text-sm text-gray-600",children:a})})]})]}),s.jsxs("div",{className:"mt-6 flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-3",children:[s.jsx(V,{variant:"secondary",onClick:t,disabled:l,className:"mt-3 sm:mt-0 w-full sm:w-auto",children:o}),s.jsx(V,{variant:u?"danger":"primary",onClick:n,loading:l,className:"w-full sm:w-auto",children:i})]})]})}):null}function X7(){const{user:e}=cn(),t=Mr(),n=nr(),[r,a]=E.useState(!1),[i,o]=E.useState(!1),[l,u]=E.useState(!1),[c,d]=E.useState([]),[p,h]=E.useState(!1),{data:f=[],isLoading:m,error:v}=Vt({queryKey:["characters",e==null?void 0:e.id],queryFn:()=>W7(e==null?void 0:e.id),enabled:!!e}),y=Ct({mutationFn:K7,onSuccess:()=>{n.invalidateQueries({queryKey:["characters",e==null?void 0:e.id]}),d([]),u(!1),h(!1)},onError:k=>{console.error("Failed to delete characters:",k),h(!1)}}),g=k=>{d(S=>S.includes(k)?S.filter(T=>T!==k):[...S,k])},x=(k,S)=>{l||k.shiftKey||c.length>0?(k.preventDefault(),l||u(!0),g(S)):t(`/character/${S}`)},w=()=>{d([]),u(!1)};return m?s.jsx("div",{className:"flex justify-center items-center h-96",children:s.jsx(et,{size:"lg"})}):v?s.jsx("div",{className:"p-8",children:s.jsx(He,{message:v.message})}):e?s.jsxs("div",{className:"p-4 md:p-8 max-w-7xl mx-auto space-y-8 min-h-[calc(100vh-4rem)] relative pb-24",children:[s.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-extrabold text-gray-900 tracking-tight",children:"My Characters"}),s.jsx("p",{className:"text-gray-500 mt-1",children:"Manage your roster or create a new hero."})]}),!r&&f.length>0&&s.jsx("div",{className:"flex items-center gap-3 w-full md:w-auto",children:l?s.jsx(V,{variant:"ghost",onClick:w,children:"Cancel Selection"}):s.jsxs(s.Fragment,{children:[s.jsx(V,{variant:"ghost",onClick:()=>u(!0),className:"text-gray-500 hover:text-gray-900",children:"Select..."}),s.jsx("div",{className:"h-6 w-px bg-gray-300 mx-1 hidden md:block"}),s.jsx(V,{variant:"secondary",icon:Sx,onClick:()=>o(!0),children:"Join Party"}),s.jsx(V,{variant:"primary",icon:Ht,onClick:()=>a(!0),children:"Create New"})]})})]}),r?s.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden animate-in fade-in slide-in-from-bottom-4",children:s.jsx(V7,{onComplete:()=>{a(!1),n.invalidateQueries({queryKey:["characters",e==null?void 0:e.id]})}})}):f.length>0?s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:f.map(k=>{const S=c.includes(k.id);return s.jsxs("div",{className:`
                  group relative cursor-pointer rounded-xl transition-all duration-200
                  ${S?"ring-4 ring-indigo-500 ring-offset-2 transform scale-[0.98]":l?"hover:ring-4 hover:ring-gray-200 hover:ring-offset-2":"hover:-translate-y-1 hover:shadow-lg"}
                `,onClick:T=>x(T,k.id),children:[l&&s.jsx("div",{className:`absolute top-3 right-3 z-10 rounded-full p-1 transition-colors ${S?"bg-indigo-600 text-white":"bg-gray-200 text-gray-400 group-hover:bg-gray-300"}`,children:s.jsx(Vs,{size:16,className:S?"opacity-100":"opacity-0 group-hover:opacity-50"})}),s.jsx(m8,{character:k}),l&&s.jsx("div",{className:"absolute inset-0 z-0 rounded-xl bg-white/0"})]},k.id)})}):s.jsx("div",{className:"mt-12",children:s.jsx(vb,{icon:Tn,title:"The Tavern is Empty",description:"You haven't created any characters yet. Start your journey today!",action:s.jsx(V,{variant:"primary",size:"lg",icon:Ht,onClick:()=>a(!0),children:"Create Your First Character"})})}),c.length>0&&s.jsx("div",{className:"fixed bottom-6 left-1/2 transform -translate-x-1/2 z-50 w-full max-w-md px-4 animate-in slide-in-from-bottom-6 fade-in",children:s.jsxs("div",{className:"bg-white border border-gray-200 shadow-2xl rounded-2xl p-3 flex items-center justify-between ring-1 ring-black/5",children:[s.jsxs("div",{className:"flex items-center gap-3 pl-2",children:[s.jsx("div",{className:"bg-indigo-600 text-white text-xs font-bold px-2.5 py-1 rounded-full",children:c.length}),s.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Selected"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(V,{variant:"ghost",size:"sm",onClick:w,children:"Cancel"}),s.jsx(V,{variant:"danger",size:"sm",icon:Cn,onClick:()=>h(!0),loading:y.isPending,children:"Delete"})]})]})}),s.jsx(Z7,{isOpen:i,onClose:()=>o(!1),onJoin:k=>{o(!1),t(`/party/join/${k}`)}}),s.jsx(Eb,{isOpen:p,onClose:()=>h(!1),onConfirm:()=>{c.length>0&&y.mutate(c)},title:`Delete ${c.length} Character${c.length>1?"s":""}?`,description:"These heroes will be lost to the void forever. This action cannot be undone.",confirmText:"Yes, Delete Forever",isDestructive:!0,isLoading:y.isPending,icon:s.jsx(go,{className:"h-6 w-6 text-red-600"})})]}):s.jsx("div",{className:"p-8",children:s.jsx(vb,{icon:wt,title:"Authentication Required",description:"Please sign in."})})}async function Q7(e){const{data:t,error:n}=await se.from("encounters").select("*").eq("party_id",e).order("created_at",{ascending:!1});if(n)throw n;return t||[]}async function J7(e){const{data:t,error:n}=await se.from("encounters").select("*").eq("id",e).single();if(n)throw n;return t}async function t3(e){const{data:t,error:n}=await se.from("encounter_combatants").select("*").eq("encounter_id",e).order("initiative_roll",{ascending:!1,nullsLast:!0}).order("created_at",{ascending:!0});if(n)throw console.error("Error fetching encounter combatants:",n),n;return t||[]}async function eB(e){const{data:t,error:n}=await se.from("encounters").select("*").eq("party_id",e).order("created_at",{ascending:!1}).limit(1).single();if(n&&n.code!=="PGRST116")throw n;return t}async function tB(e,t,n){const{data:r,error:a}=await se.from("encounters").insert({party_id:e,name:t,description:n,status:"planning",log:[]}).select().single();if(a)throw a;return r}async function nB(e,t){const{data:n,error:r}=await se.rpc("duplicate_encounter_with_combatants",{p_encounter_id:e,p_new_name:t});if(r)throw r;return n}async function rB(e){const{data:t,error:n}=await se.rpc("add_character_to_encounter",{p_encounter_id:e.encounterId,p_character_id:e.characterId,p_initiative_roll:e.initiativeRoll});if(n)throw n;return t}async function aB(e){const{data:t,error:n}=await se.rpc("add_monster_to_encounter",{p_encounter_id:e.encounterId,p_monster_id:e.monsterId,p_custom_name:e.customName,p_initiative_roll:e.initiativeRoll});if(n)throw n;return t}async function qf(e,t){const{data:n,error:r}=await se.from("encounters").update(t).eq("id",e).select().single();if(r)throw r;return n}async function rh(e,t){const{data:n,error:r}=await se.from("encounter_combatants").update(t).eq("id",e).select().single();if(r)throw r;return n}async function sB(e,t){const{error:n}=await se.rpc("append_to_log",{p_encounter_id:e,p_log_entry:t});if(n)throw n}const iB=e=>qf(e,{status:"active",current_round:1}),oB=e=>qf(e,{status:"completed"}),lB=async e=>{const{data:t}=await se.from("encounters").select("current_round").eq("id",e).single();if(!t)throw new Error("Encounter not found");return qf(e,{current_round:(t.current_round??0)+1})};async function uB(e){const{error:t}=await se.from("encounters").delete().eq("id",e);if(t)throw t}async function cB(e){const{error:t}=await se.from("encounter_combatants").delete().eq("id",e);if(t)throw t}async function dB(e,t){const{data:n,error:r}=await se.rpc("swap_combatant_initiative",{p_combatant_id_1:e,p_combatant_id_2:t});if(r)throw r;return n}const un=$R((e,t)=>({character:null,isLoading:!0,isSaving:!1,error:null,saveError:null,markedSkillsThisSession:new Set,allGameItems:[],isLoadingGameItems:!1,allHeroicAbilities:[],isLoadingAbilities:!1,activeStatusMessage:null,statusMessageTimeoutId:null,activeEncounter:null,currentCombatant:null,encounterCombatants:[],isLoadingEncounter:!1,encounterError:null,fetchCharacter:async(n,r)=>{e({isLoading:!0,error:null});try{await Promise.all([t()._loadGameItems(),t()._loadAllHeroicAbilities()]);const a=await Y7(n,r);if(!a)throw new Error(`Character with ID ${n} not found.`);e({character:a,isLoading:!1}),a!=null&&a.party_id?t().fetchActiveEncounter(a.party_id,a.id):t().clearActiveEncounter()}catch(a){const i=a instanceof Error?a.message:"Failed to fetch character";e({error:i,isLoading:!1})}},fetchActiveEncounter:async(n,r)=>{e({isLoadingEncounter:!0});try{const a=await eB(n);if(a&&a.status==="active"){const i=await t3(a.id),o=i.find(u=>u.character_id===r),l=i.sort((u,c)=>(u.initiative_roll??100)-(c.initiative_roll??100));e({activeEncounter:a,currentCombatant:o??null,encounterCombatants:l})}else t().clearActiveEncounter()}catch(a){const i=a instanceof Error?a.message:"Failed to fetch encounter";e({encounterError:i})}finally{e({isLoadingEncounter:!1})}},setCharacter:n=>{e({character:n}),!n||!n.party_id?t().clearActiveEncounter():t().fetchActiveEncounter(n.party_id,n.id)},_saveCharacter:async n=>{var a;const r=(a=t().character)==null?void 0:a.id;if(!r){const i="Cannot save: Character ID is missing.";throw e({saveError:i}),new Error(i)}e({isSaving:!0,saveError:null});try{await JR(r,n),e(i=>i.character?{character:{...i.character,...n,updated_at:new Date().toISOString()},isSaving:!1}:{})}catch(i){const o=i instanceof Error?i.message:"Failed to save character";throw e({saveError:o,isSaving:!1}),i}},_loadGameItems:async()=>{if(!(t().isLoadingGameItems||t().allGameItems.length>0)){e({isLoadingGameItems:!0});try{const n=await Id();e({allGameItems:n,isLoadingGameItems:!1})}catch(n){const r=n instanceof Error?n.message:"Failed to load game items";e({isLoadingGameItems:!1,error:r})}}},_loadAllHeroicAbilities:async()=>{if(!(t().isLoadingAbilities||t().allHeroicAbilities.length>0)){e({isLoadingAbilities:!0});try{const{data:n,error:r}=await se.from("heroic_abilities").select("*").order("name");if(r)throw r;e({allHeroicAbilities:n||[],isLoadingAbilities:!1})}catch(n){const r=n instanceof Error?n.message:"Failed to load heroic abilities";e({isLoadingAbilities:!1,error:r})}}},updateCharacterData:async n=>t()._saveCharacter(n),adjustStat:async(n,r)=>{const a=t().character;if(a){if(n==="current_hp"){const i=a.current_hp??0,o=a.max_hp??10,l=Math.max(0,Math.min(o,i+r));if(l!==i){const u={current_hp:l};i<=0&&l>0&&(u.death_rolls_passed=0,u.death_rolls_failed=0,u.is_rallied=!1),await t()._saveCharacter(u)}}else if(n==="current_wp"){const i=a.current_wp??0,o=a.max_wp??10,l=Math.max(0,Math.min(o,i+r));l!==i&&await t()._saveCharacter({current_wp:l})}}},toggleCondition:async n=>{const r=t().character;if(!r)return;const a=r.conditions??{exhausted:!1,sickly:!1,dazed:!1,angry:!1,scared:!1,disheartened:!1},i={...a,[n]:!a[n]};await t()._saveCharacter({conditions:i})},performRest:async(n,r)=>{const a=t().character;if(!a)return;const i={},o=a.current_hp??0,l=a.max_hp??10,u=a.current_wp??0,c=a.max_wp??10,d=()=>Math.floor(Math.random()*6)+1;if(n==="round")i.current_wp=Math.min(c,u+d());else if(n==="stretch"){if(o<=0){t().setActiveStatusMessage("Cannot take Stretch Rest while dying.",3e3);return}const p=r?d()+d():d();i.current_hp=Math.min(l,o+p),i.current_wp=Math.min(c,u+d());const f={...a.conditions??{}};for(const m of Object.keys(f))if(f[m]===!0){f[m]=!1,i.conditions=f;break}}else n==="shift"&&(i.current_hp=l,i.current_wp=c,i.conditions={exhausted:!1,sickly:!1,dazed:!1,angry:!1,scared:!1,disheartened:!1},i.death_rolls_failed=0,i.death_rolls_passed=0,i.is_rallied=!1);Object.keys(i).length>0&&await t()._saveCharacter(i)},setDeathRollState:async(n,r,a)=>{const i={death_rolls_passed:n,death_rolls_failed:r};a!==void 0&&(i.is_rallied=a),await t()._saveCharacter(i)},updateAttribute:async(n,r)=>{const a=t().character;if(!a)return;const o={attributes:{...a.attributes||{},[n]:r}};n==="CON"&&a.max_hp==null&&(o.max_hp=r,o.current_hp=Math.min(a.current_hp??0,r)),n==="WIL"&&a.max_wp==null&&(o.max_wp=r,o.current_wp=Math.min(a.current_wp??0,r)),await t()._saveCharacter(o)},updateCurrentHP:async n=>{var a;const r=((a=t().character)==null?void 0:a.max_hp)??10;if(n>r){console.warn("Attempted to set current_hp higher than max_hp. Operation blocked.");return}await t()._saveCharacter({current_hp:n})},updateWillpowerPoints:async n=>{var a;const r=((a=t().character)==null?void 0:a.max_wp)??10;if(n>r){console.warn("Attempted to set current_wp higher than max_wp. Operation blocked.");return}await t()._saveCharacter({current_wp:n})},updateConditions:async n=>t()._saveCharacter({conditions:n}),updateInventory:async n=>{var r;return t()._saveCharacter({equipment:{...(r=t().character)==null?void 0:r.equipment,inventory:n}})},updateEquipped:async n=>{var r;return t()._saveCharacter({equipment:{...(r=t().character)==null?void 0:r.equipment,equipped:n}})},updateMoney:async n=>{var r;return t()._saveCharacter({equipment:{...(r=t().character)==null?void 0:r.equipment,money:n}})},updateNotes:async n=>t()._saveCharacter({notes:n}),updateExperience:async n=>t()._saveCharacter({experience:n}),updateReputation:async n=>t()._saveCharacter({reputation:n}),updateCorruption:async n=>t()._saveCharacter({corruption:n}),updateAppearance:async n=>t()._saveCharacter({appearance:n}),updateDeathRolls:async(n,r)=>{const a=t().character;a&&(n==="failed"?await t().setDeathRollState(a.death_rolls_passed??0,r,a.is_rallied):await t().setDeathRollState(r,a.death_rolls_failed??0,a.is_rallied))},updateSkillLevel:async(n,r)=>{const a=t().character;if(!a)return;const o={...a.skill_levels||{},[n]:r};await t()._saveCharacter({skill_levels:o})},increaseSkillLevel:async n=>{var u;const r=t().character;if(!r)return;const a=r.skill_levels||{},i=a[n]??0;if(i>=18)return;const o=Math.min(i+1,18),l={skill_levels:{...a,[n]:o}};((u=r.teacher)==null?void 0:u.skillUnderStudy)===n&&(l.teacher=null),await t()._saveCharacter(l)},addHeroicAbility:async n=>{const r=t().character;if(!r)return;const a=r.heroic_abilities||[];await t()._saveCharacter({heroic_abilities:[...a,n]})},increaseMaxStat:async(n,r)=>{const a=t().character;if(!(a!=null&&a.id))throw new Error("Character ID not found for RPC call.");e({isSaving:!0,saveError:null});try{const{error:i}=await se.rpc("increase_character_max_stat",{character_id_input:a.id,stat_name:n,amount_increase:r});if(i)throw new Error(`PostgreSQL Function Error: ${i.message}`);e({isSaving:!1})}catch(i){const o=i instanceof Error?i.message:"A failure occurred in increaseMaxStat";throw e({saveError:o,isSaving:!1}),i}},learnSpell:async n=>{const{character:r,_saveCharacter:a}=t();if(!r)throw new Error("Cannot learn spell: No active character.");if(!n||typeof n.name!="string")throw console.error("learnSpell was called with an invalid object:",n),new Error("Invalid spell data provided.");const i=JSON.parse(JSON.stringify(r.spells??{}));i.school||(i.school={name:null,spells:[]}),i.school.spells||(i.school.spells=[]),i.general||(i.general=[]);let o=!1;if(n.school_id){const l=i.school.spells;l.includes(n.name)||(l.push(n.name),o=!0)}else{const l=i.general;l.includes(n.name)||(l.push(n.name),o=!0)}o&&(await a({spells:i}),e(l=>({character:l.character?{...l.character,spells:i}:null})))},addMagicSchool:async(n,r)=>{const a=t().character;if(!a)return;const o={skill_levels:{...a.skill_levels,[n.name]:r}};a.magic_school||(o.magic_school=n.id),await t()._saveCharacter(o)},setSkillUnderStudy:async n=>{await t()._saveCharacter({teacher:n?{skillUnderStudy:n}:null})},markSkillThisSession:n=>{e(r=>({markedSkillsThisSession:new Set(r.markedSkillsThisSession).add(n)}))},clearMarkedSkillsThisSession:()=>e({markedSkillsThisSession:new Set}),setActiveStatusMessage:(n,r=3e4)=>{clearTimeout(t().statusMessageTimeoutId),e({activeStatusMessage:n});const a=setTimeout(()=>{e({activeStatusMessage:null,statusMessageTimeoutId:null})},r);e({statusMessageTimeoutId:a})},clearActiveStatusMessage:()=>{clearTimeout(t().statusMessageTimeoutId),e({activeStatusMessage:null,statusMessageTimeoutId:null})},drawInitiative:async()=>{const{currentCombatant:n}=t();if(n){const r=Math.floor(Math.random()*10)+1;await t().setInitiativeForCombatant(n.id,r)}},setInitiativeForCombatant:async(n,r)=>{e({isSaving:!0,saveError:null});try{await rh(n,{initiative_roll:r}),t().setActiveStatusMessage(`Initiative set to ${r}`,4e3)}catch(a){const i=a instanceof Error?a.message:"Failed to set initiative";e({saveError:i})}finally{e({isSaving:!1})}},clearActiveEncounter:()=>{e({activeEncounter:null,currentCombatant:null,isLoadingEncounter:!1,encounterError:null,encounterCombatants:[]})}})),pB=[{kin:"Human",movement:10},{kin:"Halfling",movement:8},{kin:"Dwarf",movement:8},{kin:"Elf",movement:10},{kin:"Mallard",movement:8},{kin:"Wolfkin",movement:12}];function hB(e,t){var a;const n=((a=pB.find(i=>i.kin===e))==null?void 0:a.movement)||10;let r=0;return t<=6?r=-4:t<=9?r=-2:t<=12?r=0:t<=15?r=2:r=4,n+r}const bg={Acrobatics:"AGL",Awareness:"INT",Bartering:"CHA","Beast Lore":"INT",Bluffing:"CHA",Bushcraft:"INT",Crafting:"STR",Evade:"AGL",Healing:"INT","Hunting & Fishing":"AGL",Languages:"INT","Myths & Legends":"INT",Performance:"CHA",Persuasion:"CHA",Riding:"AGL",Seamanship:"INT","Sleight of Hand":"AGL",Sneaking:"AGL","Spot Hidden":"INT",Swimming:"AGL",Axes:"STR",Bows:"AGL",Brawling:"STR",Crossbows:"AGL",Hammers:"STR",Knives:"AGL",Slings:"AGL",Spears:"STR",Staves:"AGL",Swords:"STR",Mentalism:"WIL",Animism:"WIL",Elementalism:"WIL"},M_=["Acrobatics","Awareness","Bartering","Beast Lore","Bluffing","Bushcraft","Crafting","Evade","Healing","Hunting & Fishing","Languages","Myths & Legends","Performance","Persuasion","Riding","Seamanship","Sleight of Hand","Sneaking","Spot Hidden","Swimming"],F_=["Axes","Bows","Brawling","Crossbows","Hammers","Knives","Slings","Spears","Staves","Swords"],fB=e=>e<=5?3:e<=8?4:e<=12?5:e<=15?6:7,mB=(e,t,n)=>{var o,l;const r=((o=e.trainedSkills)==null?void 0:o.includes(t))??!1,a=((l=e.attributes)==null?void 0:l[n])??10,i=fB(a);return r?i*2:i};function gB({onClose:e}){const{toggleDiceRoller:t}=Kr(),{character:n,updateCharacterData:r,markSkillThisSession:a}=un(),[i,o]=E.useState({}),[l,u]=E.useState(!0),[c,d]=E.useState(null),[p,h]=E.useState(null),[f,m]=E.useState(new Set((n==null?void 0:n.marked_skills)||[]));E.useEffect(()=>{(async()=>{u(!0);const{data:N}=await se.from("game_skills").select("name, description");if(N){const O=N.reduce((D,B)=>(D[B.name]={description:B.description},D),{});o(O)}u(!1)})()},[]);const v=E.useMemo(()=>M_.map(C=>({name:C,attr:bg[C]})).sort((C,N)=>C.name.localeCompare(N.name)),[]),y=E.useMemo(()=>F_.map(C=>({name:C,attr:bg[C]})).sort((C,N)=>C.name.localeCompare(N.name)),[]),g=E.useMemo(()=>n!=null&&n.skill_levels?Object.keys(n.skill_levels).filter(O=>!M_.includes(O)&&!F_.includes(O)).map(O=>({name:O,attr:bg[O]})).sort((O,D)=>O.name.localeCompare(D.name)):[],[n==null?void 0:n.skill_levels]);if(!n)return s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:s.jsx("div",{className:"bg-white rounded-lg p-6",children:s.jsx(et,{})})});const x=C=>({STR:"exhausted",CON:"sickly",AGL:"dazed",INT:"angry",WIL:"scared",CHA:"disheartened"})[C],w=(C,N,O)=>{t({initialDice:["d20"],rollMode:"skillCheck",targetValue:N,description:`${C} Check`,requiresBane:O,skillName:C}),e()},k=(C,N)=>{const O=C.currentTarget.getBoundingClientRect();d(N),h({top:O.top,left:O.left+O.width/2})},S=()=>{d(null),h(null)},T=(C,N)=>{C.stopPropagation(),c===N?S():k(C,N)},A=(C,N)=>{C.stopPropagation();const O=new Set(f);C.target.checked?(O.add(N),a(N)):O.delete(N),m(O),r({marked_skills:Array.from(O)})},I=C=>{var Y,K,$,z;const N=((Y=n.trainedSkills)==null?void 0:Y.includes(C.name))??!1,O=((K=n.skill_levels)==null?void 0:K[C.name])??mB(n,C.name,C.attr),D=x(C.attr),B=(($=n.conditions)==null?void 0:$[D])??!1,j=(z=i[C.name])==null?void 0:z.description,P=f.has(C.name);return s.jsxs("div",{className:`flex items-center justify-between p-2 rounded cursor-pointer transition-colors ${B?"bg-red-50 hover:bg-red-100 ring-1 ring-red-200":"hover:bg-gray-100"}`,onClick:()=>w(C.name,O,B),title:`Click to roll ${C.name} (Target  ${O}${B?", Bane":""})`,children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("input",{type:"checkbox",checked:P,onChange:_=>A(_,C.name),onClick:_=>_.stopPropagation(),className:"h-4 w-4 rounded border-gray-300 text-blue-600 focus:ring-blue-500",title:"Mark this skill for advancement"}),s.jsxs("div",{className:"flex items-center",children:[s.jsx("span",{className:`${N?"font-bold":""} ${B?"text-red-700":"text-gray-800"}`,children:C.name}),j&&s.jsx("div",{className:"flex items-center ml-2 p-1",onClick:_=>T(_,j),onMouseEnter:_=>k(_,j),onMouseLeave:S,children:s.jsx(Oa,{className:"w-4 h-4 text-blue-500"})}),s.jsxs("span",{className:"text-sm text-gray-500 ml-2",children:["(",C.attr,")"]}),B&&s.jsx("span",{className:"text-xs text-red-600 font-semibold ml-2",children:"(Bane)"})]})]}),s.jsxs("span",{className:`font-medium text-sm ${B?"text-red-700":"text-gray-600"}`,children:["Target: ",O]})]},C.name)};return s.jsxs("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",onClick:S,children:[s.jsxs("div",{className:"bg-white rounded-lg max-w-4xl w-full max-h-[90vh] overflow-hidden flex flex-col shadow-xl",onClick:C=>C.stopPropagation(),children:[s.jsxs("div",{className:"p-6 border-b bg-white flex-shrink-0",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Skills (D20 Check)"}),s.jsx("button",{onClick:e,className:"text-gray-500 hover:text-gray-700",children:s.jsx(mt,{className:"w-6 h-6"})})]}),s.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Click a skill to roll a D20 check. Roll  Skill Level for success. Trained skills are bolded."}),s.jsxs("div",{className:"mt-2 p-2 bg-blue-50 border border-blue-200 rounded-lg text-sm text-blue-800 flex items-start gap-2",children:[s.jsx(Ad,{className:"w-4 h-4 flex-shrink-0 mt-0.5"}),s.jsx("p",{children:"When you have rolled a Dragon (1) or a Demon (20) when using a skill, tick the checkbox next to that skill."})]})]}),l?s.jsx("div",{className:"flex-grow flex items-center justify-center",children:s.jsx(et,{})}):s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-6 gap-y-2 p-4 pt-2 overflow-y-auto flex-grow",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold mb-0 text-gray-700 sticky top-0 bg-white",children:"General Skills"}),s.jsx("div",{className:"space-y-0.5",children:v.map(I)})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold mb-0 text-gray-700 sticky top-0 bg-white",children:"Weapon Skills"}),s.jsx("div",{className:"space-y-0.5",children:y.map(I)})]}),g.length>0&&s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold mb-0 text-gray-700 sticky top-0 bg-white",children:"Secondary Skills"}),s.jsx("div",{className:"space-y-0.5",children:g.map(I)})]})]})]}),s.jsx("div",{className:"p-4 border-t bg-white flex justify-end",children:s.jsx(V,{variant:"outline",onClick:e,children:"Close"})})]}),c&&p&&s.jsx("div",{style:{top:`${p.top}px`,left:`${p.left}px`},className:"fixed -translate-x-1/2 -translate-y-full mb-2 w-72 p-3 bg-gray-800 text-white text-sm rounded-lg shadow-lg z-[60] pointer-events-none",children:s.jsx("p",{children:c})})]})}function bB(e){var p,h;const[t,n]=E.useState([]),[r,a]=E.useState(!0),[i,o]=E.useState(null),l=un(f=>f.character),u=E.useMemo(()=>{if(!(l!=null&&l.spells))return[];let f=[];if(l.spells.general&&(Array.isArray(l.spells.general)?f=f.concat(l.spells.general):console.warn("[useSpells] character.spells.general is not an array:",l.spells.general)),l.spells.school&&l.spells.school.spells){const m=l.spells.school.spells;Array.isArray(m)?f=f.concat(m):console.warn("[useSpells] character.spells.school.spells is not an array:",m)}return Array.from(new Set(f))},[l==null?void 0:l.spells]);E.useEffect(()=>{if(!e||u.length===0){a(!1),n([]);return}async function f(){a(!0),o(null);try{const{data:m,error:v}=await se.from("game_spells").select(`
            *,
            power_level,
						dice,
            magic_schools ( name )
          `).in("name",u).order("rank",{ascending:!0}).order("name",{ascending:!0});if(v)throw v;n(m||[])}catch(m){console.error("Error loading learned spell details:",m),o(m instanceof Error?m.message:"Failed to load spell details"),n([])}finally{a(!1)}}f()},[e,u]);const c=E.useMemo(()=>t.map(f=>({id:f.id,name:f.name,schoolId:f.school_id,rank:f.rank,requirement:f.requirement,castingTime:f.casting_time,range:f.range,duration:f.duration,description:f.description,willpowerCost:f.willpower_cost,createdAt:f.created_at,powerLevel:f.power_level,dice:f.dice})),[t]),d=E.useMemo(()=>{var f,m;return((m=(f=l==null?void 0:l.spells)==null?void 0:f.school)==null?void 0:m.name)??null},[(h=(p=l==null?void 0:l.spells)==null?void 0:p.school)==null?void 0:h.name]);return{learnedSpells:c,characterSchoolName:d,loading:r,error:i}}const P_={Word:"The spell is activated with a chant or power word.",Gesture:"The spell is activated by making specific hand movements.",Focus:"The spell is activated with an item held in your hand.",Ingredient:"The spell is activated using a certain ingredient."},yB={Instant:"The effect occurs instantly and has no lasting effect.",Round:"The effect lasts until your turn in the next round.",Stretch:"The effect lasts for one stretch of time (15 mins).",Shift:"The effect lasts until the end of the current shift (6 hours).",Concentration:"The effect ceases if you perform another action, take damage, or fail a WIL roll."},xB=e=>["d4","d6","d8","d10","d12","d20"].includes(e.toLowerCase()),B_=(e,t)=>{if(!e)return{display:"",roller:[]};const n=e.trim().match(/(\d+)?d(\d+)/i);if(!n)return{display:e,roller:[]};const r=n[1]?parseInt(n[1],10):1,a=`d${n[2]}`;if(!xB(a))return{display:e,roller:[]};const i=r+(t-1),o=`${i}D${n[2]}`,l=Array(i).fill(a);return{display:o,roller:l}},n3=e=>e<=5?3:e<=8?4:e<=12?5:e<=15?6:7,vB=(e,t)=>{var o,l;const n="WIL",r=((o=e.trainedSkills)==null?void 0:o.includes(t))??!1,a=((l=e.attributes)==null?void 0:l[n])??10,i=n3(a);return r?i*2:i},EB=({spell:e,onClose:t})=>{if(!e)return null;const n=Object.keys(P_).filter(r=>{var a;return(a=e.requirement)==null?void 0:a.includes(r)});return s.jsxs("div",{className:"fixed inset-0 z-[60] overflow-hidden pointer-events-none",children:[s.jsx("div",{className:"absolute inset-0 bg-black/20 backdrop-blur-sm pointer-events-auto",onClick:t}),s.jsxs("div",{className:"absolute inset-y-0 right-0 max-w-md w-full bg-white shadow-2xl flex flex-col pointer-events-auto border-l border-stone-200 animate-in slide-in-from-right duration-300",children:[s.jsxs("div",{className:"p-6 border-b bg-stone-50 flex justify-between items-start",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-xs font-bold uppercase tracking-wider text-stone-500 mb-1",children:"Spell Details"}),s.jsx("h3",{className:"text-2xl font-serif font-bold text-stone-900 leading-none",children:e.name})]}),s.jsx("button",{onClick:t,className:"text-stone-400 hover:text-stone-600 transition-colors",children:s.jsx(mt,{size:24})})]}),s.jsxs("div",{className:"flex-grow overflow-y-auto p-6 space-y-6 bg-white",children:[s.jsx("div",{className:"prose prose-stone prose-sm max-w-none text-stone-600 leading-relaxed italic border-l-4 border-stone-300 pl-4",children:e.description}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[s.jsxs("div",{className:"p-3 bg-stone-50 rounded border border-stone-100",children:[s.jsx("span",{className:"block text-xs font-bold text-stone-400 uppercase",children:"Rank"}),s.jsx("span",{className:"font-medium text-stone-800",children:e.rank===0?"Trick":`Rank ${e.rank}`})]}),s.jsxs("div",{className:"p-3 bg-stone-50 rounded border border-stone-100",children:[s.jsx("span",{className:"block text-xs font-bold text-stone-400 uppercase",children:"Cost"}),s.jsxs("span",{className:"font-medium text-stone-800",children:[e.willpowerCost," WP"]})]}),s.jsxs("div",{className:"p-3 bg-stone-50 rounded border border-stone-100",children:[s.jsx("span",{className:"block text-xs font-bold text-stone-400 uppercase",children:"Time"}),s.jsx("span",{className:"font-medium text-stone-800",children:e.castingTime})]}),s.jsxs("div",{className:"p-3 bg-stone-50 rounded border border-stone-100",children:[s.jsx("span",{className:"block text-xs font-bold text-stone-400 uppercase",children:"Range"}),s.jsx("span",{className:"font-medium text-stone-800",children:e.range})]}),e.dice&&s.jsxs("div",{className:"col-span-2 p-3 bg-purple-50 rounded border border-purple-100",children:[s.jsx("span",{className:"block text-xs font-bold text-purple-400 uppercase",children:"Damage / Effect"}),s.jsxs("span",{className:"font-bold text-purple-800 flex items-center gap-2",children:[s.jsx(Ut,{size:14})," ",e.dice]})]})]}),e.requirement&&s.jsxs("div",{className:"bg-amber-50 border border-amber-100 rounded-lg p-4",children:[s.jsxs("h4",{className:"text-xs font-bold text-amber-800 uppercase mb-3 flex items-center gap-2",children:[s.jsx(wt,{size:14})," Requirements"]}),s.jsx("div",{className:"space-y-2 text-sm text-amber-900",children:n.length>0?n.map(r=>{let a=P_[r];if(r==="Ingredient"&&e.requirement){const i=e.requirement.match(/Ingredient\s*\(([^)]+)\)/i);i&&i[1]&&(a=`Requires: ${i[1]}.`)}return s.jsxs("div",{className:"flex gap-2 items-start",children:[s.jsxs("span",{className:"font-bold whitespace-nowrap",children:[r,":"]}),s.jsx("span",{className:"opacity-90",children:a})]},r)}):s.jsx("p",{children:e.requirement})})]}),s.jsxs("div",{className:"bg-blue-50 border border-blue-100 rounded-lg p-4",children:[s.jsxs("h4",{className:"text-xs font-bold text-blue-800 uppercase mb-1 flex items-center gap-2",children:[s.jsx(Pf,{size:14})," Duration: ",e.duration]}),s.jsx("p",{className:"text-xs text-blue-700 opacity-90",children:yB[e.duration]||"See description."})]})]})]})]})};function wB({onClose:e}){var _;const[t,n]=E.useState(null),[r,a]=E.useState(null),[i,o]=E.useState(null),[l,u]=E.useState("prepared"),[c,d]=E.useState("all"),[p,h]=E.useState(null),{toggleDiceRoller:f}=Kr(),{character:m,updateCharacterData:v,isSaving:y,setActiveStatusMessage:g}=un(),{learnedSpells:x,loading:w}=bB(m==null?void 0:m.id),k=((_=m==null?void 0:m.attributes)==null?void 0:_.INT)??10,S=n3(k),T=E.useMemo(()=>new Set((m==null?void 0:m.prepared_spells)??[]),[m==null?void 0:m.prepared_spells]),A=E.useMemo(()=>x.filter(U=>U.rank>0&&T.has(U.id)).length,[x,T]),I=A<S,{preparedSpellsList:C,grimoireSpellsList:N}=E.useMemo(()=>{const U=x.filter(W=>W.rank===0),X=x.filter(W=>W.rank>0&&T.has(W.id)),L=[...U,...X].sort((W,Q)=>W.rank-Q.rank||W.name.localeCompare(Q.name)),ie=x.filter(W=>W.rank>0).sort((W,Q)=>W.rank-Q.rank||W.name.localeCompare(Q.name));return{preparedSpellsList:L,grimoireSpellsList:ie}},[x,T]),O=E.useMemo(()=>Array.from(new Set(x.map(U=>U.rank))).sort((U,X)=>U-X),[x]),D=E.useMemo(()=>{const U=l==="prepared"?C:N;return c==="all"?U:U.filter(X=>X.rank===c)},[l,C,N,c]),{actualMagicSkillName:B,magicSkillValue:j,isMagicSkillAffected:P}=E.useMemo(()=>{var Q;if(!m)return{actualMagicSkillName:null,magicSkillValue:null,isMagicSkillAffected:!1};const U=["Animism","Elementalism","Mentalism","Symbolism"],X=m.skill_levels||{},L=m.trainedSkills||[],ie=new Set([...L,...Object.keys(X)]);let W=U.find(q=>ie.has(q));if(!W&&ie.has("General Magic")&&(W="General Magic"),W){const q=X[W],ee=q!==void 0?q:vB(m,W),ve=((Q=m.conditions)==null?void 0:Q.scared)??!1;return{actualMagicSkillName:W,magicSkillValue:ee,isMagicSkillAffected:ve}}return{actualMagicSkillName:null,magicSkillValue:null,isMagicSkillAffected:!1}},[m]);if(!m)return null;const Y=async(U,X)=>{if(a(null),!m)return;const L=m.prepared_spells??[];let ie;if(X)ie=L.filter(W=>W!==U);else{if(!I){a(`Limit reached (${S}).`);return}ie=[...L,U]}try{await v({prepared_spells:ie})}catch(W){a(W instanceof Error?W.message:"Failed.")}},K=async(U,X,L)=>{o(U.id),n(null);try{const ie=m.current_wp??m.attributes.WIL,W=Number(U.willpowerCost??0),Q=U.powerLevel==="yes",q=Q?W+(X-1)*2:W;if(ie<q)throw new Error(`Need ${q} WP`);await v({current_wp:ie-q});let ee=`Casted ${U.name}${Q?` (Lvl ${X})`:""} for ${q} WP.`;if(L&&(ee+=" (Double time)"),g(ee),U.dice){const ve=B_(U.dice,X);ve.roller.length>0&&setTimeout(()=>{f({initialDice:ve.roller,description:`Casting ${U.name} (Level ${X})`,rollMode:"generic"})},100)}}catch(ie){n(ie instanceof Error?ie.message:"Failed.")}finally{o(null)}},$=()=>{!B||j===null||f({initialDice:["d20"],rollMode:"skillCheck",targetValue:j,description:`${B} Check`,requiresBane:P,skillName:B})},z=({spell:U})=>{const X=T.has(U.id),L=U.rank===0,ie=U.powerLevel==="yes",[W,Q]=E.useState(1),q=Number(U.willpowerCost??0),ee=ie?q+(W-1)*2:q,ve=(m.current_wp??m.attributes.WIL)<ee,Ie=U.castingTime==="Reaction",te=B_(U.dice,W),oe=ge=>Q(pe=>Math.max(1,Math.min(3,pe+ge)));return s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center p-4 border-b border-stone-100 hover:bg-stone-50 transition-colors group",children:[s.jsx("div",{className:"mr-4 hidden sm:flex flex-col items-center justify-center w-12 h-12 bg-stone-100 rounded-lg text-stone-500",children:L?s.jsx($l,{size:20}):s.jsx("span",{className:"font-serif font-bold text-lg",children:U.rank})}),s.jsxs("div",{className:"flex-grow min-w-0 cursor-pointer",onClick:()=>h(U),children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx("h3",{className:"font-bold text-stone-800 group-hover:text-indigo-700 transition-colors truncate",children:U.name}),Ie&&s.jsx("span",{className:"text-[10px] font-bold uppercase bg-amber-100 text-amber-800 px-1.5 rounded",children:"Reaction"})]}),s.jsxs("div",{className:"flex flex-wrap items-center gap-x-4 gap-y-1 text-xs text-stone-500",children:[s.jsxs("div",{className:"flex items-center gap-1",title:"Casting Time",children:[s.jsx(Pf,{size:12})," ",U.castingTime]}),s.jsxs("div",{className:"flex items-center gap-1",title:"Range",children:[s.jsx(Hh,{size:12})," ",U.range]}),s.jsxs("div",{className:"flex items-center gap-1 font-medium text-indigo-600",children:[s.jsx(Ar,{size:12})," ",ee," WP"]}),U.dice&&s.jsxs("span",{className:"flex items-center gap-1 font-bold text-purple-600 bg-purple-50 px-1.5 rounded",children:[s.jsx(Ut,{size:12})," ",te.display]})]})]}),s.jsxs("div",{className:"mt-3 sm:mt-0 flex items-center gap-3 sm:border-l sm:border-stone-200 sm:pl-4",children:[l==="grimoire"&&s.jsx("button",{onClick:ge=>{ge.stopPropagation(),Y(U.id,X)},disabled:!X&&!I||y,className:`p-2 rounded-lg transition-all ${X?"bg-blue-100 text-blue-700":"text-stone-300 hover:bg-stone-100 hover:text-stone-500"}`,title:X?"Unprepare":"Prepare Spell",children:X?s.jsx(Ad,{size:20}):s.jsx(Rx,{size:20})}),s.jsxs("div",{className:"flex items-center bg-stone-100 rounded-lg p-0.5 shadow-inner",children:[ie&&s.jsx("button",{disabled:W<=1,onClick:ge=>{ge.stopPropagation(),oe(-1)},className:"p-1 text-stone-400 hover:text-stone-700 disabled:opacity-30",children:s.jsx(kx,{size:14})}),s.jsx("button",{onClick:ge=>{ge.stopPropagation(),K(U,W,l==="grimoire")},disabled:!!i||y||ve||Ie&&l==="grimoire",className:`
                    px-3 py-1.5 text-xs font-bold uppercase rounded-md shadow-sm transition-all min-w-[70px] flex items-center justify-center gap-1.5
                    ${ve?"bg-stone-200 text-stone-400 cursor-not-allowed":"bg-white text-indigo-600 hover:bg-indigo-50 hover:text-indigo-700 border border-indigo-100"}
                  `,children:i===U.id?s.jsx(et,{size:"sm"}):s.jsxs(s.Fragment,{children:[U.dice&&s.jsx(Ut,{size:12}),ie?`Lvl ${W}`:"Cast"]})}),ie&&s.jsx("button",{disabled:W>=3,onClick:ge=>{ge.stopPropagation(),oe(1)},className:"p-1 text-stone-400 hover:text-stone-700 disabled:opacity-30",children:s.jsx(Ht,{size:14})})]})]})]})};return w?s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm",children:s.jsx(et,{size:"lg"})}):s.jsxs("div",{className:"fixed inset-0 z-40 flex items-center justify-center p-4 sm:p-6",children:[s.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm",onClick:e}),s.jsxs("div",{className:"relative bg-white w-full max-w-4xl h-[85vh] rounded-xl shadow-2xl flex flex-col overflow-hidden border border-stone-200 animate-in zoom-in-95 duration-200",children:[s.jsxs("div",{className:"p-6 border-b border-stone-200 bg-stone-50 flex justify-between items-start",children:[s.jsxs("div",{children:[s.jsxs("h2",{className:"text-2xl font-serif font-bold text-stone-900 flex items-center gap-2",children:[s.jsx($l,{className:"text-purple-600"})," Spellbook"]}),s.jsxs("div",{className:"flex items-center gap-4 mt-2 text-sm text-stone-600",children:[s.jsxs("div",{className:"flex items-center gap-1 bg-white px-2 py-1 rounded border border-stone-200 shadow-sm",children:[s.jsx(Ar,{size:14,className:"text-indigo-500"}),s.jsx("span",{className:"font-bold",children:m.current_wp??m.attributes.WIL}),s.jsx("span",{className:"text-stone-400",children:"/"}),s.jsxs("span",{children:[m.attributes.WIL," WP"]})]}),B&&s.jsxs("button",{onClick:$,className:`flex items-center gap-1 px-2 py-1 rounded border shadow-sm transition-colors ${P?"bg-red-50 border-red-200 text-red-700 hover:bg-red-100":"bg-indigo-50 border-indigo-200 text-indigo-700 hover:bg-indigo-100"}`,children:[s.jsx(Ut,{size:14}),s.jsx("span",{className:"font-bold",children:B}),s.jsx("span",{className:"bg-white/50 px-1.5 rounded text-xs",children:j})]})]})]}),s.jsx("button",{onClick:e,className:"p-2 hover:bg-stone-200 rounded-full text-stone-400 transition-colors",children:s.jsx(mt,{})})]}),(t||r)&&s.jsx("div",{className:`px-6 py-2 text-xs font-bold text-center ${t?"bg-red-100 text-red-700":"bg-amber-100 text-amber-700"}`,children:t||r}),s.jsxs("div",{className:"bg-white px-6 py-2 border-b border-stone-200 flex flex-wrap items-center justify-between gap-4",children:[s.jsxs("div",{className:"flex gap-1 bg-stone-100 p-1 rounded-lg",children:[s.jsxs("button",{onClick:()=>u("prepared"),className:`px-4 py-1.5 text-sm font-bold rounded-md transition-all ${l==="prepared"?"bg-white text-indigo-600 shadow-sm":"text-stone-500 hover:text-stone-700"}`,children:["Prepared (",C.length,")"]}),s.jsxs("button",{onClick:()=>u("grimoire"),className:`px-4 py-1.5 text-sm font-bold rounded-md transition-all ${l==="grimoire"?"bg-white text-indigo-600 shadow-sm":"text-stone-500 hover:text-stone-700"}`,children:["Grimoire (",N.length,")"]})]}),O.length>0&&s.jsxs("div",{className:"flex items-center gap-2 overflow-x-auto no-scrollbar",children:[s.jsx(Td,{size:14,className:"text-stone-400"}),s.jsx("button",{onClick:()=>d("all"),className:`text-xs px-2 py-1 rounded border ${c==="all"?"bg-stone-800 text-white border-stone-800":"bg-white text-stone-600 border-stone-200 hover:border-stone-300"}`,children:"All"}),O.map(U=>s.jsx("button",{onClick:()=>d(U),className:`text-xs px-2 py-1 rounded border ${c===U?"bg-stone-800 text-white border-stone-800":"bg-white text-stone-600 border-stone-200 hover:border-stone-300"}`,children:U===0?"T":`R${U}`},U))]})]}),s.jsx("div",{className:"flex-grow overflow-y-auto bg-stone-50/30",children:D.length>0?s.jsx("div",{className:"divide-y divide-stone-100",children:D.map(U=>s.jsx(z,{spell:U},U.id))}):s.jsxs("div",{className:"flex flex-col items-center justify-center h-64 text-stone-400",children:[s.jsx(Aa,{size:48,className:"mb-4 opacity-20"}),s.jsx("p",{children:"No spells found."})]})}),s.jsxs("div",{className:"p-3 border-t bg-stone-50 text-center text-xs text-stone-400 font-medium",children:["Prep Limit: ",A," / ",S,"  Tricks don't count against limit"]})]}),s.jsx(EB,{spell:p,onClose:()=>h(null)})]})}const SB=e=>{if(!(e!=null&&e.attributes))return null;let t=e.attributes;if(typeof t=="string")try{t=JSON.parse(t)}catch{return null}return typeof(t==null?void 0:t.STR)=="number"?t.STR:null},yg=e=>{const t=/^(.*)\s\((\d+)\)$/,n=/^(.*)\s(\d+)\s([a-zA-Z\s]+)$/;let r=e.match(t);return r?{baseName:r[1].trim(),quantity:parseInt(r[2]),unit:null}:(r=e.match(n),r?{baseName:r[1].trim(),quantity:parseInt(r[2]),unit:r[3].trim()}:{baseName:e,quantity:null,unit:null})},NB=(e,t)=>{var u,c,d;const n=SB(e),r=typeof e.equipment=="string"?JSON.parse(e.equipment):e.equipment;if(n===null||!r)return{capacity:0,load:0,isEncumbered:!1};const a=p=>t.find(h=>h.name.toLowerCase()===p.toLowerCase());let i=Math.ceil(n/2);[...r.equipped.armor?[r.equipped.armor]:[],...r.equipped.helmet?[r.equipped.helmet]:[],...((u=r.equipped.weapons)==null?void 0:u.map(p=>p.name))||[],...r.equipped.wornClothes||[],...((c=r.equipped.containers)==null?void 0:c.map(p=>p.name))||[],...((d=r.equipped.animals)==null?void 0:d.map(p=>p.name))||[]].forEach(p=>{const h=a(p);h!=null&&h.encumbrance_modifier&&(i+=h.encumbrance_modifier)});let l=0;return(r.inventory||[]).forEach(p=>{const h=typeof p.weight=="number"?p.weight:1;h>0&&(l+=h*(p.quantity||1))}),{capacity:i,load:l,isEncumbered:l>i}},kB=()=>s.jsxs("div",{className:"p-3 mt-4 border border-orange-300 bg-orange-50 rounded-lg flex items-center gap-3",children:[s.jsx(go,{className:"w-6 h-6 text-orange-500 flex-shrink-0"}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-bold text-orange-800",children:"Cannot Calculate Encumbrance"}),s.jsx("p",{className:"text-sm text-orange-700",children:"Character's Strength (STR) value is missing."})]})]}),_B=({load:e,capacity:t,isEncumbered:n})=>{const r=t>0?e/t*100:0;let a="bg-green-500";return r>=100?a="bg-red-500":r>75&&(a="bg-yellow-500"),s.jsxs("div",{className:"p-3 border rounded-lg bg-white mt-4",children:[s.jsxs("div",{className:"flex justify-between items-center mb-2",children:[s.jsxs("h4",{className:"font-medium text-sm text-gray-700 flex items-center gap-2",children:[s.jsx(JP,{size:16})," Encumbrance"]}),s.jsxs("span",{className:"font-mono font-semibold text-sm",children:[e," / ",t]})]}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5",children:s.jsx("div",{className:`${a} h-2.5 rounded-full`,style:{width:`${Math.min(r,100)}%`}})}),n&&s.jsxs("div",{className:"mt-3 p-2 bg-red-50 border border-red-200 rounded-lg text-xs text-red-800 flex items-center gap-2",children:[s.jsx(go,{size:16}),s.jsxs("div",{children:[s.jsx("span",{className:"font-bold",children:"Over-encumbered:"})," You must make a STR roll to move."]})]})]})},TB=({onClose:e,currentMoney:t,onUpdateMoney:n})=>{const[r,a]=E.useState(0),[i,o]=E.useState(0),[l,u]=E.useState(0),[c,d]=E.useState(null),p=h=>{if(d(null),r===0&&i===0&&l===0){d("Please enter an amount.");return}const f={gold:(t.gold||0)+r*h,silver:(t.silver||0)+i*h,copper:(t.copper||0)+l*h};if(f.gold<0||f.silver<0||f.copper<0){d("Cannot remove more money than is available.");return}n(jx(f)),e()};return s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center p-4 z-[60]",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md",children:[s.jsxs("div",{className:"p-4 border-b flex justify-between items-center",children:[s.jsx("h3",{className:"text-lg font-bold",children:"Manage Money"}),s.jsx("button",{onClick:e,className:"p-1 rounded-full hover:bg-gray-200",children:s.jsx(mt,{size:20})})]}),s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"mb-6 p-4 bg-yellow-50 text-center rounded-lg",children:[s.jsx("p",{className:"text-sm",children:"Current Balance"}),s.jsx("p",{className:"text-2xl font-bold",children:XR(t)})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-center",children:"Gold"}),s.jsx("input",{type:"number",min:"0",value:r,onChange:h=>a(Math.max(0,parseInt(h.target.value)||0)),className:"w-full p-2 border rounded-lg text-center"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-center",children:"Silver"}),s.jsx("input",{type:"number",min:"0",value:i,onChange:h=>o(Math.max(0,parseInt(h.target.value)||0)),className:"w-full p-2 border rounded-lg text-center"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-center",children:"Copper"}),s.jsx("input",{type:"number",min:"0",value:l,onChange:h=>u(Math.max(0,parseInt(h.target.value)||0)),className:"w-full p-2 border rounded-lg text-center"})]})]}),c&&s.jsx(He,{message:c}),s.jsxs("div",{className:"flex gap-4 mt-6",children:[s.jsx(V,{variant:"secondary",className:"w-full",onClick:()=>p(-1),children:"Remove"}),s.jsx(V,{variant:"primary",className:"w-full",onClick:()=>p(1),children:"Add"})]})]})]})})},CB=e=>`${e.name}${e.quantity>1?` (x${e.quantity})`:""}`,Ha=(e,t)=>{const n=e.findIndex(a=>a.name===t.name);let r=[...e];return n>-1?r[n].quantity+=t.quantity:r.push({...t,id:t.id||`item-${Date.now()}`}),r},Ni=({icon:e,label:t,value:n})=>n==null||n===""?null:s.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-600",children:[s.jsx(e,{className:"w-3.5 h-3.5 flex-shrink-0 text-gray-400"}),s.jsxs("span",{className:"font-medium",children:[t,":"]}),s.jsx("span",{className:"text-gray-800 font-mono",children:String(n)})]}),AB=({item:e,onBuy:t})=>s.jsxs("div",{className:"flex flex-col p-4 border rounded-lg shadow-sm hover:shadow-lg transition-shadow bg-white",children:[s.jsxs("div",{className:"flex-1 mb-4",children:[s.jsx("h4",{className:"font-bold text-gray-800",children:e.name}),s.jsx("p",{className:"text-xs text-gray-500 mb-2",children:e.category}),e.effect&&s.jsxs("p",{className:"text-sm text-blue-800 bg-blue-50 p-2 rounded-md mt-2 italic",children:['"',e.effect,'"']})]}),s.jsxs("div",{className:"space-y-1.5 mb-4 text-sm",children:[s.jsx(Ni,{icon:TR,label:"Weight",value:e.weight}),s.jsx(Ni,{icon:Tn,label:"Armor",value:e.armor_rating}),s.jsx(Ni,{icon:Or,label:"Damage",value:e.damage}),s.jsx(Ni,{icon:Hh,label:"Range",value:e.range}),s.jsx(Ni,{icon:xi,label:"Durability",value:e.durability}),s.jsx(Ni,{icon:Ia,label:"Features",value:e.features}),s.jsx(Ni,{icon:Ar,label:"Skill",value:e.skill})]}),s.jsxs("div",{className:"flex justify-between items-center mt-auto pt-3 border-t",children:[s.jsx("span",{className:"text-sm font-semibold text-green-800 bg-green-100 px-2.5 py-1 rounded-full",children:e.cost||"N/A"}),s.jsx(V,{variant:"primary",size:"sm",onClick:()=>t(e),disabled:!e.cost,children:"Buy"})]})]}),U_=["ARMOR & HELMETS","MELEE WEAPONS","RANGED WEAPONS","CLOTHES"],IB=[{name:"Armor & Weapons",categories:["ARMOR & HELMETS","MELEE WEAPONS","RANGED WEAPONS"],Icon:Tn},{name:"Clothing & Accessories",categories:["CLOTHES"],Icon:so},{name:"Musical & Trade Goods",categories:["MUSICAL INSTRUMENTS","TRADE GOODS"],Icon:p_},{name:"Magic & Studies",categories:["STUDIES & MAGIC"],Icon:TR},{name:"Light & Tools",categories:["LIGHT SOURCES","TOOLS"],Icon:e8},{name:"Containers & Medicine",categories:["CONTAINERS","MEDICINE"],Icon:so},{name:"Services",categories:["SERVICES"],Icon:p_},{name:"Hunting & Travel",categories:["HUNTING & FISHING","MEANS OF TRAVEL"],Icon:bb},{name:"Animals",categories:["ANIMALS"],Icon:Cd}];function RB({onClose:e}){var j,P,Y,K;const[t,n]=E.useState(!0),{character:r,updateCharacterData:a,isSaving:i}=un(),{data:o=[]}=Vt({queryKey:["gameItems"],queryFn:Id,staleTime:1/0}),[l,u]=E.useState("inventory"),[c,d]=E.useState({search:""}),[p,h]=E.useState(null),[f,m]=E.useState(!1),[v,y]=E.useState(null),[g,x]=E.useState("name-asc"),w=E.useMemo(()=>{if(!r)return null;try{const $=typeof r.equipment=="string"?JSON.parse(r.equipment):r.equipment;return $.equipped||($.equipped={}),["weapons","wornClothes","animals","containers"].forEach(z=>{$.equipped[z]||($.equipped[z]=[])}),{...r,attributes:typeof r.attributes=="string"?JSON.parse(r.attributes):r.attributes,equipment:$}}catch($){return console.error("Failed to parse data:",$),r}},[r]),k=$=>o.find(z=>{var _;return((_=z.name)==null?void 0:_.toLowerCase())===$.toLowerCase()||yg(z.name).baseName.toLowerCase()===yg($).baseName.toLowerCase()}),S=E.useMemo(()=>w&&o.length>0?NB(w,o):{capacity:0,load:0,isEncumbered:!1},[w,o]),T=E.useMemo(()=>(w==null?void 0:w.attributes)&&typeof w.attributes.STR=="number",[w]);if(!w)return s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:s.jsx(et,{})});const A=$=>a({...w,equipment:$}),I=$=>{h(null);const z=k($.name);if(!z)return;let _=structuredClone(w.equipment),U=_.inventory;const X=U.findIndex(Q=>Q.id===$.id);if(X===-1)return;const L={...U[X],quantity:1};U[X].quantity>1?U[X].quantity-=1:U.splice(X,1);const{category:ie,name:W}=z;if(ie==="CLOTHES"){if(_.equipped.wornClothes.includes(W)){h("Already wearing one."),_.inventory=Ha(U,L),A(_);return}_.equipped.wornClothes.push(W)}else if(U_.includes(ie)){const Q=ie!=="ARMOR & HELMETS"||W.toLowerCase().includes("shield"),q=ie==="ARMOR & HELMETS"&&!Q;if(Q){if(_.equipped.weapons.length>=3){h("Max 3 at hand."),_.inventory=Ha(U,L),A(_);return}const ee={name:z.name,grip:z.grip,range:z.range,damage:z.damage,durability:z.durability,features:z.features};_.equipped.weapons.push(ee)}else q?(_.equipped.armor&&(U=Ha(U,{name:_.equipped.armor,quantity:1,id:`item-${Date.now()}`})),_.equipped.armor=W):(_.equipped.helmet&&(U=Ha(U,{name:_.equipped.helmet,quantity:1,id:`item-${Date.now()}`})),_.equipped.helmet=W)}else if(ie==="ANIMALS")_.equipped.animals.push(L);else if(ie==="CONTAINERS"){if(W.toLowerCase().includes("backpack")&&_.equipped.containers.some(Q=>Q.name.toLowerCase().includes("backpack"))){h("Only one backpack equipped."),_.inventory=Ha(U,L),A(_);return}if(W.toLowerCase().includes("saddle bag")){const Q=_.equipped.animals.find(q=>_.equipped.containers.filter(ee=>ee.equippedOn===q.id).length<2);if(!Q){h("No animal has space."),_.inventory=Ha(U,L),A(_);return}L.equippedOn=Q.id}_.equipped.containers.push(L)}_.inventory=U,A(_)},C=($,z,_,U)=>{let X=structuredClone(w.equipment),L={id:_||`unequipped-${Date.now()}`,name:$,quantity:1};if(z==="armor"||z==="helmet")X.equipped[z]=void 0;else{const ie=z==="clothing"?"wornClothes":z+"s",W=X.equipped[ie];let Q=-1;if(U!==void 0&&(z==="weapon"||z==="clothing")?Q=U:_?Q=W.findIndex(q=>q.id===_):Q=W.findIndex(q=>(q.name||q)===$),Q>-1){const[q]=W.splice(Q,1);L=typeof q=="string"?L:{...q,quantity:1,equippedOn:void 0},z==="animal"&&_&&(X.equipped.containers=X.equipped.containers.filter(ee=>ee.equippedOn===_?(X.inventory=Ha(X.inventory,ee),!1):!0))}}X.inventory=Ha(X.inventory,L),A(X)},N=$=>{let z=structuredClone(w.equipment);const _=z.inventory.findIndex(X=>X.id===$.id);if(_===-1)return;const U=yg($.name);if(U.quantity!==null){const X=U.quantity-1;X>0?z.inventory[_].name=`${U.baseName} ${U.unit?"":"("}${X}${U.unit?` ${U.unit}`:")"}`:z.inventory.splice(_,1)}else z.inventory[_].quantity>1?z.inventory[_].quantity-=1:z.inventory.splice(_,1);A(z)},O=$=>N($),D=$=>{const z=gg($.cost);if(!z){h("Invalid item cost.");return}const{success:_,newMoney:U}=B7(w.equipment.money,z);if(!_){h("Not enough money.");return}const X={name:$.name,quantity:1,weight:$.weight,id:`item-${Date.now()}`},L=Ha(w.equipment.inventory,X);A({...w.equipment,inventory:L,money:U})},B=()=>{var _,U,X,L,ie;const $=(_=w.equipment)==null?void 0:_.equipped;if(!$)return null;const z=[...$.armor?[{id:"armor",name:$.armor,type:"armor"}]:[],...$.helmet?[{id:"helmet",name:$.helmet,type:"helmet"}]:[],...((U=$.weapons)==null?void 0:U.map((W,Q)=>({id:`w-${Q}-${W.name}`,name:W.name,type:"weapon",index:Q})))||[],...((X=$.wornClothes)==null?void 0:X.map((W,Q)=>({id:`c-${Q}-${W}`,name:W,type:"clothing",index:Q})))||[],...((L=$.containers)==null?void 0:L.map(W=>({...W,type:"container"})))||[],...((ie=$.animals)==null?void 0:ie.map(W=>({...W,type:"animal"})))||[]];return z.length===0?null:s.jsxs("div",{className:"pt-4 border-t",children:[s.jsxs("button",{onClick:()=>n(!t),className:"w-full flex justify-between items-center text-left mb-2",children:[s.jsxs("h3",{className:"font-medium text-sm text-gray-600",children:["Equipped Items (",z.length,")"]}),t?s.jsx(gP,{className:"w-5 h-5 text-gray-500"}):s.jsx(iu,{className:"w-5 h-5 text-gray-500"})]}),t&&s.jsx("div",{className:"space-y-2 pl-2 border-l-2",children:z.map(W=>s.jsxs("div",{className:"p-2 bg-gray-100 rounded",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("span",{className:"text-sm font-medium",children:[W.name," ",s.jsxs("span",{className:"text-xs text-gray-500",children:["(",W.type,")"]})]}),s.jsx(V,{variant:"secondary",size:"xs",icon:GP,onClick:()=>C(W.name,W.type,W.id,W.index),disabled:i,children:"Unequip"})]}),W.type==="animal"&&s.jsx("div",{className:"mt-2 pl-4 border-l-2 border-gray-300 space-y-1",children:$.containers.filter(Q=>Q.equippedOn===W.id).map(Q=>s.jsxs("div",{className:"text-xs text-gray-600 flex items-center justify-between",children:[s.jsxs("span",{children:["- ",Q.name]}),s.jsx(V,{variant:"outline",size:"xs",onClick:()=>C(Q.name,"container",Q.id),children:"Remove"})]},Q.id))})]},W.id))})]})};return s.jsxs(s.Fragment,{children:[f&&s.jsx(TB,{onClose:()=>m(!1),currentMoney:((j=w.equipment)==null?void 0:j.money)||{},onUpdateMoney:$=>A({...w.equipment,money:$})}),s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:s.jsxs("div",{className:"bg-white rounded-lg max-w-6xl w-full max-h-[90vh] flex flex-col shadow-xl",children:[s.jsxs("div",{className:"p-4 md:p-6 border-b flex-shrink-0 bg-gray-50 rounded-t-lg",children:[s.jsxs("div",{className:"flex flex-wrap justify-between items-center gap-2 mb-4",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("h2",{className:"text-xl md:text-2xl font-bold text-gray-800",children:l.charAt(0).toUpperCase()+l.slice(1)}),s.jsxs("button",{onClick:()=>m(!0),className:"flex items-center gap-1.5 px-3 py-1.5 bg-yellow-100 text-yellow-800 rounded-full text-xs font-medium hover:bg-yellow-200 transition-colors",children:[s.jsx(EP,{className:"w-4 h-4"}),XR(((P=w.equipment)==null?void 0:P.money)||{})]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(V,{size:"sm",variant:l==="inventory"?"primary":"secondary",onClick:()=>u("inventory"),children:"Inventory"}),s.jsx(V,{size:"sm",variant:l==="shop"?"primary":"secondary",onClick:()=>u("shop"),children:"Shop"}),s.jsx("button",{onClick:e,className:"p-1 text-gray-500 hover:text-gray-800 rounded-full hover:bg-gray-200",children:s.jsx(mt,{className:"w-5 h-5"})})]})]}),l==="inventory"&&s.jsx("div",{className:"flex items-center gap-3 mt-3",children:s.jsxs("div",{className:"relative flex-1",children:[s.jsx(mr,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 w-4 h-4"}),s.jsx("input",{type:"text",placeholder:"Search carried items...",value:c.search,onChange:$=>d({search:$.target.value}),className:"w-full pl-9 pr-4 py-2 border rounded-lg text-sm"})]})}),l==="shop"&&s.jsxs("div",{className:"flex flex-wrap items-center gap-3 mt-3",children:[v?s.jsx(V,{variant:"secondary",size:"sm",icon:fx,onClick:()=>y(null),children:"Back"}):s.jsx("div",{className:"flex-1"}),s.jsxs("div",{className:"relative flex-1 min-w-[200px]",children:[s.jsx(mr,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 w-4 h-4"}),s.jsx("input",{type:"text",placeholder:v?`Search in ${v.name}...`:"Search shop...",value:c.search,onChange:$=>d({...c,search:$.target.value}),className:"w-full pl-9 pr-4 py-2 border rounded-lg text-sm"})]}),v&&s.jsx("div",{className:"relative",children:s.jsxs("select",{value:g,onChange:$=>x($.target.value),className:"appearance-none w-full bg-white border rounded-lg text-sm px-4 py-2 pr-8",children:[s.jsx("option",{value:"name-asc",children:"Name (A-Z)"}),s.jsx("option",{value:"name-desc",children:"Name (Z-A)"}),s.jsx("option",{value:"cost-asc",children:"Cost (Low-High)"}),s.jsx("option",{value:"cost-desc",children:"Cost (High-Low)"})]})})]})]}),s.jsxs("div",{className:"p-4 md:p-6 overflow-y-auto flex-1 bg-gray-50",children:[i&&s.jsx("div",{className:"flex justify-center py-10",children:s.jsx(et,{})}),l==="shop"&&!i?v?s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 2xl:grid-cols-4 gap-4",children:o.filter($=>v.categories.includes($.category||"")&&$.name.toLowerCase().includes(c.search.toLowerCase())).sort(($,z)=>{var X,L;const _=((X=gg($.cost))==null?void 0:X.totalCopper)||0,U=((L=gg(z.cost))==null?void 0:L.totalCopper)||0;switch(g){case"cost-asc":return _-U;case"cost-desc":return U-_;case"name-desc":return z.name.localeCompare($.name);case"name-asc":default:return $.name.localeCompare(z.name)}}).map($=>s.jsx(AB,{item:$,onBuy:D},$.id))}):s.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-4",children:IB.map($=>s.jsxs("div",{className:"flex flex-col items-center justify-center p-4 border bg-white rounded-lg hover:shadow-xl hover:scale-105 transition-transform cursor-pointer",onClick:()=>y($),children:[s.jsx($.Icon,{className:"w-12 h-12 text-blue-600 mb-3"}),s.jsx("span",{className:"font-medium text-center text-sm",children:$.name})]},$.name))}):!i&&s.jsxs(s.Fragment,{children:[B(),T?s.jsx(_B,{load:S.load,capacity:S.capacity,isEncumbered:S.isEncumbered}):s.jsx(kB,{}),s.jsx("h3",{className:"font-medium text-sm text-gray-600 mt-6 mb-3 pt-4 border-t",children:"Carried Items"}),s.jsxs("div",{className:"space-y-3",children:[(((Y=w.equipment)==null?void 0:Y.inventory)||[]).filter($=>$.name.toLowerCase().includes(c.search.toLowerCase())).map($=>{const z=k($.name);if(!z)return null;const _=z.equippable||U_.includes(z.category),U=!_;return s.jsxs("div",{className:"p-3 border rounded-lg flex items-center justify-between gap-2 bg-white",children:[s.jsx("h3",{className:"font-medium text-sm truncate",children:CB($)}),s.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[U&&s.jsx(V,{variant:"outline",size:"xs",icon:yP,onClick:()=>N($),children:"Use"}),_&&s.jsx(V,{variant:"secondary",size:"xs",icon:Ad,onClick:()=>I($),children:"Equip"}),s.jsx(V,{variant:"dangerOutline",size:"xs",icon:Cn,onClick:()=>O($),children:"Drop"}),s.jsxs("span",{className:"relative group flex items-center",children:[s.jsx(Oa,{className:"w-4 h-4 text-gray-400 hover:text-gray-600 cursor-help"}),s.jsxs("div",{className:"absolute bottom-full right-0 mb-2 w-60 bg-gray-800 text-white text-xs p-2 rounded shadow-lg opacity-0 group-hover:opacity-100 transition-opacity z-20 pointer-events-none",children:[s.jsx("h5",{className:"font-bold mb-1 border-b pb-1",children:z.name}),s.jsx("p",{children:z.effect||z.description}),s.jsxs("p",{className:"mt-1 text-gray-300",children:["W: ",z.weight??"N/A",", Cost: ",z.cost||"N/A"]})]})]})]})]},$.id)}),(((K=w.equipment)==null?void 0:K.inventory)||[]).length===0&&s.jsxs("div",{className:"text-center py-12",children:[s.jsx(so,{className:"w-12 h-12 mx-auto text-gray-300"}),s.jsx("p",{children:"Your pack is empty."})]})]})]})]})]})})]})}const xg={Axes:"STR",Bows:"AGL",Brawling:"STR",Crossbows:"AGL",Hammers:"STR",Knives:"AGL",Slings:"AGL",Spears:"STR",Staves:"AGL",Swords:"STR"},DB=e=>e<=5?3:e<=8?4:e<=12?5:e<=15?6:7,OB=(e,t,n)=>{var o,l;const r=((o=e.trainedSkills)==null?void 0:o.includes(t))??!1,a=((l=e.attributes)==null?void 0:l[n])??10,i=DB(a);return r?i*2:i},LB=e=>({STR:"exhausted",CON:"sickly",AGL:"dazed",INT:"angry",WIL:"scared",CHA:"disheartened"})[e],jB=e=>typeof e=="object"&&e!==null?e:{},$_=e=>e?e.split("(")[0].trim():null,H_=e=>["d4","d6","d8","d10","d12","d20"].includes(e),MB=e=>e?Array.isArray(e)?e.join(", "):e:"-",FB=({item:e,category:t,character:n,onClose:r,onSave:a})=>{const[i,o]=E.useState(!1),[l,u]=E.useState("");E.useEffect(()=>{var f;const h=(f=(n.item_notes||{})[t])==null?void 0:f[e.id];h&&(o(h.enhanced||!1),u(h.bonus||""))},[e,t,n.item_notes]);const c=()=>{const p=JSON.parse(JSON.stringify(n.item_notes||{}));p[t]||(p[t]={}),p[t][e.id]={enhanced:i,bonus:i?l:""},a(p),r()},d=p=>{o(p),p||u("")};return s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:s.jsxs("div",{className:"bg-white rounded-lg max-w-lg w-full p-6 shadow-xl flex flex-col",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4 border-b pb-2",children:[s.jsxs("h3",{className:"text-lg font-semibold",children:["Notes for ",e.name]}),s.jsx("button",{onClick:r,children:s.jsx(mt,{className:"w-6 h-6 text-gray-500 hover:text-gray-800"})})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"p-3 bg-indigo-50 border border-indigo-200 rounded-lg text-sm text-indigo-800 flex items-start gap-3",children:[s.jsx(_P,{className:"w-6 h-6 text-indigo-500 flex-shrink-0 mt-0.5"}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold",children:"Enhancement Opportunity"}),s.jsxs("p",{className:"mt-1",children:["With the help of a ",s.jsx("strong",{children:"MASTER BLACKSMITH"})," or ",s.jsx("strong",{children:"MASTER TANNER"}),", this item can be enhanced. Armor can gain a bonus to its rating (e.g., +1), while weapons can gain a damage bonus (e.g., +D4). This requires GM approval."]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",id:"enhanced",checked:i,onChange:p=>d(p.target.checked),className:"h-4 w-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),s.jsx("label",{htmlFor:"enhanced",className:"ml-2 block text-sm font-medium text-gray-700",children:"Mark as Enhanced ()"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"bonusText",className:"block text-sm font-medium text-gray-700",children:"Bonus / Modifier"}),s.jsx("input",{type:"text",id:"bonusText",value:l,onChange:p=>u(p.target.value),disabled:!i,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:ring-blue-500 disabled:bg-gray-100 disabled:cursor-not-allowed",placeholder:i?t==="armor"?"e.g., +1":"e.g., +D4":"Must be enhanced first"}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Record the GM-approved bonus here."})]})]})]}),s.jsxs("div",{className:"flex justify-end gap-2 mt-6 border-t pt-4",children:[s.jsx(V,{variant:"outline",onClick:r,children:"Cancel"}),s.jsx(V,{variant:"primary",icon:vn,onClick:c,children:"Save Notes"})]})]})})};function PB({character:e}){var k,S,T,A,I,C;const{toggleDiceRoller:t}=Kr(),{updateCharacterData:n}=un(),[r,a]=E.useState(null),{data:i=[],isLoading:o,error:l}=Vt({queryKey:["gameItems"],queryFn:Id,staleTime:1e3*60*10}),u=N=>i.find(O=>{var D;return((D=O.name)==null?void 0:D.toLowerCase())===N.toLowerCase()}),c=(N,O)=>{var D,B;return N&&((B=(D=e.item_notes)==null?void 0:D[O])==null?void 0:B[N.id])||null},d=(N,O)=>{var D;return((D=c(N,O))==null?void 0:D.enhanced)||!1},p=()=>{var B,j,P,Y,K,$,z,_;let N=0;const O=u(((j=(B=e.equipment)==null?void 0:B.equipped)==null?void 0:j.armor)||""),D=u(((Y=(P=e.equipment)==null?void 0:P.equipped)==null?void 0:Y.helmet)||"");if(O){const U=c(O,"armor");let X=0;U!=null&&U.enhanced&&(X=parseInt((($=(K=U.bonus)==null?void 0:K.match(/\d+/))==null?void 0:$[0])||"0")),N+=(Number(O.armor_rating)||0)+X}if(D){const U=c(D,"armor");let X=0;U!=null&&U.enhanced&&(X=parseInt(((_=(z=U.bonus)==null?void 0:z.match(/\d+/))==null?void 0:_[0])||"0")),N+=(Number(D.armor_rating)||0)+X}return N},h=(N,O)=>{var _;const D=u(N),B=c(D,"weapon");let j=[],P=[];const Y=O==null?void 0:O.match(/(\d+)?d(\d+)/i);if(Y){const U=Y[1]?parseInt(Y[1],10):1,X=`d${Y[2]}`;H_(X)&&(j.push(...Array(U).fill(X)),P.push(`${U}d${Y[2]}`))}const K=$_(D==null?void 0:D.skill),$=K?xg[K]:null;let z=null;if($==="STR"&&e.attributes.STR>15?z="d6":$==="STR"&&e.attributes.STR>12&&(z="d4"),$==="AGL"&&e.attributes.AGL>15?z="d6":$==="AGL"&&e.attributes.AGL>12&&(z="d4"),z&&(j.push(z),P.push(z.toUpperCase())),B!=null&&B.enhanced){const U=(_=B==null?void 0:B.bonus)==null?void 0:_.match(/d(\d+)/i);if(U){const X=`d${U[1]}`;H_(X)&&(j.push(X),P.push(X.toUpperCase()))}}t({rollMode:"attackDamage",initialDice:j,description:`Damage for ${N} (${P.join(" + ")})`})},f=(N,O,D)=>{t({initialDice:["d20"],rollMode:"skillCheck",targetValue:O,description:`${N} Check`,requiresBane:D,skillName:N})},m=async N=>{try{await n({item_notes:N})}catch(O){console.error("Failed to save item notes:",O)}},v=p(),y=((S=(k=e.equipment)==null?void 0:k.equipped)==null?void 0:S.weapons)||[],g=jB(e.skill_levels),x=u(((A=(T=e.equipment)==null?void 0:T.equipped)==null?void 0:A.armor)||""),w=u(((C=(I=e.equipment)==null?void 0:I.equipped)==null?void 0:C.helmet)||"");return s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg border border-gray-200",children:[s.jsxs("h3",{className:"font-semibold mb-3 flex items-center gap-2 text-gray-700",children:[s.jsx(Tn,{className:"w-5 h-5 text-blue-600"})," Armor"]}),o?s.jsx(et,{size:"sm"}):l?s.jsx(He,{message:"Could not load item details."}):s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"text-sm space-y-2",children:[s.jsx("div",{children:s.jsxs("button",{onClick:()=>x&&a({item:x,category:"armor"}),className:"text-left font-medium disabled:cursor-default",disabled:!x,children:["Body: ",(x==null?void 0:x.name)||s.jsx("span",{className:"italic text-gray-500 font-normal",children:"None"})," ",d(x,"armor")&&s.jsx(Ia,{className:"w-3 h-3 inline text-yellow-500 fill-current"})]})}),s.jsx("div",{children:s.jsxs("button",{onClick:()=>w&&a({item:w,category:"armor"}),className:"text-left font-medium disabled:cursor-default",disabled:!w,children:["Helmet: ",(w==null?void 0:w.name)||s.jsx("span",{className:"italic text-gray-500 font-normal",children:"None"})," ",d(w,"armor")&&s.jsx(Ia,{className:"w-3 h-3 inline text-yellow-500 fill-current"})]})})]}),s.jsxs("div",{className:"flex items-center justify-end gap-2 px-3 py-1.5 bg-blue-100 text-blue-800 rounded-md text-sm font-medium mt-2",children:[s.jsx(Tn,{className:"w-4 h-4"}),s.jsxs("span",{children:["Total Armor Rating: ",v]})]})]})]}),s.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg border border-gray-200",children:[s.jsxs("h3",{className:"font-semibold mb-3 flex items-center gap-2 text-gray-700",children:[s.jsx(Or,{className:"w-5 h-5 text-red-600"})," Weapons"]}),o?s.jsx(et,{size:"sm"}):l?s.jsx(He,{message:"Could not load item details."}):y.length===0?s.jsx("p",{className:"text-sm text-gray-500 italic",children:"No weapons equipped."}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full text-sm text-left",children:[s.jsx("thead",{className:"text-xs text-gray-700 uppercase bg-gray-100",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-4 py-2",children:"Weapon / Shield"}),s.jsx("th",{className:"px-4 py-2",children:"Grip"}),s.jsx("th",{className:"px-4 py-2",children:"Range"}),s.jsx("th",{className:"px-4 py-2",children:"Damage"}),s.jsx("th",{className:"px-4 py-2",children:"Durability"}),s.jsx("th",{className:"px-4 py-2",children:"Features"}),s.jsx("th",{className:"px-4 py-2",children:"Actions"})]})}),s.jsx("tbody",{children:y.map((N,O)=>{var Y;const D=u(N.name),B=$_(D==null?void 0:D.skill);let j=null,P=!1;if(B&&xg[B]){const K=xg[B];j=(g==null?void 0:g[B])??OB(e,B,K),P=((Y=e.conditions)==null?void 0:Y[LB(K)])??!1}return s.jsxs("tr",{className:"bg-white border-b hover:bg-gray-50",children:[s.jsx("td",{className:"px-4 py-2 font-medium",children:s.jsxs("button",{onClick:()=>D&&a({item:D,category:"weapon"}),className:"text-left disabled:cursor-default",disabled:!D,children:[N.name," ",d(D,"weapon")&&s.jsx(Ia,{className:"w-3 h-3 inline text-yellow-500 fill-current"})]})}),s.jsx("td",{className:"px-4 py-2",children:N.grip||"-"}),s.jsx("td",{className:"px-4 py-2",children:N.range||"-"}),s.jsx("td",{className:"px-4 py-2",children:N.damage||"-"}),s.jsx("td",{className:"px-4 py-2",children:(D==null?void 0:D.durability)||"-"}),s.jsx("td",{className:"px-4 py-2",children:MB(N.features)}),s.jsx("td",{className:"px-4 py-2",children:s.jsxs("div",{className:"flex items-center gap-2",children:[N.damage&&s.jsxs(V,{variant:"link",size:"xs",onClick:()=>h(N.name,N.damage),className:"text-red-600 p-0 flex items-center gap-1",title:"Roll damage",children:[s.jsx(Ut,{className:"w-3 h-3"}),"Damage"]}),B&&j!==null&&s.jsxs(V,{variant:"link",size:"xs",onClick:()=>f(B,j,P),className:`${P?"text-red-600":"text-indigo-600"} p-0 flex items-center gap-1`,title:`Roll ${B}`,children:[s.jsx(Ut,{className:"w-3 h-3"}),B,": ",j]})]})})]},`${N.name}-${O}`)})})]})})]}),r&&s.jsx(FB,{item:r.item,category:r.category,character:e,onClose:()=>a(null),onSave:m})]})}function Mx(e){return typeof e!="object"||e===null||Array.isArray(e)?!1:Object.values(e).every(t=>typeof t=="number"||t===null)}function z_(e){return typeof e!="object"||e===null?!1:typeof e.skill_id=="string"&&(e.minimumValue===void 0||typeof e.minimumValue=="number")}const BB=({ability:e,onClose:t})=>{if(!e)return null;const n=$B(e.requirement);return s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-25 z-50",onClick:t,"aria-hidden":"true"}),s.jsx("div",{className:`fixed top-0 right-0 h-full w-full max-w-md bg-white shadow-2xl transform transition-transform duration-300 ease-in-out z-50 ${e?"translate-x-0":"translate-x-full"}`,children:s.jsxs("div",{className:"p-6 h-full flex flex-col",onClick:r=>r.stopPropagation(),children:[s.jsxs("div",{className:"flex justify-between items-center border-b pb-4",children:[s.jsx("h3",{className:"text-2xl font-bold text-gray-800",children:e.name}),s.jsx("button",{onClick:t,className:"text-gray-500 hover:text-gray-700",children:s.jsx(mt,{className:"w-6 h-6"})})]}),s.jsxs("div",{className:"overflow-y-auto mt-4 flex-grow space-y-4 text-gray-700",children:[s.jsx("p",{className:"text-sm italic border-l-4 border-gray-200 pl-4 py-1",children:e.description}),n&&s.jsxs("div",{className:"p-3 bg-amber-50 border border-amber-200 rounded-lg",children:[s.jsx("h4",{className:"font-semibold text-amber-800 text-sm",children:"Requirement"}),s.jsx("p",{className:"text-sm text-amber-700",children:n})]})]})]})})]})},UB=e=>Object.entries(e).map(([t,n])=>n!==null?`${t} (Lvl ${n})`:t).join(", "),$B=e=>e?typeof e=="string"?e:Mx(e)?UB(e):"Complex requirement":null;function HB(){const{character:e,allHeroicAbilities:t,isLoading:n,error:r,updateCharacterData:a,isSaving:i,setActiveStatusMessage:o}=un(),[l,u]=E.useState(null),[c,d]=E.useState(null),p=E.useMemo(()=>{if(!t||!(e!=null&&e.heroic_abilities))return[];const v=new Set(Array.isArray(e.heroic_abilities)?e.heroic_abilities:[]);return t.filter(y=>v.has(y.name))},[t,e==null?void 0:e.heroic_abilities]),h=async v=>{if(!e)return;u(null);const y=v.willpower_cost,g=e.current_wp;if(y===null||y<=0){o(`Used: ${v.name}`);return}if(typeof g!="number"){u("Invalid WP.");return}if(g>=y)try{await a({current_wp:g-y}),o(`Used ${v.name} for ${y} WP.`)}catch(x){u(`Failed to update WP: ${x.message}`)}else u(`Not enough WP. Need ${y}, have ${g}`)},f=({ability:v})=>{const y=v.willpower_cost,g=e==null?void 0:e.current_wp,x=y===null||y<=0||typeof g=="number"&&g>=y;return s.jsxs("div",{className:"flex items-center justify-between p-3 border-b bg-white hover:bg-gray-50/50 last:border-b-0",children:[s.jsx("button",{onClick:w=>{w.stopPropagation(),d(v)},className:"text-left",children:s.jsx("h4",{className:"font-semibold text-gray-800 hover:text-blue-600 transition-colors",children:v.name})}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"flex items-center gap-2 text-sm font-medium text-gray-600 w-20 justify-end",children:y!==null&&y>0?s.jsxs(s.Fragment,{children:[s.jsx(Ia,{className:"w-4 h-4 text-amber-500"}),s.jsxs("span",{children:[y," WP"]})]}):s.jsx("span",{className:"text-green-600",children:"Free"})}),s.jsxs(V,{onClick:w=>{w.stopPropagation(),h(v)},disabled:!x||i,loading:i,variant:"secondary",size:"xs",className:"w-28",children:[s.jsx(Ar,{className:"w-4 h-4 mr-1"})," Activate"]})]})]})},m=()=>n?s.jsx(et,{size:"sm"}):r?s.jsx(He,{message:r}):(e==null?void 0:e.profession)==="Mage"?s.jsx("p",{className:"text-sm text-gray-500 italic p-4",children:"Mages use spells instead of heroic abilities."}):p.length===0?s.jsx("p",{className:"text-sm text-gray-500 italic p-4",children:"No heroic abilities learned."}):s.jsxs("div",{className:"space-y-2",children:[l&&s.jsx("div",{className:"p-2 mx-2 bg-red-50 border border-red-200 rounded-md text-xs text-red-700",children:l}),s.jsx("div",{className:"border rounded-lg bg-white shadow-sm overflow-hidden",children:p.map(v=>s.jsx(f,{ability:v},v.id))})]});return s.jsxs("div",{className:"relative",onClick:()=>d(null),children:[s.jsxs("div",{className:"bg-white p-4 rounded-lg border",onClick:v=>v.stopPropagation(),children:[s.jsxs("h3",{className:"font-semibold mb-3 flex items-center gap-2 text-gray-700",children:[s.jsx(Ix,{className:"w-5 h-5 text-orange-600"})," Heroic Abilities"]}),m()]}),s.jsx(BB,{ability:c,onClose:()=>d(null)})]})}async function zB(){const{data:e,error:t}=await se.from("heroic_abilities").select(`
      id,
      name,
      description,
      willpower_cost,
      requirement,
      kin,        
      profession  
    `);if(t)throw console.error("Error fetching heroic abilities:",t),new Error(t.message||"Failed to fetch heroic abilities");return(e||[]).map(r=>({id:r.id,name:r.name,description:r.description,willpower_cost:r.willpower_cost,requirement:r.requirement,kin:r.kin,profession:r.profession}))}const Gh={Mentalism:"WIL",Animism:"WIL",Elementalism:"WIL"},GB=["Axes","Bows","Brawling","Crossbows","Hammers","Knives","Slings","Spears","Staves","Swords"],an=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e},za=e=>{const t=un.getState().character,n=an(t==null?void 0:t.skill_levels)||{};return(n==null?void 0:n[e])??0};function qB(e){const t={Acrobatics:"AGL",Awareness:"INT",Bartering:"CHA","Beast Lore":"INT",Bluffing:"CHA",Bushcraft:"INT",Crafting:"STR",Evade:"AGL",Healing:"INT","Hunting & Fishing":"AGL",Languages:"INT","Myths & Legends":"INT",Performance:"CHA",Persuasion:"CHA",Riding:"AGL",Seamanship:"INT","Sleight of Hand":"AGL",Sneaking:"AGL","Spot Hidden":"INT",Swimming:"AGL",Axes:"STR",Bows:"AGL",Brawling:"STR",Crossbows:"AGL",Hammers:"STR",Knives:"AGL",Slings:"AGL",Spears:"STR",Staves:"AGL",Swords:"STR",...Gh},n=[],r=an(e.skill_levels)||{},a=an(e.trained_skills)||[];for(const i in r){const o=t[i];if(!o){console.warn(`[AdvancementSystem] Skill "${i}" missing from attribute map.`);continue}const l=r[i],u=a.includes(i);n.push({name:i,attribute:o,level:l,isTrained:u})}return n.sort((i,o)=>i.name.localeCompare(o.name)),n}const r3=e=>{var a;if(!e)return[];const t=an(e),n=((a=t.school)==null?void 0:a.spells)??[],r=t.general??[];return Array.from(new Set([...n,...r].map(i=>i.toUpperCase())))},wb=e=>{const t=an(e.skill_levels);return t?Object.keys(t).filter(n=>Gh[n]):[]},VB=(e,t)=>{const n=e.requirement,r=an(n);if(!r||typeof r!="object"||Object.keys(r).length===0)return!0;const a=new Map,i=an(t.skill_levels)||{};for(const[u,c]of Object.entries(i))typeof c=="number"&&a.set(u.toUpperCase(),c);const o=new Map,l=an(t.attributes)||{};for(const[u,c]of Object.entries(l))typeof c=="number"&&o.set(u.toUpperCase(),c);for(const[u,c]of Object.entries(r)){const d=Number(c);if(c===null||isNaN(d))continue;const p=u.toUpperCase();if(a.has(p)&&a.get(p)>=d)return!0;if(o.has(p)&&o.get(p)>=d)return!0}return!1},WB=(e,t)=>{if(!e||e.trim()==="")return!0;const n=e.trim().toUpperCase(),r=r3(t.spells),a=wb(t).map(i=>i.toUpperCase());return n==="ANYSCHOOL"?a.length>0:!!(a.includes(n)||r.includes(n))};function YB({character:e,onClose:t}){var dN;const{character:n,markedSkillsThisSession:r,clearMarkedSkillsThisSession:a,increaseSkillLevel:i,addHeroicAbility:o,increaseMaxStat:l,setSkillUnderStudy:u,learnSpell:c,addMagicSchool:d,isSaving:p,saveError:h}=un(),{toggleDiceRoller:f}=Kr(),[m,v]=E.useState(!1),[y,g]=E.useState(null),[x,w]=E.useState("initial"),[k,S]=E.useState(null),[T,A]=E.useState(0),[I,C]=E.useState(new Set),[N,O]=E.useState([]),[D,B]=E.useState(0),[j,P]=E.useState(null),[Y,K]=E.useState(null),[$,z]=E.useState([]),[_,U]=E.useState(!1),[X,L]=E.useState(null),[ie,W]=E.useState(null),[Q,q]=E.useState(null),[ee,ve]=E.useState(null),[Ie,te]=E.useState([]),[oe,ge]=E.useState([]),[pe,dt]=E.useState([]),[qe,_e]=E.useState(null),[$e,xt]=E.useState(null),[gt,Dn]=E.useState(!1),lt=n||e,Fr=E.useMemo(()=>lt?qB(lt):[],[lt]),On=(dN=n==null?void 0:n.teacher)==null?void 0:dN.skillUnderStudy,{generalSkills:Et,weaponSkills:ae,magicSkills:Z}=E.useMemo(()=>{const ke=[],Oe=[],Ue=[];return Fr.forEach(ht=>{Gh[ht.name]?Ue.push(ht):GB.includes(ht.name)?Oe.push(ht):ke.push(ht)}),{generalSkills:ke,weaponSkills:Oe,magicSkills:Ue}},[Fr]),ue=()=>{S(null),P(null),q(null),A(0),C(new Set),O([]),B(0),K(null),L(null),W(null),dt([]),_e(null),xt(null),Dn(!1),U(!1)},Se=()=>{ue(),w("enterMarks")},Le=()=>{ue(),w("selectStudyType")},ft=async()=>{if(!n){S("Character data not found."),w("selectStudyType");return}if(wb(n).length===0){S("Character does not know any magic schools."),w("selectStudyType");return}Dn(!0),S(null);try{let Oe=Ie.length>0?Ie:await W8();Ie.length===0&&te(Oe);const Ue=r3(n.spells),ht=Oe.filter(zt=>!Ue.includes(zt.name.toUpperCase())&&WB(zt.prerequisite,n));dt(ht),w("studyMagicSelectSpell")}catch(Oe){console.error("Error loading magic data:",Oe),S(Oe instanceof Error?Oe.message:"Failed to load magic study data."),w("selectStudyType")}finally{Dn(!1)}},it=async ke=>{if(ke==="teacher")w("studyTeacherSelectSkill");else if(ke==="magic")ft();else if(ke==="learnSchool"){Dn(!0),S(null);try{const Oe=await HR();ge(Oe),w("studyMagicSelectSchool")}catch(Oe){console.error("Error loading magic schools:",Oe),S(Oe instanceof Error?Oe.message:"Failed to load magic schools.")}finally{Dn(!1)}}},vt=ke=>{if(ke.preventDefault(),T>0){const Oe=new Set;let Ue=0;const ht=Fr.map(zt=>zt.name);for(const zt of r)Ue<T&&ht.includes(zt)&&(Oe.add(zt),Ue++);C(Oe),S(null),w("selectSkills")}else S("Please enter at least one Advancement Mark.")},Wt=ke=>{C(Oe=>{const Ue=new Set(Oe);return Ue.has(ke)?Ue.delete(ke):Ue.size<T&&Ue.add(ke),Ue})},de=()=>{if(I.size!==T){S(`Please select exactly ${T} skill(s).`);return}S(null),O(Array.from(I)),B(0),P(null),w("rollSkills")},Ne=E.useCallback(async(ke,Oe,Ue)=>{const ht=Ue==="study"?q:P,zt=za(ke);let hn=`Manual result for ${ke}: `;if(Oe){hn+="Success! Skill increased.",await i(ke);const rn=za(ke);hn+=` New Level: ${rn}.`,rn===18&&zt<18&&(Ue==="endSession"&&K(ke),hn+=" Reached level 18!")}else hn+="Failure. Skill did not increase.";ht(hn)},[i]),Qe=E.useCallback(async ke=>{if(!n||!ke.results||ke.results.length===0){P("Error: Roll failed due to missing data."),f();return}const{value:Oe}=ke.results[0],{skillName:Ue,targetValue:ht}=ke;if(!Ue||ht===void 0){P("Error: Roll context missing skill information."),f();return}const zt=Oe>ht;let hn=`Rolled ${Oe} vs ${Ue} (Target > ${ht}). `;await Ne(Ue,zt,"endSession"),P(rn=>hn+(rn||"")),f()},[n,Ne,f]),Me=(ke,Oe)=>{const Ue=za(ke),ht=Oe==="study"?q:P;if(Ue>=18){ht(`Skill ${ke} is already at max level (18).`);return}ht(null),f({rollMode:"advancementRoll",targetValue:Ue,skillName:ke,description:`Advancement Roll: ${ke} (D20 vs > ${Ue})`,onRollComplete:Oe==="study"?pn:Qe})},tn=(ke,Oe)=>{const Ue=za(ke),ht=Oe==="study"?q:P;if(Ue>=18){ht(`Skill ${ke} is already at max level (18).`);return}g({skillName:ke,context:Oe}),v(!0)},yr=async ke=>{if(!y)return;const{skillName:Oe,context:Ue}=y;v(!1),await Ne(Oe,ke,Ue),g(null)},xr=()=>{P(null),Y?(Pr(),w("selectAbility")):D<N.length-1?B(ke=>ke+1):ce()},Pr=async()=>{U(!0),S(null);try{const ke=await zB(),Oe=un.getState().character;if(!Oe)throw new Error("Character data not available for ability filtering.");const Ue=an(Oe.heroic_abilities)||[],ht=new Set(Ue.map(rn=>rn.toUpperCase())),zt=new Set(["ROBUST","FOCUSED","MAGIC TALENT"]),hn=ke.filter(rn=>{const ep=rn.name.toUpperCase();return!(ht.has(ep)&&!zt.has(ep)||rn.kin||!VB(rn,Oe))});z(hn)}catch(ke){console.error("Error fetching abilities:",ke),S(ke instanceof Error?ke.message:"Failed to load heroic abilities.")}finally{U(!1)}},zn=ke=>{L(ke)},Co=async()=>{if(!X){S("Please select a heroic ability.");return}S(null),await o(X.name);const ke=X.name.toUpperCase();ke==="ROBUST"?await l("max_hp",2):ke==="FOCUSED"&&await l("max_wp",2),K(null),L(null),D<N.length-1?(B(Oe=>Oe+1),w("rollSkills")):ce()},ce=()=>{a(),w("finished")},Re=ke=>{W(ke)},Lt=async()=>{if(!ie){S("Please select a skill to study.");return}S(null),q(null),await u(ie),w("studyTeacherRollSkill")},pn=E.useCallback(async ke=>{if(!n||!ke.results||!ke.results.length){q("Error: Roll failed due to missing data."),f();return}const{value:Oe}=ke.results[0],{skillName:Ue,targetValue:ht}=ke;if(!Ue||ht===void 0){q("Error: Roll context missing skill information."),f();return}const zt=Oe>ht;let hn=`Studied ${Ue}. Rolled ${Oe} vs Target > ${ht}. `;await Ne(Ue,zt,"study"),q(rn=>hn+(rn||"")),f()},[n,Ne,f]),Gn=E.useCallback(async ke=>{var rn;if(!n||!((rn=ke.results)!=null&&rn.length)||!$e){q("Error: Roll failed due to missing data."),f();return}const{value:Oe}=ke.results[0],Ue=ke.targetValue,ht=an(n.attributes);if(Ue===void 0||!ht){q("Error: Character INT value not found for roll."),f();return}const zt=Oe>Ue;let hn=`Attempting to learn ${$e.name}. Rolled ${Oe} vs INT > ${Ue}. `;zt?(hn+=`Success! You have learned the basics of ${$e.name}. The skill is added at your base chance of ${Ue}.`,await d($e,Ue)):hn+="Failure. You must study for another week to try again.",q(hn),f()},[n,$e,d,f]),nn=()=>{if(!n||!$e)return;const Oe=an(n.attributes).INT;q(null),f({rollMode:"advancementRoll",targetValue:Oe,skillName:`Learn ${$e.name}`,description:`Learn Magic School: ${$e.name} (D20 vs > ${Oe})`,onRollComplete:Gn})},qn=async()=>{if(!n||!$e)return;const Oe=an(n.attributes).INT;q(null);let Ue=`Manually learned ${$e.name}. Success! The skill is added at your base chance of ${Oe}.`;await d($e,Oe),q(Ue)},Qd=ke=>{_e(ke)},Jd=async()=>{if(!qe){S("Please select a spell to learn.");return}S(null);try{await c(qe),t()}catch(ke){console.error("Error learning spell:",ke),S(ke instanceof Error?ke.message:"Failed to learn the spell.")}},Su=()=>{W(null),q(null),_e(null),xt(null),dt([]),t()},AL=()=>{if(!lt&&x!=="initial")return s.jsx(et,{text:"Loading character data..."});switch(x){case"initial":return s.jsxs("div",{className:"space-y-4",children:[" ",s.jsx("p",{className:"text-gray-600",children:"Choose an action to proceed."})," ",s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[" ",s.jsxs(V,{onClick:Se,className:"flex-1",children:[s.jsx(Xu,{className:"w-5 h-5 mr-2"})," End Session & Advance"]})," ",s.jsxs(V,{onClick:Le,variant:"outline",className:"flex-1",children:[s.jsx(Aa,{className:"w-5 h-5 mr-2"})," Study"]})," "]})," "]});case"enterMarks":return s.jsxs("form",{onSubmit:vt,className:"space-y-4",children:[" ",s.jsx("h4",{className:"font-medium text-gray-800",children:"End Session Advancement"})," ",s.jsx("label",{htmlFor:"advancementMarks",className:"block font-medium text-gray-700",children:"How many Advancement Marks did you gain this session?"})," ",s.jsx("input",{type:"number",id:"advancementMarks",name:"advancementMarks",min:"1",value:T===0?"":T,onChange:Ee=>A(parseInt(Ee.target.value,10)||0),className:"w-full p-2 border rounded focus:ring-blue-500 focus:border-blue-500",required:!0})," ",k&&s.jsx(He,{message:k})," ",s.jsxs("div",{className:"flex justify-between",children:[s.jsxs(V,{type:"button",variant:"secondary",onClick:()=>w("initial"),children:[s.jsx(Lo,{className:"w-4 h-4 mr-1"})," Back"]}),s.jsxs(V,{type:"submit",disabled:T<=0,children:["Next ",s.jsx(wa,{className:"w-4 h-4 ml-1"})]})]})," "]});case"selectSkills":if(!lt)return s.jsx(et,{});const ke=({skill:Ee})=>{const ha=za(Ee.name),Ua=ha>=18,np=Ee.name===On;return s.jsxs("label",{className:`flex items-center space-x-3 p-2 rounded ${Ua?"opacity-60 cursor-not-allowed":"hover:bg-gray-100 cursor-pointer"}`,children:[s.jsx("input",{type:"checkbox",checked:I.has(Ee.name),onChange:()=>Wt(Ee.name),disabled:Ua||!I.has(Ee.name)&&I.size>=T,className:"h-4 w-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500 disabled:opacity-50"}),s.jsx("span",{className:`flex-grow ${Ee.isTrained?"font-semibold":""}`,children:Ee.name}),s.jsxs("span",{className:"text-xs text-gray-500",children:["(",Ee.attribute,")"]}),s.jsxs("span",{className:"text-sm text-gray-600 font-medium",children:["Lvl ",ha]}),Ua&&s.jsx("span",{className:"text-xs text-yellow-600 font-semibold ml-1",children:"(Max)"}),r.has(Ee.name)&&!Ua&&s.jsx(Ia,{className:"w-4 h-4 text-yellow-500",title:"Marked this session"}),np&&s.jsx(Xu,{className:"w-4 h-4 text-purple-600 ml-1",title:"Currently studying"})]},Ee.name)};return s.jsxs("div",{className:"space-y-4",children:[s.jsxs("h4",{className:"font-medium text-gray-800",children:["Select ",T," skill(s) to attempt advancement:"]}),s.jsxs("div",{className:"max-h-80 overflow-y-auto space-y-4 border rounded p-3 bg-gray-50",children:[Et.length>0&&s.jsxs("div",{children:[s.jsx("h5",{className:"font-bold text-gray-600 mb-1",children:"General Skills"}),s.jsx("div",{className:"space-y-1",children:Et.map(Ee=>s.jsx(ke,{skill:Ee},Ee.name))})]}),ae.length>0&&s.jsxs("div",{children:[s.jsx("h5",{className:"font-bold text-gray-600 mb-1 pt-2 border-t",children:"Weapon Skills"}),s.jsx("div",{className:"space-y-1",children:ae.map(Ee=>s.jsx(ke,{skill:Ee},Ee.name))})]}),Z.length>0&&s.jsxs("div",{children:[s.jsx("h5",{className:"font-bold text-gray-600 mb-1 pt-2 border-t",children:"Magic Skills"}),s.jsx("div",{className:"space-y-1",children:Z.map(Ee=>s.jsx(ke,{skill:Ee},Ee.name))})]})]}),s.jsxs("p",{className:"text-sm text-gray-600",children:["Selected: ",I.size," / ",T]}),k&&s.jsx(He,{message:k}),s.jsxs("div",{className:"flex justify-between",children:[s.jsxs(V,{type:"button",variant:"secondary",onClick:()=>w("enterMarks"),children:[s.jsx(Lo,{className:"w-4 h-4 mr-1"})," Back"]}),s.jsxs(V,{onClick:de,disabled:I.size!==T,children:["Confirm Selection ",s.jsx(wa,{className:"w-4 h-4 ml-1"})]})]})]});case"rollSkills":if(N.length===0||!lt)return s.jsx(et,{text:"Preparing skill roll..."});const Oe=N[D],Ue=za(Oe),ht=Ue>=18,zt=!!j;return s.jsxs("div",{className:"space-y-4",children:[" ",s.jsxs("h4",{className:"font-medium text-gray-800",children:[" Attempting Advancement (",D+1," / ",N.length,") "]})," ",s.jsxs("div",{className:"p-4 border rounded bg-gray-50 text-center",children:[" ",s.jsx("p",{className:"text-lg font-semibold",children:Oe})," ",s.jsxs("p",{className:"text-gray-600",children:["Current Level: ",Ue]})," ",ht&&!zt&&s.jsx("p",{className:"text-yellow-600 font-medium mt-1",children:"Max Level Reached. Skipped."})," "]})," ",j&&s.jsxs("div",{className:`p-3 rounded border text-center ${j.includes("Success")?"bg-green-50 border-green-200 text-green-800":j.includes("Failed")?"bg-red-50 border-red-200 text-red-800":"bg-blue-50 border-blue-200 text-blue-800"}`,children:[" ",j," "]})," ",h&&s.jsx(He,{message:h})," ",k&&s.jsx(He,{message:k})," ",s.jsxs("div",{className:"flex justify-center gap-4 pt-2",children:[" ",!zt&&!ht&&s.jsxs(s.Fragment,{children:[" ",s.jsxs(V,{onClick:()=>Me(Oe,"endSession"),disabled:p,loading:p,children:[" ",s.jsx(Ut,{className:"w-4 h-4 mr-1"})," Roll (D20 vs ",">"," ",Ue,") "]})," ",s.jsxs(V,{variant:"outline",onClick:()=>tn(Oe,"endSession"),disabled:p,loading:p,children:[" ",s.jsx(Ar,{className:"w-4 h-4 mr-1"})," Enter Manual Result "]})," "]})," ",(zt||ht&&!zt)&&s.jsxs(V,{onClick:xr,disabled:p,loading:p,children:[" ",Y?"Select Heroic Ability":D<N.length-1?"Next Skill":"Finish Session"," ",s.jsx(wa,{className:"w-4 h-4 ml-1"})," "]})," "]})," ",p&&s.jsxs("div",{className:"text-center text-sm text-blue-600 flex items-center justify-center gap-1",children:[s.jsx(Sa,{className:"w-4 h-4 animate-spin"})," Saving..."]})," "]});case"selectAbility":return s.jsxs("div",{className:"space-y-4",children:[" ",s.jsxs("h4",{className:"font-medium text-green-700 flex items-center gap-2",children:[" ",s.jsx(Ff,{className:"w-5 h-5"})," Skill ",s.jsx("span",{className:"font-bold",children:Y})," reached level 18! "]})," ",s.jsx("p",{className:"text-gray-700",children:"Select a new Heroic Ability:"})," ",_&&s.jsx(et,{text:"Loading available abilities..."})," ",k&&s.jsx(He,{message:k})," ",!_&&$.length===0&&!k&&s.jsx("p",{className:"text-center text-gray-500 italic py-4",children:"No eligible heroic abilities found for this character."})," ",!_&&$.length>0&&s.jsxs("div",{className:"max-h-60 overflow-y-auto space-y-2 border rounded p-3 bg-gray-50",children:[" ",$.map(Ee=>s.jsxs("div",{onClick:()=>zn(Ee),className:`p-3 rounded border cursor-pointer ${(X==null?void 0:X.id)===Ee.id?"bg-blue-100 border-blue-300 ring-2 ring-blue-400":"bg-white hover:bg-blue-50 border-gray-200"}`,children:[" ",s.jsx("p",{className:"font-semibold",children:Ee.name})," ",s.jsx("p",{className:"text-xs text-gray-600 mt-1",children:Ee.description})," ",s.jsxs("div",{className:"text-xs text-gray-500 mt-1 flex flex-wrap gap-x-2 gap-y-1",children:[" ",Ee.willpower_cost&&s.jsxs("span",{children:["WP: ",Ee.willpower_cost]})," ",Ee.requirement&&typeof an(Ee.requirement)=="object"&&Object.keys(an(Ee.requirement)).length>0&&s.jsxs("span",{children:["Req: ",Object.entries(an(Ee.requirement)).filter(([,ha])=>ha!=null).map(([ha,Ua])=>`${ha} ${Ua}`).join(", ")]})," ",Ee.requirement&&typeof Ee.requirement=="string"&&!Ee.requirement.startsWith("{")&&s.jsxs("span",{children:["Req: ",Ee.requirement]})," "]})," "]},Ee.id))," "]})," ",h&&s.jsx(He,{message:h})," ",s.jsxs("div",{className:"flex justify-end pt-2",children:[" ",s.jsxs(V,{onClick:Co,disabled:!X||_||p||$.length===0&&!k&&!_,loading:p,children:[" Confirm Ability & Continue ",s.jsx(wa,{className:"w-4 h-4 ml-1"})," "]})," "]})," ",p&&s.jsxs("div",{className:"text-center text-sm text-blue-600 flex items-center justify-center gap-1",children:[s.jsx(Sa,{className:"w-4 h-4 animate-spin"})," Saving..."]})," "]});case"selectStudyType":const hn=(n&&wb(n).length>0)??!1,rn=n?an(n.heroic_abilities):[],ep=(rn==null?void 0:rn.filter(Ee=>Ee.toUpperCase()==="MAGIC TALENT").length)??0,RL=n?an(n.skill_levels):{},DL=Object.keys(RL??{}).filter(Ee=>Gh[Ee]).length,pN=ep>DL;return s.jsxs("div",{className:"space-y-4",children:[" ",s.jsx("h4",{className:"font-medium text-gray-800",children:"Choose Study Method"})," ",s.jsx("p",{className:"text-gray-600",children:"How would you like to study to improve a skill or learn magic?"})," ",s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[" ",s.jsxs(V,{onClick:()=>it("teacher"),className:"w-full",children:[" ",s.jsx(Xu,{className:"w-5 h-5 mr-2"})," Find a Teacher (Skills) "]})," ",s.jsxs(V,{onClick:()=>it("magic"),variant:"outline",className:"w-full",disabled:!hn||gt,loading:gt,children:[" ",s.jsx(zh,{className:"w-5 h-5 mr-2"})," Study Magic (Spells) "]})," ",s.jsxs(V,{onClick:()=>it("learnSchool"),variant:"outline",className:"w-full sm:col-span-2",disabled:!pN||gt,loading:gt,children:[" ",s.jsx(Aa,{className:"w-5 h-5 mr-2"})," Learn a New Magic School "]})," "]})," ",!hn&&s.jsxs("p",{className:"text-sm text-yellow-700 bg-yellow-50 p-2 rounded border border-yellow-200 flex items-center gap-1",children:[" ",s.jsx(wt,{className:"w-4 h-4 flex-shrink-0"})," Character must know a Magic School to study its spells. "]})," ",!pN&&s.jsxs("p",{className:"text-sm text-yellow-700 bg-yellow-50 p-2 rounded border border-yellow-200 flex items-center gap-1",children:[" ",s.jsx(wt,{className:"w-4 h-4 flex-shrink-0"})," Requires the 'Magic Talent' heroic ability. You must have one use of this ability for each school you wish to learn. "]})," ",k&&s.jsx(He,{message:k})," ",s.jsxs("div",{className:"flex justify-start",children:[" ",s.jsxs(V,{type:"button",variant:"secondary",onClick:()=>w("initial"),children:[" ",s.jsx(Lo,{className:"w-4 h-4 mr-1"})," Back "]})," "]})," "]});case"studyTeacherSelectSkill":return lt?s.jsxs("div",{className:"space-y-4",children:[" ",s.jsx("h4",{className:"font-medium text-gray-800",children:"Study with a Teacher"})," ",s.jsx("p",{className:"text-gray-600",children:"Select one skill to focus on improving. You cannot study a skill currently being studied until it has been advanced or study is completed."})," ",On&&s.jsxs("div",{className:"p-3 bg-purple-50 border border-purple-200 rounded text-purple-800 text-sm flex items-center gap-2",children:[" ",s.jsx(Oa,{className:"w-4 h-4 flex-shrink-0"})," Currently studying: ",s.jsx("span",{className:"font-semibold",children:On}),". Complete or advance this study first to pick another skill. "]})," ",s.jsxs("div",{className:"max-h-72 overflow-y-auto space-y-1 border rounded p-3 bg-gray-50",children:[" ",Fr.map(Ee=>{const ha=za(Ee.name),Ua=ha>=18,np=Ua||!!On&&On!==Ee.name;return s.jsxs("label",{className:`flex items-center space-x-3 p-2 rounded ${np?"opacity-60 cursor-not-allowed":ie===Ee.name?"bg-blue-100 border border-blue-300":"hover:bg-gray-100 cursor-pointer"}`,children:[" ",s.jsx("input",{type:"radio",name:"studySkill",checked:ie===Ee.name,onChange:()=>Re(Ee.name),disabled:np,className:"h-4 w-4 text-blue-600 border-gray-300 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed"})," ",s.jsx("span",{className:`flex-grow ${Ee.isTrained?"font-semibold":""}`,children:Ee.name})," ",s.jsxs("span",{className:"text-xs text-gray-500",children:["(",Ee.attribute,")"]})," ",s.jsxs("span",{className:"text-sm text-gray-600 font-medium",children:["Lvl ",ha]})," ",Ua&&s.jsx("span",{className:"text-xs text-yellow-600 font-semibold ml-1",children:"(Max)"})," "]},Ee.name)})," "]})," ",k&&s.jsx(He,{message:k})," ",s.jsxs("div",{className:"flex justify-between",children:[" ",s.jsxs(V,{type:"button",variant:"secondary",onClick:()=>w("selectStudyType"),children:[" ",s.jsx(Lo,{className:"w-4 h-4 mr-1"})," Back "]})," ",s.jsxs(V,{onClick:Lt,disabled:!ie||!!On||p,loading:p,children:[" Confirm Study Skill ",s.jsx(wa,{className:"w-4 h-4 ml-1"})," "]})," "]})," ",p&&s.jsxs("div",{className:"text-center text-sm text-blue-600 flex items-center justify-center gap-1",children:[s.jsx(Sa,{className:"w-4 h-4 animate-spin"})," Saving..."]})," "]}):s.jsx(et,{});case"studyTeacherRollSkill":const Ao=On||ie;if(!Ao||!lt)return s.jsx(He,{message:"Error: No skill selected or found for study, or character data missing."});const Tm=za(Ao),Cm=Tm>=18,tp=!!Q;return s.jsxs("div",{className:"space-y-4",children:[" ",s.jsxs("h4",{className:"font-medium text-gray-800",children:["Study Session: ",Ao]})," ",s.jsxs("div",{className:"p-4 border rounded bg-gray-50 text-center",children:[" ",s.jsx("p",{className:"text-lg font-semibold",children:Ao})," ",s.jsxs("p",{className:"text-gray-600",children:["Current Level: ",Tm]})," ",Cm&&!tp&&s.jsx("p",{className:"text-yellow-600 font-medium mt-1",children:"Max Level Reached. Study complete."})," "]})," ",Q&&s.jsxs("div",{className:`p-3 rounded border text-center ${Q.includes("Success")?"bg-green-50 border-green-200 text-green-800":Q.includes("Failed")?"bg-red-50 border-red-200 text-red-800":"bg-blue-50 border-blue-200 text-blue-800"}`,children:[" ",Q," "]})," ",h&&s.jsx(He,{message:h})," ",k&&s.jsx(He,{message:k})," ",s.jsxs("div",{className:"flex justify-center gap-4 pt-2",children:[" ",!tp&&!Cm&&s.jsxs(s.Fragment,{children:[" ",s.jsxs(V,{onClick:()=>Me(Ao,"study"),disabled:p,loading:p,children:[" ",s.jsx(Ut,{className:"w-4 h-4 mr-1"})," Roll (D20 vs ",">"," ",Tm,") "]})," ",s.jsxs(V,{variant:"outline",onClick:()=>tn(Ao,"study"),disabled:p,loading:p,children:[" ",s.jsx(Ar,{className:"w-4 h-4 mr-1"})," Enter Manual Result "]})," "]})," ",(tp||Cm&&!tp)&&s.jsxs(V,{onClick:Su,disabled:p,loading:p,children:[" Finish Study ",s.jsx(Vs,{className:"w-4 h-4 ml-1"})," "]})," "]})," ",p&&s.jsxs("div",{className:"text-center text-sm text-blue-600 flex items-center justify-center gap-1",children:[s.jsx(Sa,{className:"w-4 h-4 animate-spin"})," Saving..."]})," "]});case"studyMagicSelectSpell":return s.jsxs("div",{className:"space-y-4",children:[" ",s.jsxs("h4",{className:"font-medium text-gray-800 flex items-center gap-2",children:[" ",s.jsx(zh,{className:"w-5 h-5 text-purple-600"})," Study Magic (Spells) "]})," ",ee&&s.jsxs("p",{className:"text-gray-600",children:["School: ",s.jsx("span",{className:"font-semibold",children:ee})]})," ",s.jsx("p",{className:"text-gray-600",children:"Select a spell to learn:"})," ",gt&&s.jsx(et,{text:"Loading spells..."})," ",k&&s.jsx(He,{message:k})," ",!gt&&pe.length===0&&!k&&s.jsx("p",{className:"text-center text-gray-500 italic py-4",children:"No new spells available to learn at this time, or prerequisites not met."})," ",!gt&&pe.length>0&&s.jsxs("div",{className:"max-h-72 overflow-y-auto space-y-2 border rounded p-3 bg-gray-50",children:[" ",pe.map(Ee=>s.jsxs("label",{className:`flex items-start space-x-3 p-3 rounded border cursor-pointer ${(qe==null?void 0:qe.id)===Ee.id?"bg-blue-100 border-blue-300 ring-2 ring-blue-400":"bg-white hover:bg-blue-50 border-gray-200"}`,children:[" ",s.jsx("input",{type:"radio",name:"learnSpell",checked:(qe==null?void 0:qe.id)===Ee.id,onChange:()=>Qd(Ee),className:"h-4 w-4 text-blue-600 border-gray-300 focus:ring-blue-500 mt-1 flex-shrink-0"})," ",s.jsxs("div",{className:"flex-grow",children:[" ",s.jsxs("p",{className:"font-semibold",children:[Ee.name," ",s.jsxs("span",{className:"text-xs font-normal text-gray-500",children:["(Rank ",Ee.rank??"N/A",")"]})]})," ",s.jsx("p",{className:"text-xs text-gray-600 mt-1",children:Ee.description})," ",s.jsxs("div",{className:"text-xs text-gray-500 mt-1 flex flex-wrap gap-x-2 gap-y-1",children:[" ",Ee.casting_time&&s.jsxs("span",{children:["Cast: ",Ee.casting_time]})," ",Ee.range&&s.jsxs("span",{children:["Range: ",Ee.range]})," ",Ee.duration&&s.jsxs("span",{children:["Duration: ",Ee.duration]})," ",Ee.willpower_cost&&s.jsxs("span",{children:["WP: ",Ee.willpower_cost]})," ",Ee.prerequisite&&s.jsxs("span",{className:"italic",children:["(Learn Req: ",Ee.prerequisite,")"]})," ",Ee.casting_requirement&&s.jsxs("span",{className:"italic",children:["(Cast Req: ",Ee.casting_requirement,")"]})," "]})," "]})," "]},Ee.id))," "]})," ",h&&s.jsx(He,{message:h})," ",s.jsxs("div",{className:"flex justify-between pt-2",children:[" ",s.jsxs(V,{type:"button",variant:"secondary",onClick:()=>{w("selectStudyType"),S(null)},children:[" ",s.jsx(Lo,{className:"w-4 h-4 mr-1"})," Back "]})," ",s.jsxs(V,{onClick:Jd,disabled:!qe||gt||p||pe.length===0&&!k&&!gt,loading:p,children:[" Learn Selected Spell ",s.jsx(Vs,{className:"w-4 h-4 ml-1"})," "]})," "]})," ",p&&s.jsxs("div",{className:"text-center text-sm text-blue-600 flex items-center justify-center gap-1",children:[s.jsx(Sa,{className:"w-4 h-4 animate-spin"})," Saving..."]})," "]});case"studyMagicSelectSchool":const OL=n?an(n.skill_levels):{},LL=Object.keys(OL??{}),hN=oe.filter(Ee=>!LL.includes(Ee.name));return s.jsxs("div",{className:"space-y-4",children:[" ",s.jsxs("h4",{className:"font-medium text-gray-800 flex items-center gap-2",children:[" ",s.jsx(Aa,{className:"w-5 h-5 text-purple-600"})," Learn a New Magic School "]})," ",s.jsx("p",{className:"text-gray-600",children:"Select a school of magic to study for a week. At the end of the week, you will roll against your INT to learn it."})," ",k&&s.jsx(He,{message:k})," ",!gt&&hN.length===0&&!k&&s.jsx("p",{className:"text-center text-gray-500 italic py-4",children:"There are no new magic schools available for you to learn."})," ",s.jsxs("div",{className:"max-h-72 overflow-y-auto space-y-2 border rounded p-3 bg-gray-50",children:[" ",hN.map(Ee=>s.jsxs("label",{className:`flex items-start space-x-3 p-3 rounded border cursor-pointer ${($e==null?void 0:$e.id)===Ee.id?"bg-blue-100 border-blue-300 ring-2 ring-blue-400":"bg-white hover:bg-blue-50 border-gray-200"}`,children:[" ",s.jsx("input",{type:"radio",name:"learnSchool",checked:($e==null?void 0:$e.id)===Ee.id,onChange:()=>xt(Ee),className:"h-4 w-4 text-blue-600 border-gray-300 focus:ring-blue-500 mt-1 flex-shrink-0"})," ",s.jsxs("div",{className:"flex-grow",children:[" ",s.jsx("p",{className:"font-semibold",children:Ee.name})," ",s.jsx("p",{className:"text-xs text-gray-600 mt-1",children:Ee.description})," "]})," "]},Ee.id))," "]})," ",s.jsxs("div",{className:"flex justify-between pt-2",children:[" ",s.jsxs(V,{type:"button",variant:"secondary",onClick:()=>{w("selectStudyType"),S(null)},children:[" ",s.jsx(Lo,{className:"w-4 h-4 mr-1"})," Back "]})," ",s.jsxs(V,{onClick:()=>w("studyMagicRollSchool"),disabled:!$e||p,loading:p,children:[" Begin Study ",s.jsx(wa,{className:"w-4 h-4 ml-1"})," "]})," "]})," "]});case"studyMagicRollSchool":if(!$e||!n)return s.jsx(He,{message:"Error: No magic school selected or character data missing."});const fN=an(n.attributes).INT,mN=!!Q;return s.jsxs("div",{className:"space-y-4",children:[" ",s.jsxs("h4",{className:"font-medium text-gray-800",children:["Study Session: Learn ",$e.name]})," ",s.jsxs("div",{className:"p-4 border rounded bg-gray-50 text-center",children:[" ",s.jsx("p",{className:"text-lg font-semibold",children:$e.name})," ",s.jsxs("p",{className:"text-gray-600",children:["You must roll greater than your Intelligence (",fN,") on a D20 to succeed."]})," "]})," ",Q&&s.jsxs("div",{className:`p-3 rounded border text-center ${Q.includes("Success")?"bg-green-50 border-green-200 text-green-800":"bg-red-50 border-red-200 text-red-800"}`,children:[" ",Q," "]})," ",h&&s.jsx(He,{message:h})," ",k&&s.jsx(He,{message:k})," ",s.jsxs("div",{className:"flex justify-center gap-4 pt-2",children:[" ",!mN&&s.jsxs(s.Fragment,{children:[" ",s.jsxs(V,{onClick:nn,disabled:p,loading:p,children:[" ",s.jsx(Ut,{className:"w-4 h-4 mr-1"})," Roll (D20 vs ",">"," ",fN,") "]})," ",s.jsxs(V,{variant:"outline",onClick:qn,disabled:p,loading:p,children:[" ",s.jsx(Ar,{className:"w-4 h-4 mr-1"})," Succeed Manually "]})," "]})," ",mN&&s.jsxs(V,{onClick:Su,disabled:p,loading:p,children:[" Finish ",s.jsx(Vs,{className:"w-4 h-4 ml-1"})," "]})," "]})," ",p&&s.jsxs("div",{className:"text-center text-sm text-blue-600 flex items-center justify-center gap-1",children:[s.jsx(Sa,{className:"w-4 h-4 animate-spin"})," Saving..."]})," "]});case"finished":return s.jsxs("div",{className:"text-center space-y-4 p-6 bg-green-50 rounded border border-green-200",children:[" ",s.jsx(Vs,{className:"w-12 h-12 text-green-500 mx-auto"})," ",s.jsx("h4",{className:"text-xl font-semibold text-green-800",children:"Session Ended & Advancement Complete!"})," ",s.jsx("p",{className:"text-gray-700",children:"Character data has been updated. Marked skills for this session have been cleared."})," ",s.jsx(V,{onClick:t,children:" Done "})," "]});default:const jL=x;return s.jsxs("p",{children:["Unknown step: ",jL]})}},IL=()=>{if(!m||!y)return null;const{skillName:ke}=y,Oe=za(ke);return s.jsxs("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center p-4 z-50",children:[" ",s.jsxs("div",{className:"bg-white rounded-lg max-w-sm w-full p-6 shadow-xl",children:[" ",s.jsxs("h4",{className:"text-lg font-semibold text-gray-800",children:["Manual Advancement for ",s.jsx("span",{className:"text-blue-600",children:ke})]})," ",s.jsxs("p",{className:"text-sm text-gray-600 mt-2 mb-4",children:[" A success is counted when the D20 roll is ",s.jsx("span",{className:"font-bold",children:"greater than"})," the skill's current level of ",s.jsx("span",{className:"font-bold",children:Oe}),". "]})," ",s.jsxs("div",{className:"flex flex-col gap-3",children:[" ",s.jsxs(V,{onClick:()=>yr(!0),disabled:p,loading:p,className:"w-full",children:[" ",s.jsx(KP,{className:"w-4 h-4 mr-2"})," Success "]})," ",s.jsxs(V,{onClick:()=>yr(!1),disabled:p,loading:p,variant:"outline",className:"w-full",children:[" ",s.jsx(YP,{className:"w-4 h-4 mr-2"})," Failure "]})," "]})," ",s.jsxs("div",{className:"mt-4 text-center",children:[" ",s.jsx("button",{onClick:()=>v(!1),className:"text-xs text-gray-500 hover:text-gray-700",children:"Cancel"})," "]})," "]})," "]})};return s.jsxs("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:[s.jsxs("div",{className:"bg-white rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto shadow-xl",children:[s.jsxs("div",{className:"flex items-center justify-between border-b p-4 sticky top-0 bg-white z-10",children:[s.jsxs("h3",{className:"text-xl font-bold flex items-center gap-2",children:[s.jsx(Xu,{className:"w-6 h-6 text-blue-600"}),"Character Advancement"]}),s.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600","aria-label":"Close advancement modal",children:s.jsx(mt,{className:"w-6 h-6"})})]}),s.jsx("div",{className:"p-6",children:AL()})]}),IL()]})}function KB({character:e}){const{toggleDiceRoller:t}=Kr(),{setDeathRollState:n,adjustStat:r,isSaving:a}=un(),[i,o]=E.useState(!1),[l,u]=E.useState(null),c=e.death_rolls_passed??0,d=e.death_rolls_failed??0,p=e.is_rallied??!1,h=e.attributes.CON,f=e.attributes.WIL,m=c>=3,v=d>=3,y=C=>{o(!1);const N=C.results[0].value,O=C.isCritical&&C.isSuccess,D=C.isCritical&&!C.isSuccess,B=C.isSuccess;let j=c,P=d;O?(j+=2,u(`Rolled ${N} (Dragon! +2 Successes)`)):D?(P+=2,u(`Rolled ${N} (Demon! +2 Failures)`)):B?(j+=1,u(`Rolled ${N} (Success vs CON ${h})`)):(P+=1,u(`Rolled ${N} (Failure vs CON ${h})`)),n(j,P,p),t()},g=C=>{o(!1);const N=C.results[0].value;C.isSuccess?(n(c,d,!0),u(`Rallied! (Rolled ${N} vs WIL ${f} w/ Bane)`)):(n(c,d,!1),u(`Rally Failed (Rolled ${N} vs WIL ${f} w/ Bane)`)),t()},x=C=>{o(!1);const N=C.results[0].value;u(`Recovered ${N} HP!`),r("current_hp",N),t()},w=()=>{i||m||v||(o(!0),u(null),t({rollMode:"deathRoll",targetValue:h,description:`Death Save (d20 vs CON ${h})`,onRollComplete:y}))},k=()=>{i||p||m||v||(o(!0),u(null),t({rollMode:"rallyRoll",targetValue:f,requiresBane:!0,description:`Rally Self (d20 vs WIL ${f}, Bane)`,onRollComplete:g}))},S=()=>{i||!m||v||(o(!0),u(null),t({rollMode:"recoveryRoll",description:"Recovery Roll (1d6 HP)",onRollComplete:x}))},T=C=>{if(m||v||a)return;const N=Math.max(0,Math.min(3,c+C));n(N,d,p)},A=C=>{if(m||v||a)return;const N=Math.max(0,Math.min(3,d+C));n(c,N,p)},I=(C,N,O,D,B,j)=>s.jsxs("div",{className:"flex items-center space-x-1 sm:space-x-2",children:[s.jsx(D,{className:`w-4 h-4 sm:w-5 sm:h-5 ${B}`}),s.jsxs("span",{className:"font-medium text-xs sm:text-sm w-16 sm:w-20",children:[C,":"]}),s.jsxs("div",{className:"flex space-x-1 items-center",children:[s.jsx("button",{onClick:()=>j(-1),disabled:N===0||m||v||a,className:"p-0.5 text-xs bg-gray-200 rounded disabled:opacity-50 hover:bg-gray-300",title:`Decrease ${C}`,children:s.jsx(kx,{className:"w-3 h-3"})}),[...Array(O)].map((P,Y)=>s.jsx("div",{className:`w-3 h-3 sm:w-4 sm:h-4 rounded-full border ${Y<N?C==="Successes"?"bg-green-500 border-green-600":"bg-red-500 border-red-600":"bg-gray-200 border-gray-300"}`},Y)),s.jsx("button",{onClick:()=>j(1),disabled:N===O||m||v||a,className:"p-0.5 text-xs bg-gray-200 rounded disabled:opacity-50 hover:bg-gray-300",title:`Increase ${C}`,children:s.jsx(Ht,{className:"w-3 h-3"})})]})]});return s.jsxs("div",{className:"p-3 rounded-lg shadow bg-red-50 border border-red-300 space-y-2",children:[s.jsxs("h3",{className:"font-semibold flex items-center gap-1 text-sm text-red-700",children:[s.jsx(ds,{className:"w-4 h-4 text-red-600 animate-pulse"}),"DYING (",e.current_hp," HP)"]}),s.jsxs("div",{className:"space-y-1",children:[I("Successes",c,3,Wi,"text-green-500",T),I("Failures",d,3,yi,"text-red-500",A)]}),l&&s.jsx("p",{className:"text-xs text-center text-gray-700 italic",children:l}),p&&!m&&!v&&s.jsxs("p",{className:"text-xs text-center text-yellow-800 bg-yellow-100 p-1 rounded border border-yellow-200 flex items-center justify-center gap-1",children:[s.jsx(Oa,{className:"w-3 h-3"})," Rallied! Can act, but still dying."]}),s.jsx("div",{className:"pt-1 space-y-2",children:v?s.jsx("div",{className:"text-center font-bold text-lg text-red-800 p-2 bg-red-200 rounded",children:"CHARACTER DIED"}):m?s.jsxs(V,{onClick:S,disabled:i||a,loading:i||a,className:"w-full bg-green-600 hover:bg-green-700 text-white",size:"sm",children:[s.jsx(vx,{className:"w-4 h-4 mr-1"})," Roll Recovery (1d6 HP)"]}):s.jsxs(s.Fragment,{children:[s.jsxs(V,{onClick:w,disabled:i||a,loading:i||a,className:"w-full bg-red-600 hover:bg-red-700 text-white",size:"sm",children:[s.jsx(ds,{className:"w-4 h-4 mr-1"})," Roll Death Save (d20)"]}),s.jsxs("div",{className:"relative group",children:[s.jsxs(V,{onClick:k,disabled:i||a||p,loading:i||a,className:`w-full text-black ${p?"bg-gray-400 cursor-not-allowed":"bg-yellow-500 hover:bg-yellow-600"}`,size:"sm",children:[s.jsx(CR,{className:"w-4 h-4 mr-1"})," ",p?"Rallied!":"Attempt Rally (Self)"]}),!p&&s.jsxs("div",{className:"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 w-60 p-2 text-xs text-white bg-black rounded opacity-0 group-hover:opacity-100 transition-opacity duration-300 z-10 pointer-events-none",children:["Roll d20 vs WIL (",f,") with Bane. Success lets you act while dying.",s.jsx("div",{className:"absolute left-1/2 transform -translate-x-1/2 bottom-[-4px] w-2 h-2 bg-black rotate-45"})]})]})]})}),a&&s.jsx("div",{className:"text-xs text-center text-blue-600 italic mt-1",children:"Saving..."})]})}function ZB(){const e=un(r=>r.activeStatusMessage),t=un(r=>r.clearActiveStatusMessage),n=un(r=>r.saveError);return E.useEffect(()=>{if(e){const r=setTimeout(()=>{t()},5e3);return()=>clearTimeout(r)}},[e,t]),!e&&!n?null:s.jsxs("div",{className:"fixed top-4 right-4 z-[100] flex flex-col gap-3 pointer-events-none w-full max-w-sm px-4 sm:px-0",children:[n&&s.jsxs("div",{className:"pointer-events-auto flex items-start gap-3 bg-white border border-red-200 text-red-800 px-4 py-3 rounded-xl shadow-xl shadow-red-900/10 animate-in slide-in-from-top-5 fade-in duration-300",children:[s.jsx("div",{className:"p-1.5 bg-red-100 rounded-full shrink-0",children:s.jsx(wt,{className:"w-5 h-5 text-red-600"})}),s.jsxs("div",{className:"flex-col flex grow",children:[s.jsx("span",{className:"font-bold text-xs uppercase tracking-wider opacity-80 text-red-600 mb-0.5",children:"Error"}),s.jsx("span",{className:"text-sm font-medium leading-tight",children:n})]})]}),e&&s.jsxs("div",{className:"pointer-events-auto flex items-center gap-3 bg-indigo-900 text-white px-4 py-3 rounded-xl shadow-2xl shadow-indigo-900/20 animate-in slide-in-from-top-5 fade-in duration-300 border border-indigo-700/50 backdrop-blur-sm",children:[s.jsx("div",{className:"p-1.5 bg-indigo-500/30 rounded-full shrink-0",children:s.jsx(Ar,{className:"w-5 h-5 text-yellow-300"})}),s.jsxs("div",{className:"flex flex-col mr-2 grow",children:[s.jsx("span",{className:"font-bold text-[10px] uppercase tracking-wider text-indigo-300 mb-0.5",children:"System"}),s.jsx("span",{className:"text-sm font-medium leading-tight",children:e})]}),s.jsx("button",{onClick:t,className:"p-1.5 text-indigo-300 hover:text-white hover:bg-white/10 rounded-full transition-colors shrink-0",children:s.jsx(mt,{className:"w-4 h-4"})})]})]})}const vg=({label:e,value:t})=>s.jsxs("div",{children:[s.jsx("dt",{className:"text-xs font-medium text-gray-500 uppercase tracking-wider",children:e}),s.jsx("dd",{className:"text-base text-gray-900",children:t||s.jsx("span",{className:"text-gray-400 italic",children:"N/A"})})]}),Eg=({label:e,children:t,icon:n})=>s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1 flex items-center gap-2",children:[s.jsx(n,{className:"w-4 h-4 text-gray-500"}),e]}),t]});function XB({onClose:e}){const{character:t,updateCharacterData:n,isSaving:r,saveError:a}=un(),[i,o]=E.useState("bio"),[l,u]=E.useState(!1),[c,d]=E.useState(!1),[p,h]=E.useState(!1),f=E.useRef(null),[m,v]=E.useState(""),[y,g]=E.useState(""),[x,w]=E.useState(""),[k,S]=E.useState(""),[T,A]=E.useState(""),[I,C]=E.useState(!1),N=()=>{t&&(v(t.portrait_url||""),g(t.appearance||""),w(t.memento||""),S(t.flaw||""),A(t.notes||""))};E.useEffect(()=>{N()},[t]),E.useEffect(()=>{const P=Y=>{f.current&&!f.current.contains(Y.target)&&h(!1)};return document.addEventListener("mousedown",P),()=>document.removeEventListener("mousedown",P)},[]);const O=async P=>{t&&(await n(P),u(!1),d(!1),C(!1))},D=()=>{N(),u(!1),d(!1)},B=()=>s.jsxs("div",{className:"relative",children:[s.jsxs("div",{className:"absolute top-0 right-0",ref:f,children:[s.jsx(V,{variant:"ghost",size:"icon",onClick:()=>h(!p),children:s.jsx(bx,{className:"w-5 h-5"})}),p&&s.jsx("div",{className:"origin-top-right absolute right-0 mt-2 w-48 rounded-md shadow-lg bg-white ring-1 ring-black ring-opacity-5 z-10",children:s.jsxs("div",{className:"py-1",role:"menu","aria-orientation":"vertical",children:[s.jsxs("button",{onClick:()=>{u(!0),h(!1)},className:"w-full text-left flex items-center gap-2 px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",role:"menuitem",children:[s.jsx(PP,{className:"w-4 h-4"})," Edit Bio Details"]}),s.jsxs("button",{onClick:()=>{d(!0),h(!1)},className:"w-full text-left flex items-center gap-2 px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",role:"menuitem",children:[s.jsx(c_,{className:"w-4 h-4"})," Edit Portrait URL"]})]})})]}),s.jsxs("div",{className:"flex flex-col md:flex-row gap-6 p-4 border rounded-lg shadow-sm bg-slate-50",children:[s.jsx("div",{className:"w-full md:w-1/3 flex-shrink-0",children:c?s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{htmlFor:"portraitUrl",className:"block text-sm font-medium text-gray-700",children:"Portrait URL"}),s.jsx("input",{id:"portraitUrl",type:"text",value:m,onChange:P=>v(P.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md",placeholder:"https://..."}),s.jsxs("div",{className:"flex gap-2 justify-end",children:[s.jsx(V,{variant:"secondary",size:"sm",onClick:()=>{d(!1),N()},children:"Cancel"}),s.jsx(V,{size:"sm",onClick:()=>O({portrait_url:m}),disabled:r,children:r?"...":"Save"})]})]}):m?s.jsx("img",{src:m,alt:"Character Portrait",className:"w-full h-auto object-cover rounded-md border",onError:P=>{P.currentTarget.src="https://via.placeholder.com/150/CCCCCC/FFFFFF?text=Invalid+Image"}}):s.jsxs("button",{onClick:()=>d(!0),className:"w-full h-48 border-2 border-dashed rounded-md flex flex-col items-center justify-center text-gray-500 hover:bg-gray-100 hover:border-gray-400 transition-colors",children:[s.jsx(c_,{className:"w-8 h-8 mb-2"}),s.jsx("span",{children:"Add Portrait"})]})}),s.jsxs("div",{className:"flex-grow space-y-4",children:[s.jsx("h3",{className:"text-2xl font-bold text-gray-800 border-b pb-2",children:t==null?void 0:t.name}),s.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[s.jsx(vg,{label:"Kin",value:t==null?void 0:t.kin}),s.jsx(vg,{label:"Profession",value:t==null?void 0:t.profession}),s.jsx(vg,{label:"Age",value:t==null?void 0:t.age})]}),l?s.jsxs(s.Fragment,{children:[s.jsx(Eg,{label:"Appearance",icon:ou,children:s.jsx("textarea",{value:y,onChange:P=>g(P.target.value),rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-md",placeholder:"A brief description..."})}),s.jsx(Eg,{label:"Memento",icon:Ia,children:s.jsx("input",{type:"text",value:x,onChange:P=>w(P.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md",placeholder:"A cherished item..."})}),s.jsx(Eg,{label:"Flaw",icon:TP,children:s.jsx("input",{type:"text",value:k,onChange:P=>S(P.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md",placeholder:"A personal weakness..."})})]}):s.jsxs("div",{className:"space-y-3 pt-2",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-semibold text-gray-600",children:"Appearance"}),s.jsx("p",{className:"text-gray-800 text-sm",children:y||s.jsx("i",{className:"text-gray-500",children:"Not set."})})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-semibold text-gray-600",children:"Memento"}),s.jsx("p",{className:"text-gray-800 text-sm",children:x||s.jsx("i",{className:"text-gray-500",children:"Not set."})})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-semibold text-gray-600",children:"Flaw"}),s.jsx("p",{className:"text-gray-800 text-sm",children:k||s.jsx("i",{className:"text-gray-500",children:"Not set."})})]})]})]})]}),l&&s.jsxs("div",{className:"flex justify-end gap-3 mt-4",children:[s.jsx(V,{variant:"secondary",onClick:D,children:"Cancel"}),s.jsx(V,{icon:vn,onClick:()=>O({appearance:y,memento:x,flaw:k}),disabled:r,children:r?"Saving...":"Save Changes"})]})]}),j=()=>s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"flex justify-end mb-4 gap-2",children:I?s.jsxs(s.Fragment,{children:[s.jsx(V,{variant:"secondary",onClick:()=>{A((t==null?void 0:t.notes)||""),C(!1)},children:"Cancel"}),s.jsx(V,{onClick:()=>O({notes:T}),disabled:r,icon:vn,children:r?"Saving...":"Save Backstory"})]}):s.jsx(V,{onClick:()=>C(!0),icon:_x,children:"Edit Backstory"})}),I?s.jsx("textarea",{value:T,onChange:P=>A(P.target.value),rows:15,className:"w-full px-3 py-2 border border-gray-300 rounded-md",placeholder:"Write your character's life story here..."}):s.jsx("div",{className:"p-4 bg-gray-50 rounded-md border min-h-[200px]",children:T?s.jsx("p",{className:"text-gray-700 whitespace-pre-wrap",children:T}):s.jsx("p",{className:"text-gray-500 italic",children:"No backstory has been written yet."})})]});return t?s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center z-50",onClick:e,children:s.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-3xl h-[80vh] flex flex-col",onClick:P=>P.stopPropagation(),children:[s.jsxs("div",{className:"flex justify-between items-center p-4 border-b",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-bold text-gray-800",children:"Character Biography"}),s.jsx("p",{className:"text-sm text-gray-500",children:"View and edit personal details and history."})]}),s.jsx(V,{variant:"ghost",size:"icon",onClick:e,"aria-label":"Close modal",children:s.jsx(mt,{className:"w-6 h-6"})})]}),s.jsx("div",{className:"border-b border-gray-200 px-6",children:s.jsxs("nav",{className:"-mb-px flex space-x-8","aria-label":"Tabs",children:[s.jsxs("button",{onClick:()=>o("bio"),className:`whitespace-nowrap py-3 px-1 border-b-2 font-medium text-sm flex items-center gap-2 ${i==="bio"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[s.jsx(ms,{className:"w-5 h-5"})," Bio"]}),s.jsxs("button",{onClick:()=>o("backstory"),className:`whitespace-nowrap py-3 px-1 border-b-2 font-medium text-sm flex items-center gap-2 ${i==="backstory"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[s.jsx(Aa,{className:"w-5 h-5"})," Backstory"]})]})}),s.jsxs("div",{className:"p-6 overflow-y-auto flex-1",children:[a&&s.jsxs("div",{className:"mb-4 p-3 bg-red-100 border border-red-300 text-red-800 rounded-md flex items-center gap-2",children:[s.jsx(go,{className:"w-5 h-5"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold",children:"Save Error"}),s.jsx("p",{className:"text-sm",children:a})]})]}),i==="bio"?B():j()]})]})}):s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center z-50",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-3xl h-[80vh] flex items-center justify-center",children:[s.jsx(et,{}),s.jsx("span",{className:"ml-2",children:"Loading character data..."})]})})}const Mu={actions:{title:"Actions",icon:Aa,sections:[{title:"Common Actions",items:[{title:"Dash",description:"Doubles your movement rate for the round."},{title:"Pick Up Item",description:"Pick up an item within 2 meters or from your inventory."},{title:"Equip/Unequip",description:"Change your equipped armor, helmet, or weapons."},{title:"Break Down Door",description:"Use your action to damage a door or obstacle."},{title:"Pick Lock",description:"Requires a SLEIGHT OF HAND roll (bane without lockpicks)."},{title:"Use Item",description:"Use a potion or other consumable item."},{title:"Activate Ability",description:"Use one of your innate or heroic abilities."},{title:"Cast Spell",description:"Casting a spell typically counts as your action."},{title:"Helping",description:"Grant another character a boon on a roll by helping them."}]},{title:"Free Actions",items:[{title:"Draw Weapon",description:"Draw, exchange, or put away a weapon kept at hand."},{title:"Change Position",description:"Drop prone or stand up from being prone."},{title:"Drop Item",description:"Drop an item you are holding onto the ground."},{title:"Shout",description:"Say or shout a few words."}]}]},combat:{title:"Combat",icon:Dx,sections:[{title:"Attack Actions",items:[{title:"Melee Attack",description:"Attack an enemy within 2 meters (4m for long weapons)."},{title:"Ranged Attack",description:"Use a ranged weapon against targets within its range."},{title:"Parry",description:"A reaction to negate a melee or ranged attack (requires a shield for ranged). Replaces your next action."},{title:"Dodge",description:"A reaction to avoid a melee or ranged attack. Replaces your next action."},{title:"Durability",description:"If your parry succeeds, the enemys attack hits your weapon or shield, and you suffer no damage. How-ever, if the damage exceeds your weapons durability, the weapon is damaged and cannot be used until it is repaired with a CRAFTING roll."}]},{title:"Special Attacks",items:[{title:"Find Weak Spot",description:"Take a bane on your attack. If you hit, the enemy is treated as unarmored."},{title:"Topple",description:"Opposed roll (your weapon skill vs enemy EVADE) to knock an enemy prone."},{title:"Disarm",description:"Opposed roll (your weapon skill vs enemy's) to make them drop their weapon."},{title:"Grapple",description:"Opposed BRAWLING roll to trap an enemy. Both you and the enemy fall to the ground."},{title:"Shove",description:"If your STR bonus is higher than the enemy's, you can push them 2 meters on a successful hit."}]},{title:"Sneak Attack & Ambush",items:[{title:"Sneak Attack",description:"If you approach undetected, roll Sneaking (with a bane if moving within 2 meters). On failure, youre noticed and initiative is drawn. On success, the attack is surprising: you pick initiative, gain a boon on the attack, and the target cannot dodge or parry. With a Subtle weapon, damage increases by one die. Sneak attacks are always made by a single attacker against a single target."},{title:"Ambush",description:"A sneak attack made from hiding. Each victim rolls Awareness (with a bane if attackers are well prepared). Those who fail draw initiative cards from the bottom of the deck (#10 and up) at random."}]},{title:"Damage Types & Armor",items:[{title:"Leather/Studded",description:"Gains a +2 bonus to its armor rating against Bludgeoning damage."},{title:"Chainmail",description:"Gains a +2 bonus to its armor rating against Slashing damage."}]}]},health:{title:"Health",icon:xi,sections:[{title:"Healing & Resting",items:[{title:"First Aid",description:"Use the HEALING skill to save a dying character at zero HP."},{title:"Rally",description:"Use PERSUASION to get an ally at 0 HP back into the fight."},{title:"Round Rest",description:"(10 sec) Recover D6 WP. Once per shift."},{title:"Stretch Rest",description:"(15 min) Heal D6 HP (2D6 with a Healer), recover D6 WP, and heal one condition. Once per shift."},{title:"Shift Rest",description:"(6 hours) In a safe location, recover all HP & WP and heal all conditions."}]},{title:"Severe Injuries",description:"If you are reduced to zero HP but survive, you may suffer a severe injury. The healing time is halved with medical care (a successful HEALING roll each shift).",items:[{title:"Broken Nose (D6 Days)",description:"Bane on all AWARENESS rolls."},{title:"Scarred Face (2D6 Days)",description:"Bane on all PERFORMANCE and PERSUASION rolls."},{title:"Broken Ribs (D6 Days)",description:"Bane on all skills based on STR or AGL."},{title:"Deep Wounds (2D6 Days)",description:"Bane on STR/AGL skills. Every roll against such a skill inflicts D6 damage."},{title:"Broken Leg (3D6 Days)",description:"Your movement rate is halved."}]}]},journeys:{title:"Journeys",icon:_R,sections:[{title:"Wilderness Travel",items:[{title:"Pathfinder",description:"In pathless terrain, one character must be the pathfinder."},{title:"Hunger",description:"You must eat at least one ration of food per day. After one day without food you become famished and cannot heal HP, WP, or conditions except through magic."},{title:"Bushcraft Roll",description:"The pathfinder must make a BUSHCRAFT roll every shift to find the way. Failure results in a mishap."},{title:"Rolling a Dragon",description:"The pathfinder finds a shortcut, doubling the distance covered in the shift."},{title:"Difficult Terrain",description:"If the terrain is difficult (swamp, dense jungle), the BUSHCRAFT roll gets a bane."}]},{title:"Mishaps (Examples)",items:[{title:"Fog",description:"Distance covered this shift is halved."},{title:"Lost",description:"The party makes no progress this shift and must roll again to find the way."},{title:"Sprained Ankle",description:"A random character suffers D6 damage."},{title:"Savage Animal",description:"A wild animal feels threatened and attacks the party."},{title:"Quicksand",description:"The ground collapses! Everyone must make a BUSHCRAFT roll to avoid sinking."}]}]}};function QB({onClose:e}){const[t,n]=E.useState("actions"),r=Mu[t].icon,a=()=>{const i=Mu[t];return s.jsx("div",{className:"space-y-8",children:i.sections.map(o=>s.jsxs("div",{children:[s.jsx("h4",{className:"font-bold text-lg mb-3 text-gray-800 border-b pb-2",children:o.title}),o.description&&s.jsx("p",{className:"text-sm text-gray-600 mb-4 italic",children:o.description}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-6 gap-y-2",children:o.items.map((l,u)=>s.jsx("div",{className:`p-3 rounded-md ${Math.floor(u/2)%2===0?"bg-gray-50":"bg-white"}`,children:s.jsxs("p",{className:"text-gray-700",children:[s.jsxs("span",{className:"font-bold text-gray-900",children:[l.title,":"]})," ",l.description]})},l.title))})]},o.title))})};return s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center p-4 z-50",children:s.jsxs("div",{className:"bg-white rounded-lg max-w-4xl w-full flex flex-col max-h-[90vh] shadow-xl",children:[s.jsxs("div",{className:"sticky top-0 bg-white flex justify-between items-center px-6 pt-6 pb-4 border-b z-20",children:[s.jsxs("h3",{className:"text-xl font-semibold flex items-center gap-2",children:[s.jsx(r,{className:"w-6 h-6 text-indigo-600"})," Player Aid"]}),s.jsx("button",{onClick:e,className:"text-gray-500 hover:text-gray-700",children:s.jsx(mt,{className:"w-6 h-6"})})]}),s.jsx("div",{className:"sticky top-[73px] bg-white flex border-b z-10",children:Object.keys(Mu).map(i=>{const o=Mu[i].icon,l=t===i;return s.jsxs("button",{onClick:()=>n(i),className:`flex-1 flex items-center justify-center gap-2 p-3 text-sm font-medium transition-colors ${l?"border-b-2 border-indigo-600 text-indigo-600 bg-indigo-50":"text-gray-500 hover:bg-gray-100 hover:text-gray-700"}`,children:[s.jsx(o,{className:"w-4 h-4"}),s.jsx("span",{children:Mu[i].title})]},i)})}),s.jsx("div",{className:"overflow-y-auto p-6",children:a()})]})})}function Kc(e){const t=[],n=String(e||"");let r=n.indexOf(","),a=0,i=!1;for(;!i;){r===-1&&(r=n.length,i=!0);const o=n.slice(a,r).trim();(o||!i)&&t.push(o),a=r+1,r=n.indexOf(",",a)}return t}function Vf(e,t){const n=t||{};return(e[e.length-1]===""?[...e,""]:e).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const JB=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,eU=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,tU={};function G_(e,t){return(tU.jsx?eU:JB).test(e)}const nU=/[ \t\n\f\r]/g;function Rd(e){return typeof e=="object"?e.type==="text"?q_(e.value):!1:q_(e)}function q_(e){return e.replace(nU,"")===""}let Dd=class{constructor(t,n,r){this.property=t,this.normal=n,r&&(this.space=r)}};Dd.prototype.property={};Dd.prototype.normal={};Dd.prototype.space=null;function a3(e,t){const n={},r={};let a=-1;for(;++a<e.length;)Object.assign(n,e[a].property),Object.assign(r,e[a].normal);return new Dd(n,r,t)}function io(e){return e.toLowerCase()}let Zr=class{constructor(t,n){this.property=t,this.attribute=n}};Zr.prototype.space=null;Zr.prototype.boolean=!1;Zr.prototype.booleanish=!1;Zr.prototype.overloadedBoolean=!1;Zr.prototype.number=!1;Zr.prototype.commaSeparated=!1;Zr.prototype.spaceSeparated=!1;Zr.prototype.commaOrSpaceSeparated=!1;Zr.prototype.mustUseProperty=!1;Zr.prototype.defined=!1;let rU=0;const ze=bo(),Xt=bo(),s3=bo(),be=bo(),kt=bo(),dl=bo(),vr=bo();function bo(){return 2**++rU}const Sb=Object.freeze(Object.defineProperty({__proto__:null,boolean:ze,booleanish:Xt,commaOrSpaceSeparated:vr,commaSeparated:dl,number:be,overloadedBoolean:s3,spaceSeparated:kt},Symbol.toStringTag,{value:"Module"})),wg=Object.keys(Sb);let Fx=class extends Zr{constructor(t,n,r,a){let i=-1;if(super(t,n),V_(this,"space",a),typeof r=="number")for(;++i<wg.length;){const o=wg[i];V_(this,wg[i],(r&Sb[o])===Sb[o])}}};Fx.prototype.defined=!0;function V_(e,t,n){n&&(e[t]=n)}const aU={}.hasOwnProperty;function cu(e){const t={},n={};let r;for(r in e.properties)if(aU.call(e.properties,r)){const a=e.properties[r],i=new Fx(r,e.transform(e.attributes||{},r),a,e.space);e.mustUseProperty&&e.mustUseProperty.includes(r)&&(i.mustUseProperty=!0),t[r]=i,n[io(r)]=r,n[io(i.attribute)]=r}return new Dd(t,n,e.space)}const i3=cu({space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()},properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null}}),o3=cu({space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()},properties:{xmlLang:null,xmlBase:null,xmlSpace:null}});function l3(e,t){return t in e?e[t]:t}function u3(e,t){return l3(e,t.toLowerCase())}const c3=cu({space:"xmlns",attributes:{xmlnsxlink:"xmlns:xlink"},transform:u3,properties:{xmlns:null,xmlnsXLink:null}}),d3=cu({transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()},properties:{ariaActiveDescendant:null,ariaAtomic:Xt,ariaAutoComplete:null,ariaBusy:Xt,ariaChecked:Xt,ariaColCount:be,ariaColIndex:be,ariaColSpan:be,ariaControls:kt,ariaCurrent:null,ariaDescribedBy:kt,ariaDetails:null,ariaDisabled:Xt,ariaDropEffect:kt,ariaErrorMessage:null,ariaExpanded:Xt,ariaFlowTo:kt,ariaGrabbed:Xt,ariaHasPopup:null,ariaHidden:Xt,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:kt,ariaLevel:be,ariaLive:null,ariaModal:Xt,ariaMultiLine:Xt,ariaMultiSelectable:Xt,ariaOrientation:null,ariaOwns:kt,ariaPlaceholder:null,ariaPosInSet:be,ariaPressed:Xt,ariaReadOnly:Xt,ariaRelevant:null,ariaRequired:Xt,ariaRoleDescription:kt,ariaRowCount:be,ariaRowIndex:be,ariaRowSpan:be,ariaSelected:Xt,ariaSetSize:be,ariaSort:null,ariaValueMax:be,ariaValueMin:be,ariaValueNow:be,ariaValueText:null,role:null}}),sU=cu({space:"html",attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},transform:u3,mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:dl,acceptCharset:kt,accessKey:kt,action:null,allow:null,allowFullScreen:ze,allowPaymentRequest:ze,allowUserMedia:ze,alt:null,as:null,async:ze,autoCapitalize:null,autoComplete:kt,autoFocus:ze,autoPlay:ze,blocking:kt,capture:null,charSet:null,checked:ze,cite:null,className:kt,cols:be,colSpan:null,content:null,contentEditable:Xt,controls:ze,controlsList:kt,coords:be|dl,crossOrigin:null,data:null,dateTime:null,decoding:null,default:ze,defer:ze,dir:null,dirName:null,disabled:ze,download:s3,draggable:Xt,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:ze,formTarget:null,headers:kt,height:be,hidden:ze,high:be,href:null,hrefLang:null,htmlFor:kt,httpEquiv:kt,id:null,imageSizes:null,imageSrcSet:null,inert:ze,inputMode:null,integrity:null,is:null,isMap:ze,itemId:null,itemProp:kt,itemRef:kt,itemScope:ze,itemType:kt,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:ze,low:be,manifest:null,max:null,maxLength:be,media:null,method:null,min:null,minLength:be,multiple:ze,muted:ze,name:null,nonce:null,noModule:ze,noValidate:ze,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:ze,optimum:be,pattern:null,ping:kt,placeholder:null,playsInline:ze,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:ze,referrerPolicy:null,rel:kt,required:ze,reversed:ze,rows:be,rowSpan:be,sandbox:kt,scope:null,scoped:ze,seamless:ze,selected:ze,shadowRootClonable:ze,shadowRootDelegatesFocus:ze,shadowRootMode:null,shape:null,size:be,sizes:null,slot:null,span:be,spellCheck:Xt,src:null,srcDoc:null,srcLang:null,srcSet:null,start:be,step:null,style:null,tabIndex:be,target:null,title:null,translate:null,type:null,typeMustMatch:ze,useMap:null,value:Xt,width:be,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:kt,axis:null,background:null,bgColor:null,border:be,borderColor:null,bottomMargin:be,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:ze,declare:ze,event:null,face:null,frame:null,frameBorder:null,hSpace:be,leftMargin:be,link:null,longDesc:null,lowSrc:null,marginHeight:be,marginWidth:be,noResize:ze,noHref:ze,noShade:ze,noWrap:ze,object:null,profile:null,prompt:null,rev:null,rightMargin:be,rules:null,scheme:null,scrolling:Xt,standby:null,summary:null,text:null,topMargin:be,valueType:null,version:null,vAlign:null,vLink:null,vSpace:be,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:ze,disableRemotePlayback:ze,prefix:null,property:null,results:be,security:null,unselectable:null}}),iU=cu({space:"svg",attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},transform:l3,properties:{about:vr,accentHeight:be,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:be,amplitude:be,arabicForm:null,ascent:be,attributeName:null,attributeType:null,azimuth:be,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:be,by:null,calcMode:null,capHeight:be,className:kt,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:be,diffuseConstant:be,direction:null,display:null,dur:null,divisor:be,dominantBaseline:null,download:ze,dx:null,dy:null,edgeMode:null,editable:null,elevation:be,enableBackground:null,end:null,event:null,exponent:be,externalResourcesRequired:null,fill:null,fillOpacity:be,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:dl,g2:dl,glyphName:dl,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:be,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:be,horizOriginX:be,horizOriginY:be,id:null,ideographic:be,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:be,k:be,k1:be,k2:be,k3:be,k4:be,kernelMatrix:vr,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:be,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:be,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:be,overlineThickness:be,paintOrder:null,panose1:null,path:null,pathLength:be,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:kt,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:be,pointsAtY:be,pointsAtZ:be,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:vr,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:vr,rev:vr,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:vr,requiredFeatures:vr,requiredFonts:vr,requiredFormats:vr,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:be,specularExponent:be,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:be,strikethroughThickness:be,string:null,stroke:null,strokeDashArray:vr,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:be,strokeOpacity:be,strokeWidth:null,style:null,surfaceScale:be,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:vr,tabIndex:be,tableValues:null,target:null,targetX:be,targetY:be,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:vr,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:be,underlineThickness:be,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:be,values:null,vAlphabetic:be,vMathematical:be,vectorEffect:null,vHanging:be,vIdeographic:be,version:null,vertAdvY:be,vertOriginX:be,vertOriginY:be,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:be,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null}}),oU=/^data[-\w.:]+$/i,W_=/-[a-z]/g,lU=/[A-Z]/g;function Od(e,t){const n=io(t);let r=t,a=Zr;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&oU.test(t)){if(t.charAt(4)==="-"){const i=t.slice(5).replace(W_,cU);r="data"+i.charAt(0).toUpperCase()+i.slice(1)}else{const i=t.slice(4);if(!W_.test(i)){let o=i.replace(lU,uU);o.charAt(0)!=="-"&&(o="-"+o),t="data"+o}}a=Fx}return new a(r,t)}function uU(e){return"-"+e.toLowerCase()}function cU(e){return e.charAt(1).toUpperCase()}const dU={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},du=a3([o3,i3,c3,d3,sU],"html"),vi=a3([o3,i3,c3,d3,iU],"svg");function Zc(e){const t=String(e||"").trim();return t?t.split(/[ \t\n\r\f]+/g):[]}function Wf(e){return e.join(" ").trim()}var p3={},Y_=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,pU=/\n/g,hU=/^\s*/,fU=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,mU=/^:\s*/,gU=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,bU=/^[;\s]*/,yU=/^\s+|\s+$/g,xU=`
`,K_="/",Z_="*",Ri="",vU="comment",EU="declaration",wU=function(e,t){if(typeof e!="string")throw new TypeError("First argument must be a string");if(!e)return[];t=t||{};var n=1,r=1;function a(m){var v=m.match(pU);v&&(n+=v.length);var y=m.lastIndexOf(xU);r=~y?m.length-y:r+m.length}function i(){var m={line:n,column:r};return function(v){return v.position=new o(m),c(),v}}function o(m){this.start=m,this.end={line:n,column:r},this.source=t.source}o.prototype.content=e;function l(m){var v=new Error(t.source+":"+n+":"+r+": "+m);if(v.reason=m,v.filename=t.source,v.line=n,v.column=r,v.source=e,!t.silent)throw v}function u(m){var v=m.exec(e);if(v){var y=v[0];return a(y),e=e.slice(y.length),v}}function c(){u(hU)}function d(m){var v;for(m=m||[];v=p();)v!==!1&&m.push(v);return m}function p(){var m=i();if(!(K_!=e.charAt(0)||Z_!=e.charAt(1))){for(var v=2;Ri!=e.charAt(v)&&(Z_!=e.charAt(v)||K_!=e.charAt(v+1));)++v;if(v+=2,Ri===e.charAt(v-1))return l("End of comment missing");var y=e.slice(2,v-2);return r+=2,a(y),e=e.slice(v),r+=2,m({type:vU,comment:y})}}function h(){var m=i(),v=u(fU);if(v){if(p(),!u(mU))return l("property missing ':'");var y=u(gU),g=m({type:EU,property:X_(v[0].replace(Y_,Ri)),value:y?X_(y[0].replace(Y_,Ri)):Ri});return u(bU),g}}function f(){var m=[];d(m);for(var v;v=h();)v!==!1&&(m.push(v),d(m));return m}return c(),f()};function X_(e){return e?e.replace(yU,Ri):Ri}var SU=fr&&fr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(p3,"__esModule",{value:!0});var Q_=p3.default=kU,NU=SU(wU);function kU(e,t){var n=null;if(!e||typeof e!="string")return n;var r=(0,NU.default)(e),a=typeof t=="function";return r.forEach(function(i){if(i.type==="declaration"){var o=i.property,l=i.value;a?t(o,l,i):l&&(n=n||{},n[o]=l)}}),n}const _U=Q_.default||Q_,Yf=h3("end"),Fa=h3("start");function h3(e){return t;function t(n){const r=n&&n.position&&n.position[e]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function f3(e){const t=Fa(e),n=Yf(e);if(t&&n)return{start:t,end:n}}function fc(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?J_(e.position):"start"in e||"end"in e?J_(e):"line"in e||"column"in e?Nb(e):""}function Nb(e){return eT(e&&e.line)+":"+eT(e&&e.column)}function J_(e){return Nb(e&&e.start)+"-"+Nb(e&&e.end)}function eT(e){return e&&typeof e=="number"?e:1}class An extends Error{constructor(t,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let a="",i={},o=!1;if(n&&("line"in n&&"column"in n?i={place:n}:"start"in n&&"end"in n?i={place:n}:"type"in n?i={ancestors:[n],place:n.position}:i={...n}),typeof t=="string"?a=t:!i.cause&&t&&(o=!0,a=t.message,i.cause=t),!i.ruleId&&!i.source&&typeof r=="string"){const u=r.indexOf(":");u===-1?i.ruleId=r:(i.source=r.slice(0,u),i.ruleId=r.slice(u+1))}if(!i.place&&i.ancestors&&i.ancestors){const u=i.ancestors[i.ancestors.length-1];u&&(i.place=u.position)}const l=i.place&&"start"in i.place?i.place.start:i.place;this.ancestors=i.ancestors||void 0,this.cause=i.cause||void 0,this.column=l?l.column:void 0,this.fatal=void 0,this.file,this.message=a,this.line=l?l.line:void 0,this.name=fc(i.place)||"1:1",this.place=i.place||void 0,this.reason=this.message,this.ruleId=i.ruleId||void 0,this.source=i.source||void 0,this.stack=o&&i.cause&&typeof i.cause.stack=="string"?i.cause.stack:"",this.actual,this.expected,this.note,this.url}}An.prototype.file="";An.prototype.name="";An.prototype.reason="";An.prototype.message="";An.prototype.stack="";An.prototype.column=void 0;An.prototype.line=void 0;An.prototype.ancestors=void 0;An.prototype.cause=void 0;An.prototype.fatal=void 0;An.prototype.place=void 0;An.prototype.ruleId=void 0;An.prototype.source=void 0;const Px={}.hasOwnProperty,TU=new Map,CU=/[A-Z]/g,AU=/-([a-z])/g,IU=new Set(["table","tbody","thead","tfoot","tr"]),RU=new Set(["td","th"]),m3="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function g3(e,t){if(!t||t.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=t.filePath||void 0;let r;if(t.development){if(typeof t.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=BU(n,t.jsxDEV)}else{if(typeof t.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof t.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=PU(n,t.jsx,t.jsxs)}const a={Fragment:t.Fragment,ancestors:[],components:t.components||{},create:r,elementAttributeNameCase:t.elementAttributeNameCase||"react",evaluater:t.createEvaluater?t.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:t.ignoreInvalidStyle||!1,passKeys:t.passKeys!==!1,passNode:t.passNode||!1,schema:t.space==="svg"?vi:du,stylePropertyNameCase:t.stylePropertyNameCase||"dom",tableCellAlignToStyle:t.tableCellAlignToStyle!==!1},i=b3(a,e,void 0);return i&&typeof i!="string"?i:a.create(e,a.Fragment,{children:i||void 0},void 0)}function b3(e,t,n){if(t.type==="element")return DU(e,t,n);if(t.type==="mdxFlowExpression"||t.type==="mdxTextExpression")return OU(e,t);if(t.type==="mdxJsxFlowElement"||t.type==="mdxJsxTextElement")return jU(e,t,n);if(t.type==="mdxjsEsm")return LU(e,t);if(t.type==="root")return MU(e,t,n);if(t.type==="text")return FU(e,t)}function DU(e,t,n){const r=e.schema;let a=r;t.tagName.toLowerCase()==="svg"&&r.space==="html"&&(a=vi,e.schema=a),e.ancestors.push(t);const i=x3(e,t.tagName,!1),o=UU(e,t);let l=Ux(e,t);return IU.has(t.tagName)&&(l=l.filter(function(u){return typeof u=="string"?!Rd(u):!0})),y3(e,o,i,t),Bx(o,l),e.ancestors.pop(),e.schema=r,e.create(t,i,o,n)}function OU(e,t){if(t.data&&t.data.estree&&e.evaluater){const r=t.data.estree.body[0];return r.type,e.evaluater.evaluateExpression(r.expression)}Xc(e,t.position)}function LU(e,t){if(t.data&&t.data.estree&&e.evaluater)return e.evaluater.evaluateProgram(t.data.estree);Xc(e,t.position)}function jU(e,t,n){const r=e.schema;let a=r;t.name==="svg"&&r.space==="html"&&(a=vi,e.schema=a),e.ancestors.push(t);const i=t.name===null?e.Fragment:x3(e,t.name,!0),o=$U(e,t),l=Ux(e,t);return y3(e,o,i,t),Bx(o,l),e.ancestors.pop(),e.schema=r,e.create(t,i,o,n)}function MU(e,t,n){const r={};return Bx(r,Ux(e,t)),e.create(t,e.Fragment,r,n)}function FU(e,t){return t.value}function y3(e,t,n,r){typeof n!="string"&&n!==e.Fragment&&e.passNode&&(t.node=r)}function Bx(e,t){if(t.length>0){const n=t.length>1?t:t[0];n&&(e.children=n)}}function PU(e,t,n){return r;function r(a,i,o,l){const c=Array.isArray(o.children)?n:t;return l?c(i,o,l):c(i,o)}}function BU(e,t){return n;function n(r,a,i,o){const l=Array.isArray(i.children),u=Fa(r);return t(a,i,o,l,{columnNumber:u?u.column-1:void 0,fileName:e,lineNumber:u?u.line:void 0},void 0)}}function UU(e,t){const n={};let r,a;for(a in t.properties)if(a!=="children"&&Px.call(t.properties,a)){const i=HU(e,a,t.properties[a]);if(i){const[o,l]=i;e.tableCellAlignToStyle&&o==="align"&&typeof l=="string"&&RU.has(t.tagName)?r=l:n[o]=l}}if(r){const i=n.style||(n.style={});i[e.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return n}function $U(e,t){const n={};for(const r of t.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&e.evaluater){const i=r.data.estree.body[0];i.type;const o=i.expression;o.type;const l=o.properties[0];l.type,Object.assign(n,e.evaluater.evaluateExpression(l.argument))}else Xc(e,t.position);else{const a=r.name;let i;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&e.evaluater){const l=r.value.data.estree.body[0];l.type,i=e.evaluater.evaluateExpression(l.expression)}else Xc(e,t.position);else i=r.value===null?!0:r.value;n[a]=i}return n}function Ux(e,t){const n=[];let r=-1;const a=e.passKeys?new Map:TU;for(;++r<t.children.length;){const i=t.children[r];let o;if(e.passKeys){const u=i.type==="element"?i.tagName:i.type==="mdxJsxFlowElement"||i.type==="mdxJsxTextElement"?i.name:void 0;if(u){const c=a.get(u)||0;o=u+"-"+c,a.set(u,c+1)}}const l=b3(e,i,o);l!==void 0&&n.push(l)}return n}function HU(e,t,n){const r=Od(e.schema,t);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?Vf(n):Wf(n)),r.property==="style"){let a=typeof n=="object"?n:zU(e,String(n));return e.stylePropertyNameCase==="css"&&(a=GU(a)),["style",a]}return[e.elementAttributeNameCase==="react"&&r.space?dU[r.property]||r.property:r.attribute,n]}}function zU(e,t){const n={};try{_U(t,r)}catch(a){if(!e.ignoreInvalidStyle){const i=a,o=new An("Cannot parse `style` attribute",{ancestors:e.ancestors,cause:i,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw o.file=e.filePath||void 0,o.url=m3+"#cannot-parse-style-attribute",o}}return n;function r(a,i){let o=a;o.slice(0,2)!=="--"&&(o.slice(0,4)==="-ms-"&&(o="ms-"+o.slice(4)),o=o.replace(AU,VU)),n[o]=i}}function x3(e,t,n){let r;if(!n)r={type:"Literal",value:t};else if(t.includes(".")){const a=t.split(".");let i=-1,o;for(;++i<a.length;){const l=G_(a[i])?{type:"Identifier",name:a[i]}:{type:"Literal",value:a[i]};o=o?{type:"MemberExpression",object:o,property:l,computed:!!(i&&l.type==="Literal"),optional:!1}:l}r=o}else r=G_(t)&&!/^[a-z]/.test(t)?{type:"Identifier",name:t}:{type:"Literal",value:t};if(r.type==="Literal"){const a=r.value;return Px.call(e.components,a)?e.components[a]:a}if(e.evaluater)return e.evaluater.evaluateExpression(r);Xc(e)}function Xc(e,t){const n=new An("Cannot handle MDX estrees without `createEvaluater`",{ancestors:e.ancestors,place:t,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=e.filePath||void 0,n.url=m3+"#cannot-handle-mdx-estrees-without-createevaluater",n}function GU(e){const t={};let n;for(n in e)Px.call(e,n)&&(t[qU(n)]=e[n]);return t}function qU(e){let t=e.replace(CU,WU);return t.slice(0,3)==="ms-"&&(t="-"+t),t}function VU(e,t){return t.toUpperCase()}function WU(e){return"-"+e.toLowerCase()}const pl={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},YU={};function $x(e,t){const n=YU,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,a=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return v3(e,r,a)}function v3(e,t,n){if(KU(e)){if("value"in e)return e.type==="html"&&!n?"":e.value;if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return tT(e.children,t,n)}return Array.isArray(e)?tT(e,t,n):""}function tT(e,t,n){const r=[];let a=-1;for(;++a<e.length;)r[a]=v3(e[a],t,n);return r.join("")}function KU(e){return!!(e&&typeof e=="object")}const nT=document.createElement("i");function zl(e){const t="&"+e+";";nT.innerHTML=t;const n=nT.textContent;return n.charCodeAt(n.length-1)===59&&e!=="semi"||n===t?!1:n}function Ir(e,t,n,r){const a=e.length;let i=0,o;if(t<0?t=-t>a?0:a+t:t=t>a?a:t,n=n>0?n:0,r.length<1e4)o=Array.from(r),o.unshift(t,n),e.splice(...o);else for(n&&e.splice(t,n);i<r.length;)o=r.slice(i,i+1e4),o.unshift(t,0),e.splice(...o),i+=1e4,t+=1e4}function Pn(e,t){return e.length>0?(Ir(e,e.length,0,t),e):t}const kb={}.hasOwnProperty;function E3(e){const t={};let n=-1;for(;++n<e.length;)ZU(t,e[n]);return t}function ZU(e,t){let n;for(n in t){const a=(kb.call(e,n)?e[n]:void 0)||(e[n]={}),i=t[n];let o;if(i)for(o in i){kb.call(a,o)||(a[o]=[]);const l=i[o];XU(a[o],Array.isArray(l)?l:l?[l]:[])}}}function XU(e,t){let n=-1;const r=[];for(;++n<t.length;)(t[n].add==="after"?e:r).push(t[n]);Ir(e,0,0,r)}function w3(e){const t={};let n=-1;for(;++n<e.length;)QU(t,e[n]);return t}function QU(e,t){let n;for(n in t){const a=(kb.call(e,n)?e[n]:void 0)||(e[n]={}),i=t[n];let o;if(i)for(o in i)a[o]=i[o]}}function Hx(e,t){const n=Number.parseInt(e,t);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCodePoint(n)}const JU={'"':"quot","&":"amp","<":"lt",">":"gt"};function S3(e){return e.replace(/["&<>]/g,t);function t(n){return"&"+JU[n]+";"}}function Xn(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const Kn=Ei(/[A-Za-z]/),Bn=Ei(/[\dA-Za-z]/),e9=Ei(/[#-'*+\--9=?A-Z^-~]/);function qh(e){return e!==null&&(e<32||e===127)}const _b=Ei(/\d/),t9=Ei(/[\dA-Fa-f]/),n9=Ei(/[!-/:-@[-`{-~]/);function Fe(e){return e!==null&&e<-2}function St(e){return e!==null&&(e<0||e===32)}function nt(e){return e===-2||e===-1||e===32}const Kf=Ei(new RegExp("\\p{P}|\\p{S}","u")),oo=Ei(/\s/);function Ei(e){return t;function t(n){return n!==null&&n>-1&&e.test(String.fromCharCode(n))}}function ji(e,t){const n=S3(yo(e||""));if(!t)return n;const r=n.indexOf(":"),a=n.indexOf("?"),i=n.indexOf("#"),o=n.indexOf("/");return r<0||o>-1&&r>o||a>-1&&r>a||i>-1&&r>i||t.test(n.slice(0,r))?n:""}function yo(e){const t=[];let n=-1,r=0,a=0;for(;++n<e.length;){const i=e.charCodeAt(n);let o="";if(i===37&&Bn(e.charCodeAt(n+1))&&Bn(e.charCodeAt(n+2)))a=2;else if(i<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(i))||(o=String.fromCharCode(i));else if(i>55295&&i<57344){const l=e.charCodeAt(n+1);i<56320&&l>56319&&l<57344?(o=String.fromCharCode(i,l),a=1):o=""}else o=String.fromCharCode(i);o&&(t.push(e.slice(r,n),encodeURIComponent(o)),r=n+a+1,o=""),a&&(n+=a,a=0)}return t.join("")+e.slice(r)}const rT={}.hasOwnProperty,aT=/^(https?|ircs?|mailto|xmpp)$/i,r9=/^https?$/i;function a9(e){const t=e||{};let n=!0;const r={},a=[[]],i=[],o=[],u=w3([{enter:{blockQuote:P,codeFenced:z,codeFencedFenceInfo:y,codeFencedFenceMeta:y,codeIndented:X,codeText:Ne,content:gt,definition:pe,definitionDestinationString:qe,definitionLabelString:y,definitionTitleString:y,emphasis:Wt,htmlFlow:ft,htmlText:vt,image:ie,label:y,link:W,listItemMarker:O,listItemValue:N,listOrdered:I,listUnordered:C,paragraph:K,reference:y,resource:ve,resourceDestinationString:Ie,resourceTitleString:y,setextHeading:lt,strong:de},exit:{atxHeading:On,atxHeadingSequence:Dn,autolinkEmail:Co,autolinkProtocol:zn,blockQuote:Y,characterEscapeValue:Z,characterReferenceMarkerHexadecimal:xr,characterReferenceMarkerNumeric:xr,characterReferenceValue:Pr,codeFenced:L,codeFencedFence:U,codeFencedFenceInfo:_,codeFencedFenceMeta:A,codeFlowValue:Se,codeIndented:L,codeText:Qe,codeTextData:Z,data:Z,definition:xt,definitionDestinationString:_e,definitionLabelString:dt,definitionTitleString:$e,emphasis:Me,hardBreakEscape:Le,hardBreakTrailing:Le,htmlFlow:it,htmlFlowData:Z,htmlText:it,htmlTextData:Z,image:ge,label:q,labelText:Q,lineEnding:ue,link:ge,listOrdered:D,listUnordered:B,paragraph:$,reference:A,referenceString:ee,resource:A,resourceDestinationString:te,resourceTitleString:oe,setextHeading:ae,setextHeadingLineSequence:Et,setextHeadingText:Fr,strong:tn,thematicBreak:yr}},...t.htmlExtensions||[]]),c={definitions:r,tightStack:o},d={buffer:y,encode:T,getData:v,lineEndingIfNeeded:S,options:t,raw:w,resume:g,setData:m,tag:x};let p=t.defaultLineEnding;return h;function h(ce){let Re=-1,Lt=0;const pn=[];let Gn=[],nn=[];for(;++Re<ce.length;)!p&&(ce[Re][1].type==="lineEnding"||ce[Re][1].type==="lineEndingBlank")&&(p=ce[Re][2].sliceSerialize(ce[Re][1])),(ce[Re][1].type==="listOrdered"||ce[Re][1].type==="listUnordered")&&(ce[Re][0]==="enter"?pn.push(Re):f(ce.slice(pn.pop(),Re))),ce[Re][1].type==="definition"&&(ce[Re][0]==="enter"?(nn=Pn(nn,ce.slice(Lt,Re)),Lt=Re):(Gn=Pn(Gn,ce.slice(Lt,Re+1)),Lt=Re+1));Gn=Pn(Gn,nn),Gn=Pn(Gn,ce.slice(Lt)),Re=-1;const qn=Gn;for(u.enter.null&&u.enter.null.call(d);++Re<ce.length;){const Qd=u[qn[Re][0]],Jd=qn[Re][1].type,Su=Qd[Jd];rT.call(Qd,Jd)&&Su&&Su.call({sliceSerialize:qn[Re][2].sliceSerialize,...d},qn[Re][1])}return u.exit.null&&u.exit.null.call(d),a[0].join("")}function f(ce){const Re=ce.length;let Lt=0,pn=0,Gn=!1,nn;for(;++Lt<Re;){const qn=ce[Lt];if(qn[1]._container)nn=void 0,qn[0]==="enter"?pn++:pn--;else switch(qn[1].type){case"listItemPrefix":{qn[0]==="exit"&&(nn=!0);break}case"linePrefix":break;case"lineEndingBlank":{qn[0]==="enter"&&!pn&&(nn?nn=void 0:Gn=!0);break}default:nn=void 0}}ce[0][1]._loose=Gn}function m(ce,Re){c[ce]=Re}function v(ce){return c[ce]}function y(){a.push([])}function g(){return a.pop().join("")}function x(ce){n&&(m("lastWasTag",!0),a[a.length-1].push(ce))}function w(ce){m("lastWasTag"),a[a.length-1].push(ce)}function k(){w(p||`
`)}function S(){const ce=a[a.length-1],Re=ce[ce.length-1],Lt=Re?Re.charCodeAt(Re.length-1):null;Lt===10||Lt===13||Lt===null||k()}function T(ce){return v("ignoreEncode")?ce:S3(ce)}function A(){g()}function I(ce){o.push(!ce._loose),S(),x("<ol"),m("expectFirstItem",!0)}function C(ce){o.push(!ce._loose),S(),x("<ul"),m("expectFirstItem",!0)}function N(ce){if(v("expectFirstItem")){const Re=Number.parseInt(this.sliceSerialize(ce),10);Re!==1&&x(' start="'+T(String(Re))+'"')}}function O(){v("expectFirstItem")?x(">"):j(),S(),x("<li>"),m("expectFirstItem"),m("lastWasTag")}function D(){j(),o.pop(),k(),x("</ol>")}function B(){j(),o.pop(),k(),x("</ul>")}function j(){v("lastWasTag")&&!v("slurpAllLineEndings")&&S(),x("</li>"),m("slurpAllLineEndings")}function P(){o.push(!1),S(),x("<blockquote>")}function Y(){o.pop(),S(),x("</blockquote>"),m("slurpAllLineEndings")}function K(){o[o.length-1]||(S(),x("<p>")),m("slurpAllLineEndings")}function $(){o[o.length-1]?m("slurpAllLineEndings",!0):x("</p>")}function z(){S(),x("<pre><code"),m("fencesCount",0)}function _(){const ce=g();x(' class="language-'+ce+'"')}function U(){const ce=v("fencesCount")||0;ce||(x(">"),m("slurpOneLineEnding",!0)),m("fencesCount",ce+1)}function X(){S(),x("<pre><code>")}function L(){const ce=v("fencesCount");ce!==void 0&&ce<2&&c.tightStack.length>0&&!v("lastWasTag")&&k(),v("flowCodeSeenData")&&S(),x("</code></pre>"),ce!==void 0&&ce<2&&S(),m("flowCodeSeenData"),m("fencesCount"),m("slurpOneLineEnding")}function ie(){i.push({image:!0}),n=void 0}function W(){i.push({})}function Q(ce){i[i.length-1].labelId=this.sliceSerialize(ce)}function q(){i[i.length-1].label=g()}function ee(ce){i[i.length-1].referenceId=this.sliceSerialize(ce)}function ve(){y(),i[i.length-1].destination=""}function Ie(){y(),m("ignoreEncode",!0)}function te(){i[i.length-1].destination=g(),m("ignoreEncode")}function oe(){i[i.length-1].title=g()}function ge(){let ce=i.length-1;const Re=i[ce],Lt=Re.referenceId||Re.labelId,pn=Re.destination===void 0?r[Xn(Lt)]:Re;for(n=!0;ce--;)if(i[ce].image){n=void 0;break}Re.image?(x('<img src="'+ji(pn.destination,t.allowDangerousProtocol?void 0:r9)+'" alt="'),w(Re.label),x('"')):x('<a href="'+ji(pn.destination,t.allowDangerousProtocol?void 0:aT)+'"'),x(pn.title?' title="'+pn.title+'"':""),Re.image?x(" />"):(x(">"),w(Re.label),x("</a>")),i.pop()}function pe(){y(),i.push({})}function dt(ce){g(),i[i.length-1].labelId=this.sliceSerialize(ce)}function qe(){y(),m("ignoreEncode",!0)}function _e(){i[i.length-1].destination=g(),m("ignoreEncode")}function $e(){i[i.length-1].title=g()}function xt(){const ce=i[i.length-1],Re=Xn(ce.labelId);g(),rT.call(r,Re)||(r[Re]=i[i.length-1]),i.pop()}function gt(){m("slurpAllLineEndings",!0)}function Dn(ce){v("headingRank")||(m("headingRank",this.sliceSerialize(ce).length),S(),x("<h"+v("headingRank")+">"))}function lt(){y(),m("slurpAllLineEndings")}function Fr(){m("slurpAllLineEndings",!0)}function On(){x("</h"+v("headingRank")+">"),m("headingRank")}function Et(ce){m("headingRank",this.sliceSerialize(ce).charCodeAt(0)===61?1:2)}function ae(){const ce=g();S(),x("<h"+v("headingRank")+">"),w(ce),x("</h"+v("headingRank")+">"),m("slurpAllLineEndings"),m("headingRank")}function Z(ce){w(T(this.sliceSerialize(ce)))}function ue(ce){if(!v("slurpAllLineEndings")){if(v("slurpOneLineEnding")){m("slurpOneLineEnding");return}if(v("inCodeText")){w(" ");return}w(T(this.sliceSerialize(ce)))}}function Se(ce){w(T(this.sliceSerialize(ce))),m("flowCodeSeenData",!0)}function Le(){x("<br />")}function ft(){S(),vt()}function it(){m("ignoreEncode")}function vt(){t.allowDangerousHtml&&m("ignoreEncode",!0)}function Wt(){x("<em>")}function de(){x("<strong>")}function Ne(){m("inCodeText",!0),x("<code>")}function Qe(){m("inCodeText"),x("</code>")}function Me(){x("</em>")}function tn(){x("</strong>")}function yr(){S(),x("<hr />")}function xr(ce){m("characterReferenceType",ce.type)}function Pr(ce){const Re=this.sliceSerialize(ce),Lt=v("characterReferenceType")?Hx(Re,v("characterReferenceType")==="characterReferenceMarkerNumeric"?10:16):zl(Re);w(T(Lt)),m("characterReferenceType")}function zn(ce){const Re=this.sliceSerialize(ce);x('<a href="'+ji(Re,t.allowDangerousProtocol?void 0:aT)+'">'),w(T(Re)),x("</a>")}function Co(ce){const Re=this.sliceSerialize(ce);x('<a href="'+ji("mailto:"+Re)+'">'),w(T(Re)),x("</a>")}}function ct(e,t,n,r){const a=r?r-1:Number.POSITIVE_INFINITY;let i=0;return o;function o(u){return nt(u)?(e.enter(n),l(u)):t(u)}function l(u){return nt(u)&&i++<a?(e.consume(u),l):(e.exit(n),t(u))}}const s9={tokenize:i9};function i9(e){const t=e.attempt(this.parser.constructs.contentInitial,r,a);let n;return t;function r(l){if(l===null){e.consume(l);return}return e.enter("lineEnding"),e.consume(l),e.exit("lineEnding"),ct(e,t,"linePrefix")}function a(l){return e.enter("paragraph"),i(l)}function i(l){const u=e.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=u),n=u,o(l)}function o(l){if(l===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(l);return}return Fe(l)?(e.consume(l),e.exit("chunkText"),i):(e.consume(l),o)}}const o9={tokenize:l9},sT={tokenize:u9};function l9(e){const t=this,n=[];let r=0,a,i,o;return l;function l(w){if(r<n.length){const k=n[r];return t.containerState=k[1],e.attempt(k[0].continuation,u,c)(w)}return c(w)}function u(w){if(r++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,a&&x();const k=t.events.length;let S=k,T;for(;S--;)if(t.events[S][0]==="exit"&&t.events[S][1].type==="chunkFlow"){T=t.events[S][1].end;break}g(r);let A=k;for(;A<t.events.length;)t.events[A][1].end={...T},A++;return Ir(t.events,S+1,0,t.events.slice(k)),t.events.length=A,c(w)}return l(w)}function c(w){if(r===n.length){if(!a)return h(w);if(a.currentConstruct&&a.currentConstruct.concrete)return m(w);t.interrupt=!!(a.currentConstruct&&!a._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(sT,d,p)(w)}function d(w){return a&&x(),g(r),h(w)}function p(w){return t.parser.lazy[t.now().line]=r!==n.length,o=t.now().offset,m(w)}function h(w){return t.containerState={},e.attempt(sT,f,m)(w)}function f(w){return r++,n.push([t.currentConstruct,t.containerState]),h(w)}function m(w){if(w===null){a&&x(),g(0),e.consume(w);return}return a=a||t.parser.flow(t.now()),e.enter("chunkFlow",{_tokenizer:a,contentType:"flow",previous:i}),v(w)}function v(w){if(w===null){y(e.exit("chunkFlow"),!0),g(0),e.consume(w);return}return Fe(w)?(e.consume(w),y(e.exit("chunkFlow")),r=0,t.interrupt=void 0,l):(e.consume(w),v)}function y(w,k){const S=t.sliceStream(w);if(k&&S.push(null),w.previous=i,i&&(i.next=w),i=w,a.defineSkip(w.start),a.write(S),t.parser.lazy[w.start.line]){let T=a.events.length;for(;T--;)if(a.events[T][1].start.offset<o&&(!a.events[T][1].end||a.events[T][1].end.offset>o))return;const A=t.events.length;let I=A,C,N;for(;I--;)if(t.events[I][0]==="exit"&&t.events[I][1].type==="chunkFlow"){if(C){N=t.events[I][1].end;break}C=!0}for(g(r),T=A;T<t.events.length;)t.events[T][1].end={...N},T++;Ir(t.events,I+1,0,t.events.slice(A)),t.events.length=T}}function g(w){let k=n.length;for(;k-- >w;){const S=n[k];t.containerState=S[1],S[0].exit.call(t,e)}n.length=w}function x(){a.write([null]),i=void 0,a=void 0,t.containerState._closeFlow=void 0}}function u9(e,t,n){return ct(e,e.attempt(this.parser.constructs.document,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function Gl(e){if(e===null||St(e)||oo(e))return 1;if(Kf(e))return 2}function Zf(e,t,n){const r=[];let a=-1;for(;++a<e.length;){const i=e[a].resolveAll;i&&!r.includes(i)&&(t=i(t,n),r.push(i))}return t}const Tb={name:"attention",resolveAll:c9,tokenize:d9};function c9(e,t){let n=-1,r,a,i,o,l,u,c,d;for(;++n<e.length;)if(e[n][0]==="enter"&&e[n][1].type==="attentionSequence"&&e[n][1]._close){for(r=n;r--;)if(e[r][0]==="exit"&&e[r][1].type==="attentionSequence"&&e[r][1]._open&&t.sliceSerialize(e[r][1]).charCodeAt(0)===t.sliceSerialize(e[n][1]).charCodeAt(0)){if((e[r][1]._close||e[n][1]._open)&&(e[n][1].end.offset-e[n][1].start.offset)%3&&!((e[r][1].end.offset-e[r][1].start.offset+e[n][1].end.offset-e[n][1].start.offset)%3))continue;u=e[r][1].end.offset-e[r][1].start.offset>1&&e[n][1].end.offset-e[n][1].start.offset>1?2:1;const p={...e[r][1].end},h={...e[n][1].start};iT(p,-u),iT(h,u),o={type:u>1?"strongSequence":"emphasisSequence",start:p,end:{...e[r][1].end}},l={type:u>1?"strongSequence":"emphasisSequence",start:{...e[n][1].start},end:h},i={type:u>1?"strongText":"emphasisText",start:{...e[r][1].end},end:{...e[n][1].start}},a={type:u>1?"strong":"emphasis",start:{...o.start},end:{...l.end}},e[r][1].end={...o.start},e[n][1].start={...l.end},c=[],e[r][1].end.offset-e[r][1].start.offset&&(c=Pn(c,[["enter",e[r][1],t],["exit",e[r][1],t]])),c=Pn(c,[["enter",a,t],["enter",o,t],["exit",o,t],["enter",i,t]]),c=Pn(c,Zf(t.parser.constructs.insideSpan.null,e.slice(r+1,n),t)),c=Pn(c,[["exit",i,t],["enter",l,t],["exit",l,t],["exit",a,t]]),e[n][1].end.offset-e[n][1].start.offset?(d=2,c=Pn(c,[["enter",e[n][1],t],["exit",e[n][1],t]])):d=0,Ir(e,r-1,n-r+3,c),n=r+c.length-d-2;break}}for(n=-1;++n<e.length;)e[n][1].type==="attentionSequence"&&(e[n][1].type="data");return e}function d9(e,t){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,a=Gl(r);let i;return o;function o(u){return i=u,e.enter("attentionSequence"),l(u)}function l(u){if(u===i)return e.consume(u),l;const c=e.exit("attentionSequence"),d=Gl(u),p=!d||d===2&&a||n.includes(u),h=!a||a===2&&d||n.includes(r);return c._open=!!(i===42?p:p&&(a||!h)),c._close=!!(i===42?h:h&&(d||!p)),t(u)}}function iT(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const p9={name:"autolink",tokenize:h9};function h9(e,t,n){let r=0;return a;function a(f){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(f),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),i}function i(f){return Kn(f)?(e.consume(f),o):f===64?n(f):c(f)}function o(f){return f===43||f===45||f===46||Bn(f)?(r=1,l(f)):c(f)}function l(f){return f===58?(e.consume(f),r=0,u):(f===43||f===45||f===46||Bn(f))&&r++<32?(e.consume(f),l):(r=0,c(f))}function u(f){return f===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(f),e.exit("autolinkMarker"),e.exit("autolink"),t):f===null||f===32||f===60||qh(f)?n(f):(e.consume(f),u)}function c(f){return f===64?(e.consume(f),d):e9(f)?(e.consume(f),c):n(f)}function d(f){return Bn(f)?p(f):n(f)}function p(f){return f===46?(e.consume(f),r=0,d):f===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(f),e.exit("autolinkMarker"),e.exit("autolink"),t):h(f)}function h(f){if((f===45||Bn(f))&&r++<63){const m=f===45?h:p;return e.consume(f),m}return n(f)}}const Ld={partial:!0,tokenize:f9};function f9(e,t,n){return r;function r(i){return nt(i)?ct(e,a,"linePrefix")(i):a(i)}function a(i){return i===null||Fe(i)?t(i):n(i)}}const N3={continuation:{tokenize:g9},exit:b9,name:"blockQuote",tokenize:m9};function m9(e,t,n){const r=this;return a;function a(o){if(o===62){const l=r.containerState;return l.open||(e.enter("blockQuote",{_container:!0}),l.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(o),e.exit("blockQuoteMarker"),i}return n(o)}function i(o){return nt(o)?(e.enter("blockQuotePrefixWhitespace"),e.consume(o),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(o))}}function g9(e,t,n){const r=this;return a;function a(o){return nt(o)?ct(e,i,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(o):i(o)}function i(o){return e.attempt(N3,t,n)(o)}}function b9(e){e.exit("blockQuote")}const k3={name:"characterEscape",tokenize:y9};function y9(e,t,n){return r;function r(i){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(i),e.exit("escapeMarker"),a}function a(i){return n9(i)?(e.enter("characterEscapeValue"),e.consume(i),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):n(i)}}const _3={name:"characterReference",tokenize:x9};function x9(e,t,n){const r=this;let a=0,i,o;return l;function l(p){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(p),e.exit("characterReferenceMarker"),u}function u(p){return p===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(p),e.exit("characterReferenceMarkerNumeric"),c):(e.enter("characterReferenceValue"),i=31,o=Bn,d(p))}function c(p){return p===88||p===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(p),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),i=6,o=t9,d):(e.enter("characterReferenceValue"),i=7,o=_b,d(p))}function d(p){if(p===59&&a){const h=e.exit("characterReferenceValue");return o===Bn&&!zl(r.sliceSerialize(h))?n(p):(e.enter("characterReferenceMarker"),e.consume(p),e.exit("characterReferenceMarker"),e.exit("characterReference"),t)}return o(p)&&a++<i?(e.consume(p),d):n(p)}}const oT={partial:!0,tokenize:E9},lT={concrete:!0,name:"codeFenced",tokenize:v9};function v9(e,t,n){const r=this,a={partial:!0,tokenize:S};let i=0,o=0,l;return u;function u(T){return c(T)}function c(T){const A=r.events[r.events.length-1];return i=A&&A[1].type==="linePrefix"?A[2].sliceSerialize(A[1],!0).length:0,l=T,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),d(T)}function d(T){return T===l?(o++,e.consume(T),d):o<3?n(T):(e.exit("codeFencedFenceSequence"),nt(T)?ct(e,p,"whitespace")(T):p(T))}function p(T){return T===null||Fe(T)?(e.exit("codeFencedFence"),r.interrupt?t(T):e.check(oT,v,k)(T)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),h(T))}function h(T){return T===null||Fe(T)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),p(T)):nt(T)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),ct(e,f,"whitespace")(T)):T===96&&T===l?n(T):(e.consume(T),h)}function f(T){return T===null||Fe(T)?p(T):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),m(T))}function m(T){return T===null||Fe(T)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),p(T)):T===96&&T===l?n(T):(e.consume(T),m)}function v(T){return e.attempt(a,k,y)(T)}function y(T){return e.enter("lineEnding"),e.consume(T),e.exit("lineEnding"),g}function g(T){return i>0&&nt(T)?ct(e,x,"linePrefix",i+1)(T):x(T)}function x(T){return T===null||Fe(T)?e.check(oT,v,k)(T):(e.enter("codeFlowValue"),w(T))}function w(T){return T===null||Fe(T)?(e.exit("codeFlowValue"),x(T)):(e.consume(T),w)}function k(T){return e.exit("codeFenced"),t(T)}function S(T,A,I){let C=0;return N;function N(P){return T.enter("lineEnding"),T.consume(P),T.exit("lineEnding"),O}function O(P){return T.enter("codeFencedFence"),nt(P)?ct(T,D,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(P):D(P)}function D(P){return P===l?(T.enter("codeFencedFenceSequence"),B(P)):I(P)}function B(P){return P===l?(C++,T.consume(P),B):C>=o?(T.exit("codeFencedFenceSequence"),nt(P)?ct(T,j,"whitespace")(P):j(P)):I(P)}function j(P){return P===null||Fe(P)?(T.exit("codeFencedFence"),A(P)):I(P)}}}function E9(e,t,n){const r=this;return a;function a(o){return o===null?n(o):(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),i)}function i(o){return r.parser.lazy[r.now().line]?n(o):t(o)}}const Sg={name:"codeIndented",tokenize:S9},w9={partial:!0,tokenize:N9};function S9(e,t,n){const r=this;return a;function a(c){return e.enter("codeIndented"),ct(e,i,"linePrefix",5)(c)}function i(c){const d=r.events[r.events.length-1];return d&&d[1].type==="linePrefix"&&d[2].sliceSerialize(d[1],!0).length>=4?o(c):n(c)}function o(c){return c===null?u(c):Fe(c)?e.attempt(w9,o,u)(c):(e.enter("codeFlowValue"),l(c))}function l(c){return c===null||Fe(c)?(e.exit("codeFlowValue"),o(c)):(e.consume(c),l)}function u(c){return e.exit("codeIndented"),t(c)}}function N9(e,t,n){const r=this;return a;function a(o){return r.parser.lazy[r.now().line]?n(o):Fe(o)?(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),a):ct(e,i,"linePrefix",5)(o)}function i(o){const l=r.events[r.events.length-1];return l&&l[1].type==="linePrefix"&&l[2].sliceSerialize(l[1],!0).length>=4?t(o):Fe(o)?a(o):n(o)}}const k9={name:"codeText",previous:T9,resolve:_9,tokenize:C9};function _9(e){let t=e.length-4,n=3,r,a;if((e[n][1].type==="lineEnding"||e[n][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(r=n;++r<t;)if(e[r][1].type==="codeTextData"){e[n][1].type="codeTextPadding",e[t][1].type="codeTextPadding",n+=2,t-=2;break}}for(r=n-1,t++;++r<=t;)a===void 0?r!==t&&e[r][1].type!=="lineEnding"&&(a=r):(r===t||e[r][1].type==="lineEnding")&&(e[a][1].type="codeTextData",r!==a+2&&(e[a][1].end=e[r-1][1].end,e.splice(a+2,r-a-2),t-=r-a-2,r=a+2),a=void 0);return e}function T9(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function C9(e,t,n){let r=0,a,i;return o;function o(p){return e.enter("codeText"),e.enter("codeTextSequence"),l(p)}function l(p){return p===96?(e.consume(p),r++,l):(e.exit("codeTextSequence"),u(p))}function u(p){return p===null?n(p):p===32?(e.enter("space"),e.consume(p),e.exit("space"),u):p===96?(i=e.enter("codeTextSequence"),a=0,d(p)):Fe(p)?(e.enter("lineEnding"),e.consume(p),e.exit("lineEnding"),u):(e.enter("codeTextData"),c(p))}function c(p){return p===null||p===32||p===96||Fe(p)?(e.exit("codeTextData"),u(p)):(e.consume(p),c)}function d(p){return p===96?(e.consume(p),a++,d):a===r?(e.exit("codeTextSequence"),e.exit("codeText"),t(p)):(i.type="codeTextData",c(p))}}class A9{constructor(t){this.left=t?[...t]:[],this.right=[]}get(t){if(t<0||t>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+t+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return t<this.left.length?this.left[t]:this.right[this.right.length-t+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(t,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(t,r):t>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-t+this.left.length).reverse():this.left.slice(t).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(t,n,r){const a=n||0;this.setCursor(Math.trunc(t));const i=this.right.splice(this.right.length-a,Number.POSITIVE_INFINITY);return r&&Fu(this.left,r),i.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(t){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(t)}pushMany(t){this.setCursor(Number.POSITIVE_INFINITY),Fu(this.left,t)}unshift(t){this.setCursor(0),this.right.push(t)}unshiftMany(t){this.setCursor(0),Fu(this.right,t.reverse())}setCursor(t){if(!(t===this.left.length||t>this.left.length&&this.right.length===0||t<0&&this.left.length===0))if(t<this.left.length){const n=this.left.splice(t,Number.POSITIVE_INFINITY);Fu(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-t,Number.POSITIVE_INFINITY);Fu(this.left,n.reverse())}}}function Fu(e,t){let n=0;if(t.length<1e4)e.push(...t);else for(;n<t.length;)e.push(...t.slice(n,n+1e4)),n+=1e4}function T3(e){const t={};let n=-1,r,a,i,o,l,u,c;const d=new A9(e);for(;++n<d.length;){for(;n in t;)n=t[n];if(r=d.get(n),n&&r[1].type==="chunkFlow"&&d.get(n-1)[1].type==="listItemPrefix"&&(u=r[1]._tokenizer.events,i=0,i<u.length&&u[i][1].type==="lineEndingBlank"&&(i+=2),i<u.length&&u[i][1].type==="content"))for(;++i<u.length&&u[i][1].type!=="content";)u[i][1].type==="chunkText"&&(u[i][1]._isInFirstContentOfListItem=!0,i++);if(r[0]==="enter")r[1].contentType&&(Object.assign(t,I9(d,n)),n=t[n],c=!0);else if(r[1]._container){for(i=n,a=void 0;i--;)if(o=d.get(i),o[1].type==="lineEnding"||o[1].type==="lineEndingBlank")o[0]==="enter"&&(a&&(d.get(a)[1].type="lineEndingBlank"),o[1].type="lineEnding",a=i);else if(o[1].type!=="linePrefix")break;a&&(r[1].end={...d.get(a)[1].start},l=d.slice(a,n),l.unshift(r),d.splice(a,n-a+1,l))}}return Ir(e,0,Number.POSITIVE_INFINITY,d.slice(0)),!c}function I9(e,t){const n=e.get(t)[1],r=e.get(t)[2];let a=t-1;const i=[],o=n._tokenizer||r.parser[n.contentType](n.start),l=o.events,u=[],c={};let d,p,h=-1,f=n,m=0,v=0;const y=[v];for(;f;){for(;e.get(++a)[1]!==f;);i.push(a),f._tokenizer||(d=r.sliceStream(f),f.next||d.push(null),p&&o.defineSkip(f.start),f._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=!0),o.write(d),f._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=void 0)),p=f,f=f.next}for(f=n;++h<l.length;)l[h][0]==="exit"&&l[h-1][0]==="enter"&&l[h][1].type===l[h-1][1].type&&l[h][1].start.line!==l[h][1].end.line&&(v=h+1,y.push(v),f._tokenizer=void 0,f.previous=void 0,f=f.next);for(o.events=[],f?(f._tokenizer=void 0,f.previous=void 0):y.pop(),h=y.length;h--;){const g=l.slice(y[h],y[h+1]),x=i.pop();u.push([x,x+g.length-1]),e.splice(x,2,g)}for(u.reverse(),h=-1;++h<u.length;)c[m+u[h][0]]=m+u[h][1],m+=u[h][1]-u[h][0]-1;return c}const R9={resolve:O9,tokenize:L9},D9={partial:!0,tokenize:j9};function O9(e){return T3(e),e}function L9(e,t){let n;return r;function r(l){return e.enter("content"),n=e.enter("chunkContent",{contentType:"content"}),a(l)}function a(l){return l===null?i(l):Fe(l)?e.check(D9,o,i)(l):(e.consume(l),a)}function i(l){return e.exit("chunkContent"),e.exit("content"),t(l)}function o(l){return e.consume(l),e.exit("chunkContent"),n.next=e.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,a}}function j9(e,t,n){const r=this;return a;function a(o){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),ct(e,i,"linePrefix")}function i(o){if(o===null||Fe(o))return n(o);const l=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&l&&l[1].type==="linePrefix"&&l[2].sliceSerialize(l[1],!0).length>=4?t(o):e.interrupt(r.parser.constructs.flow,n,t)(o)}}function C3(e,t,n,r,a,i,o,l,u){const c=u||Number.POSITIVE_INFINITY;let d=0;return p;function p(g){return g===60?(e.enter(r),e.enter(a),e.enter(i),e.consume(g),e.exit(i),h):g===null||g===32||g===41||qh(g)?n(g):(e.enter(r),e.enter(o),e.enter(l),e.enter("chunkString",{contentType:"string"}),v(g))}function h(g){return g===62?(e.enter(i),e.consume(g),e.exit(i),e.exit(a),e.exit(r),t):(e.enter(l),e.enter("chunkString",{contentType:"string"}),f(g))}function f(g){return g===62?(e.exit("chunkString"),e.exit(l),h(g)):g===null||g===60||Fe(g)?n(g):(e.consume(g),g===92?m:f)}function m(g){return g===60||g===62||g===92?(e.consume(g),f):f(g)}function v(g){return!d&&(g===null||g===41||St(g))?(e.exit("chunkString"),e.exit(l),e.exit(o),e.exit(r),t(g)):d<c&&g===40?(e.consume(g),d++,v):g===41?(e.consume(g),d--,v):g===null||g===32||g===40||qh(g)?n(g):(e.consume(g),g===92?y:v)}function y(g){return g===40||g===41||g===92?(e.consume(g),v):v(g)}}function A3(e,t,n,r,a,i){const o=this;let l=0,u;return c;function c(f){return e.enter(r),e.enter(a),e.consume(f),e.exit(a),e.enter(i),d}function d(f){return l>999||f===null||f===91||f===93&&!u||f===94&&!l&&"_hiddenFootnoteSupport"in o.parser.constructs?n(f):f===93?(e.exit(i),e.enter(a),e.consume(f),e.exit(a),e.exit(r),t):Fe(f)?(e.enter("lineEnding"),e.consume(f),e.exit("lineEnding"),d):(e.enter("chunkString",{contentType:"string"}),p(f))}function p(f){return f===null||f===91||f===93||Fe(f)||l++>999?(e.exit("chunkString"),d(f)):(e.consume(f),u||(u=!nt(f)),f===92?h:p)}function h(f){return f===91||f===92||f===93?(e.consume(f),l++,p):p(f)}}function I3(e,t,n,r,a,i){let o;return l;function l(h){return h===34||h===39||h===40?(e.enter(r),e.enter(a),e.consume(h),e.exit(a),o=h===40?41:h,u):n(h)}function u(h){return h===o?(e.enter(a),e.consume(h),e.exit(a),e.exit(r),t):(e.enter(i),c(h))}function c(h){return h===o?(e.exit(i),u(o)):h===null?n(h):Fe(h)?(e.enter("lineEnding"),e.consume(h),e.exit("lineEnding"),ct(e,c,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),d(h))}function d(h){return h===o||h===null||Fe(h)?(e.exit("chunkString"),c(h)):(e.consume(h),h===92?p:d)}function p(h){return h===o||h===92?(e.consume(h),d):d(h)}}function mc(e,t){let n;return r;function r(a){return Fe(a)?(e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),n=!0,r):nt(a)?ct(e,r,n?"linePrefix":"lineSuffix")(a):t(a)}}const M9={name:"definition",tokenize:P9},F9={partial:!0,tokenize:B9};function P9(e,t,n){const r=this;let a;return i;function i(f){return e.enter("definition"),o(f)}function o(f){return A3.call(r,e,l,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(f)}function l(f){return a=Xn(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),f===58?(e.enter("definitionMarker"),e.consume(f),e.exit("definitionMarker"),u):n(f)}function u(f){return St(f)?mc(e,c)(f):c(f)}function c(f){return C3(e,d,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(f)}function d(f){return e.attempt(F9,p,p)(f)}function p(f){return nt(f)?ct(e,h,"whitespace")(f):h(f)}function h(f){return f===null||Fe(f)?(e.exit("definition"),r.parser.defined.push(a),t(f)):n(f)}}function B9(e,t,n){return r;function r(l){return St(l)?mc(e,a)(l):n(l)}function a(l){return I3(e,i,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(l)}function i(l){return nt(l)?ct(e,o,"whitespace")(l):o(l)}function o(l){return l===null||Fe(l)?t(l):n(l)}}const U9={name:"hardBreakEscape",tokenize:$9};function $9(e,t,n){return r;function r(i){return e.enter("hardBreakEscape"),e.consume(i),a}function a(i){return Fe(i)?(e.exit("hardBreakEscape"),t(i)):n(i)}}const H9={name:"headingAtx",resolve:z9,tokenize:G9};function z9(e,t){let n=e.length-2,r=3,a,i;return e[r][1].type==="whitespace"&&(r+=2),n-2>r&&e[n][1].type==="whitespace"&&(n-=2),e[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&e[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(a={type:"atxHeadingText",start:e[r][1].start,end:e[n][1].end},i={type:"chunkText",start:e[r][1].start,end:e[n][1].end,contentType:"text"},Ir(e,r,n-r+1,[["enter",a,t],["enter",i,t],["exit",i,t],["exit",a,t]])),e}function G9(e,t,n){let r=0;return a;function a(d){return e.enter("atxHeading"),i(d)}function i(d){return e.enter("atxHeadingSequence"),o(d)}function o(d){return d===35&&r++<6?(e.consume(d),o):d===null||St(d)?(e.exit("atxHeadingSequence"),l(d)):n(d)}function l(d){return d===35?(e.enter("atxHeadingSequence"),u(d)):d===null||Fe(d)?(e.exit("atxHeading"),t(d)):nt(d)?ct(e,l,"whitespace")(d):(e.enter("atxHeadingText"),c(d))}function u(d){return d===35?(e.consume(d),u):(e.exit("atxHeadingSequence"),l(d))}function c(d){return d===null||d===35||St(d)?(e.exit("atxHeadingText"),l(d)):(e.consume(d),c)}}const q9=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],uT=["pre","script","style","textarea"],V9={concrete:!0,name:"htmlFlow",resolveTo:K9,tokenize:Z9},W9={partial:!0,tokenize:Q9},Y9={partial:!0,tokenize:X9};function K9(e){let t=e.length;for(;t--&&!(e[t][0]==="enter"&&e[t][1].type==="htmlFlow"););return t>1&&e[t-2][1].type==="linePrefix"&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e}function Z9(e,t,n){const r=this;let a,i,o,l,u;return c;function c(L){return d(L)}function d(L){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(L),p}function p(L){return L===33?(e.consume(L),h):L===47?(e.consume(L),i=!0,v):L===63?(e.consume(L),a=3,r.interrupt?t:_):Kn(L)?(e.consume(L),o=String.fromCharCode(L),y):n(L)}function h(L){return L===45?(e.consume(L),a=2,f):L===91?(e.consume(L),a=5,l=0,m):Kn(L)?(e.consume(L),a=4,r.interrupt?t:_):n(L)}function f(L){return L===45?(e.consume(L),r.interrupt?t:_):n(L)}function m(L){const ie="CDATA[";return L===ie.charCodeAt(l++)?(e.consume(L),l===ie.length?r.interrupt?t:D:m):n(L)}function v(L){return Kn(L)?(e.consume(L),o=String.fromCharCode(L),y):n(L)}function y(L){if(L===null||L===47||L===62||St(L)){const ie=L===47,W=o.toLowerCase();return!ie&&!i&&uT.includes(W)?(a=1,r.interrupt?t(L):D(L)):q9.includes(o.toLowerCase())?(a=6,ie?(e.consume(L),g):r.interrupt?t(L):D(L)):(a=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(L):i?x(L):w(L))}return L===45||Bn(L)?(e.consume(L),o+=String.fromCharCode(L),y):n(L)}function g(L){return L===62?(e.consume(L),r.interrupt?t:D):n(L)}function x(L){return nt(L)?(e.consume(L),x):N(L)}function w(L){return L===47?(e.consume(L),N):L===58||L===95||Kn(L)?(e.consume(L),k):nt(L)?(e.consume(L),w):N(L)}function k(L){return L===45||L===46||L===58||L===95||Bn(L)?(e.consume(L),k):S(L)}function S(L){return L===61?(e.consume(L),T):nt(L)?(e.consume(L),S):w(L)}function T(L){return L===null||L===60||L===61||L===62||L===96?n(L):L===34||L===39?(e.consume(L),u=L,A):nt(L)?(e.consume(L),T):I(L)}function A(L){return L===u?(e.consume(L),u=null,C):L===null||Fe(L)?n(L):(e.consume(L),A)}function I(L){return L===null||L===34||L===39||L===47||L===60||L===61||L===62||L===96||St(L)?S(L):(e.consume(L),I)}function C(L){return L===47||L===62||nt(L)?w(L):n(L)}function N(L){return L===62?(e.consume(L),O):n(L)}function O(L){return L===null||Fe(L)?D(L):nt(L)?(e.consume(L),O):n(L)}function D(L){return L===45&&a===2?(e.consume(L),Y):L===60&&a===1?(e.consume(L),K):L===62&&a===4?(e.consume(L),U):L===63&&a===3?(e.consume(L),_):L===93&&a===5?(e.consume(L),z):Fe(L)&&(a===6||a===7)?(e.exit("htmlFlowData"),e.check(W9,X,B)(L)):L===null||Fe(L)?(e.exit("htmlFlowData"),B(L)):(e.consume(L),D)}function B(L){return e.check(Y9,j,X)(L)}function j(L){return e.enter("lineEnding"),e.consume(L),e.exit("lineEnding"),P}function P(L){return L===null||Fe(L)?B(L):(e.enter("htmlFlowData"),D(L))}function Y(L){return L===45?(e.consume(L),_):D(L)}function K(L){return L===47?(e.consume(L),o="",$):D(L)}function $(L){if(L===62){const ie=o.toLowerCase();return uT.includes(ie)?(e.consume(L),U):D(L)}return Kn(L)&&o.length<8?(e.consume(L),o+=String.fromCharCode(L),$):D(L)}function z(L){return L===93?(e.consume(L),_):D(L)}function _(L){return L===62?(e.consume(L),U):L===45&&a===2?(e.consume(L),_):D(L)}function U(L){return L===null||Fe(L)?(e.exit("htmlFlowData"),X(L)):(e.consume(L),U)}function X(L){return e.exit("htmlFlow"),t(L)}}function X9(e,t,n){const r=this;return a;function a(o){return Fe(o)?(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),i):n(o)}function i(o){return r.parser.lazy[r.now().line]?n(o):t(o)}}function Q9(e,t,n){return r;function r(a){return e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),e.attempt(Ld,t,n)}}const J9={name:"htmlText",tokenize:e$};function e$(e,t,n){const r=this;let a,i,o;return l;function l(_){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(_),u}function u(_){return _===33?(e.consume(_),c):_===47?(e.consume(_),S):_===63?(e.consume(_),w):Kn(_)?(e.consume(_),I):n(_)}function c(_){return _===45?(e.consume(_),d):_===91?(e.consume(_),i=0,m):Kn(_)?(e.consume(_),x):n(_)}function d(_){return _===45?(e.consume(_),f):n(_)}function p(_){return _===null?n(_):_===45?(e.consume(_),h):Fe(_)?(o=p,K(_)):(e.consume(_),p)}function h(_){return _===45?(e.consume(_),f):p(_)}function f(_){return _===62?Y(_):_===45?h(_):p(_)}function m(_){const U="CDATA[";return _===U.charCodeAt(i++)?(e.consume(_),i===U.length?v:m):n(_)}function v(_){return _===null?n(_):_===93?(e.consume(_),y):Fe(_)?(o=v,K(_)):(e.consume(_),v)}function y(_){return _===93?(e.consume(_),g):v(_)}function g(_){return _===62?Y(_):_===93?(e.consume(_),g):v(_)}function x(_){return _===null||_===62?Y(_):Fe(_)?(o=x,K(_)):(e.consume(_),x)}function w(_){return _===null?n(_):_===63?(e.consume(_),k):Fe(_)?(o=w,K(_)):(e.consume(_),w)}function k(_){return _===62?Y(_):w(_)}function S(_){return Kn(_)?(e.consume(_),T):n(_)}function T(_){return _===45||Bn(_)?(e.consume(_),T):A(_)}function A(_){return Fe(_)?(o=A,K(_)):nt(_)?(e.consume(_),A):Y(_)}function I(_){return _===45||Bn(_)?(e.consume(_),I):_===47||_===62||St(_)?C(_):n(_)}function C(_){return _===47?(e.consume(_),Y):_===58||_===95||Kn(_)?(e.consume(_),N):Fe(_)?(o=C,K(_)):nt(_)?(e.consume(_),C):Y(_)}function N(_){return _===45||_===46||_===58||_===95||Bn(_)?(e.consume(_),N):O(_)}function O(_){return _===61?(e.consume(_),D):Fe(_)?(o=O,K(_)):nt(_)?(e.consume(_),O):C(_)}function D(_){return _===null||_===60||_===61||_===62||_===96?n(_):_===34||_===39?(e.consume(_),a=_,B):Fe(_)?(o=D,K(_)):nt(_)?(e.consume(_),D):(e.consume(_),j)}function B(_){return _===a?(e.consume(_),a=void 0,P):_===null?n(_):Fe(_)?(o=B,K(_)):(e.consume(_),B)}function j(_){return _===null||_===34||_===39||_===60||_===61||_===96?n(_):_===47||_===62||St(_)?C(_):(e.consume(_),j)}function P(_){return _===47||_===62||St(_)?C(_):n(_)}function Y(_){return _===62?(e.consume(_),e.exit("htmlTextData"),e.exit("htmlText"),t):n(_)}function K(_){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(_),e.exit("lineEnding"),$}function $(_){return nt(_)?ct(e,z,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(_):z(_)}function z(_){return e.enter("htmlTextData"),o(_)}}const zx={name:"labelEnd",resolveAll:a$,resolveTo:s$,tokenize:i$},t$={tokenize:o$},n$={tokenize:l$},r$={tokenize:u$};function a$(e){let t=-1;const n=[];for(;++t<e.length;){const r=e[t][1];if(n.push(e[t]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){const a=r.type==="labelImage"?4:2;r.type="data",t+=a}}return e.length!==n.length&&Ir(e,0,e.length,n),e}function s$(e,t){let n=e.length,r=0,a,i,o,l;for(;n--;)if(a=e[n][1],i){if(a.type==="link"||a.type==="labelLink"&&a._inactive)break;e[n][0]==="enter"&&a.type==="labelLink"&&(a._inactive=!0)}else if(o){if(e[n][0]==="enter"&&(a.type==="labelImage"||a.type==="labelLink")&&!a._balanced&&(i=n,a.type!=="labelLink")){r=2;break}}else a.type==="labelEnd"&&(o=n);const u={type:e[i][1].type==="labelLink"?"link":"image",start:{...e[i][1].start},end:{...e[e.length-1][1].end}},c={type:"label",start:{...e[i][1].start},end:{...e[o][1].end}},d={type:"labelText",start:{...e[i+r+2][1].end},end:{...e[o-2][1].start}};return l=[["enter",u,t],["enter",c,t]],l=Pn(l,e.slice(i+1,i+r+3)),l=Pn(l,[["enter",d,t]]),l=Pn(l,Zf(t.parser.constructs.insideSpan.null,e.slice(i+r+4,o-3),t)),l=Pn(l,[["exit",d,t],e[o-2],e[o-1],["exit",c,t]]),l=Pn(l,e.slice(o+1)),l=Pn(l,[["exit",u,t]]),Ir(e,i,e.length,l),e}function i$(e,t,n){const r=this;let a=r.events.length,i,o;for(;a--;)if((r.events[a][1].type==="labelImage"||r.events[a][1].type==="labelLink")&&!r.events[a][1]._balanced){i=r.events[a][1];break}return l;function l(h){return i?i._inactive?p(h):(o=r.parser.defined.includes(Xn(r.sliceSerialize({start:i.end,end:r.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(h),e.exit("labelMarker"),e.exit("labelEnd"),u):n(h)}function u(h){return h===40?e.attempt(t$,d,o?d:p)(h):h===91?e.attempt(n$,d,o?c:p)(h):o?d(h):p(h)}function c(h){return e.attempt(r$,d,p)(h)}function d(h){return t(h)}function p(h){return i._balanced=!0,n(h)}}function o$(e,t,n){return r;function r(p){return e.enter("resource"),e.enter("resourceMarker"),e.consume(p),e.exit("resourceMarker"),a}function a(p){return St(p)?mc(e,i)(p):i(p)}function i(p){return p===41?d(p):C3(e,o,l,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(p)}function o(p){return St(p)?mc(e,u)(p):d(p)}function l(p){return n(p)}function u(p){return p===34||p===39||p===40?I3(e,c,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(p):d(p)}function c(p){return St(p)?mc(e,d)(p):d(p)}function d(p){return p===41?(e.enter("resourceMarker"),e.consume(p),e.exit("resourceMarker"),e.exit("resource"),t):n(p)}}function l$(e,t,n){const r=this;return a;function a(l){return A3.call(r,e,i,o,"reference","referenceMarker","referenceString")(l)}function i(l){return r.parser.defined.includes(Xn(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?t(l):n(l)}function o(l){return n(l)}}function u$(e,t,n){return r;function r(i){return e.enter("reference"),e.enter("referenceMarker"),e.consume(i),e.exit("referenceMarker"),a}function a(i){return i===93?(e.enter("referenceMarker"),e.consume(i),e.exit("referenceMarker"),e.exit("reference"),t):n(i)}}const c$={name:"labelStartImage",resolveAll:zx.resolveAll,tokenize:d$};function d$(e,t,n){const r=this;return a;function a(l){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(l),e.exit("labelImageMarker"),i}function i(l){return l===91?(e.enter("labelMarker"),e.consume(l),e.exit("labelMarker"),e.exit("labelImage"),o):n(l)}function o(l){return l===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(l):t(l)}}const p$={name:"labelStartLink",resolveAll:zx.resolveAll,tokenize:h$};function h$(e,t,n){const r=this;return a;function a(o){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(o),e.exit("labelMarker"),e.exit("labelLink"),i}function i(o){return o===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(o):t(o)}}const Ng={name:"lineEnding",tokenize:f$};function f$(e,t){return n;function n(r){return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),ct(e,t,"linePrefix")}}const ah={name:"thematicBreak",tokenize:m$};function m$(e,t,n){let r=0,a;return i;function i(c){return e.enter("thematicBreak"),o(c)}function o(c){return a=c,l(c)}function l(c){return c===a?(e.enter("thematicBreakSequence"),u(c)):r>=3&&(c===null||Fe(c))?(e.exit("thematicBreak"),t(c)):n(c)}function u(c){return c===a?(e.consume(c),r++,u):(e.exit("thematicBreakSequence"),nt(c)?ct(e,l,"whitespace")(c):l(c))}}const sr={continuation:{tokenize:x$},exit:E$,name:"list",tokenize:y$},g$={partial:!0,tokenize:w$},b$={partial:!0,tokenize:v$};function y$(e,t,n){const r=this,a=r.events[r.events.length-1];let i=a&&a[1].type==="linePrefix"?a[2].sliceSerialize(a[1],!0).length:0,o=0;return l;function l(f){const m=r.containerState.type||(f===42||f===43||f===45?"listUnordered":"listOrdered");if(m==="listUnordered"?!r.containerState.marker||f===r.containerState.marker:_b(f)){if(r.containerState.type||(r.containerState.type=m,e.enter(m,{_container:!0})),m==="listUnordered")return e.enter("listItemPrefix"),f===42||f===45?e.check(ah,n,c)(f):c(f);if(!r.interrupt||f===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),u(f)}return n(f)}function u(f){return _b(f)&&++o<10?(e.consume(f),u):(!r.interrupt||o<2)&&(r.containerState.marker?f===r.containerState.marker:f===41||f===46)?(e.exit("listItemValue"),c(f)):n(f)}function c(f){return e.enter("listItemMarker"),e.consume(f),e.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||f,e.check(Ld,r.interrupt?n:d,e.attempt(g$,h,p))}function d(f){return r.containerState.initialBlankLine=!0,i++,h(f)}function p(f){return nt(f)?(e.enter("listItemPrefixWhitespace"),e.consume(f),e.exit("listItemPrefixWhitespace"),h):n(f)}function h(f){return r.containerState.size=i+r.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(f)}}function x$(e,t,n){const r=this;return r.containerState._closeFlow=void 0,e.check(Ld,a,i);function a(l){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,ct(e,t,"listItemIndent",r.containerState.size+1)(l)}function i(l){return r.containerState.furtherBlankLines||!nt(l)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,o(l)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,e.attempt(b$,t,o)(l))}function o(l){return r.containerState._closeFlow=!0,r.interrupt=void 0,ct(e,e.attempt(sr,t,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(l)}}function v$(e,t,n){const r=this;return ct(e,a,"listItemIndent",r.containerState.size+1);function a(i){const o=r.events[r.events.length-1];return o&&o[1].type==="listItemIndent"&&o[2].sliceSerialize(o[1],!0).length===r.containerState.size?t(i):n(i)}}function E$(e){e.exit(this.containerState.type)}function w$(e,t,n){const r=this;return ct(e,a,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function a(i){const o=r.events[r.events.length-1];return!nt(i)&&o&&o[1].type==="listItemPrefixWhitespace"?t(i):n(i)}}const cT={name:"setextUnderline",resolveTo:S$,tokenize:N$};function S$(e,t){let n=e.length,r,a,i;for(;n--;)if(e[n][0]==="enter"){if(e[n][1].type==="content"){r=n;break}e[n][1].type==="paragraph"&&(a=n)}else e[n][1].type==="content"&&e.splice(n,1),!i&&e[n][1].type==="definition"&&(i=n);const o={type:"setextHeading",start:{...e[a][1].start},end:{...e[e.length-1][1].end}};return e[a][1].type="setextHeadingText",i?(e.splice(a,0,["enter",o,t]),e.splice(i+1,0,["exit",e[r][1],t]),e[r][1].end={...e[i][1].end}):e[r][1]=o,e.push(["exit",o,t]),e}function N$(e,t,n){const r=this;let a;return i;function i(c){let d=r.events.length,p;for(;d--;)if(r.events[d][1].type!=="lineEnding"&&r.events[d][1].type!=="linePrefix"&&r.events[d][1].type!=="content"){p=r.events[d][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||p)?(e.enter("setextHeadingLine"),a=c,o(c)):n(c)}function o(c){return e.enter("setextHeadingLineSequence"),l(c)}function l(c){return c===a?(e.consume(c),l):(e.exit("setextHeadingLineSequence"),nt(c)?ct(e,u,"lineSuffix")(c):u(c))}function u(c){return c===null||Fe(c)?(e.exit("setextHeadingLine"),t(c)):n(c)}}const k$={tokenize:_$};function _$(e){const t=this,n=e.attempt(Ld,r,e.attempt(this.parser.constructs.flowInitial,a,ct(e,e.attempt(this.parser.constructs.flow,a,e.attempt(R9,a)),"linePrefix")));return n;function r(i){if(i===null){e.consume(i);return}return e.enter("lineEndingBlank"),e.consume(i),e.exit("lineEndingBlank"),t.currentConstruct=void 0,n}function a(i){if(i===null){e.consume(i);return}return e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),t.currentConstruct=void 0,n}}const T$={resolveAll:D3()},C$=R3("string"),A$=R3("text");function R3(e){return{resolveAll:D3(e==="text"?I$:void 0),tokenize:t};function t(n){const r=this,a=this.parser.constructs[e],i=n.attempt(a,o,l);return o;function o(d){return c(d)?i(d):l(d)}function l(d){if(d===null){n.consume(d);return}return n.enter("data"),n.consume(d),u}function u(d){return c(d)?(n.exit("data"),i(d)):(n.consume(d),u)}function c(d){if(d===null)return!0;const p=a[d];let h=-1;if(p)for(;++h<p.length;){const f=p[h];if(!f.previous||f.previous.call(r,r.previous))return!0}return!1}}}function D3(e){return t;function t(n,r){let a=-1,i;for(;++a<=n.length;)i===void 0?n[a]&&n[a][1].type==="data"&&(i=a,a++):(!n[a]||n[a][1].type!=="data")&&(a!==i+2&&(n[i][1].end=n[a-1][1].end,n.splice(i+2,a-i-2),a=i+2),i=void 0);return e?e(n,r):n}}function I$(e,t){let n=0;for(;++n<=e.length;)if((n===e.length||e[n][1].type==="lineEnding")&&e[n-1][1].type==="data"){const r=e[n-1][1],a=t.sliceStream(r);let i=a.length,o=-1,l=0,u;for(;i--;){const c=a[i];if(typeof c=="string"){for(o=c.length;c.charCodeAt(o-1)===32;)l++,o--;if(o)break;o=-1}else if(c===-2)u=!0,l++;else if(c!==-1){i++;break}}if(l){const c={type:n===e.length||u||l<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:i?o:r.start._bufferIndex+o,_index:r.start._index+i,line:r.end.line,column:r.end.column-l,offset:r.end.offset-l},end:{...r.end}};r.end={...c.start},r.start.offset===r.end.offset?Object.assign(r,c):(e.splice(n,0,["enter",c,t],["exit",c,t]),n+=2)}n++}return e}const R$={42:sr,43:sr,45:sr,48:sr,49:sr,50:sr,51:sr,52:sr,53:sr,54:sr,55:sr,56:sr,57:sr,62:N3},D$={91:M9},O$={[-2]:Sg,[-1]:Sg,32:Sg},L$={35:H9,42:ah,45:[cT,ah],60:V9,61:cT,95:ah,96:lT,126:lT},j$={38:_3,92:k3},M$={[-5]:Ng,[-4]:Ng,[-3]:Ng,33:c$,38:_3,42:Tb,60:[p9,J9],91:p$,92:[U9,k3],93:zx,95:Tb,96:k9},F$={null:[Tb,T$]},P$={null:[42,95]},B$={null:[]},U$=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:P$,contentInitial:D$,disable:B$,document:R$,flow:L$,flowInitial:O$,insideSpan:F$,string:j$,text:M$},Symbol.toStringTag,{value:"Module"}));function $$(e,t,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const a={},i=[];let o=[],l=[];const u={attempt:A(S),check:A(T),consume:x,enter:w,exit:k,interrupt:A(T,{interrupt:!0})},c={code:null,containerState:{},defineSkip:v,events:[],now:m,parser:e,previous:null,sliceSerialize:h,sliceStream:f,write:p};let d=t.tokenize.call(c,u);return t.resolveAll&&i.push(t),c;function p(O){return o=Pn(o,O),y(),o[o.length-1]!==null?[]:(I(t,0),c.events=Zf(i,c.events,c),c.events)}function h(O,D){return z$(f(O),D)}function f(O){return H$(o,O)}function m(){const{_bufferIndex:O,_index:D,line:B,column:j,offset:P}=r;return{_bufferIndex:O,_index:D,line:B,column:j,offset:P}}function v(O){a[O.line]=O.column,N()}function y(){let O;for(;r._index<o.length;){const D=o[r._index];if(typeof D=="string")for(O=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===O&&r._bufferIndex<D.length;)g(D.charCodeAt(r._bufferIndex));else g(D)}}function g(O){d=d(O)}function x(O){Fe(O)?(r.line++,r.column=1,r.offset+=O===-3?2:1,N()):O!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===o[r._index].length&&(r._bufferIndex=-1,r._index++)),c.previous=O}function w(O,D){const B=D||{};return B.type=O,B.start=m(),c.events.push(["enter",B,c]),l.push(B),B}function k(O){const D=l.pop();return D.end=m(),c.events.push(["exit",D,c]),D}function S(O,D){I(O,D.from)}function T(O,D){D.restore()}function A(O,D){return B;function B(j,P,Y){let K,$,z,_;return Array.isArray(j)?X(j):"tokenize"in j?X([j]):U(j);function U(Q){return q;function q(ee){const ve=ee!==null&&Q[ee],Ie=ee!==null&&Q.null,te=[...Array.isArray(ve)?ve:ve?[ve]:[],...Array.isArray(Ie)?Ie:Ie?[Ie]:[]];return X(te)(ee)}}function X(Q){return K=Q,$=0,Q.length===0?Y:L(Q[$])}function L(Q){return q;function q(ee){return _=C(),z=Q,Q.partial||(c.currentConstruct=Q),Q.name&&c.parser.constructs.disable.null.includes(Q.name)?W():Q.tokenize.call(D?Object.assign(Object.create(c),D):c,u,ie,W)(ee)}}function ie(Q){return O(z,_),P}function W(Q){return _.restore(),++$<K.length?L(K[$]):Y}}}function I(O,D){O.resolveAll&&!i.includes(O)&&i.push(O),O.resolve&&Ir(c.events,D,c.events.length-D,O.resolve(c.events.slice(D),c)),O.resolveTo&&(c.events=O.resolveTo(c.events,c))}function C(){const O=m(),D=c.previous,B=c.currentConstruct,j=c.events.length,P=Array.from(l);return{from:j,restore:Y};function Y(){r=O,c.previous=D,c.currentConstruct=B,c.events.length=j,l=P,N()}}function N(){r.line in a&&r.column<2&&(r.column=a[r.line],r.offset+=a[r.line]-1)}}function H$(e,t){const n=t.start._index,r=t.start._bufferIndex,a=t.end._index,i=t.end._bufferIndex;let o;if(n===a)o=[e[n].slice(r,i)];else{if(o=e.slice(n,a),r>-1){const l=o[0];typeof l=="string"?o[0]=l.slice(r):o.shift()}i>0&&o.push(e[a].slice(0,i))}return o}function z$(e,t){let n=-1;const r=[];let a;for(;++n<e.length;){const i=e[n];let o;if(typeof i=="string")o=i;else switch(i){case-5:{o="\r";break}case-4:{o=`
`;break}case-3:{o=`\r
`;break}case-2:{o=t?" ":"	";break}case-1:{if(!t&&a)continue;o=" ";break}default:o=String.fromCharCode(i)}a=i===-2,r.push(o)}return r.join("")}function O3(e){const r={constructs:E3([U$,...(e||{}).extensions||[]]),content:a(s9),defined:[],document:a(o9),flow:a(k$),lazy:{},string:a(C$),text:a(A$)};return r;function a(i){return o;function o(l){return $$(r,i,l)}}}function L3(e){for(;!T3(e););return e}const dT=/[\0\t\n\r]/g;function j3(){let e=1,t="",n=!0,r;return a;function a(i,o,l){const u=[];let c,d,p,h,f;for(i=t+(typeof i=="string"?i.toString():new TextDecoder(o||void 0).decode(i)),p=0,t="",n&&(i.charCodeAt(0)===65279&&p++,n=void 0);p<i.length;){if(dT.lastIndex=p,c=dT.exec(i),h=c&&c.index!==void 0?c.index:i.length,f=i.charCodeAt(h),!c){t=i.slice(p);break}if(f===10&&p===h&&r)u.push(-3),r=void 0;else switch(r&&(u.push(-5),r=void 0),p<h&&(u.push(i.slice(p,h)),e+=h-p),f){case 0:{u.push(65533),e++;break}case 9:{for(d=Math.ceil(e/4)*4,u.push(-2);e++<d;)u.push(-1);break}case 10:{u.push(-4),e=1;break}default:r=!0,e=1}p=h+1}return l&&(r&&u.push(-5),t&&u.push(t),u.push(null)),u}}function G$(e,t,n){return typeof t!="string"&&(n=t,t=void 0),a9(n)(L3(O3(n).document().write(j3()(e,t,!0))))}const q$=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function V$(e){return e.replace(q$,W$)}function W$(e,t,n){if(t)return t;if(n.charCodeAt(0)===35){const a=n.charCodeAt(1),i=a===120||a===88;return Hx(n.slice(i?2:1),i?16:10)}return zl(n)||e}const M3={}.hasOwnProperty;function Y$(e,t,n){return typeof t!="string"&&(n=t,t=void 0),K$(n)(L3(O3(n).document().write(j3()(e,t,!0))))}function K$(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:i(xt),autolinkProtocol:C,autolinkEmail:C,atxHeading:i(dt),blockQuote:i(Ie),characterEscape:C,characterReference:C,codeFenced:i(te),codeFencedFenceInfo:o,codeFencedFenceMeta:o,codeIndented:i(te,o),codeText:i(oe,o),codeTextData:C,data:C,codeFlowValue:C,definition:i(ge),definitionDestinationString:o,definitionLabelString:o,definitionTitleString:o,emphasis:i(pe),hardBreakEscape:i(qe),hardBreakTrailing:i(qe),htmlFlow:i(_e,o),htmlFlowData:C,htmlText:i(_e,o),htmlTextData:C,image:i($e),label:o,link:i(xt),listItem:i(Dn),listItemValue:h,listOrdered:i(gt,p),listUnordered:i(gt),paragraph:i(lt),reference:L,referenceString:o,resourceDestinationString:o,resourceTitleString:o,setextHeading:i(dt),strong:i(Fr),thematicBreak:i(Et)},exit:{atxHeading:u(),atxHeadingSequence:S,autolink:u(),autolinkEmail:ve,autolinkProtocol:ee,blockQuote:u(),characterEscapeValue:N,characterReferenceMarkerHexadecimal:W,characterReferenceMarkerNumeric:W,characterReferenceValue:Q,characterReference:q,codeFenced:u(y),codeFencedFence:v,codeFencedFenceInfo:f,codeFencedFenceMeta:m,codeFlowValue:N,codeIndented:u(g),codeText:u(P),codeTextData:N,data:N,definition:u(),definitionDestinationString:k,definitionLabelString:x,definitionTitleString:w,emphasis:u(),hardBreakEscape:u(D),hardBreakTrailing:u(D),htmlFlow:u(B),htmlFlowData:N,htmlText:u(j),htmlTextData:N,image:u(K),label:z,labelText:$,lineEnding:O,link:u(Y),listItem:u(),listOrdered:u(),listUnordered:u(),paragraph:u(),referenceString:ie,resourceDestinationString:_,resourceTitleString:U,resource:X,setextHeading:u(I),setextHeadingLineSequence:A,setextHeadingText:T,strong:u(),thematicBreak:u()}};F3(t,(e||{}).mdastExtensions||[]);const n={};return r;function r(ae){let Z={type:"root",children:[]};const ue={stack:[Z],tokenStack:[],config:t,enter:l,exit:c,buffer:o,resume:d,data:n},Se=[];let Le=-1;for(;++Le<ae.length;)if(ae[Le][1].type==="listOrdered"||ae[Le][1].type==="listUnordered")if(ae[Le][0]==="enter")Se.push(Le);else{const ft=Se.pop();Le=a(ae,ft,Le)}for(Le=-1;++Le<ae.length;){const ft=t[ae[Le][0]];M3.call(ft,ae[Le][1].type)&&ft[ae[Le][1].type].call(Object.assign({sliceSerialize:ae[Le][2].sliceSerialize},ue),ae[Le][1])}if(ue.tokenStack.length>0){const ft=ue.tokenStack[ue.tokenStack.length-1];(ft[1]||pT).call(ue,void 0,ft[0])}for(Z.position={start:vs(ae.length>0?ae[0][1].start:{line:1,column:1,offset:0}),end:vs(ae.length>0?ae[ae.length-2][1].end:{line:1,column:1,offset:0})},Le=-1;++Le<t.transforms.length;)Z=t.transforms[Le](Z)||Z;return Z}function a(ae,Z,ue){let Se=Z-1,Le=-1,ft=!1,it,vt,Wt,de;for(;++Se<=ue;){const Ne=ae[Se];switch(Ne[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{Ne[0]==="enter"?Le++:Le--,de=void 0;break}case"lineEndingBlank":{Ne[0]==="enter"&&(it&&!de&&!Le&&!Wt&&(Wt=Se),de=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:de=void 0}if(!Le&&Ne[0]==="enter"&&Ne[1].type==="listItemPrefix"||Le===-1&&Ne[0]==="exit"&&(Ne[1].type==="listUnordered"||Ne[1].type==="listOrdered")){if(it){let Qe=Se;for(vt=void 0;Qe--;){const Me=ae[Qe];if(Me[1].type==="lineEnding"||Me[1].type==="lineEndingBlank"){if(Me[0]==="exit")continue;vt&&(ae[vt][1].type="lineEndingBlank",ft=!0),Me[1].type="lineEnding",vt=Qe}else if(!(Me[1].type==="linePrefix"||Me[1].type==="blockQuotePrefix"||Me[1].type==="blockQuotePrefixWhitespace"||Me[1].type==="blockQuoteMarker"||Me[1].type==="listItemIndent"))break}Wt&&(!vt||Wt<vt)&&(it._spread=!0),it.end=Object.assign({},vt?ae[vt][1].start:Ne[1].end),ae.splice(vt||Se,0,["exit",it,Ne[2]]),Se++,ue++}if(Ne[1].type==="listItemPrefix"){const Qe={type:"listItem",_spread:!1,start:Object.assign({},Ne[1].start),end:void 0};it=Qe,ae.splice(Se,0,["enter",Qe,Ne[2]]),Se++,ue++,Wt=void 0,de=!0}}}return ae[Z][1]._spread=ft,ue}function i(ae,Z){return ue;function ue(Se){l.call(this,ae(Se),Se),Z&&Z.call(this,Se)}}function o(){this.stack.push({type:"fragment",children:[]})}function l(ae,Z,ue){this.stack[this.stack.length-1].children.push(ae),this.stack.push(ae),this.tokenStack.push([Z,ue||void 0]),ae.position={start:vs(Z.start),end:void 0}}function u(ae){return Z;function Z(ue){ae&&ae.call(this,ue),c.call(this,ue)}}function c(ae,Z){const ue=this.stack.pop(),Se=this.tokenStack.pop();if(Se)Se[0].type!==ae.type&&(Z?Z.call(this,ae,Se[0]):(Se[1]||pT).call(this,ae,Se[0]));else throw new Error("Cannot close `"+ae.type+"` ("+fc({start:ae.start,end:ae.end})+"): its not open");ue.position.end=vs(ae.end)}function d(){return $x(this.stack.pop())}function p(){this.data.expectingFirstListItemValue=!0}function h(ae){if(this.data.expectingFirstListItemValue){const Z=this.stack[this.stack.length-2];Z.start=Number.parseInt(this.sliceSerialize(ae),10),this.data.expectingFirstListItemValue=void 0}}function f(){const ae=this.resume(),Z=this.stack[this.stack.length-1];Z.lang=ae}function m(){const ae=this.resume(),Z=this.stack[this.stack.length-1];Z.meta=ae}function v(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function y(){const ae=this.resume(),Z=this.stack[this.stack.length-1];Z.value=ae.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function g(){const ae=this.resume(),Z=this.stack[this.stack.length-1];Z.value=ae.replace(/(\r?\n|\r)$/g,"")}function x(ae){const Z=this.resume(),ue=this.stack[this.stack.length-1];ue.label=Z,ue.identifier=Xn(this.sliceSerialize(ae)).toLowerCase()}function w(){const ae=this.resume(),Z=this.stack[this.stack.length-1];Z.title=ae}function k(){const ae=this.resume(),Z=this.stack[this.stack.length-1];Z.url=ae}function S(ae){const Z=this.stack[this.stack.length-1];if(!Z.depth){const ue=this.sliceSerialize(ae).length;Z.depth=ue}}function T(){this.data.setextHeadingSlurpLineEnding=!0}function A(ae){const Z=this.stack[this.stack.length-1];Z.depth=this.sliceSerialize(ae).codePointAt(0)===61?1:2}function I(){this.data.setextHeadingSlurpLineEnding=void 0}function C(ae){const ue=this.stack[this.stack.length-1].children;let Se=ue[ue.length-1];(!Se||Se.type!=="text")&&(Se=On(),Se.position={start:vs(ae.start),end:void 0},ue.push(Se)),this.stack.push(Se)}function N(ae){const Z=this.stack.pop();Z.value+=this.sliceSerialize(ae),Z.position.end=vs(ae.end)}function O(ae){const Z=this.stack[this.stack.length-1];if(this.data.atHardBreak){const ue=Z.children[Z.children.length-1];ue.position.end=vs(ae.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(Z.type)&&(C.call(this,ae),N.call(this,ae))}function D(){this.data.atHardBreak=!0}function B(){const ae=this.resume(),Z=this.stack[this.stack.length-1];Z.value=ae}function j(){const ae=this.resume(),Z=this.stack[this.stack.length-1];Z.value=ae}function P(){const ae=this.resume(),Z=this.stack[this.stack.length-1];Z.value=ae}function Y(){const ae=this.stack[this.stack.length-1];if(this.data.inReference){const Z=this.data.referenceType||"shortcut";ae.type+="Reference",ae.referenceType=Z,delete ae.url,delete ae.title}else delete ae.identifier,delete ae.label;this.data.referenceType=void 0}function K(){const ae=this.stack[this.stack.length-1];if(this.data.inReference){const Z=this.data.referenceType||"shortcut";ae.type+="Reference",ae.referenceType=Z,delete ae.url,delete ae.title}else delete ae.identifier,delete ae.label;this.data.referenceType=void 0}function $(ae){const Z=this.sliceSerialize(ae),ue=this.stack[this.stack.length-2];ue.label=V$(Z),ue.identifier=Xn(Z).toLowerCase()}function z(){const ae=this.stack[this.stack.length-1],Z=this.resume(),ue=this.stack[this.stack.length-1];if(this.data.inReference=!0,ue.type==="link"){const Se=ae.children;ue.children=Se}else ue.alt=Z}function _(){const ae=this.resume(),Z=this.stack[this.stack.length-1];Z.url=ae}function U(){const ae=this.resume(),Z=this.stack[this.stack.length-1];Z.title=ae}function X(){this.data.inReference=void 0}function L(){this.data.referenceType="collapsed"}function ie(ae){const Z=this.resume(),ue=this.stack[this.stack.length-1];ue.label=Z,ue.identifier=Xn(this.sliceSerialize(ae)).toLowerCase(),this.data.referenceType="full"}function W(ae){this.data.characterReferenceType=ae.type}function Q(ae){const Z=this.sliceSerialize(ae),ue=this.data.characterReferenceType;let Se;ue?(Se=Hx(Z,ue==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):Se=zl(Z);const Le=this.stack[this.stack.length-1];Le.value+=Se}function q(ae){const Z=this.stack.pop();Z.position.end=vs(ae.end)}function ee(ae){N.call(this,ae);const Z=this.stack[this.stack.length-1];Z.url=this.sliceSerialize(ae)}function ve(ae){N.call(this,ae);const Z=this.stack[this.stack.length-1];Z.url="mailto:"+this.sliceSerialize(ae)}function Ie(){return{type:"blockquote",children:[]}}function te(){return{type:"code",lang:null,meta:null,value:""}}function oe(){return{type:"inlineCode",value:""}}function ge(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function pe(){return{type:"emphasis",children:[]}}function dt(){return{type:"heading",depth:0,children:[]}}function qe(){return{type:"break"}}function _e(){return{type:"html",value:""}}function $e(){return{type:"image",title:null,url:"",alt:null}}function xt(){return{type:"link",title:null,url:"",children:[]}}function gt(ae){return{type:"list",ordered:ae.type==="listOrdered",start:null,spread:ae._spread,children:[]}}function Dn(ae){return{type:"listItem",spread:ae._spread,checked:null,children:[]}}function lt(){return{type:"paragraph",children:[]}}function Fr(){return{type:"strong",children:[]}}function On(){return{type:"text",value:""}}function Et(){return{type:"thematicBreak"}}}function vs(e){return{line:e.line,column:e.column,offset:e.offset}}function F3(e,t){let n=-1;for(;++n<t.length;){const r=t[n];Array.isArray(r)?F3(e,r):Z$(e,r)}}function Z$(e,t){let n;for(n in t)if(M3.call(t,n))switch(n){case"canContainEols":{const r=t[n];r&&e[n].push(...r);break}case"transforms":{const r=t[n];r&&e[n].push(...r);break}case"enter":case"exit":{const r=t[n];r&&Object.assign(e[n],r);break}}}function pT(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+fc({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+fc({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+fc({start:t.start,end:t.end})+") is still open")}function P3(e){const t=this;t.parser=n;function n(r){return Y$(r,{...t.data("settings"),...e,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})}}function X$(e,t){const n={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,n),e.applyData(t,n)}function Q$(e,t){const n={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,n),[e.applyData(t,n),{type:"text",value:`
`}]}function J$(e,t){const n=t.value?t.value+`
`:"",r={};t.lang&&(r.className=["language-"+t.lang]);let a={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return t.meta&&(a.data={meta:t.meta}),e.patch(t,a),a=e.applyData(t,a),a={type:"element",tagName:"pre",properties:{},children:[a]},e.patch(t,a),a}function eH(e,t){const n={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function tH(e,t){const n={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function nH(e,t){const n=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",r=String(t.identifier).toUpperCase(),a=yo(r.toLowerCase()),i=e.footnoteOrder.indexOf(r);let o,l=e.footnoteCounts.get(r);l===void 0?(l=0,e.footnoteOrder.push(r),o=e.footnoteOrder.length):o=i+1,l+=1,e.footnoteCounts.set(r,l);const u={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+a,id:n+"fnref-"+a+(l>1?"-"+l:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(o)}]};e.patch(t,u);const c={type:"element",tagName:"sup",properties:{},children:[u]};return e.patch(t,c),e.applyData(t,c)}function rH(e,t){const n={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function aH(e,t){if(e.options.allowDangerousHtml){const n={type:"raw",value:t.value};return e.patch(t,n),e.applyData(t,n)}}function B3(e,t){const n=t.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(t.label||t.identifier)+"]"),t.type==="imageReference")return[{type:"text",value:"!["+t.alt+r}];const a=e.all(t),i=a[0];i&&i.type==="text"?i.value="["+i.value:a.unshift({type:"text",value:"["});const o=a[a.length-1];return o&&o.type==="text"?o.value+=r:a.push({type:"text",value:r}),a}function sH(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return B3(e,t);const a={src:yo(r.url||""),alt:t.alt};r.title!==null&&r.title!==void 0&&(a.title=r.title);const i={type:"element",tagName:"img",properties:a,children:[]};return e.patch(t,i),e.applyData(t,i)}function iH(e,t){const n={src:yo(t.url)};t.alt!==null&&t.alt!==void 0&&(n.alt=t.alt),t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"img",properties:n,children:[]};return e.patch(t,r),e.applyData(t,r)}function oH(e,t){const n={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return e.patch(t,r),e.applyData(t,r)}function lH(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return B3(e,t);const a={href:yo(r.url||"")};r.title!==null&&r.title!==void 0&&(a.title=r.title);const i={type:"element",tagName:"a",properties:a,children:e.all(t)};return e.patch(t,i),e.applyData(t,i)}function uH(e,t){const n={href:yo(t.url)};t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"a",properties:n,children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function cH(e,t,n){const r=e.all(t),a=n?dH(n):U3(t),i={},o=[];if(typeof t.checked=="boolean"){const d=r[0];let p;d&&d.type==="element"&&d.tagName==="p"?p=d:(p={type:"element",tagName:"p",properties:{},children:[]},r.unshift(p)),p.children.length>0&&p.children.unshift({type:"text",value:" "}),p.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),i.className=["task-list-item"]}let l=-1;for(;++l<r.length;){const d=r[l];(a||l!==0||d.type!=="element"||d.tagName!=="p")&&o.push({type:"text",value:`
`}),d.type==="element"&&d.tagName==="p"&&!a?o.push(...d.children):o.push(d)}const u=r[r.length-1];u&&(a||u.type!=="element"||u.tagName!=="p")&&o.push({type:"text",value:`
`});const c={type:"element",tagName:"li",properties:i,children:o};return e.patch(t,c),e.applyData(t,c)}function dH(e){let t=!1;if(e.type==="list"){t=e.spread||!1;const n=e.children;let r=-1;for(;!t&&++r<n.length;)t=U3(n[r])}return t}function U3(e){const t=e.spread;return t??e.children.length>1}function pH(e,t){const n={},r=e.all(t);let a=-1;for(typeof t.start=="number"&&t.start!==1&&(n.start=t.start);++a<r.length;){const o=r[a];if(o.type==="element"&&o.tagName==="li"&&o.properties&&Array.isArray(o.properties.className)&&o.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const i={type:"element",tagName:t.ordered?"ol":"ul",properties:n,children:e.wrap(r,!0)};return e.patch(t,i),e.applyData(t,i)}function hH(e,t){const n={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function fH(e,t){const n={type:"root",children:e.wrap(e.all(t))};return e.patch(t,n),e.applyData(t,n)}function mH(e,t){const n={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function gH(e,t){const n=e.all(t),r=n.shift(),a=[];if(r){const o={type:"element",tagName:"thead",properties:{},children:e.wrap([r],!0)};e.patch(t.children[0],o),a.push(o)}if(n.length>0){const o={type:"element",tagName:"tbody",properties:{},children:e.wrap(n,!0)},l=Fa(t.children[1]),u=Yf(t.children[t.children.length-1]);l&&u&&(o.position={start:l,end:u}),a.push(o)}const i={type:"element",tagName:"table",properties:{},children:e.wrap(a,!0)};return e.patch(t,i),e.applyData(t,i)}function bH(e,t,n){const r=n?n.children:void 0,i=(r?r.indexOf(t):1)===0?"th":"td",o=n&&n.type==="table"?n.align:void 0,l=o?o.length:t.children.length;let u=-1;const c=[];for(;++u<l;){const p=t.children[u],h={},f=o?o[u]:void 0;f&&(h.align=f);let m={type:"element",tagName:i,properties:h,children:[]};p&&(m.children=e.all(p),e.patch(p,m),m=e.applyData(p,m)),c.push(m)}const d={type:"element",tagName:"tr",properties:{},children:e.wrap(c,!0)};return e.patch(t,d),e.applyData(t,d)}function yH(e,t){const n={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}const hT=9,fT=32;function xH(e){const t=String(e),n=/\r?\n|\r/g;let r=n.exec(t),a=0;const i=[];for(;r;)i.push(mT(t.slice(a,r.index),a>0,!0),r[0]),a=r.index+r[0].length,r=n.exec(t);return i.push(mT(t.slice(a),a>0,!1)),i.join("")}function mT(e,t,n){let r=0,a=e.length;if(t){let i=e.codePointAt(r);for(;i===hT||i===fT;)r++,i=e.codePointAt(r)}if(n){let i=e.codePointAt(a-1);for(;i===hT||i===fT;)a--,i=e.codePointAt(a-1)}return a>r?e.slice(r,a):""}function vH(e,t){const n={type:"text",value:xH(String(t.value))};return e.patch(t,n),e.applyData(t,n)}function EH(e,t){const n={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,n),e.applyData(t,n)}const wH={blockquote:X$,break:Q$,code:J$,delete:eH,emphasis:tH,footnoteReference:nH,heading:rH,html:aH,imageReference:sH,image:iH,inlineCode:oH,linkReference:lH,link:uH,listItem:cH,list:pH,paragraph:hH,root:fH,strong:mH,table:gH,tableCell:yH,tableRow:bH,text:vH,thematicBreak:EH,toml:Rp,yaml:Rp,definition:Rp,footnoteDefinition:Rp};function Rp(){}const $3=-1,Xf=0,gc=1,Vh=2,Gx=3,qx=4,Vx=5,Wx=6,H3=7,z3=8,gT=typeof self=="object"?self:globalThis,SH=(e,t)=>{const n=(a,i)=>(e.set(i,a),a),r=a=>{if(e.has(a))return e.get(a);const[i,o]=t[a];switch(i){case Xf:case $3:return n(o,a);case gc:{const l=n([],a);for(const u of o)l.push(r(u));return l}case Vh:{const l=n({},a);for(const[u,c]of o)l[r(u)]=r(c);return l}case Gx:return n(new Date(o),a);case qx:{const{source:l,flags:u}=o;return n(new RegExp(l,u),a)}case Vx:{const l=n(new Map,a);for(const[u,c]of o)l.set(r(u),r(c));return l}case Wx:{const l=n(new Set,a);for(const u of o)l.add(r(u));return l}case H3:{const{name:l,message:u}=o;return n(new gT[l](u),a)}case z3:return n(BigInt(o),a);case"BigInt":return n(Object(BigInt(o)),a);case"ArrayBuffer":return n(new Uint8Array(o).buffer,o);case"DataView":{const{buffer:l}=new Uint8Array(o);return n(new DataView(l),o)}}return n(new gT[i](o),a)};return r},bT=e=>SH(new Map,e)(0),Mo="",{toString:NH}={},{keys:kH}=Object,Pu=e=>{const t=typeof e;if(t!=="object"||!e)return[Xf,t];const n=NH.call(e).slice(8,-1);switch(n){case"Array":return[gc,Mo];case"Object":return[Vh,Mo];case"Date":return[Gx,Mo];case"RegExp":return[qx,Mo];case"Map":return[Vx,Mo];case"Set":return[Wx,Mo];case"DataView":return[gc,n]}return n.includes("Array")?[gc,n]:n.includes("Error")?[H3,n]:[Vh,n]},Dp=([e,t])=>e===Xf&&(t==="function"||t==="symbol"),_H=(e,t,n,r)=>{const a=(o,l)=>{const u=r.push(o)-1;return n.set(l,u),u},i=o=>{if(n.has(o))return n.get(o);let[l,u]=Pu(o);switch(l){case Xf:{let d=o;switch(u){case"bigint":l=z3,d=o.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+u);d=null;break;case"undefined":return a([$3],o)}return a([l,d],o)}case gc:{if(u){let h=o;return u==="DataView"?h=new Uint8Array(o.buffer):u==="ArrayBuffer"&&(h=new Uint8Array(o)),a([u,[...h]],o)}const d=[],p=a([l,d],o);for(const h of o)d.push(i(h));return p}case Vh:{if(u)switch(u){case"BigInt":return a([u,o.toString()],o);case"Boolean":case"Number":case"String":return a([u,o.valueOf()],o)}if(t&&"toJSON"in o)return i(o.toJSON());const d=[],p=a([l,d],o);for(const h of kH(o))(e||!Dp(Pu(o[h])))&&d.push([i(h),i(o[h])]);return p}case Gx:return a([l,o.toISOString()],o);case qx:{const{source:d,flags:p}=o;return a([l,{source:d,flags:p}],o)}case Vx:{const d=[],p=a([l,d],o);for(const[h,f]of o)(e||!(Dp(Pu(h))||Dp(Pu(f))))&&d.push([i(h),i(f)]);return p}case Wx:{const d=[],p=a([l,d],o);for(const h of o)(e||!Dp(Pu(h)))&&d.push(i(h));return p}}const{message:c}=o;return a([l,{name:u,message:c}],o)};return i},yT=(e,{json:t,lossy:n}={})=>{const r=[];return _H(!(t||n),!!t,new Map,r)(e),r},oi=typeof structuredClone=="function"?(e,t)=>t&&("json"in t||"lossy"in t)?bT(yT(e,t)):structuredClone(e):(e,t)=>bT(yT(e,t));function TH(e,t){const n=[{type:"text",value:""}];return t>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),n}function CH(e,t){return"Back to reference "+(e+1)+(t>1?"-"+t:"")}function AH(e){const t=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",n=e.options.footnoteBackContent||TH,r=e.options.footnoteBackLabel||CH,a=e.options.footnoteLabel||"Footnotes",i=e.options.footnoteLabelTagName||"h2",o=e.options.footnoteLabelProperties||{className:["sr-only"]},l=[];let u=-1;for(;++u<e.footnoteOrder.length;){const c=e.footnoteById.get(e.footnoteOrder[u]);if(!c)continue;const d=e.all(c),p=String(c.identifier).toUpperCase(),h=yo(p.toLowerCase());let f=0;const m=[],v=e.footnoteCounts.get(p);for(;v!==void 0&&++f<=v;){m.length>0&&m.push({type:"text",value:" "});let x=typeof n=="string"?n:n(u,f);typeof x=="string"&&(x={type:"text",value:x}),m.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+h+(f>1?"-"+f:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(u,f),className:["data-footnote-backref"]},children:Array.isArray(x)?x:[x]})}const y=d[d.length-1];if(y&&y.type==="element"&&y.tagName==="p"){const x=y.children[y.children.length-1];x&&x.type==="text"?x.value+=" ":y.children.push({type:"text",value:" "}),y.children.push(...m)}else d.push(...m);const g={type:"element",tagName:"li",properties:{id:t+"fn-"+h},children:e.wrap(d,!0)};e.patch(c,g),l.push(g)}if(l.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:i,properties:{...oi(o),id:"footnote-label"},children:[{type:"text",value:a}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:e.wrap(l,!0)},{type:"text",value:`
`}]}}const jd=function(e){if(e==null)return OH;if(typeof e=="function")return Qf(e);if(typeof e=="object")return Array.isArray(e)?IH(e):RH(e);if(typeof e=="string")return DH(e);throw new Error("Expected function, string, or object as test")};function IH(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=jd(e[n]);return Qf(r);function r(...a){let i=-1;for(;++i<t.length;)if(t[i].apply(this,a))return!0;return!1}}function RH(e){const t=e;return Qf(n);function n(r){const a=r;let i;for(i in e)if(a[i]!==t[i])return!1;return!0}}function DH(e){return Qf(t);function t(n){return n&&n.type===e}}function Qf(e){return t;function t(n,r,a){return!!(LH(n)&&e.call(this,n,typeof r=="number"?r:void 0,a||void 0))}}function OH(){return!0}function LH(e){return e!==null&&typeof e=="object"&&"type"in e}const G3=[],jH=!0,Wh=!1,bc="skip";function q3(e,t,n,r){let a;typeof t=="function"&&typeof n!="function"?(r=n,n=t):a=t;const i=jd(a),o=r?-1:1;l(e,void 0,[])();function l(u,c,d){const p=u&&typeof u=="object"?u:{};if(typeof p.type=="string"){const f=typeof p.tagName=="string"?p.tagName:typeof p.name=="string"?p.name:void 0;Object.defineProperty(h,"name",{value:"node ("+(u.type+(f?"<"+f+">":""))+")"})}return h;function h(){let f=G3,m,v,y;if((!t||i(u,c,d[d.length-1]||void 0))&&(f=MH(n(u,d)),f[0]===Wh))return f;if("children"in u&&u.children){const g=u;if(g.children&&f[0]!==bc)for(v=(r?g.children.length:-1)+o,y=d.concat(g);v>-1&&v<g.children.length;){const x=g.children[v];if(m=l(x,v,y)(),m[0]===Wh)return m;v=typeof m[1]=="number"?m[1]:v+o}}return f}}}function MH(e){return Array.isArray(e)?e:typeof e=="number"?[jH,e]:e==null?G3:[e]}function En(e,t,n,r){let a,i,o;typeof t=="function"&&typeof n!="function"?(i=void 0,o=t,a=n):(i=t,o=n,a=r),q3(e,i,l,a);function l(u,c){const d=c[c.length-1],p=d?d.children.indexOf(u):void 0;return o(u,p,d)}}const Cb={}.hasOwnProperty,FH={};function PH(e,t){const n=t||FH,r=new Map,a=new Map,i=new Map,o={...wH,...n.handlers},l={all:c,applyData:UH,definitionById:r,footnoteById:a,footnoteCounts:i,footnoteOrder:[],handlers:o,one:u,options:n,patch:BH,wrap:HH};return En(e,function(d){if(d.type==="definition"||d.type==="footnoteDefinition"){const p=d.type==="definition"?r:a,h=String(d.identifier).toUpperCase();p.has(h)||p.set(h,d)}}),l;function u(d,p){const h=d.type,f=l.handlers[h];if(Cb.call(l.handlers,h)&&f)return f(l,d,p);if(l.options.passThrough&&l.options.passThrough.includes(h)){if("children"in d){const{children:v,...y}=d,g=oi(y);return g.children=l.all(d),g}return oi(d)}return(l.options.unknownHandler||$H)(l,d,p)}function c(d){const p=[];if("children"in d){const h=d.children;let f=-1;for(;++f<h.length;){const m=l.one(h[f],d);if(m){if(f&&h[f-1].type==="break"&&(!Array.isArray(m)&&m.type==="text"&&(m.value=xT(m.value)),!Array.isArray(m)&&m.type==="element")){const v=m.children[0];v&&v.type==="text"&&(v.value=xT(v.value))}Array.isArray(m)?p.push(...m):p.push(m)}}}return p}}function BH(e,t){e.position&&(t.position=f3(e))}function UH(e,t){let n=t;if(e&&e.data){const r=e.data.hName,a=e.data.hChildren,i=e.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const o="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:o}}n.type==="element"&&i&&Object.assign(n.properties,oi(i)),"children"in n&&n.children&&a!==null&&a!==void 0&&(n.children=a)}return n}function $H(e,t){const n=t.data||{},r="value"in t&&!(Cb.call(n,"hProperties")||Cb.call(n,"hChildren"))?{type:"text",value:t.value}:{type:"element",tagName:"div",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function HH(e,t){const n=[];let r=-1;for(t&&n.push({type:"text",value:`
`});++r<e.length;)r&&n.push({type:"text",value:`
`}),n.push(e[r]);return t&&e.length>0&&n.push({type:"text",value:`
`}),n}function xT(e){let t=0,n=e.charCodeAt(t);for(;n===9||n===32;)t++,n=e.charCodeAt(t);return e.slice(t)}function vT(e,t){const n=PH(e,t),r=n.one(e,void 0),a=AH(n),i=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return a&&i.children.push({type:"text",value:`
`},a),i}function V3(e,t){return e&&"run"in e?async function(n,r){const a=vT(n,{file:r,...t});await e.run(a,r)}:function(n,r){return vT(n,{file:r,...e||t})}}function ET(e){if(e)throw e}var sh=Object.prototype.hasOwnProperty,W3=Object.prototype.toString,wT=Object.defineProperty,ST=Object.getOwnPropertyDescriptor,NT=function(t){return typeof Array.isArray=="function"?Array.isArray(t):W3.call(t)==="[object Array]"},kT=function(t){if(!t||W3.call(t)!=="[object Object]")return!1;var n=sh.call(t,"constructor"),r=t.constructor&&t.constructor.prototype&&sh.call(t.constructor.prototype,"isPrototypeOf");if(t.constructor&&!n&&!r)return!1;var a;for(a in t);return typeof a>"u"||sh.call(t,a)},_T=function(t,n){wT&&n.name==="__proto__"?wT(t,n.name,{enumerable:!0,configurable:!0,value:n.newValue,writable:!0}):t[n.name]=n.newValue},TT=function(t,n){if(n==="__proto__")if(sh.call(t,n)){if(ST)return ST(t,n).value}else return;return t[n]},zH=function e(){var t,n,r,a,i,o,l=arguments[0],u=1,c=arguments.length,d=!1;for(typeof l=="boolean"&&(d=l,l=arguments[1]||{},u=2),(l==null||typeof l!="object"&&typeof l!="function")&&(l={});u<c;++u)if(t=arguments[u],t!=null)for(n in t)r=TT(l,n),a=TT(t,n),l!==a&&(d&&a&&(kT(a)||(i=NT(a)))?(i?(i=!1,o=r&&NT(r)?r:[]):o=r&&kT(r)?r:{},_T(l,{name:n,newValue:e(d,o,a)})):typeof a<"u"&&_T(l,{name:n,newValue:a}));return l};const kg=Xl(zH);function Ab(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function GH(){const e=[],t={run:n,use:r};return t;function n(...a){let i=-1;const o=a.pop();if(typeof o!="function")throw new TypeError("Expected function as last argument, not "+o);l(null,...a);function l(u,...c){const d=e[++i];let p=-1;if(u){o(u);return}for(;++p<a.length;)(c[p]===null||c[p]===void 0)&&(c[p]=a[p]);a=c,d?qH(d,l)(...c):o(null,...c)}}function r(a){if(typeof a!="function")throw new TypeError("Expected `middelware` to be a function, not "+a);return e.push(a),t}}function qH(e,t){let n;return r;function r(...o){const l=e.length>o.length;let u;l&&o.push(a);try{u=e.apply(this,o)}catch(c){const d=c;if(l&&n)throw d;return a(d)}l||(u&&u.then&&typeof u.then=="function"?u.then(i,a):u instanceof Error?a(u):i(u))}function a(o,...l){n||(n=!0,t(o,...l))}function i(o){a(null,o)}}const ba={basename:VH,dirname:WH,extname:YH,join:KH,sep:"/"};function VH(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');Md(e);let n=0,r=-1,a=e.length,i;if(t===void 0||t.length===0||t.length>e.length){for(;a--;)if(e.codePointAt(a)===47){if(i){n=a+1;break}}else r<0&&(i=!0,r=a+1);return r<0?"":e.slice(n,r)}if(t===e)return"";let o=-1,l=t.length-1;for(;a--;)if(e.codePointAt(a)===47){if(i){n=a+1;break}}else o<0&&(i=!0,o=a+1),l>-1&&(e.codePointAt(a)===t.codePointAt(l--)?l<0&&(r=a):(l=-1,r=o));return n===r?r=o:r<0&&(r=e.length),e.slice(n,r)}function WH(e){if(Md(e),e.length===0)return".";let t=-1,n=e.length,r;for(;--n;)if(e.codePointAt(n)===47){if(r){t=n;break}}else r||(r=!0);return t<0?e.codePointAt(0)===47?"/":".":t===1&&e.codePointAt(0)===47?"//":e.slice(0,t)}function YH(e){Md(e);let t=e.length,n=-1,r=0,a=-1,i=0,o;for(;t--;){const l=e.codePointAt(t);if(l===47){if(o){r=t+1;break}continue}n<0&&(o=!0,n=t+1),l===46?a<0?a=t:i!==1&&(i=1):a>-1&&(i=-1)}return a<0||n<0||i===0||i===1&&a===n-1&&a===r+1?"":e.slice(a,n)}function KH(...e){let t=-1,n;for(;++t<e.length;)Md(e[t]),e[t]&&(n=n===void 0?e[t]:n+"/"+e[t]);return n===void 0?".":ZH(n)}function ZH(e){Md(e);const t=e.codePointAt(0)===47;let n=XH(e,!t);return n.length===0&&!t&&(n="."),n.length>0&&e.codePointAt(e.length-1)===47&&(n+="/"),t?"/"+n:n}function XH(e,t){let n="",r=0,a=-1,i=0,o=-1,l,u;for(;++o<=e.length;){if(o<e.length)l=e.codePointAt(o);else{if(l===47)break;l=47}if(l===47){if(!(a===o-1||i===1))if(a!==o-1&&i===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(u=n.lastIndexOf("/"),u!==n.length-1){u<0?(n="",r=0):(n=n.slice(0,u),r=n.length-1-n.lastIndexOf("/")),a=o,i=0;continue}}else if(n.length>0){n="",r=0,a=o,i=0;continue}}t&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+e.slice(a+1,o):n=e.slice(a+1,o),r=o-a-1;a=o,i=0}else l===46&&i>-1?i++:i=-1}return n}function Md(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const QH={cwd:JH};function JH(){return"/"}function Ib(e){return!!(e!==null&&typeof e=="object"&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&e.auth===void 0)}function ez(e){if(typeof e=="string")e=new URL(e);else if(!Ib(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return tz(e)}function tz(e){if(e.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const t=e.pathname;let n=-1;for(;++n<t.length;)if(t.codePointAt(n)===37&&t.codePointAt(n+1)===50){const r=t.codePointAt(n+2);if(r===70||r===102){const a=new TypeError("File URL path must not include encoded / characters");throw a.code="ERR_INVALID_FILE_URL_PATH",a}}return decodeURIComponent(t)}const _g=["history","path","basename","stem","extname","dirname"];class Qc{constructor(t){let n;t?Ib(t)?n={path:t}:typeof t=="string"||nz(t)?n={value:t}:n=t:n={},this.cwd="cwd"in n?"":QH.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<_g.length;){const i=_g[r];i in n&&n[i]!==void 0&&n[i]!==null&&(this[i]=i==="history"?[...n[i]]:n[i])}let a;for(a in n)_g.includes(a)||(this[a]=n[a])}get basename(){return typeof this.path=="string"?ba.basename(this.path):void 0}set basename(t){Cg(t,"basename"),Tg(t,"basename"),this.path=ba.join(this.dirname||"",t)}get dirname(){return typeof this.path=="string"?ba.dirname(this.path):void 0}set dirname(t){CT(this.basename,"dirname"),this.path=ba.join(t||"",this.basename)}get extname(){return typeof this.path=="string"?ba.extname(this.path):void 0}set extname(t){if(Tg(t,"extname"),CT(this.dirname,"extname"),t){if(t.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=ba.join(this.dirname,this.stem+(t||""))}get path(){return this.history[this.history.length-1]}set path(t){Ib(t)&&(t=ez(t)),Cg(t,"path"),this.path!==t&&this.history.push(t)}get stem(){return typeof this.path=="string"?ba.basename(this.path,this.extname):void 0}set stem(t){Cg(t,"stem"),Tg(t,"stem"),this.path=ba.join(this.dirname||"",t+(this.extname||""))}fail(t,n,r){const a=this.message(t,n,r);throw a.fatal=!0,a}info(t,n,r){const a=this.message(t,n,r);return a.fatal=void 0,a}message(t,n,r){const a=new An(t,n,r);return this.path&&(a.name=this.path+":"+a.name,a.file=this.path),a.fatal=!1,this.messages.push(a),a}toString(t){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(t||void 0).decode(this.value)}}function Tg(e,t){if(e&&e.includes(ba.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+ba.sep+"`")}function Cg(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function CT(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function nz(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const rz=function(e){const r=this.constructor.prototype,a=r[e],i=function(){return a.apply(i,arguments)};return Object.setPrototypeOf(i,r),i},az={}.hasOwnProperty;class Yx extends rz{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=GH()}copy(){const t=new Yx;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];t.use(...r)}return t.data(kg(!0,{},this.namespace)),t}data(t,n){return typeof t=="string"?arguments.length===2?(Rg("data",this.frozen),this.namespace[t]=n,this):az.call(this.namespace,t)&&this.namespace[t]||void 0:t?(Rg("data",this.frozen),this.namespace=t,this):this.namespace}freeze(){if(this.frozen)return this;const t=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const a=n.call(t,...r);typeof a=="function"&&this.transformers.use(a)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(t){this.freeze();const n=Op(t),r=this.parser||this.Parser;return Ag("parse",r),r(String(n),n)}process(t,n){const r=this;return this.freeze(),Ag("process",this.parser||this.Parser),Ig("process",this.compiler||this.Compiler),n?a(void 0,n):new Promise(a);function a(i,o){const l=Op(t),u=r.parse(l);r.run(u,l,function(d,p,h){if(d||!p||!h)return c(d);const f=p,m=r.stringify(f,h);iz(m)?h.value=m:h.result=m,c(d,h)});function c(d,p){d||!p?o(d):i?i(p):n(void 0,p)}}}processSync(t){let n=!1,r;return this.freeze(),Ag("processSync",this.parser||this.Parser),Ig("processSync",this.compiler||this.Compiler),this.process(t,a),IT("processSync","process",n),r;function a(i,o){n=!0,ET(i),r=o}}run(t,n,r){AT(t),this.freeze();const a=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?i(void 0,r):new Promise(i);function i(o,l){const u=Op(n);a.run(t,u,c);function c(d,p,h){const f=p||t;d?l(d):o?o(f):r(void 0,f,h)}}}runSync(t,n){let r=!1,a;return this.run(t,n,i),IT("runSync","run",r),a;function i(o,l){ET(o),a=l,r=!0}}stringify(t,n){this.freeze();const r=Op(n),a=this.compiler||this.Compiler;return Ig("stringify",a),AT(t),a(t,r)}use(t,...n){const r=this.attachers,a=this.namespace;if(Rg("use",this.frozen),t!=null)if(typeof t=="function")u(t,n);else if(typeof t=="object")Array.isArray(t)?l(t):o(t);else throw new TypeError("Expected usable value, not `"+t+"`");return this;function i(c){if(typeof c=="function")u(c,[]);else if(typeof c=="object")if(Array.isArray(c)){const[d,...p]=c;u(d,p)}else o(c);else throw new TypeError("Expected usable value, not `"+c+"`")}function o(c){if(!("plugins"in c)&&!("settings"in c))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");l(c.plugins),c.settings&&(a.settings=kg(!0,a.settings,c.settings))}function l(c){let d=-1;if(c!=null)if(Array.isArray(c))for(;++d<c.length;){const p=c[d];i(p)}else throw new TypeError("Expected a list of plugins, not `"+c+"`")}function u(c,d){let p=-1,h=-1;for(;++p<r.length;)if(r[p][0]===c){h=p;break}if(h===-1)r.push([c,...d]);else if(d.length>0){let[f,...m]=d;const v=r[h][1];Ab(v)&&Ab(f)&&(f=kg(!0,v,f)),r[h]=[c,f,...m]}}}}const Kx=new Yx().freeze();function Ag(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `parser`")}function Ig(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `compiler`")}function Rg(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function AT(e){if(!Ab(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function IT(e,t,n){if(!n)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function Op(e){return sz(e)?e:new Qc(e)}function sz(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function iz(e){return typeof e=="string"||oz(e)}function oz(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const lz="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",RT=[],DT={allowDangerousHtml:!0},uz=/^(https?|ircs?|mailto|xmpp)$/i,cz=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function hl(e){const t=dz(e),n=pz(e);return hz(t.runSync(t.parse(n),n),e)}function dz(e){const t=e.rehypePlugins||RT,n=e.remarkPlugins||RT,r=e.remarkRehypeOptions?{...e.remarkRehypeOptions,...DT}:DT;return Kx().use(P3).use(n).use(V3,r).use(t)}function pz(e){const t=e.children||"",n=new Qc;return typeof t=="string"&&(n.value=t),n}function hz(e,t){const n=t.allowedElements,r=t.allowElement,a=t.components,i=t.disallowedElements,o=t.skipHtml,l=t.unwrapDisallowed,u=t.urlTransform||fz;for(const d of cz)Object.hasOwn(t,d.from)&&(""+d.from+(d.to?"use `"+d.to+"` instead":"remove it")+lz+d.id,void 0);return t.className&&(e={type:"element",tagName:"div",properties:{className:t.className},children:e.type==="root"?e.children:[e]}),En(e,c),g3(e,{Fragment:s.Fragment,components:a,ignoreInvalidStyle:!0,jsx:s.jsx,jsxs:s.jsxs,passKeys:!0,passNode:!0});function c(d,p,h){if(d.type==="raw"&&h&&typeof p=="number")return o?h.children.splice(p,1):h.children[p]={type:"text",value:d.value},p;if(d.type==="element"){let f;for(f in pl)if(Object.hasOwn(pl,f)&&Object.hasOwn(d.properties,f)){const m=d.properties[f],v=pl[f];(v===null||v.includes(d.tagName))&&(d.properties[f]=u(String(m||""),f,d))}}if(d.type==="element"){let f=n?!n.includes(d.tagName):i?i.includes(d.tagName):!1;if(!f&&r&&typeof p=="number"&&(f=!r(d,p,h)),f&&h&&typeof p=="number")return l&&d.children?h.children.splice(p,1,...d.children):h.children.splice(p,1),p}}}function fz(e){const t=e.indexOf(":"),n=e.indexOf("?"),r=e.indexOf("#"),a=e.indexOf("/");return t===-1||a!==-1&&t>a||n!==-1&&t>n||r!==-1&&t>r||uz.test(e.slice(0,t))?e:""}function Yh(e,t){const n=String(e);if(typeof t!="string")throw new TypeError("Expected character");let r=0,a=n.indexOf(t);for(;a!==-1;)r++,a=n.indexOf(t,a+t.length);return r}function mz(e){if(typeof e!="string")throw new TypeError("Expected a string");return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function gz(e,t,n){const a=jd((n||{}).ignore||[]),i=bz(t);let o=-1;for(;++o<i.length;)q3(e,"text",l);function l(c,d){let p=-1,h;for(;++p<d.length;){const f=d[p],m=h?h.children:void 0;if(a(f,m?m.indexOf(f):void 0,h))return;h=f}if(h)return u(c,d)}function u(c,d){const p=d[d.length-1],h=i[o][0],f=i[o][1];let m=0;const y=p.children.indexOf(c);let g=!1,x=[];h.lastIndex=0;let w=h.exec(c.value);for(;w;){const k=w.index,S={index:w.index,input:w.input,stack:[...d,c]};let T=f(...w,S);if(typeof T=="string"&&(T=T.length>0?{type:"text",value:T}:void 0),T===!1?h.lastIndex=k+1:(m!==k&&x.push({type:"text",value:c.value.slice(m,k)}),Array.isArray(T)?x.push(...T):T&&x.push(T),m=k+w[0].length,g=!0),!h.global)break;w=h.exec(c.value)}return g?(m<c.value.length&&x.push({type:"text",value:c.value.slice(m)}),p.children.splice(y,1,...x)):x=[c],y+x.length}}function bz(e){const t=[];if(!Array.isArray(e))throw new TypeError("Expected find and replace tuple or list of tuples");const n=!e[0]||Array.isArray(e[0])?e:[e];let r=-1;for(;++r<n.length;){const a=n[r];t.push([yz(a[0]),xz(a[1])])}return t}function yz(e){return typeof e=="string"?new RegExp(mz(e),"g"):e}function xz(e){return typeof e=="function"?e:function(){return e}}const Dg="phrasing",Og=["autolink","link","image","label"];function vz(){return{transforms:[Tz],enter:{literalAutolink:wz,literalAutolinkEmail:Lg,literalAutolinkHttp:Lg,literalAutolinkWww:Lg},exit:{literalAutolink:_z,literalAutolinkEmail:kz,literalAutolinkHttp:Sz,literalAutolinkWww:Nz}}}function Ez(){return{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:Dg,notInConstruct:Og},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:Dg,notInConstruct:Og},{character:":",before:"[ps]",after:"\\/",inConstruct:Dg,notInConstruct:Og}]}}function wz(e){this.enter({type:"link",title:null,url:"",children:[]},e)}function Lg(e){this.config.enter.autolinkProtocol.call(this,e)}function Sz(e){this.config.exit.autolinkProtocol.call(this,e)}function Nz(e){this.config.exit.data.call(this,e);const t=this.stack[this.stack.length-1];t.type,t.url="http://"+this.sliceSerialize(e)}function kz(e){this.config.exit.autolinkEmail.call(this,e)}function _z(e){this.exit(e)}function Tz(e){gz(e,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,Cz],[new RegExp("(?<=^|\\s|\\p{P}|\\p{S})([-.\\w+]+)@([-\\w]+(?:\\.[-\\w]+)+)","gu"),Az]],{ignore:["link","linkReference"]})}function Cz(e,t,n,r,a){let i="";if(!Y3(a)||(/^w/i.test(t)&&(n=t+n,t="",i="http://"),!Iz(n)))return!1;const o=Rz(n+r);if(!o[0])return!1;const l={type:"link",title:null,url:i+t+o[0],children:[{type:"text",value:t+o[0]}]};return o[1]?[l,{type:"text",value:o[1]}]:l}function Az(e,t,n,r){return!Y3(r,!0)||/[-\d_]$/.test(n)?!1:{type:"link",title:null,url:"mailto:"+t+"@"+n,children:[{type:"text",value:t+"@"+n}]}}function Iz(e){const t=e.split(".");return!(t.length<2||t[t.length-1]&&(/_/.test(t[t.length-1])||!/[a-zA-Z\d]/.test(t[t.length-1]))||t[t.length-2]&&(/_/.test(t[t.length-2])||!/[a-zA-Z\d]/.test(t[t.length-2])))}function Rz(e){const t=/[!"&'),.:;<>?\]}]+$/.exec(e);if(!t)return[e,void 0];e=e.slice(0,t.index);let n=t[0],r=n.indexOf(")");const a=Yh(e,"(");let i=Yh(e,")");for(;r!==-1&&a>i;)e+=n.slice(0,r+1),n=n.slice(r+1),r=n.indexOf(")"),i++;return[e,n]}function Y3(e,t){const n=e.input.charCodeAt(e.index-1);return(e.index===0||oo(n)||Kf(n))&&(!t||n!==47)}K3.peek=Hz;function Dz(){return{enter:{gfmFootnoteDefinition:Lz,gfmFootnoteDefinitionLabelString:jz,gfmFootnoteCall:Pz,gfmFootnoteCallString:Bz},exit:{gfmFootnoteDefinition:Fz,gfmFootnoteDefinitionLabelString:Mz,gfmFootnoteCall:$z,gfmFootnoteCallString:Uz}}}function Oz(){return{unsafe:[{character:"[",inConstruct:["phrasing","label","reference"]}],handlers:{footnoteDefinition:zz,footnoteReference:K3}}}function Lz(e){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},e)}function jz(){this.buffer()}function Mz(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.type,n.label=t,n.identifier=Xn(this.sliceSerialize(e)).toLowerCase()}function Fz(e){this.exit(e)}function Pz(e){this.enter({type:"footnoteReference",identifier:"",label:""},e)}function Bz(){this.buffer()}function Uz(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.type,n.label=t,n.identifier=Xn(this.sliceSerialize(e)).toLowerCase()}function $z(e){this.exit(e)}function K3(e,t,n,r){const a=n.createTracker(r);let i=a.move("[^");const o=n.enter("footnoteReference"),l=n.enter("reference");return i+=a.move(n.safe(n.associationId(e),{...a.current(),before:i,after:"]"})),l(),o(),i+=a.move("]"),i}function Hz(){return"["}function zz(e,t,n,r){const a=n.createTracker(r);let i=a.move("[^");const o=n.enter("footnoteDefinition"),l=n.enter("label");return i+=a.move(n.safe(n.associationId(e),{...a.current(),before:i,after:"]"})),l(),i+=a.move("]:"+(e.children&&e.children.length>0?" ":"")),a.shift(4),i+=a.move(n.indentLines(n.containerFlow(e,a.current()),Gz)),o(),i}function Gz(e,t,n){return t===0?e:(n?"":"    ")+e}const qz=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];Z3.peek=Zz;function Vz(){return{canContainEols:["delete"],enter:{strikethrough:Yz},exit:{strikethrough:Kz}}}function Wz(){return{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:qz}],handlers:{delete:Z3}}}function Yz(e){this.enter({type:"delete",children:[]},e)}function Kz(e){this.exit(e)}function Z3(e,t,n,r){const a=n.createTracker(r),i=n.enter("strikethrough");let o=a.move("~~");return o+=n.containerPhrasing(e,{...a.current(),before:o,after:"~"}),o+=a.move("~~"),i(),o}function Zz(){return"~"}function Xz(e){return e.length}function Qz(e,t){const n=t||{},r=(n.align||[]).concat(),a=n.stringLength||Xz,i=[],o=[],l=[],u=[];let c=0,d=-1;for(;++d<e.length;){const v=[],y=[];let g=-1;for(e[d].length>c&&(c=e[d].length);++g<e[d].length;){const x=Jz(e[d][g]);if(n.alignDelimiters!==!1){const w=a(x);y[g]=w,(u[g]===void 0||w>u[g])&&(u[g]=w)}v.push(x)}o[d]=v,l[d]=y}let p=-1;if(typeof r=="object"&&"length"in r)for(;++p<c;)i[p]=OT(r[p]);else{const v=OT(r);for(;++p<c;)i[p]=v}p=-1;const h=[],f=[];for(;++p<c;){const v=i[p];let y="",g="";v===99?(y=":",g=":"):v===108?y=":":v===114&&(g=":");let x=n.alignDelimiters===!1?1:Math.max(1,u[p]-y.length-g.length);const w=y+"-".repeat(x)+g;n.alignDelimiters!==!1&&(x=y.length+x+g.length,x>u[p]&&(u[p]=x),f[p]=x),h[p]=w}o.splice(1,0,h),l.splice(1,0,f),d=-1;const m=[];for(;++d<o.length;){const v=o[d],y=l[d];p=-1;const g=[];for(;++p<c;){const x=v[p]||"";let w="",k="";if(n.alignDelimiters!==!1){const S=u[p]-(y[p]||0),T=i[p];T===114?w=" ".repeat(S):T===99?S%2?(w=" ".repeat(S/2+.5),k=" ".repeat(S/2-.5)):(w=" ".repeat(S/2),k=w):k=" ".repeat(S)}n.delimiterStart!==!1&&!p&&g.push("|"),n.padding!==!1&&!(n.alignDelimiters===!1&&x==="")&&(n.delimiterStart!==!1||p)&&g.push(" "),n.alignDelimiters!==!1&&g.push(w),g.push(x),n.alignDelimiters!==!1&&g.push(k),n.padding!==!1&&g.push(" "),(n.delimiterEnd!==!1||p!==c-1)&&g.push("|")}m.push(n.delimiterEnd===!1?g.join("").replace(/ +$/,""):g.join(""))}return m.join(`
`)}function Jz(e){return e==null?"":String(e)}function OT(e){const t=typeof e=="string"?e.codePointAt(0):0;return t===67||t===99?99:t===76||t===108?108:t===82||t===114?114:0}const LT={}.hasOwnProperty;function Jf(e,t){const n=t||{};function r(a,...i){let o=r.invalid;const l=r.handlers;if(a&&LT.call(a,e)){const u=String(a[e]);o=LT.call(l,u)?l[u]:r.unknown}if(o)return o.call(this,a,...i)}return r.handlers=n.handlers||{},r.invalid=n.invalid,r.unknown=n.unknown,r}function eG(e,t,n,r){const a=n.enter("blockquote"),i=n.createTracker(r);i.move("> "),i.shift(2);const o=n.indentLines(n.containerFlow(e,i.current()),tG);return a(),o}function tG(e,t,n){return">"+(n?"":" ")+e}function nG(e,t){return jT(e,t.inConstruct,!0)&&!jT(e,t.notInConstruct,!1)}function jT(e,t,n){if(typeof t=="string"&&(t=[t]),!t||t.length===0)return n;let r=-1;for(;++r<t.length;)if(e.includes(t[r]))return!0;return!1}function MT(e,t,n,r){let a=-1;for(;++a<n.unsafe.length;)if(n.unsafe[a].character===`
`&&nG(n.stack,n.unsafe[a]))return/[ \t]/.test(r.before)?"":" ";return`\\
`}function rG(e,t){const n=String(e);let r=n.indexOf(t),a=r,i=0,o=0;if(typeof t!="string")throw new TypeError("Expected substring");for(;r!==-1;)r===a?++i>o&&(o=i):i=1,a=r+t.length,r=n.indexOf(t,a);return o}function aG(e,t){return!!(t.options.fences===!1&&e.value&&!e.lang&&/[^ \r\n]/.test(e.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(e.value))}function sG(e){const t=e.options.fence||"`";if(t!=="`"&&t!=="~")throw new Error("Cannot serialize code with `"+t+"` for `options.fence`, expected `` ` `` or `~`");return t}function iG(e,t,n,r){const a=sG(n),i=e.value||"",o=a==="`"?"GraveAccent":"Tilde";if(aG(e,n)){const p=n.enter("codeIndented"),h=n.indentLines(i,oG);return p(),h}const l=n.createTracker(r),u=a.repeat(Math.max(rG(i,a)+1,3)),c=n.enter("codeFenced");let d=l.move(u);if(e.lang){const p=n.enter(`codeFencedLang${o}`);d+=l.move(n.safe(e.lang,{before:d,after:" ",encode:["`"],...l.current()})),p()}if(e.lang&&e.meta){const p=n.enter(`codeFencedMeta${o}`);d+=l.move(" "),d+=l.move(n.safe(e.meta,{before:d,after:`
`,encode:["`"],...l.current()})),p()}return d+=l.move(`
`),i&&(d+=l.move(i+`
`)),d+=l.move(u),c(),d}function oG(e,t,n){return(n?"":"    ")+e}function Zx(e){const t=e.options.quote||'"';if(t!=='"'&&t!=="'")throw new Error("Cannot serialize title with `"+t+"` for `options.quote`, expected `\"`, or `'`");return t}function lG(e,t,n,r){const a=Zx(n),i=a==='"'?"Quote":"Apostrophe",o=n.enter("definition");let l=n.enter("label");const u=n.createTracker(r);let c=u.move("[");return c+=u.move(n.safe(n.associationId(e),{before:c,after:"]",...u.current()})),c+=u.move("]: "),l(),!e.url||/[\0- \u007F]/.test(e.url)?(l=n.enter("destinationLiteral"),c+=u.move("<"),c+=u.move(n.safe(e.url,{before:c,after:">",...u.current()})),c+=u.move(">")):(l=n.enter("destinationRaw"),c+=u.move(n.safe(e.url,{before:c,after:e.title?" ":`
`,...u.current()}))),l(),e.title&&(l=n.enter(`title${i}`),c+=u.move(" "+a),c+=u.move(n.safe(e.title,{before:c,after:a,...u.current()})),c+=u.move(a),l()),o(),c}function uG(e){const t=e.options.emphasis||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize emphasis with `"+t+"` for `options.emphasis`, expected `*`, or `_`");return t}function Jc(e){return"&#x"+e.toString(16).toUpperCase()+";"}function Kh(e,t,n){const r=Gl(e),a=Gl(t);return r===void 0?a===void 0?n==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:a===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:r===1?a===void 0?{inside:!1,outside:!1}:a===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:a===void 0?{inside:!1,outside:!1}:a===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}X3.peek=cG;function X3(e,t,n,r){const a=uG(n),i=n.enter("emphasis"),o=n.createTracker(r),l=o.move(a);let u=o.move(n.containerPhrasing(e,{after:a,before:l,...o.current()}));const c=u.charCodeAt(0),d=Kh(r.before.charCodeAt(r.before.length-1),c,a);d.inside&&(u=Jc(c)+u.slice(1));const p=u.charCodeAt(u.length-1),h=Kh(r.after.charCodeAt(0),p,a);h.inside&&(u=u.slice(0,-1)+Jc(p));const f=o.move(a);return i(),n.attentionEncodeSurroundingInfo={after:h.outside,before:d.outside},l+u+f}function cG(e,t,n){return n.options.emphasis||"*"}function dG(e,t){let n=!1;return En(e,function(r){if("value"in r&&/\r?\n|\r/.test(r.value)||r.type==="break")return n=!0,Wh}),!!((!e.depth||e.depth<3)&&$x(e)&&(t.options.setext||n))}function pG(e,t,n,r){const a=Math.max(Math.min(6,e.depth||1),1),i=n.createTracker(r);if(dG(e,n)){const d=n.enter("headingSetext"),p=n.enter("phrasing"),h=n.containerPhrasing(e,{...i.current(),before:`
`,after:`
`});return p(),d(),h+`
`+(a===1?"=":"-").repeat(h.length-(Math.max(h.lastIndexOf("\r"),h.lastIndexOf(`
`))+1))}const o="#".repeat(a),l=n.enter("headingAtx"),u=n.enter("phrasing");i.move(o+" ");let c=n.containerPhrasing(e,{before:"# ",after:`
`,...i.current()});return/^[\t ]/.test(c)&&(c=Jc(c.charCodeAt(0))+c.slice(1)),c=c?o+" "+c:o,n.options.closeAtx&&(c+=" "+o),u(),l(),c}Q3.peek=hG;function Q3(e){return e.value||""}function hG(){return"<"}J3.peek=fG;function J3(e,t,n,r){const a=Zx(n),i=a==='"'?"Quote":"Apostrophe",o=n.enter("image");let l=n.enter("label");const u=n.createTracker(r);let c=u.move("![");return c+=u.move(n.safe(e.alt,{before:c,after:"]",...u.current()})),c+=u.move("]("),l(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(l=n.enter("destinationLiteral"),c+=u.move("<"),c+=u.move(n.safe(e.url,{before:c,after:">",...u.current()})),c+=u.move(">")):(l=n.enter("destinationRaw"),c+=u.move(n.safe(e.url,{before:c,after:e.title?" ":")",...u.current()}))),l(),e.title&&(l=n.enter(`title${i}`),c+=u.move(" "+a),c+=u.move(n.safe(e.title,{before:c,after:a,...u.current()})),c+=u.move(a),l()),c+=u.move(")"),o(),c}function fG(){return"!"}eD.peek=mG;function eD(e,t,n,r){const a=e.referenceType,i=n.enter("imageReference");let o=n.enter("label");const l=n.createTracker(r);let u=l.move("![");const c=n.safe(e.alt,{before:u,after:"]",...l.current()});u+=l.move(c+"]["),o();const d=n.stack;n.stack=[],o=n.enter("reference");const p=n.safe(n.associationId(e),{before:u,after:"]",...l.current()});return o(),n.stack=d,i(),a==="full"||!c||c!==p?u+=l.move(p+"]"):a==="shortcut"?u=u.slice(0,-1):u+=l.move("]"),u}function mG(){return"!"}tD.peek=gG;function tD(e,t,n){let r=e.value||"",a="`",i=-1;for(;new RegExp("(^|[^`])"+a+"([^`]|$)").test(r);)a+="`";for(/[^ \r\n]/.test(r)&&(/^[ \r\n]/.test(r)&&/[ \r\n]$/.test(r)||/^`|`$/.test(r))&&(r=" "+r+" ");++i<n.unsafe.length;){const o=n.unsafe[i],l=n.compilePattern(o);let u;if(o.atBreak)for(;u=l.exec(r);){let c=u.index;r.charCodeAt(c)===10&&r.charCodeAt(c-1)===13&&c--,r=r.slice(0,c)+" "+r.slice(u.index+1)}}return a+r+a}function gG(){return"`"}function nD(e,t){const n=$x(e);return!!(!t.options.resourceLink&&e.url&&!e.title&&e.children&&e.children.length===1&&e.children[0].type==="text"&&(n===e.url||"mailto:"+n===e.url)&&/^[a-z][a-z+.-]+:/i.test(e.url)&&!/[\0- <>\u007F]/.test(e.url))}rD.peek=bG;function rD(e,t,n,r){const a=Zx(n),i=a==='"'?"Quote":"Apostrophe",o=n.createTracker(r);let l,u;if(nD(e,n)){const d=n.stack;n.stack=[],l=n.enter("autolink");let p=o.move("<");return p+=o.move(n.containerPhrasing(e,{before:p,after:">",...o.current()})),p+=o.move(">"),l(),n.stack=d,p}l=n.enter("link"),u=n.enter("label");let c=o.move("[");return c+=o.move(n.containerPhrasing(e,{before:c,after:"](",...o.current()})),c+=o.move("]("),u(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(u=n.enter("destinationLiteral"),c+=o.move("<"),c+=o.move(n.safe(e.url,{before:c,after:">",...o.current()})),c+=o.move(">")):(u=n.enter("destinationRaw"),c+=o.move(n.safe(e.url,{before:c,after:e.title?" ":")",...o.current()}))),u(),e.title&&(u=n.enter(`title${i}`),c+=o.move(" "+a),c+=o.move(n.safe(e.title,{before:c,after:a,...o.current()})),c+=o.move(a),u()),c+=o.move(")"),l(),c}function bG(e,t,n){return nD(e,n)?"<":"["}aD.peek=yG;function aD(e,t,n,r){const a=e.referenceType,i=n.enter("linkReference");let o=n.enter("label");const l=n.createTracker(r);let u=l.move("[");const c=n.containerPhrasing(e,{before:u,after:"]",...l.current()});u+=l.move(c+"]["),o();const d=n.stack;n.stack=[],o=n.enter("reference");const p=n.safe(n.associationId(e),{before:u,after:"]",...l.current()});return o(),n.stack=d,i(),a==="full"||!c||c!==p?u+=l.move(p+"]"):a==="shortcut"?u=u.slice(0,-1):u+=l.move("]"),u}function yG(){return"["}function Xx(e){const t=e.options.bullet||"*";if(t!=="*"&&t!=="+"&&t!=="-")throw new Error("Cannot serialize items with `"+t+"` for `options.bullet`, expected `*`, `+`, or `-`");return t}function xG(e){const t=Xx(e),n=e.options.bulletOther;if(!n)return t==="*"?"-":"*";if(n!=="*"&&n!=="+"&&n!=="-")throw new Error("Cannot serialize items with `"+n+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(n===t)throw new Error("Expected `bullet` (`"+t+"`) and `bulletOther` (`"+n+"`) to be different");return n}function vG(e){const t=e.options.bulletOrdered||".";if(t!=="."&&t!==")")throw new Error("Cannot serialize items with `"+t+"` for `options.bulletOrdered`, expected `.` or `)`");return t}function sD(e){const t=e.options.rule||"*";if(t!=="*"&&t!=="-"&&t!=="_")throw new Error("Cannot serialize rules with `"+t+"` for `options.rule`, expected `*`, `-`, or `_`");return t}function EG(e,t,n,r){const a=n.enter("list"),i=n.bulletCurrent;let o=e.ordered?vG(n):Xx(n);const l=e.ordered?o==="."?")":".":xG(n);let u=t&&n.bulletLastUsed?o===n.bulletLastUsed:!1;if(!e.ordered){const d=e.children?e.children[0]:void 0;if((o==="*"||o==="-")&&d&&(!d.children||!d.children[0])&&n.stack[n.stack.length-1]==="list"&&n.stack[n.stack.length-2]==="listItem"&&n.stack[n.stack.length-3]==="list"&&n.stack[n.stack.length-4]==="listItem"&&n.indexStack[n.indexStack.length-1]===0&&n.indexStack[n.indexStack.length-2]===0&&n.indexStack[n.indexStack.length-3]===0&&(u=!0),sD(n)===o&&d){let p=-1;for(;++p<e.children.length;){const h=e.children[p];if(h&&h.type==="listItem"&&h.children&&h.children[0]&&h.children[0].type==="thematicBreak"){u=!0;break}}}}u&&(o=l),n.bulletCurrent=o;const c=n.containerFlow(e,r);return n.bulletLastUsed=o,n.bulletCurrent=i,a(),c}function wG(e){const t=e.options.listItemIndent||"one";if(t!=="tab"&&t!=="one"&&t!=="mixed")throw new Error("Cannot serialize items with `"+t+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return t}function SG(e,t,n,r){const a=wG(n);let i=n.bulletCurrent||Xx(n);t&&t.type==="list"&&t.ordered&&(i=(typeof t.start=="number"&&t.start>-1?t.start:1)+(n.options.incrementListMarker===!1?0:t.children.indexOf(e))+i);let o=i.length+1;(a==="tab"||a==="mixed"&&(t&&t.type==="list"&&t.spread||e.spread))&&(o=Math.ceil(o/4)*4);const l=n.createTracker(r);l.move(i+" ".repeat(o-i.length)),l.shift(o);const u=n.enter("listItem"),c=n.indentLines(n.containerFlow(e,l.current()),d);return u(),c;function d(p,h,f){return h?(f?"":" ".repeat(o))+p:(f?i:i+" ".repeat(o-i.length))+p}}function NG(e,t,n,r){const a=n.enter("paragraph"),i=n.enter("phrasing"),o=n.containerPhrasing(e,r);return i(),a(),o}const kG=jd(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function _G(e,t,n,r){return(e.children.some(function(o){return kG(o)})?n.containerPhrasing:n.containerFlow).call(n,e,r)}function TG(e){const t=e.options.strong||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize strong with `"+t+"` for `options.strong`, expected `*`, or `_`");return t}iD.peek=CG;function iD(e,t,n,r){const a=TG(n),i=n.enter("strong"),o=n.createTracker(r),l=o.move(a+a);let u=o.move(n.containerPhrasing(e,{after:a,before:l,...o.current()}));const c=u.charCodeAt(0),d=Kh(r.before.charCodeAt(r.before.length-1),c,a);d.inside&&(u=Jc(c)+u.slice(1));const p=u.charCodeAt(u.length-1),h=Kh(r.after.charCodeAt(0),p,a);h.inside&&(u=u.slice(0,-1)+Jc(p));const f=o.move(a+a);return i(),n.attentionEncodeSurroundingInfo={after:h.outside,before:d.outside},l+u+f}function CG(e,t,n){return n.options.strong||"*"}function AG(e,t,n,r){return n.safe(e.value,r)}function IG(e){const t=e.options.ruleRepetition||3;if(t<3)throw new Error("Cannot serialize rules with repetition `"+t+"` for `options.ruleRepetition`, expected `3` or more");return t}function RG(e,t,n){const r=(sD(n)+(n.options.ruleSpaces?" ":"")).repeat(IG(n));return n.options.ruleSpaces?r.slice(0,-1):r}const oD={blockquote:eG,break:MT,code:iG,definition:lG,emphasis:X3,hardBreak:MT,heading:pG,html:Q3,image:J3,imageReference:eD,inlineCode:tD,link:rD,linkReference:aD,list:EG,listItem:SG,paragraph:NG,root:_G,strong:iD,text:AG,thematicBreak:RG};function DG(){return{enter:{table:OG,tableData:FT,tableHeader:FT,tableRow:jG},exit:{codeText:MG,table:LG,tableData:jg,tableHeader:jg,tableRow:jg}}}function OG(e){const t=e._align;this.enter({type:"table",align:t.map(function(n){return n==="none"?null:n}),children:[]},e),this.data.inTable=!0}function LG(e){this.exit(e),this.data.inTable=void 0}function jG(e){this.enter({type:"tableRow",children:[]},e)}function jg(e){this.exit(e)}function FT(e){this.enter({type:"tableCell",children:[]},e)}function MG(e){let t=this.resume();this.data.inTable&&(t=t.replace(/\\([\\|])/g,FG));const n=this.stack[this.stack.length-1];n.type,n.value=t,this.exit(e)}function FG(e,t){return t==="|"?t:e}function PG(e){const t=e||{},n=t.tableCellPadding,r=t.tablePipeAlign,a=t.stringLength,i=n?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:h,table:o,tableCell:u,tableRow:l}};function o(f,m,v,y){return c(d(f,v,y),f.align)}function l(f,m,v,y){const g=p(f,v,y),x=c([g]);return x.slice(0,x.indexOf(`
`))}function u(f,m,v,y){const g=v.enter("tableCell"),x=v.enter("phrasing"),w=v.containerPhrasing(f,{...y,before:i,after:i});return x(),g(),w}function c(f,m){return Qz(f,{align:m,alignDelimiters:r,padding:n,stringLength:a})}function d(f,m,v){const y=f.children;let g=-1;const x=[],w=m.enter("table");for(;++g<y.length;)x[g]=p(y[g],m,v);return w(),x}function p(f,m,v){const y=f.children;let g=-1;const x=[],w=m.enter("tableRow");for(;++g<y.length;)x[g]=u(y[g],f,m,v);return w(),x}function h(f,m,v){let y=oD.inlineCode(f,m,v);return v.stack.includes("tableCell")&&(y=y.replace(/\|/g,"\\$&")),y}}function BG(){return{exit:{taskListCheckValueChecked:PT,taskListCheckValueUnchecked:PT,paragraph:$G}}}function UG(){return{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:HG}}}function PT(e){const t=this.stack[this.stack.length-2];t.type,t.checked=e.type==="taskListCheckValueChecked"}function $G(e){const t=this.stack[this.stack.length-2];if(t&&t.type==="listItem"&&typeof t.checked=="boolean"){const n=this.stack[this.stack.length-1];n.type;const r=n.children[0];if(r&&r.type==="text"){const a=t.children;let i=-1,o;for(;++i<a.length;){const l=a[i];if(l.type==="paragraph"){o=l;break}}o===n&&(r.value=r.value.slice(1),r.value.length===0?n.children.shift():n.position&&r.position&&typeof r.position.start.offset=="number"&&(r.position.start.column++,r.position.start.offset++,n.position.start=Object.assign({},r.position.start)))}}this.exit(e)}function HG(e,t,n,r){const a=e.children[0],i=typeof e.checked=="boolean"&&a&&a.type==="paragraph",o="["+(e.checked?"x":" ")+"] ",l=n.createTracker(r);i&&l.move(o);let u=oD.listItem(e,t,n,{...r,...l.current()});return i&&(u=u.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,c)),u;function c(d){return d+o}}function zG(){return[vz(),Dz(),Vz(),DG(),BG()]}function GG(e){return{extensions:[Ez(),Oz(),Wz(),PG(e),UG()]}}const qG={tokenize:XG,partial:!0},lD={tokenize:QG,partial:!0},uD={tokenize:JG,partial:!0},cD={tokenize:eq,partial:!0},VG={tokenize:tq,partial:!0},dD={name:"wwwAutolink",tokenize:KG,previous:hD},pD={name:"protocolAutolink",tokenize:ZG,previous:fD},gs={name:"emailAutolink",tokenize:YG,previous:mD},Pa={};function WG(){return{text:Pa}}let ki=48;for(;ki<123;)Pa[ki]=gs,ki++,ki===58?ki=65:ki===91&&(ki=97);Pa[43]=gs;Pa[45]=gs;Pa[46]=gs;Pa[95]=gs;Pa[72]=[gs,pD];Pa[104]=[gs,pD];Pa[87]=[gs,dD];Pa[119]=[gs,dD];function YG(e,t,n){const r=this;let a,i;return o;function o(p){return!Rb(p)||!mD.call(r,r.previous)||Qx(r.events)?n(p):(e.enter("literalAutolink"),e.enter("literalAutolinkEmail"),l(p))}function l(p){return Rb(p)?(e.consume(p),l):p===64?(e.consume(p),u):n(p)}function u(p){return p===46?e.check(VG,d,c)(p):p===45||p===95||Bn(p)?(i=!0,e.consume(p),u):d(p)}function c(p){return e.consume(p),a=!0,u}function d(p){return i&&a&&Kn(r.previous)?(e.exit("literalAutolinkEmail"),e.exit("literalAutolink"),t(p)):n(p)}}function KG(e,t,n){const r=this;return a;function a(o){return o!==87&&o!==119||!hD.call(r,r.previous)||Qx(r.events)?n(o):(e.enter("literalAutolink"),e.enter("literalAutolinkWww"),e.check(qG,e.attempt(lD,e.attempt(uD,i),n),n)(o))}function i(o){return e.exit("literalAutolinkWww"),e.exit("literalAutolink"),t(o)}}function ZG(e,t,n){const r=this;let a="",i=!1;return o;function o(p){return(p===72||p===104)&&fD.call(r,r.previous)&&!Qx(r.events)?(e.enter("literalAutolink"),e.enter("literalAutolinkHttp"),a+=String.fromCodePoint(p),e.consume(p),l):n(p)}function l(p){if(Kn(p)&&a.length<5)return a+=String.fromCodePoint(p),e.consume(p),l;if(p===58){const h=a.toLowerCase();if(h==="http"||h==="https")return e.consume(p),u}return n(p)}function u(p){return p===47?(e.consume(p),i?c:(i=!0,u)):n(p)}function c(p){return p===null||qh(p)||St(p)||oo(p)||Kf(p)?n(p):e.attempt(lD,e.attempt(uD,d),n)(p)}function d(p){return e.exit("literalAutolinkHttp"),e.exit("literalAutolink"),t(p)}}function XG(e,t,n){let r=0;return a;function a(o){return(o===87||o===119)&&r<3?(r++,e.consume(o),a):o===46&&r===3?(e.consume(o),i):n(o)}function i(o){return o===null?n(o):t(o)}}function QG(e,t,n){let r,a,i;return o;function o(c){return c===46||c===95?e.check(cD,u,l)(c):c===null||St(c)||oo(c)||c!==45&&Kf(c)?u(c):(i=!0,e.consume(c),o)}function l(c){return c===95?r=!0:(a=r,r=void 0),e.consume(c),o}function u(c){return a||r||!i?n(c):t(c)}}function JG(e,t){let n=0,r=0;return a;function a(o){return o===40?(n++,e.consume(o),a):o===41&&r<n?i(o):o===33||o===34||o===38||o===39||o===41||o===42||o===44||o===46||o===58||o===59||o===60||o===63||o===93||o===95||o===126?e.check(cD,t,i)(o):o===null||St(o)||oo(o)?t(o):(e.consume(o),a)}function i(o){return o===41&&r++,e.consume(o),a}}function eq(e,t,n){return r;function r(l){return l===33||l===34||l===39||l===41||l===42||l===44||l===46||l===58||l===59||l===63||l===95||l===126?(e.consume(l),r):l===38?(e.consume(l),i):l===93?(e.consume(l),a):l===60||l===null||St(l)||oo(l)?t(l):n(l)}function a(l){return l===null||l===40||l===91||St(l)||oo(l)?t(l):r(l)}function i(l){return Kn(l)?o(l):n(l)}function o(l){return l===59?(e.consume(l),r):Kn(l)?(e.consume(l),o):n(l)}}function tq(e,t,n){return r;function r(i){return e.consume(i),a}function a(i){return Bn(i)?n(i):t(i)}}function hD(e){return e===null||e===40||e===42||e===95||e===91||e===93||e===126||St(e)}function fD(e){return!Kn(e)}function mD(e){return!(e===47||Rb(e))}function Rb(e){return e===43||e===45||e===46||e===95||Bn(e)}function Qx(e){let t=e.length,n=!1;for(;t--;){const r=e[t][1];if((r.type==="labelLink"||r.type==="labelImage")&&!r._balanced){n=!0;break}if(r._gfmAutolinkLiteralWalkedInto){n=!1;break}}return e.length>0&&!n&&(e[e.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),n}function nq(){return{exit:{literalAutolinkEmail:aq,literalAutolinkHttp:sq,literalAutolinkWww:rq}}}function rq(e){Jx.call(this,e,"http://")}function aq(e){Jx.call(this,e,"mailto:")}function sq(e){Jx.call(this,e)}function Jx(e,t){const n=this.sliceSerialize(e);this.tag('<a href="'+ji((t||"")+n)+'">'),this.raw(this.encode(n)),this.tag("</a>")}const iq={tokenize:fq,partial:!0};function oq(){return{document:{91:{name:"gfmFootnoteDefinition",tokenize:dq,continuation:{tokenize:pq},exit:hq}},text:{91:{name:"gfmFootnoteCall",tokenize:cq},93:{name:"gfmPotentialFootnoteCall",add:"after",tokenize:lq,resolveTo:uq}}}}function lq(e,t,n){const r=this;let a=r.events.length;const i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let o;for(;a--;){const u=r.events[a][1];if(u.type==="labelImage"){o=u;break}if(u.type==="gfmFootnoteCall"||u.type==="labelLink"||u.type==="label"||u.type==="image"||u.type==="link")break}return l;function l(u){if(!o||!o._balanced)return n(u);const c=Xn(r.sliceSerialize({start:o.end,end:r.now()}));return c.codePointAt(0)!==94||!i.includes(c.slice(1))?n(u):(e.enter("gfmFootnoteCallLabelMarker"),e.consume(u),e.exit("gfmFootnoteCallLabelMarker"),t(u))}}function uq(e,t){let n=e.length;for(;n--;)if(e[n][1].type==="labelImage"&&e[n][0]==="enter"){e[n][1];break}e[n+1][1].type="data",e[n+3][1].type="gfmFootnoteCallLabelMarker";const r={type:"gfmFootnoteCall",start:Object.assign({},e[n+3][1].start),end:Object.assign({},e[e.length-1][1].end)},a={type:"gfmFootnoteCallMarker",start:Object.assign({},e[n+3][1].end),end:Object.assign({},e[n+3][1].end)};a.end.column++,a.end.offset++,a.end._bufferIndex++;const i={type:"gfmFootnoteCallString",start:Object.assign({},a.end),end:Object.assign({},e[e.length-1][1].start)},o={type:"chunkString",contentType:"string",start:Object.assign({},i.start),end:Object.assign({},i.end)},l=[e[n+1],e[n+2],["enter",r,t],e[n+3],e[n+4],["enter",a,t],["exit",a,t],["enter",i,t],["enter",o,t],["exit",o,t],["exit",i,t],e[e.length-2],e[e.length-1],["exit",r,t]];return e.splice(n,e.length-n+1,...l),e}function cq(e,t,n){const r=this,a=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let i=0,o;return l;function l(p){return e.enter("gfmFootnoteCall"),e.enter("gfmFootnoteCallLabelMarker"),e.consume(p),e.exit("gfmFootnoteCallLabelMarker"),u}function u(p){return p!==94?n(p):(e.enter("gfmFootnoteCallMarker"),e.consume(p),e.exit("gfmFootnoteCallMarker"),e.enter("gfmFootnoteCallString"),e.enter("chunkString").contentType="string",c)}function c(p){if(i>999||p===93&&!o||p===null||p===91||St(p))return n(p);if(p===93){e.exit("chunkString");const h=e.exit("gfmFootnoteCallString");return a.includes(Xn(r.sliceSerialize(h)))?(e.enter("gfmFootnoteCallLabelMarker"),e.consume(p),e.exit("gfmFootnoteCallLabelMarker"),e.exit("gfmFootnoteCall"),t):n(p)}return St(p)||(o=!0),i++,e.consume(p),p===92?d:c}function d(p){return p===91||p===92||p===93?(e.consume(p),i++,c):c(p)}}function dq(e,t,n){const r=this,a=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let i,o=0,l;return u;function u(m){return e.enter("gfmFootnoteDefinition")._container=!0,e.enter("gfmFootnoteDefinitionLabel"),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(m),e.exit("gfmFootnoteDefinitionLabelMarker"),c}function c(m){return m===94?(e.enter("gfmFootnoteDefinitionMarker"),e.consume(m),e.exit("gfmFootnoteDefinitionMarker"),e.enter("gfmFootnoteDefinitionLabelString"),e.enter("chunkString").contentType="string",d):n(m)}function d(m){if(o>999||m===93&&!l||m===null||m===91||St(m))return n(m);if(m===93){e.exit("chunkString");const v=e.exit("gfmFootnoteDefinitionLabelString");return i=Xn(r.sliceSerialize(v)),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(m),e.exit("gfmFootnoteDefinitionLabelMarker"),e.exit("gfmFootnoteDefinitionLabel"),h}return St(m)||(l=!0),o++,e.consume(m),m===92?p:d}function p(m){return m===91||m===92||m===93?(e.consume(m),o++,d):d(m)}function h(m){return m===58?(e.enter("definitionMarker"),e.consume(m),e.exit("definitionMarker"),a.includes(i)||a.push(i),ct(e,f,"gfmFootnoteDefinitionWhitespace")):n(m)}function f(m){return t(m)}}function pq(e,t,n){return e.check(Ld,t,e.attempt(iq,t,n))}function hq(e){e.exit("gfmFootnoteDefinition")}function fq(e,t,n){const r=this;return ct(e,a,"gfmFootnoteDefinitionIndent",5);function a(i){const o=r.events[r.events.length-1];return o&&o[1].type==="gfmFootnoteDefinitionIndent"&&o[2].sliceSerialize(o[1],!0).length===4?t(i):n(i)}}const mq={}.hasOwnProperty,gq={};function bq(e,t){return"Back to reference "+(e+1)+(t>1?"-"+t:"")}function yq(e){const t=gq,n=t.label||"Footnotes",r=t.labelTagName||"h2",a=t.labelAttributes===null||t.labelAttributes===void 0?'class="sr-only"':t.labelAttributes,i=t.backLabel||bq,o=t.clobberPrefix===null||t.clobberPrefix===void 0?"user-content-":t.clobberPrefix;return{enter:{gfmFootnoteDefinition(){this.getData("tightStack").push(!1)},gfmFootnoteDefinitionLabelString(){this.buffer()},gfmFootnoteCallString(){this.buffer()}},exit:{gfmFootnoteDefinition(){let l=this.getData("gfmFootnoteDefinitions");const u=this.getData("gfmFootnoteDefinitionStack"),c=this.getData("tightStack"),d=u.pop(),p=this.resume();l||this.setData("gfmFootnoteDefinitions",l={}),mq.call(l,d)||(l[d]=p),c.pop(),this.setData("slurpOneLineEnding",!0),this.setData("lastWasTag")},gfmFootnoteDefinitionLabelString(l){let u=this.getData("gfmFootnoteDefinitionStack");u||this.setData("gfmFootnoteDefinitionStack",u=[]),u.push(Xn(this.sliceSerialize(l))),this.resume(),this.buffer()},gfmFootnoteCallString(l){let u=this.getData("gfmFootnoteCallOrder"),c=this.getData("gfmFootnoteCallCounts");const d=Xn(this.sliceSerialize(l));let p;this.resume(),u||this.setData("gfmFootnoteCallOrder",u=[]),c||this.setData("gfmFootnoteCallCounts",c={});const h=u.indexOf(d),f=ji(d.toLowerCase());h===-1?(u.push(d),c[d]=1,p=u.length):(c[d]++,p=h+1);const m=c[d];this.tag('<sup><a href="#'+o+"fn-"+f+'" id="'+o+"fnref-"+f+(m>1?"-"+m:"")+'" data-footnote-ref="" aria-describedby="footnote-label">'+String(p)+"</a></sup>")},null(){const l=this.getData("gfmFootnoteCallOrder")||[],u=this.getData("gfmFootnoteCallCounts")||{},c=this.getData("gfmFootnoteDefinitions")||{};let d=-1;for(l.length>0&&(this.lineEndingIfNeeded(),this.tag('<section data-footnotes="" class="footnotes"><'+r+' id="footnote-label"'+(a?" "+a:"")+">"),this.raw(this.encode(n)),this.tag("</"+r+">"),this.lineEndingIfNeeded(),this.tag("<ol>"));++d<l.length;){const p=l[d],h=ji(p.toLowerCase());let f=0;const m=[];for(;++f<=u[p];)m.push('<a href="#'+o+"fnref-"+h+(f>1?"-"+f:"")+'" data-footnote-backref="" aria-label="'+this.encode(typeof i=="string"?i:i(d,f))+'" class="data-footnote-backref">'+(f>1?"<sup>"+f+"</sup>":"")+"</a>");const v=m.join(" ");let y=!1;this.lineEndingIfNeeded(),this.tag('<li id="'+o+"fn-"+h+'">'),this.lineEndingIfNeeded(),this.tag(c[p].replace(/<\/p>(?:\r?\n|\r)?$/,function(g){return y=!0," "+v+g})),y||(this.lineEndingIfNeeded(),this.tag(v)),this.lineEndingIfNeeded(),this.tag("</li>")}l.length>0&&(this.lineEndingIfNeeded(),this.tag("</ol>"),this.lineEndingIfNeeded(),this.tag("</section>"))}}}}function xq(){return{enter:{strikethrough(){this.tag("<del>")}},exit:{strikethrough(){this.tag("</del>")}}}}function vq(e){let n=(e||{}).singleTilde;const r={name:"strikethrough",tokenize:i,resolveAll:a};return n==null&&(n=!0),{text:{126:r},insideSpan:{null:[r]},attentionMarkers:{null:[126]}};function a(o,l){let u=-1;for(;++u<o.length;)if(o[u][0]==="enter"&&o[u][1].type==="strikethroughSequenceTemporary"&&o[u][1]._close){let c=u;for(;c--;)if(o[c][0]==="exit"&&o[c][1].type==="strikethroughSequenceTemporary"&&o[c][1]._open&&o[u][1].end.offset-o[u][1].start.offset===o[c][1].end.offset-o[c][1].start.offset){o[u][1].type="strikethroughSequence",o[c][1].type="strikethroughSequence";const d={type:"strikethrough",start:Object.assign({},o[c][1].start),end:Object.assign({},o[u][1].end)},p={type:"strikethroughText",start:Object.assign({},o[c][1].end),end:Object.assign({},o[u][1].start)},h=[["enter",d,l],["enter",o[c][1],l],["exit",o[c][1],l],["enter",p,l]],f=l.parser.constructs.insideSpan.null;f&&Ir(h,h.length,0,Zf(f,o.slice(c+1,u),l)),Ir(h,h.length,0,[["exit",p,l],["enter",o[u][1],l],["exit",o[u][1],l],["exit",d,l]]),Ir(o,c-1,u-c+3,h),u=c+h.length-2;break}}for(u=-1;++u<o.length;)o[u][1].type==="strikethroughSequenceTemporary"&&(o[u][1].type="data");return o}function i(o,l,u){const c=this.previous,d=this.events;let p=0;return h;function h(m){return c===126&&d[d.length-1][1].type!=="characterEscape"?u(m):(o.enter("strikethroughSequenceTemporary"),f(m))}function f(m){const v=Gl(c);if(m===126)return p>1?u(m):(o.consume(m),p++,f);if(p<2&&!n)return u(m);const y=o.exit("strikethroughSequenceTemporary"),g=Gl(m);return y._open=!g||g===2&&!!v,y._close=!v||v===2&&!!g,l(m)}}}const Mg={none:"",left:' align="left"',right:' align="right"',center:' align="center"'};function Eq(){return{enter:{table(e){const t=e._align;this.lineEndingIfNeeded(),this.tag("<table>"),this.setData("tableAlign",t)},tableBody(){this.tag("<tbody>")},tableData(){const e=this.getData("tableAlign"),t=this.getData("tableColumn"),n=Mg[e[t]];n===void 0?this.buffer():(this.lineEndingIfNeeded(),this.tag("<td"+n+">"))},tableHead(){this.lineEndingIfNeeded(),this.tag("<thead>")},tableHeader(){const e=this.getData("tableAlign"),t=this.getData("tableColumn"),n=Mg[e[t]];this.lineEndingIfNeeded(),this.tag("<th"+n+">")},tableRow(){this.setData("tableColumn",0),this.lineEndingIfNeeded(),this.tag("<tr>")}},exit:{codeTextData(e){let t=this.sliceSerialize(e);this.getData("tableAlign")&&(t=t.replace(/\\([\\|])/g,wq)),this.raw(this.encode(t))},table(){this.setData("tableAlign"),this.setData("slurpAllLineEndings"),this.lineEndingIfNeeded(),this.tag("</table>")},tableBody(){this.lineEndingIfNeeded(),this.tag("</tbody>")},tableData(){const e=this.getData("tableAlign"),t=this.getData("tableColumn");t in e?(this.tag("</td>"),this.setData("tableColumn",t+1)):this.resume()},tableHead(){this.lineEndingIfNeeded(),this.tag("</thead>")},tableHeader(){const e=this.getData("tableColumn");this.tag("</th>"),this.setData("tableColumn",e+1)},tableRow(){const e=this.getData("tableAlign");let t=this.getData("tableColumn");for(;t<e.length;)this.lineEndingIfNeeded(),this.tag("<td"+Mg[e[t]]+"></td>"),t++;this.setData("tableColumn",t),this.lineEndingIfNeeded(),this.tag("</tr>")}}}}function wq(e,t){return t==="|"?t:e}class Sq{constructor(){this.map=[]}add(t,n,r){Nq(this,t,n,r)}consume(t){if(this.map.sort(function(i,o){return i[0]-o[0]}),this.map.length===0)return;let n=this.map.length;const r=[];for(;n>0;)n-=1,r.push(t.slice(this.map[n][0]+this.map[n][1]),this.map[n][2]),t.length=this.map[n][0];r.push(t.slice()),t.length=0;let a=r.pop();for(;a;){for(const i of a)t.push(i);a=r.pop()}this.map.length=0}}function Nq(e,t,n,r){let a=0;if(!(n===0&&r.length===0)){for(;a<e.map.length;){if(e.map[a][0]===t){e.map[a][1]+=n,e.map[a][2].push(...r);return}a+=1}e.map.push([t,n,r])}}function kq(e,t){let n=!1;const r=[];for(;t<e.length;){const a=e[t];if(n){if(a[0]==="enter")a[1].type==="tableContent"&&r.push(e[t+1][1].type==="tableDelimiterMarker"?"left":"none");else if(a[1].type==="tableContent"){if(e[t-1][1].type==="tableDelimiterMarker"){const i=r.length-1;r[i]=r[i]==="left"?"center":"right"}}else if(a[1].type==="tableDelimiterRow")break}else a[0]==="enter"&&a[1].type==="tableDelimiterRow"&&(n=!0);t+=1}return r}function _q(){return{flow:{null:{name:"table",tokenize:Tq,resolveAll:Cq}}}}function Tq(e,t,n){const r=this;let a=0,i=0,o;return l;function l(N){let O=r.events.length-1;for(;O>-1;){const j=r.events[O][1].type;if(j==="lineEnding"||j==="linePrefix")O--;else break}const D=O>-1?r.events[O][1].type:null,B=D==="tableHead"||D==="tableRow"?T:u;return B===T&&r.parser.lazy[r.now().line]?n(N):B(N)}function u(N){return e.enter("tableHead"),e.enter("tableRow"),c(N)}function c(N){return N===124||(o=!0,i+=1),d(N)}function d(N){return N===null?n(N):Fe(N)?i>1?(i=0,r.interrupt=!0,e.exit("tableRow"),e.enter("lineEnding"),e.consume(N),e.exit("lineEnding"),f):n(N):nt(N)?ct(e,d,"whitespace")(N):(i+=1,o&&(o=!1,a+=1),N===124?(e.enter("tableCellDivider"),e.consume(N),e.exit("tableCellDivider"),o=!0,d):(e.enter("data"),p(N)))}function p(N){return N===null||N===124||St(N)?(e.exit("data"),d(N)):(e.consume(N),N===92?h:p)}function h(N){return N===92||N===124?(e.consume(N),p):p(N)}function f(N){return r.interrupt=!1,r.parser.lazy[r.now().line]?n(N):(e.enter("tableDelimiterRow"),o=!1,nt(N)?ct(e,m,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(N):m(N))}function m(N){return N===45||N===58?y(N):N===124?(o=!0,e.enter("tableCellDivider"),e.consume(N),e.exit("tableCellDivider"),v):S(N)}function v(N){return nt(N)?ct(e,y,"whitespace")(N):y(N)}function y(N){return N===58?(i+=1,o=!0,e.enter("tableDelimiterMarker"),e.consume(N),e.exit("tableDelimiterMarker"),g):N===45?(i+=1,g(N)):N===null||Fe(N)?k(N):S(N)}function g(N){return N===45?(e.enter("tableDelimiterFiller"),x(N)):S(N)}function x(N){return N===45?(e.consume(N),x):N===58?(o=!0,e.exit("tableDelimiterFiller"),e.enter("tableDelimiterMarker"),e.consume(N),e.exit("tableDelimiterMarker"),w):(e.exit("tableDelimiterFiller"),w(N))}function w(N){return nt(N)?ct(e,k,"whitespace")(N):k(N)}function k(N){return N===124?m(N):N===null||Fe(N)?!o||a!==i?S(N):(e.exit("tableDelimiterRow"),e.exit("tableHead"),t(N)):S(N)}function S(N){return n(N)}function T(N){return e.enter("tableRow"),A(N)}function A(N){return N===124?(e.enter("tableCellDivider"),e.consume(N),e.exit("tableCellDivider"),A):N===null||Fe(N)?(e.exit("tableRow"),t(N)):nt(N)?ct(e,A,"whitespace")(N):(e.enter("data"),I(N))}function I(N){return N===null||N===124||St(N)?(e.exit("data"),A(N)):(e.consume(N),N===92?C:I)}function C(N){return N===92||N===124?(e.consume(N),I):I(N)}}function Cq(e,t){let n=-1,r=!0,a=0,i=[0,0,0,0],o=[0,0,0,0],l=!1,u=0,c,d,p;const h=new Sq;for(;++n<e.length;){const f=e[n],m=f[1];f[0]==="enter"?m.type==="tableHead"?(l=!1,u!==0&&(BT(h,t,u,c,d),d=void 0,u=0),c={type:"table",start:Object.assign({},m.start),end:Object.assign({},m.end)},h.add(n,0,[["enter",c,t]])):m.type==="tableRow"||m.type==="tableDelimiterRow"?(r=!0,p=void 0,i=[0,0,0,0],o=[0,n+1,0,0],l&&(l=!1,d={type:"tableBody",start:Object.assign({},m.start),end:Object.assign({},m.end)},h.add(n,0,[["enter",d,t]])),a=m.type==="tableDelimiterRow"?2:d?3:1):a&&(m.type==="data"||m.type==="tableDelimiterMarker"||m.type==="tableDelimiterFiller")?(r=!1,o[2]===0&&(i[1]!==0&&(o[0]=o[1],p=Lp(h,t,i,a,void 0,p),i=[0,0,0,0]),o[2]=n)):m.type==="tableCellDivider"&&(r?r=!1:(i[1]!==0&&(o[0]=o[1],p=Lp(h,t,i,a,void 0,p)),i=o,o=[i[1],n,0,0])):m.type==="tableHead"?(l=!0,u=n):m.type==="tableRow"||m.type==="tableDelimiterRow"?(u=n,i[1]!==0?(o[0]=o[1],p=Lp(h,t,i,a,n,p)):o[1]!==0&&(p=Lp(h,t,o,a,n,p)),a=0):a&&(m.type==="data"||m.type==="tableDelimiterMarker"||m.type==="tableDelimiterFiller")&&(o[3]=n)}for(u!==0&&BT(h,t,u,c,d),h.consume(t.events),n=-1;++n<t.events.length;){const f=t.events[n];f[0]==="enter"&&f[1].type==="table"&&(f[1]._align=kq(t.events,n))}return e}function Lp(e,t,n,r,a,i){const o=r===1?"tableHeader":r===2?"tableDelimiter":"tableData",l="tableContent";n[0]!==0&&(i.end=Object.assign({},Bo(t.events,n[0])),e.add(n[0],0,[["exit",i,t]]));const u=Bo(t.events,n[1]);if(i={type:o,start:Object.assign({},u),end:Object.assign({},u)},e.add(n[1],0,[["enter",i,t]]),n[2]!==0){const c=Bo(t.events,n[2]),d=Bo(t.events,n[3]),p={type:l,start:Object.assign({},c),end:Object.assign({},d)};if(e.add(n[2],0,[["enter",p,t]]),r!==2){const h=t.events[n[2]],f=t.events[n[3]];if(h[1].end=Object.assign({},f[1].end),h[1].type="chunkText",h[1].contentType="text",n[3]>n[2]+1){const m=n[2]+1,v=n[3]-n[2]-1;e.add(m,v,[])}}e.add(n[3]+1,0,[["exit",p,t]])}return a!==void 0&&(i.end=Object.assign({},Bo(t.events,a)),e.add(a,0,[["exit",i,t]]),i=void 0),i}function BT(e,t,n,r,a){const i=[],o=Bo(t.events,n);a&&(a.end=Object.assign({},o),i.push(["exit",a,t])),r.end=Object.assign({},o),i.push(["exit",r,t]),e.add(n+1,0,i)}function Bo(e,t){const n=e[t],r=n[0]==="enter"?"start":"end";return n[1][r]}const gD=/<(\/?)(iframe|noembed|noframes|plaintext|script|style|title|textarea|xmp)(?=[\t\n\f\r />])/gi,Aq=new RegExp("^"+gD.source,"i");function Iq(){return{exit:{htmlFlowData(e){UT.call(this,e,gD)},htmlTextData(e){UT.call(this,e,Aq)}}}}function UT(e,t){let n=this.sliceSerialize(e);this.options.allowDangerousHtml&&(n=n.replace(t,"&lt;$1$2")),this.raw(this.encode(n))}function Rq(){return{enter:{taskListCheck(){this.tag('<input type="checkbox" disabled="" ')}},exit:{taskListCheck(){this.tag("/>")},taskListCheckValueChecked(){this.tag('checked="" ')}}}}const Dq={name:"tasklistCheck",tokenize:Lq};function Oq(){return{text:{91:Dq}}}function Lq(e,t,n){const r=this;return a;function a(u){return r.previous!==null||!r._gfmTasklistFirstContentOfListItem?n(u):(e.enter("taskListCheck"),e.enter("taskListCheckMarker"),e.consume(u),e.exit("taskListCheckMarker"),i)}function i(u){return St(u)?(e.enter("taskListCheckValueUnchecked"),e.consume(u),e.exit("taskListCheckValueUnchecked"),o):u===88||u===120?(e.enter("taskListCheckValueChecked"),e.consume(u),e.exit("taskListCheckValueChecked"),o):n(u)}function o(u){return u===93?(e.enter("taskListCheckMarker"),e.consume(u),e.exit("taskListCheckMarker"),e.exit("taskListCheck"),l):n(u)}function l(u){return Fe(u)?t(u):nt(u)?e.check({tokenize:jq},t,n)(u):n(u)}}function jq(e,t,n){return ct(e,r,"whitespace");function r(a){return a===null?n(a):t(a)}}function bD(e){return E3([WG(),oq(),vq(e),_q(),Oq()])}function Mq(e){return w3([nq(),yq(),xq(),Eq(),Iq(),Rq()])}const Fq={};function Yi(e){const t=this,n=e||Fq,r=t.data(),a=r.micromarkExtensions||(r.micromarkExtensions=[]),i=r.fromMarkdownExtensions||(r.fromMarkdownExtensions=[]),o=r.toMarkdownExtensions||(r.toMarkdownExtensions=[]);a.push(bD(n)),i.push(zG()),o.push(GG(n))}const $T=/[#.]/g;function Pq(e,t){const n=e||"",r={};let a=0,i,o;for(;a<n.length;){$T.lastIndex=a;const l=$T.exec(n),u=n.slice(a,l?l.index:n.length);u&&(i?i==="#"?r.id=u:Array.isArray(r.className)?r.className.push(u):r.className=[u]:o=u,a+=u.length),l&&(i=l[0],a++)}return{type:"element",tagName:o||t||"div",properties:r,children:[]}}const Db={}.hasOwnProperty;function yD(e,t,n){const r=n&&Hq(n);function a(i,o,...l){let u=-1,c;if(i==null){c={type:"root",children:[]};const d=o;l.unshift(d)}else if(c=Pq(i,t),c.tagName=c.tagName.toLowerCase(),r&&Db.call(r,c.tagName)&&(c.tagName=r[c.tagName]),Bq(o))l.unshift(o);else{let d;for(d in o)Db.call(o,d)&&Uq(e,c.properties,d,o[d])}for(;++u<l.length;)Ob(c.children,l[u]);return c.type==="element"&&c.tagName==="template"&&(c.content={type:"root",children:c.children},c.children=[]),c}return a}function Bq(e){if(e===null||typeof e!="object"||Array.isArray(e))return!0;if(typeof e.type!="string")return!1;const t=e,n=Object.keys(e);for(const r of n){const a=t[r];if(a&&typeof a=="object"){if(!Array.isArray(a))return!0;const i=a;for(const o of i)if(typeof o!="number"&&typeof o!="string")return!0}}return!!("children"in e&&Array.isArray(e.children))}function Uq(e,t,n,r){const a=Od(e,n);let i=-1,o;if(r!=null){if(typeof r=="number"){if(Number.isNaN(r))return;o=r}else typeof r=="boolean"?o=r:typeof r=="string"?a.spaceSeparated?o=Zc(r):a.commaSeparated?o=Kc(r):a.commaOrSpaceSeparated?o=Zc(Kc(r).join(" ")):o=HT(a,a.property,r):Array.isArray(r)?o=r.concat():o=a.property==="style"?$q(r):String(r);if(Array.isArray(o)){const l=[];for(;++i<o.length;){const u=HT(a,a.property,o[i]);l[i]=u}o=l}if(a.property==="className"&&Array.isArray(t.className)){const l=o;o=t.className.concat(l)}t[a.property]=o}}function Ob(e,t){let n=-1;if(t!=null)if(typeof t=="string"||typeof t=="number")e.push({type:"text",value:String(t)});else if(Array.isArray(t))for(;++n<t.length;)Ob(e,t[n]);else if(typeof t=="object"&&"type"in t)t.type==="root"?Ob(e,t.children):e.push(t);else throw new Error("Expected node, nodes, or string, got `"+t+"`")}function HT(e,t,n){if(typeof n=="string"){if(e.number&&n&&!Number.isNaN(Number(n)))return Number(n);if((e.boolean||e.overloadedBoolean)&&(n===""||io(n)===io(t)))return!0}return n}function $q(e){const t=[];let n;for(n in e)Db.call(e,n)&&t.push([n,e[n]].join(": "));return t.join("; ")}function Hq(e){const t={};let n=-1;for(;++n<e.length;)t[e[n].toLowerCase()]=e[n];return t}const zq=["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","solidColor","textArea","textPath"],Gq=yD(du,"div"),qq=yD(vi,"g",zq);function Vq(e){const t=String(e),n=[];return{toOffset:a,toPoint:r};function r(i){if(typeof i=="number"&&i>-1&&i<=t.length){let o=0;for(;;){let l=n[o];if(l===void 0){const u=zT(t,n[o-1]);l=u===-1?t.length+1:u+1,n[o]=l}if(l>i)return{line:o+1,column:i-(o>0?n[o-1]:0)+1,offset:i};o++}}}function a(i){if(i&&typeof i.line=="number"&&typeof i.column=="number"&&!Number.isNaN(i.line)&&!Number.isNaN(i.column)){for(;n.length<i.line;){const l=n[n.length-1],u=zT(t,l),c=u===-1?t.length+1:u+1;if(l===c)break;n.push(c)}const o=(i.line>1?n[i.line-2]:0)+i.column-1;if(o<n[i.line-1])return o}}}function zT(e,t){const n=e.indexOf("\r",t),r=e.indexOf(`
`,t);return r===-1?n:n===-1||n+1===r?r:n<r?n:r}const Mi={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},xD={}.hasOwnProperty,Wq=Object.prototype;function vD(e,t){const n=t||{};return e1({file:n.file||void 0,location:!1,schema:n.space==="svg"?vi:du,verbose:n.verbose||!1},e)}function e1(e,t){let n;switch(t.nodeName){case"#comment":{const r=t;return n={type:"comment",value:r.data},ih(e,r,n),n}case"#document":case"#document-fragment":{const r=t,a="mode"in r?r.mode==="quirks"||r.mode==="limited-quirks":!1;if(n={type:"root",children:ED(e,t.childNodes),data:{quirksMode:a}},e.file&&e.location){const i=String(e.file),o=Vq(i),l=o.toPoint(0),u=o.toPoint(i.length);n.position={start:l,end:u}}return n}case"#documentType":{const r=t;return n={type:"doctype"},ih(e,r,n),n}case"#text":{const r=t;return n={type:"text",value:r.value},ih(e,r,n),n}default:return n=Yq(e,t),n}}function ED(e,t){let n=-1;const r=[];for(;++n<t.length;){const a=e1(e,t[n]);r.push(a)}return r}function Yq(e,t){const n=e.schema;e.schema=t.namespaceURI===Mi.svg?vi:du;let r=-1;const a={};for(;++r<t.attrs.length;){const l=t.attrs[r],u=(l.prefix?l.prefix+":":"")+l.name;xD.call(Wq,u)||(a[u]=l.value)}const o=(e.schema.space==="svg"?qq:Gq)(t.tagName,a,ED(e,t.childNodes));if(ih(e,t,o),o.tagName==="template"){const l=t,u=l.sourceCodeLocation,c=u&&u.startTag&&Jo(u.startTag),d=u&&u.endTag&&Jo(u.endTag),p=e1(e,l.content);c&&d&&e.file&&(p.position={start:c.end,end:d.start}),o.content=p}return e.schema=n,o}function ih(e,t,n){if("sourceCodeLocation"in t&&t.sourceCodeLocation&&e.file){const r=Kq(e,n,t.sourceCodeLocation);r&&(e.location=!0,n.position=r)}}function Kq(e,t,n){const r=Jo(n);if(t.type==="element"){const a=t.children[t.children.length-1];if(r&&!n.endTag&&a&&a.position&&a.position.end&&(r.end=Object.assign({},a.position.end)),e.verbose){const i={};let o;if(n.attrs)for(o in n.attrs)xD.call(n.attrs,o)&&(i[Od(e.schema,o).property]=Jo(n.attrs[o]));n.startTag;const l=Jo(n.startTag),u=n.endTag?Jo(n.endTag):void 0,c={opening:l};u&&(c.closing=u),c.properties=i,t.data={position:c}}}return r}function Jo(e){const t=GT({line:e.startLine,column:e.startCol,offset:e.startOffset}),n=GT({line:e.endLine,column:e.endCol,offset:e.endOffset});return t||n?{start:t,end:n}:void 0}function GT(e){return e.line&&e.column?e:void 0}const Zq={},Xq={}.hasOwnProperty,wD=Jf("type",{handlers:{root:Jq,element:aV,text:nV,comment:rV,doctype:tV}});function Qq(e,t){const r=(t||Zq).space;return wD(e,r==="svg"?vi:du)}function Jq(e,t){const n={nodeName:"#document",mode:(e.data||{}).quirksMode?"quirks":"no-quirks",childNodes:[]};return n.childNodes=t1(e.children,n,t),pu(e,n),n}function eV(e,t){const n={nodeName:"#document-fragment",childNodes:[]};return n.childNodes=t1(e.children,n,t),pu(e,n),n}function tV(e){const t={nodeName:"#documentType",name:"html",publicId:"",systemId:"",parentNode:null};return pu(e,t),t}function nV(e){const t={nodeName:"#text",value:e.value,parentNode:null};return pu(e,t),t}function rV(e){const t={nodeName:"#comment",data:e.value,parentNode:null};return pu(e,t),t}function aV(e,t){const n=t;let r=n;e.type==="element"&&e.tagName.toLowerCase()==="svg"&&n.space==="html"&&(r=vi);const a=[];let i;if(e.properties){for(i in e.properties)if(i!=="children"&&Xq.call(e.properties,i)){const u=sV(r,i,e.properties[i]);u&&a.push(u)}}const o=r.space,l={nodeName:e.tagName,tagName:e.tagName,attrs:a,namespaceURI:Mi[o],childNodes:[],parentNode:null};return l.childNodes=t1(e.children,l,r),pu(e,l),e.tagName==="template"&&e.content&&(l.content=eV(e.content,r)),l}function sV(e,t,n){const r=Od(e,t);if(n===!1||n===null||n===void 0||typeof n=="number"&&Number.isNaN(n)||!n&&r.boolean)return;Array.isArray(n)&&(n=r.commaSeparated?Vf(n):Wf(n));const a={name:r.attribute,value:n===!0?"":String(n)};if(r.space&&r.space!=="html"&&r.space!=="svg"){const i=a.name.indexOf(":");i<0?a.prefix="":(a.name=a.name.slice(i+1),a.prefix=r.attribute.slice(0,i)),a.namespace=Mi[r.space]}return a}function t1(e,t,n){let r=-1;const a=[];if(e)for(;++r<e.length;){const i=wD(e[r],n);i.parentNode=t,a.push(i)}return a}function pu(e,t){const n=e.position;n&&n.start&&n.end&&(n.start.offset,n.end.offset,t.sourceCodeLocation={startLine:n.start.line,startCol:n.start.column,startOffset:n.start.offset,endLine:n.end.line,endCol:n.end.column,endOffset:n.end.offset})}const SD=["area","base","basefont","bgsound","br","col","command","embed","frame","hr","image","img","input","keygen","link","meta","param","source","track","wbr"],iV=new Set([65534,65535,131070,131071,196606,196607,262142,262143,327678,327679,393214,393215,458750,458751,524286,524287,589822,589823,655358,655359,720894,720895,786430,786431,851966,851967,917502,917503,983038,983039,1048574,1048575,1114110,1114111]),jt="";var M;(function(e){e[e.EOF=-1]="EOF",e[e.NULL=0]="NULL",e[e.TABULATION=9]="TABULATION",e[e.CARRIAGE_RETURN=13]="CARRIAGE_RETURN",e[e.LINE_FEED=10]="LINE_FEED",e[e.FORM_FEED=12]="FORM_FEED",e[e.SPACE=32]="SPACE",e[e.EXCLAMATION_MARK=33]="EXCLAMATION_MARK",e[e.QUOTATION_MARK=34]="QUOTATION_MARK",e[e.AMPERSAND=38]="AMPERSAND",e[e.APOSTROPHE=39]="APOSTROPHE",e[e.HYPHEN_MINUS=45]="HYPHEN_MINUS",e[e.SOLIDUS=47]="SOLIDUS",e[e.DIGIT_0=48]="DIGIT_0",e[e.DIGIT_9=57]="DIGIT_9",e[e.SEMICOLON=59]="SEMICOLON",e[e.LESS_THAN_SIGN=60]="LESS_THAN_SIGN",e[e.EQUALS_SIGN=61]="EQUALS_SIGN",e[e.GREATER_THAN_SIGN=62]="GREATER_THAN_SIGN",e[e.QUESTION_MARK=63]="QUESTION_MARK",e[e.LATIN_CAPITAL_A=65]="LATIN_CAPITAL_A",e[e.LATIN_CAPITAL_Z=90]="LATIN_CAPITAL_Z",e[e.RIGHT_SQUARE_BRACKET=93]="RIGHT_SQUARE_BRACKET",e[e.GRAVE_ACCENT=96]="GRAVE_ACCENT",e[e.LATIN_SMALL_A=97]="LATIN_SMALL_A",e[e.LATIN_SMALL_Z=122]="LATIN_SMALL_Z"})(M||(M={}));const ar={DASH_DASH:"--",CDATA_START:"[CDATA[",DOCTYPE:"doctype",SCRIPT:"script",PUBLIC:"public",SYSTEM:"system"};function ND(e){return e>=55296&&e<=57343}function oV(e){return e>=56320&&e<=57343}function lV(e,t){return(e-55296)*1024+9216+t}function kD(e){return e!==32&&e!==10&&e!==13&&e!==9&&e!==12&&e>=1&&e<=31||e>=127&&e<=159}function _D(e){return e>=64976&&e<=65007||iV.has(e)}var ne;(function(e){e.controlCharacterInInputStream="control-character-in-input-stream",e.noncharacterInInputStream="noncharacter-in-input-stream",e.surrogateInInputStream="surrogate-in-input-stream",e.nonVoidHtmlElementStartTagWithTrailingSolidus="non-void-html-element-start-tag-with-trailing-solidus",e.endTagWithAttributes="end-tag-with-attributes",e.endTagWithTrailingSolidus="end-tag-with-trailing-solidus",e.unexpectedSolidusInTag="unexpected-solidus-in-tag",e.unexpectedNullCharacter="unexpected-null-character",e.unexpectedQuestionMarkInsteadOfTagName="unexpected-question-mark-instead-of-tag-name",e.invalidFirstCharacterOfTagName="invalid-first-character-of-tag-name",e.unexpectedEqualsSignBeforeAttributeName="unexpected-equals-sign-before-attribute-name",e.missingEndTagName="missing-end-tag-name",e.unexpectedCharacterInAttributeName="unexpected-character-in-attribute-name",e.unknownNamedCharacterReference="unknown-named-character-reference",e.missingSemicolonAfterCharacterReference="missing-semicolon-after-character-reference",e.unexpectedCharacterAfterDoctypeSystemIdentifier="unexpected-character-after-doctype-system-identifier",e.unexpectedCharacterInUnquotedAttributeValue="unexpected-character-in-unquoted-attribute-value",e.eofBeforeTagName="eof-before-tag-name",e.eofInTag="eof-in-tag",e.missingAttributeValue="missing-attribute-value",e.missingWhitespaceBetweenAttributes="missing-whitespace-between-attributes",e.missingWhitespaceAfterDoctypePublicKeyword="missing-whitespace-after-doctype-public-keyword",e.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers="missing-whitespace-between-doctype-public-and-system-identifiers",e.missingWhitespaceAfterDoctypeSystemKeyword="missing-whitespace-after-doctype-system-keyword",e.missingQuoteBeforeDoctypePublicIdentifier="missing-quote-before-doctype-public-identifier",e.missingQuoteBeforeDoctypeSystemIdentifier="missing-quote-before-doctype-system-identifier",e.missingDoctypePublicIdentifier="missing-doctype-public-identifier",e.missingDoctypeSystemIdentifier="missing-doctype-system-identifier",e.abruptDoctypePublicIdentifier="abrupt-doctype-public-identifier",e.abruptDoctypeSystemIdentifier="abrupt-doctype-system-identifier",e.cdataInHtmlContent="cdata-in-html-content",e.incorrectlyOpenedComment="incorrectly-opened-comment",e.eofInScriptHtmlCommentLikeText="eof-in-script-html-comment-like-text",e.eofInDoctype="eof-in-doctype",e.nestedComment="nested-comment",e.abruptClosingOfEmptyComment="abrupt-closing-of-empty-comment",e.eofInComment="eof-in-comment",e.incorrectlyClosedComment="incorrectly-closed-comment",e.eofInCdata="eof-in-cdata",e.absenceOfDigitsInNumericCharacterReference="absence-of-digits-in-numeric-character-reference",e.nullCharacterReference="null-character-reference",e.surrogateCharacterReference="surrogate-character-reference",e.characterReferenceOutsideUnicodeRange="character-reference-outside-unicode-range",e.controlCharacterReference="control-character-reference",e.noncharacterCharacterReference="noncharacter-character-reference",e.missingWhitespaceBeforeDoctypeName="missing-whitespace-before-doctype-name",e.missingDoctypeName="missing-doctype-name",e.invalidCharacterSequenceAfterDoctypeName="invalid-character-sequence-after-doctype-name",e.duplicateAttribute="duplicate-attribute",e.nonConformingDoctype="non-conforming-doctype",e.missingDoctype="missing-doctype",e.misplacedDoctype="misplaced-doctype",e.endTagWithoutMatchingOpenElement="end-tag-without-matching-open-element",e.closingOfElementWithOpenChildElements="closing-of-element-with-open-child-elements",e.disallowedContentInNoscriptInHead="disallowed-content-in-noscript-in-head",e.openElementsLeftAfterEof="open-elements-left-after-eof",e.abandonedHeadElementChild="abandoned-head-element-child",e.misplacedStartTagForHeadElement="misplaced-start-tag-for-head-element",e.nestedNoscriptInHead="nested-noscript-in-head",e.eofInElementThatCanContainOnlyText="eof-in-element-that-can-contain-only-text"})(ne||(ne={}));const uV=65536;class cV{constructor(t){this.handler=t,this.html="",this.pos=-1,this.lastGapPos=-2,this.gapStack=[],this.skipNextNewLine=!1,this.lastChunkWritten=!1,this.endOfChunkHit=!1,this.bufferWaterline=uV,this.isEol=!1,this.lineStartPos=0,this.droppedBufferSize=0,this.line=1,this.lastErrOffset=-1}get col(){return this.pos-this.lineStartPos+ +(this.lastGapPos!==this.pos)}get offset(){return this.droppedBufferSize+this.pos}getError(t,n){const{line:r,col:a,offset:i}=this,o=a+n,l=i+n;return{code:t,startLine:r,endLine:r,startCol:o,endCol:o,startOffset:l,endOffset:l}}_err(t){this.handler.onParseError&&this.lastErrOffset!==this.offset&&(this.lastErrOffset=this.offset,this.handler.onParseError(this.getError(t,0)))}_addGap(){this.gapStack.push(this.lastGapPos),this.lastGapPos=this.pos}_processSurrogate(t){if(this.pos!==this.html.length-1){const n=this.html.charCodeAt(this.pos+1);if(oV(n))return this.pos++,this._addGap(),lV(t,n)}else if(!this.lastChunkWritten)return this.endOfChunkHit=!0,M.EOF;return this._err(ne.surrogateInInputStream),t}willDropParsedChunk(){return this.pos>this.bufferWaterline}dropParsedChunk(){this.willDropParsedChunk()&&(this.html=this.html.substring(this.pos),this.lineStartPos-=this.pos,this.droppedBufferSize+=this.pos,this.pos=0,this.lastGapPos=-2,this.gapStack.length=0)}write(t,n){this.html.length>0?this.html+=t:this.html=t,this.endOfChunkHit=!1,this.lastChunkWritten=n}insertHtmlAtCurrentPos(t){this.html=this.html.substring(0,this.pos+1)+t+this.html.substring(this.pos+1),this.endOfChunkHit=!1}startsWith(t,n){if(this.pos+t.length>this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,!1;if(n)return this.html.startsWith(t,this.pos);for(let r=0;r<t.length;r++)if((this.html.charCodeAt(this.pos+r)|32)!==t.charCodeAt(r))return!1;return!0}peek(t){const n=this.pos+t;if(n>=this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,M.EOF;const r=this.html.charCodeAt(n);return r===M.CARRIAGE_RETURN?M.LINE_FEED:r}advance(){if(this.pos++,this.isEol&&(this.isEol=!1,this.line++,this.lineStartPos=this.pos),this.pos>=this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,M.EOF;let t=this.html.charCodeAt(this.pos);return t===M.CARRIAGE_RETURN?(this.isEol=!0,this.skipNextNewLine=!0,M.LINE_FEED):t===M.LINE_FEED&&(this.isEol=!0,this.skipNextNewLine)?(this.line--,this.skipNextNewLine=!1,this._addGap(),this.advance()):(this.skipNextNewLine=!1,ND(t)&&(t=this._processSurrogate(t)),this.handler.onParseError===null||t>31&&t<127||t===M.LINE_FEED||t===M.CARRIAGE_RETURN||t>159&&t<64976||this._checkForProblematicCharacters(t),t)}_checkForProblematicCharacters(t){kD(t)?this._err(ne.controlCharacterInInputStream):_D(t)&&this._err(ne.noncharacterInInputStream)}retreat(t){for(this.pos-=t;this.pos<this.lastGapPos;)this.lastGapPos=this.gapStack.pop(),this.pos--;this.isEol=!1}}var Je;(function(e){e[e.CHARACTER=0]="CHARACTER",e[e.NULL_CHARACTER=1]="NULL_CHARACTER",e[e.WHITESPACE_CHARACTER=2]="WHITESPACE_CHARACTER",e[e.START_TAG=3]="START_TAG",e[e.END_TAG=4]="END_TAG",e[e.COMMENT=5]="COMMENT",e[e.DOCTYPE=6]="DOCTYPE",e[e.EOF=7]="EOF",e[e.HIBERNATION=8]="HIBERNATION"})(Je||(Je={}));function TD(e,t){for(let n=e.attrs.length-1;n>=0;n--)if(e.attrs[n].name===t)return e.attrs[n].value;return null}const CD=new Uint16Array('<\0\0\0\0\0\0EMabcfglmnoprstu\\bfmsligP&cutereve;iyx}rc;r;ravepha;acr;d;gpon;f;plyFunction;ingcsr;ign;ildemlaceforsucrkslash;;ed;y;crtause;noullis;a;r;pf;eve;cmpeq;HOacdefhilorsucy;PYcpyute;;italDifferentialD;leys;aeioron;dilrc;nint;ot;dnilla;terDot;i;rcleDMPTot;inus;lus;imes;ocskwiseContourIntegral;eCurlyDQoubleQuote;uote;lnpuon;e;gitruent;nt;ourIntegral;fr;oduct;nterClockwiseContourIntegral;oss;cr;p;Cap;DJSZacefios;otrahd;cy;cy;cy;grsger;r;hv;ayron;;l;ta;r;afcmriticalADGTcute;o;bleAcute;rave;ilde;ond;ferentialD;\0\0\0\0f;;DEot;qual;bleCDLRUVontourIntegrao\0\0nArrow;eoftARTrrow;ightArrow;engLReftARrrow;ightArrow;ightArrow;ightATrrow;ee;p\0\0rrow;ownArrow;erticalBar;nABLRTarrow;BUar;pArrow;reve;eft\0\0ightVector;eeVector;ector;Bar;ight\0eeVector;ector;Bar;ee;Arrow;ctr;rok;NTacdfglmopqstuxG;Hcuteaiyron;rc;ot;r;raveement;apcr;ty\0\0mallSquare;erySmallSquare;gpon;f;silon;uail;Tilde;librium;cir;m;a;mlipsts;onentialE;cfiosy;r;lled\0\0mallSquare;erySmallSquare;\0\0\0f;All;riertrf;cJTabcdfgorstcy;>mma;d;reve;eiydil;rc;;ot;r;;pf;eaterEFGLSTqual;Less;ullEqual;reater;ess;lantEqual;ilde;cr;;AacfiosuRDcy;ctek;;irc;r;lbertSpace;\0f;izontalLine;ctrok;mpownHumqual;EJOacdfgmnostucy;lig;cy;cuteiyrc;ot;r;rave;apcgr;inaryI;lie\0;egrral;section;isibleCTomma;imes;gpton;f;a;cr;ilde;\0cy;lcfosuiyrc;;r;pf;\0r;rcy;kcy;HJacfoscy;cy;ppa;eydil;;r;pf;cr;JTaceflmostcy;<cmnprute;bda;g;lacetrf;r;aeyron;dil;;fstACDFRTUVarnrgleBracket;row;BRar;ightArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ightAVrrow;ector;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;ightsEFGLSTqualGreater;ullEqual;reater;ess;lantEqual;ilde;r;;eftarrow;idot;npwgLRlreftARrrow;ightArrow;ightArrow;eftarightightf;erLReftArrow;ightArrow;cht;rok;;acefiosup;y;dliumSpace;lintrf;r;nusPlus;pf;c;Jacefostucy;cute;aeyron;dil;;gswativeMTVediumSpace;hicneryThitedGLreaterGreateessLesLine;r;Bnptreak;BreakingSpace;f;;CDEGHLNPRSTVoungruent;pCap;oubleVerticalBar;lqxement;ual;Tilde;ists;reater;EFGLSTqual;ullEqual;reater;ess;lantEqual;ilde;umpownHump;qual;efstTriangle;BEar;qual;s;EGLSTqual;reater;ess;lantEqual;ilde;estedGLreaterGreater;essLess;recedes;ESqual;lantEqual;eiverseElement;ghtTriangle;BEar;qual;quuareSubpset;Equal;erset;Equal;bcpset;Equal;ceeds;ESTqual;lantEqual;ilde;erset;Equal;ilde;EFTqual;ullEqual;ilde;erticalBar;cr;ilde;Eacdfgmoprstuvlig;cuteiyrc;blac;r;raveaeicr;ga;cron;pf;enCurlyDQoubleQuote;uote;;clr;ashidees;mlerBParr;acek;et;arenthesis;acfhilorsrtialD;y;r;i;;usMinus;ipncareplanf;;eiocedes;ESTqual;lantEqual;ilde;me;dpuct;ortion;al;cir;;UfosOT"r;pf;cr;BEacefhiorsuarr;Gcnrute;g;r;tl;aeyron;dil;;;verseEUlqement;uilibrium;pEquilibrium;ro;ghtACDFTUVanrgleBracket;row;BLar;eftArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;puf;ndImplies;ightarrow;chr;;leDelayed;HOacfhimoqstuCcHcy;y;FTcy;cute;;aeiyron;dil;rc;;r;ortDLRUownArroweftArrowightArrowpArrow;gma;allCircle;pf;\0\0t;are;ISUntersection;ubpset;Equal;erset;Equal;nion;cr;ar;bcmp;set;Equal;cheeds;ESTqual;lantEqual;ilde;Th;;esrset;Equal;etHRSacfhiorsORNADE;Hccy;y;bu;;aeyron;dil;;r;ei\0efore;a;cnkSpace;Space;lde;EFTqual;ullEqual;ilde;pf;ipleDot;ctr;rok;\0\0\0\0\0\0\0cruter;ocir;r\0y;ve;iyrc;blac;r;raveacr;dierBParr;acek;et;arenthesis;on;Plus;gpon;f;ADETadpsrrow;BDar;ownArrow;ownArrow;quilibrium;ee;Arrow;ownerLReftArrow;ightArrow;i;lon;ing;cr;ilde;mlDbcdefosvash;ar;y;ash;l;er;btyar;;icalBLSTar;ine;eparator;ilde;ThinSpace;r;pf;cr;dash;cefosirc;dge;r;pf;cr;fiosr;;pf;cr;AIUacfosucy;cy;cy;cuteiyrc;;r;pf;cr;ml;Hacdefoscy;cute;ayron;;ot;\0oWidta;r;pf;cr;\0\0\0\0\0\0\0cutereve;;Ediuy;;rcte;lig;r;raveepfpsym;ha;apcclr;g;\0\0;adsvnd;;lope;;;elmrsz;esd;a;;;;;;;;t;vb;d;pth;arr;gpon;f;;Eaeiop;cir;;d;s;rox;eingctyr;;mp;eildemlcioninnt;Nabcdefiklnoprsuot;crkcepsong;psilon;rime;im;eq;ee;ed;gerk;tbrk;oy;quo;cmprtaus;eptyv;snoahw;;een;r;gcostuvwaiurc;pdptot;lus;imes;\0\0cup;ar;riangleduown;p;plus;earow;akocnklstozenge;riangle;dlrown;eft;ight;k;\0\0;;4;ck;eo;q=uiv;t;ptwxf;;tomtie;DHUVbdhmptuvLRlr;;;;;DUdu;;;;LRlr;;;;;HLRhlr;;;;;;ox;LRlr;;;;;DUdu;;;;inus;lus;imes;LRlr;;;;;HLRhlr;;;;;;evbarceior;mi;m;el;bh;sub;l;etp;Ee;;q\0\0\0\0\0\0\0\0\0\0cprute;;abcdsnd;rcup;aup;p;ot;;eot;aeiu\0s;on;dilrc;ps;sm;ot;dmnilptyv;t;err;ceiy;ck;mark;r;Ecefms;;elq;e\0\0rrowlreft;ight;RSacd;st;irc;ash;nint;id;cir;ubs;uit\0on;e;q\0\0a;t;;flemxente\0;dot;nfry;o;sr;aorr;ss;cur;bp;e;;e;dot;delprvwarrlr;;\0\0r;c;arr;p;;bcdosrcap;aup;p;ot;r;;alrvrr;m;yevwq\0\0reuee;edge;enearrowlreftightecioninnt;lcty;AHabcdefhijlorstuwzrar;glrsger;eth;h;varow;aayron;;;aogrr;tseq;glmta;ptyv;irsht;;arlraegsvm;osnd;suit;amma;in;;iode;ontimes;ncy;c\0\0rn;op;lptuwlar;f;;empsq;dot;inus;lus;quare;blebarwedgnadhownarrowarpoonlrefighkaro\0\0rn;op;cotry;;l;rok;drot;i;fahraangle;ciy;grarr;DacdefglmnopqrstuxDoocsuteter;aioyron;r;clon;;ot;Drot;;;rsave;dot;;ilsnters;;;dot;apscr;ty;svetp1;;;gs;p;gpon;f;alsr;sl;us;i;lvon;csuviorc\0\0antgltressaeils;st;v;DD;parsl;Daot;rr;cdir;oah;mrlo;cipl;seoctationential\0\0\0\0\0\0\0llingdotsey;male;ilrlig;\0\0g;ig;;lig;lig;fjaltt;ig;ns;of;\0f;ak;v;artint;aocs\0\0;;;;\0;;\0\0;;5;\0;;8;l;wn;cr;Eabcdefgijlnorstv;l;cmpute;ma;d;reve;iyrc;;ot;;lqs;qslan;cdlc;ot;o;l;;es;r;;gmel;cy;;Eaj;;;Eaes;p;prox;q;qim;pf;cir;m;el;;>;cdlqrci;r;ot;Par;uest;adels\0pror;qlqlesienrtneqq;Aabcefkosyrilmrrsfildrcy;;cwir;;ar;irc;alrrts;uitlip;con;r;sewarow;arow;amoprrr;tht;klreftarrow;ightarrow;f;bar;cltr;asrok;bpull;hen\0\0\0\0\0\0cute;iyrc;cxy;clfr;rave;inoinnt;t;fin;ta;lig;aopcgtr;elpinarh;f;ed;;cfotare;in;tie;do;celpal;grerarhk;rod;cgpty;on;f;a;uestcir;n;Edsv;ot;;v;;ilde;\0cy;lcfmosuiyrc;;r;ath;pf;\0r;rcy;kcy;acfghjosppa;v;eydil;;r;reen;cy;cy;pf;cr;ABEHabcdefghjlmnoprstuvartrail;arr;;g;ar;\0\0\0\0\0\0\0\0\0ute;mptyv;rabda;g;dl;;uor;bfhlpst;fs;s;p;l;im;l;;aeil;;s;abrrr;rk;akcek;;es;ldu;;aeuyron;diil;;cqrsa;uo;rduhar;shar;h;;fgqstahlrtrrow;taarpoonduownpeftarrows;ightahsrrow;sarpoonquigarrohreetimes;;qslan;cdgsc;ot;o;r;;es;adegspproot;qgqgtiilrsht;;;E;rdu;l;lk;cy;;achtrorneard;ri;iodot;ust;acheEaes;p;prox;q;qim;abnoptwznrg;r;rglmreftarightapsto;ightparrowlrefight;aflr;;us;imes;st;;efngear;lt;achmtrornear;d;;ri;achiqtquo;r;m;eg;;buo;r;rok;<;cdhilqrci;r;remes;arr;uest;Piar;;efrdushar;har;enrtneqq;DacdefhilnopsuDot;clprret;;ese;sto;dluowefker;oymma;;ash;asuredangler;o;cdnro;acdsir;otus;bd;u;p;dpels;f;ctr;pos;lmtimap;GLRVabcdefghijlmoprstuvwgt;;veltftarrrow;ightarrow;;;vightarrow;Ddash;ash;bcnptlaute;g;;Eiop;d;s;rour;al;s\0pmp;eaeouy\0;on;dil;ng;dot;p;;ash;;Aadqsxrr;rhrk;;oot;uieiar;ist;sr;Eest;qs;qslani;rAaprrr;ar;;sv;d;cy;AEadestr;rr;r;;fqstarrroightarro;qslan;si;ri;eiptf;;inn;Edv;ot;;;i;v;;aorr;astllel;;lint;;ceu;c;eAaitrrr;cw;;ghtarrowri;echimpqu;ceru;ort\0\0arm;e;qsubpbcp;Ees;et;eq;qc;e;Ees;et;eq;qgilrldeianglelreft;eight;e;m;esro;p;DHadgilrsash;arr;p;ash;et;;>nfin;Aetrr;;;r<ie;Atrr;rie;im;Aanrr;rhrk;;oear;\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0csuteiyr;c;abioslac;v;old;lig;crir;;\0\0\0n;ave;bmar;acitrirr;oss;n;aeicr;ga;cdnron;;pf;aelr;rp;;adiosvr;efmr;ofgof;r;lope;;cloashl;idees;as;mlbar;\0\0\0\0\0\0\0\0\0r;ast;lle\0\0m;;y;rcimptnt;od;il;enk;r;imo;v;mane;;tvchfork;aunckk;h;s;abcdemstcir;ir;ou;;nim;wo;ipuntint;f;nd;Eaceinosu;p;u;c;acenspprourlyeaespprox;qq;im;ime;sEasdfpalslar;ine;urf;;trel;cir;;ncsp;fiopsur;pf;rime;cr;aeoteirnionnt;st;eABHabcdefhilmnoprstuxartrail;arar;cdenqrteu;te;imptyv;g;del;;uor;abcfhlpstwp;;fs;;s;l;im;l;;aiil;o;nalabrrrk;akcek;;es;ldu;;aeuyron;diil;;clqsa;dhar;uo;rh;acgl;ipsnart;ilrsht;;aordu;l;;v;gnshtahlrstrrow;taarpoonduowpeftahrrowarpoonightarrows;quigarrohreetimes;g;ingdotseahmra;oust;achemid;abptnrg;r;raflr;;us;imes;apr;gt;olint;arachqquo;r;buo;rhirremes;i;efltri;luhar;;\0\0\0\0\0\0\0cute;qu;Eaceinpsy;\0;on;u;dil;rc;Eas;p;im;olint;i;ot;be;Aacmstxrr;rhr;oti;war;minnut;r;oacoyrp;hycy;;rt\0\0iaragmma;fv;;deglnprot;;q;E;;E;e;lus;arr;araeitlslsetmhp;parsl;dle;;e;s;flptcy;;b;ar;f;adres;uitcsuaup;s;p;s;ubp;eset;e;eset;e;afrarcemtr;tmiararr;fanighteppsilohsbcmnp;Edemnprs;ot;;dot;ult;Ee;;lus;arr;eiut;enq;qeq;qm;bp;;c;acenspprourlyeaespproqg;123;Edehlmnps;ost;ub;;dot;soul;b;arr;ult;Ee;;lus;eiut;enq;qeq;qm;bp;;Aanrr;rhr;owar;lig\0\0\0\0\0\0\0\0\0\0\0\0get;;raeyron;dil;;lrec;r;eiko\0e4fa;svym;cnkaspproimsasrnes;bd;ar;;eps;bcfot;ir;;ork;rime;aipdadempstngle;dlqrowneft;e;ight;eot;inus;lus;b;ime;ezium;chtry;;cy;rok;ioxheadlreftarroightarrowAHabcdfghlmoprstuwrar;cruter\0y;ve;iyrc;abhrlac;airsht;;raverlrlk;ct\0\0rn;erop;ri;alcr;gpon;f;adhlsuownarpoonlrefighi;hlonparrows;cit\0\0rn;erop;ng;ri;cr;dirot;lde;i;famrlangle;ABDacdeflnoprszrar;v;asnrgrt;eknprstappothinhirop;hiugmbpsetneq;q;setneq;q;hretianglelreftighty;ashelr;bear;q;lip;btar;trsubppf;rotrcur;bpnEenEeigzag;cefoprsirc;dibgar;e;q;erp;r;pf;;eatcr;\0\0\0\0\0\0\0trr;Aarr;Aarrais;dptfl;imAarrcqr;ptracefiosucuyte;iyrc;;nr;cy;pf;cr;cmy;lacdefhioswcute;ayron;;ot;ettra;r;cy;grarr;pf;cr;jn;j;'.split("").map(e=>e.charCodeAt(0))),dV=new Uint16Array("aglq	\x1B\0\0p;os;t;t;uot;".split("").map(e=>e.charCodeAt(0)));var Fg;const pV=new Map([[0,65533],[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]),hV=(Fg=String.fromCodePoint)!==null&&Fg!==void 0?Fg:function(e){let t="";return e>65535&&(e-=65536,t+=String.fromCharCode(e>>>10&1023|55296),e=56320|e&1023),t+=String.fromCharCode(e),t};function fV(e){var t;return e>=55296&&e<=57343||e>1114111?65533:(t=pV.get(e))!==null&&t!==void 0?t:e}var yn;(function(e){e[e.NUM=35]="NUM",e[e.SEMI=59]="SEMI",e[e.EQUALS=61]="EQUALS",e[e.ZERO=48]="ZERO",e[e.NINE=57]="NINE",e[e.LOWER_A=97]="LOWER_A",e[e.LOWER_F=102]="LOWER_F",e[e.LOWER_X=120]="LOWER_X",e[e.LOWER_Z=122]="LOWER_Z",e[e.UPPER_A=65]="UPPER_A",e[e.UPPER_F=70]="UPPER_F",e[e.UPPER_Z=90]="UPPER_Z"})(yn||(yn={}));const mV=32;var Ws;(function(e){e[e.VALUE_LENGTH=49152]="VALUE_LENGTH",e[e.BRANCH_LENGTH=16256]="BRANCH_LENGTH",e[e.JUMP_TABLE=127]="JUMP_TABLE"})(Ws||(Ws={}));function Lb(e){return e>=yn.ZERO&&e<=yn.NINE}function gV(e){return e>=yn.UPPER_A&&e<=yn.UPPER_F||e>=yn.LOWER_A&&e<=yn.LOWER_F}function bV(e){return e>=yn.UPPER_A&&e<=yn.UPPER_Z||e>=yn.LOWER_A&&e<=yn.LOWER_Z||Lb(e)}function yV(e){return e===yn.EQUALS||bV(e)}var fn;(function(e){e[e.EntityStart=0]="EntityStart",e[e.NumericStart=1]="NumericStart",e[e.NumericDecimal=2]="NumericDecimal",e[e.NumericHex=3]="NumericHex",e[e.NamedEntity=4]="NamedEntity"})(fn||(fn={}));var ns;(function(e){e[e.Legacy=0]="Legacy",e[e.Strict=1]="Strict",e[e.Attribute=2]="Attribute"})(ns||(ns={}));class AD{constructor(t,n,r){this.decodeTree=t,this.emitCodePoint=n,this.errors=r,this.state=fn.EntityStart,this.consumed=1,this.result=0,this.treeIndex=0,this.excess=1,this.decodeMode=ns.Strict}startEntity(t){this.decodeMode=t,this.state=fn.EntityStart,this.result=0,this.treeIndex=0,this.excess=1,this.consumed=1}write(t,n){switch(this.state){case fn.EntityStart:return t.charCodeAt(n)===yn.NUM?(this.state=fn.NumericStart,this.consumed+=1,this.stateNumericStart(t,n+1)):(this.state=fn.NamedEntity,this.stateNamedEntity(t,n));case fn.NumericStart:return this.stateNumericStart(t,n);case fn.NumericDecimal:return this.stateNumericDecimal(t,n);case fn.NumericHex:return this.stateNumericHex(t,n);case fn.NamedEntity:return this.stateNamedEntity(t,n)}}stateNumericStart(t,n){return n>=t.length?-1:(t.charCodeAt(n)|mV)===yn.LOWER_X?(this.state=fn.NumericHex,this.consumed+=1,this.stateNumericHex(t,n+1)):(this.state=fn.NumericDecimal,this.stateNumericDecimal(t,n))}addToNumericResult(t,n,r,a){if(n!==r){const i=r-n;this.result=this.result*Math.pow(a,i)+parseInt(t.substr(n,i),a),this.consumed+=i}}stateNumericHex(t,n){const r=n;for(;n<t.length;){const a=t.charCodeAt(n);if(Lb(a)||gV(a))n+=1;else return this.addToNumericResult(t,r,n,16),this.emitNumericEntity(a,3)}return this.addToNumericResult(t,r,n,16),-1}stateNumericDecimal(t,n){const r=n;for(;n<t.length;){const a=t.charCodeAt(n);if(Lb(a))n+=1;else return this.addToNumericResult(t,r,n,10),this.emitNumericEntity(a,2)}return this.addToNumericResult(t,r,n,10),-1}emitNumericEntity(t,n){var r;if(this.consumed<=n)return(r=this.errors)===null||r===void 0||r.absenceOfDigitsInNumericCharacterReference(this.consumed),0;if(t===yn.SEMI)this.consumed+=1;else if(this.decodeMode===ns.Strict)return 0;return this.emitCodePoint(fV(this.result),this.consumed),this.errors&&(t!==yn.SEMI&&this.errors.missingSemicolonAfterCharacterReference(),this.errors.validateNumericCharacterReference(this.result)),this.consumed}stateNamedEntity(t,n){const{decodeTree:r}=this;let a=r[this.treeIndex],i=(a&Ws.VALUE_LENGTH)>>14;for(;n<t.length;n++,this.excess++){const o=t.charCodeAt(n);if(this.treeIndex=xV(r,a,this.treeIndex+Math.max(1,i),o),this.treeIndex<0)return this.result===0||this.decodeMode===ns.Attribute&&(i===0||yV(o))?0:this.emitNotTerminatedNamedEntity();if(a=r[this.treeIndex],i=(a&Ws.VALUE_LENGTH)>>14,i!==0){if(o===yn.SEMI)return this.emitNamedEntityData(this.treeIndex,i,this.consumed+this.excess);this.decodeMode!==ns.Strict&&(this.result=this.treeIndex,this.consumed+=this.excess,this.excess=0)}}return-1}emitNotTerminatedNamedEntity(){var t;const{result:n,decodeTree:r}=this,a=(r[n]&Ws.VALUE_LENGTH)>>14;return this.emitNamedEntityData(n,a,this.consumed),(t=this.errors)===null||t===void 0||t.missingSemicolonAfterCharacterReference(),this.consumed}emitNamedEntityData(t,n,r){const{decodeTree:a}=this;return this.emitCodePoint(n===1?a[t]&~Ws.VALUE_LENGTH:a[t+1],r),n===3&&this.emitCodePoint(a[t+2],r),r}end(){var t;switch(this.state){case fn.NamedEntity:return this.result!==0&&(this.decodeMode!==ns.Attribute||this.result===this.treeIndex)?this.emitNotTerminatedNamedEntity():0;case fn.NumericDecimal:return this.emitNumericEntity(0,2);case fn.NumericHex:return this.emitNumericEntity(0,3);case fn.NumericStart:return(t=this.errors)===null||t===void 0||t.absenceOfDigitsInNumericCharacterReference(this.consumed),0;case fn.EntityStart:return 0}}}function ID(e){let t="";const n=new AD(e,r=>t+=hV(r));return function(a,i){let o=0,l=0;for(;(l=a.indexOf("&",l))>=0;){t+=a.slice(o,l),n.startEntity(i);const c=n.write(a,l+1);if(c<0){o=l+n.end();break}o=l+c,l=c===0?o+1:o}const u=t+a.slice(o);return t="",u}}function xV(e,t,n,r){const a=(t&Ws.BRANCH_LENGTH)>>7,i=t&Ws.JUMP_TABLE;if(a===0)return i!==0&&r===i?n:-1;if(i){const u=r-i;return u<0||u>=a?-1:e[n+u]-1}let o=n,l=o+a-1;for(;o<=l;){const u=o+l>>>1,c=e[u];if(c<r)o=u+1;else if(c>r)l=u-1;else return e[u+a]}return-1}ID(CD);ID(dV);var le;(function(e){e.HTML="http://www.w3.org/1999/xhtml",e.MATHML="http://www.w3.org/1998/Math/MathML",e.SVG="http://www.w3.org/2000/svg",e.XLINK="http://www.w3.org/1999/xlink",e.XML="http://www.w3.org/XML/1998/namespace",e.XMLNS="http://www.w3.org/2000/xmlns/"})(le||(le={}));var Ki;(function(e){e.TYPE="type",e.ACTION="action",e.ENCODING="encoding",e.PROMPT="prompt",e.NAME="name",e.COLOR="color",e.FACE="face",e.SIZE="size"})(Ki||(Ki={}));var Gr;(function(e){e.NO_QUIRKS="no-quirks",e.QUIRKS="quirks",e.LIMITED_QUIRKS="limited-quirks"})(Gr||(Gr={}));var J;(function(e){e.A="a",e.ADDRESS="address",e.ANNOTATION_XML="annotation-xml",e.APPLET="applet",e.AREA="area",e.ARTICLE="article",e.ASIDE="aside",e.B="b",e.BASE="base",e.BASEFONT="basefont",e.BGSOUND="bgsound",e.BIG="big",e.BLOCKQUOTE="blockquote",e.BODY="body",e.BR="br",e.BUTTON="button",e.CAPTION="caption",e.CENTER="center",e.CODE="code",e.COL="col",e.COLGROUP="colgroup",e.DD="dd",e.DESC="desc",e.DETAILS="details",e.DIALOG="dialog",e.DIR="dir",e.DIV="div",e.DL="dl",e.DT="dt",e.EM="em",e.EMBED="embed",e.FIELDSET="fieldset",e.FIGCAPTION="figcaption",e.FIGURE="figure",e.FONT="font",e.FOOTER="footer",e.FOREIGN_OBJECT="foreignObject",e.FORM="form",e.FRAME="frame",e.FRAMESET="frameset",e.H1="h1",e.H2="h2",e.H3="h3",e.H4="h4",e.H5="h5",e.H6="h6",e.HEAD="head",e.HEADER="header",e.HGROUP="hgroup",e.HR="hr",e.HTML="html",e.I="i",e.IMG="img",e.IMAGE="image",e.INPUT="input",e.IFRAME="iframe",e.KEYGEN="keygen",e.LABEL="label",e.LI="li",e.LINK="link",e.LISTING="listing",e.MAIN="main",e.MALIGNMARK="malignmark",e.MARQUEE="marquee",e.MATH="math",e.MENU="menu",e.META="meta",e.MGLYPH="mglyph",e.MI="mi",e.MO="mo",e.MN="mn",e.MS="ms",e.MTEXT="mtext",e.NAV="nav",e.NOBR="nobr",e.NOFRAMES="noframes",e.NOEMBED="noembed",e.NOSCRIPT="noscript",e.OBJECT="object",e.OL="ol",e.OPTGROUP="optgroup",e.OPTION="option",e.P="p",e.PARAM="param",e.PLAINTEXT="plaintext",e.PRE="pre",e.RB="rb",e.RP="rp",e.RT="rt",e.RTC="rtc",e.RUBY="ruby",e.S="s",e.SCRIPT="script",e.SEARCH="search",e.SECTION="section",e.SELECT="select",e.SOURCE="source",e.SMALL="small",e.SPAN="span",e.STRIKE="strike",e.STRONG="strong",e.STYLE="style",e.SUB="sub",e.SUMMARY="summary",e.SUP="sup",e.TABLE="table",e.TBODY="tbody",e.TEMPLATE="template",e.TEXTAREA="textarea",e.TFOOT="tfoot",e.TD="td",e.TH="th",e.THEAD="thead",e.TITLE="title",e.TR="tr",e.TRACK="track",e.TT="tt",e.U="u",e.UL="ul",e.SVG="svg",e.VAR="var",e.WBR="wbr",e.XMP="xmp"})(J||(J={}));var b;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.A=1]="A",e[e.ADDRESS=2]="ADDRESS",e[e.ANNOTATION_XML=3]="ANNOTATION_XML",e[e.APPLET=4]="APPLET",e[e.AREA=5]="AREA",e[e.ARTICLE=6]="ARTICLE",e[e.ASIDE=7]="ASIDE",e[e.B=8]="B",e[e.BASE=9]="BASE",e[e.BASEFONT=10]="BASEFONT",e[e.BGSOUND=11]="BGSOUND",e[e.BIG=12]="BIG",e[e.BLOCKQUOTE=13]="BLOCKQUOTE",e[e.BODY=14]="BODY",e[e.BR=15]="BR",e[e.BUTTON=16]="BUTTON",e[e.CAPTION=17]="CAPTION",e[e.CENTER=18]="CENTER",e[e.CODE=19]="CODE",e[e.COL=20]="COL",e[e.COLGROUP=21]="COLGROUP",e[e.DD=22]="DD",e[e.DESC=23]="DESC",e[e.DETAILS=24]="DETAILS",e[e.DIALOG=25]="DIALOG",e[e.DIR=26]="DIR",e[e.DIV=27]="DIV",e[e.DL=28]="DL",e[e.DT=29]="DT",e[e.EM=30]="EM",e[e.EMBED=31]="EMBED",e[e.FIELDSET=32]="FIELDSET",e[e.FIGCAPTION=33]="FIGCAPTION",e[e.FIGURE=34]="FIGURE",e[e.FONT=35]="FONT",e[e.FOOTER=36]="FOOTER",e[e.FOREIGN_OBJECT=37]="FOREIGN_OBJECT",e[e.FORM=38]="FORM",e[e.FRAME=39]="FRAME",e[e.FRAMESET=40]="FRAMESET",e[e.H1=41]="H1",e[e.H2=42]="H2",e[e.H3=43]="H3",e[e.H4=44]="H4",e[e.H5=45]="H5",e[e.H6=46]="H6",e[e.HEAD=47]="HEAD",e[e.HEADER=48]="HEADER",e[e.HGROUP=49]="HGROUP",e[e.HR=50]="HR",e[e.HTML=51]="HTML",e[e.I=52]="I",e[e.IMG=53]="IMG",e[e.IMAGE=54]="IMAGE",e[e.INPUT=55]="INPUT",e[e.IFRAME=56]="IFRAME",e[e.KEYGEN=57]="KEYGEN",e[e.LABEL=58]="LABEL",e[e.LI=59]="LI",e[e.LINK=60]="LINK",e[e.LISTING=61]="LISTING",e[e.MAIN=62]="MAIN",e[e.MALIGNMARK=63]="MALIGNMARK",e[e.MARQUEE=64]="MARQUEE",e[e.MATH=65]="MATH",e[e.MENU=66]="MENU",e[e.META=67]="META",e[e.MGLYPH=68]="MGLYPH",e[e.MI=69]="MI",e[e.MO=70]="MO",e[e.MN=71]="MN",e[e.MS=72]="MS",e[e.MTEXT=73]="MTEXT",e[e.NAV=74]="NAV",e[e.NOBR=75]="NOBR",e[e.NOFRAMES=76]="NOFRAMES",e[e.NOEMBED=77]="NOEMBED",e[e.NOSCRIPT=78]="NOSCRIPT",e[e.OBJECT=79]="OBJECT",e[e.OL=80]="OL",e[e.OPTGROUP=81]="OPTGROUP",e[e.OPTION=82]="OPTION",e[e.P=83]="P",e[e.PARAM=84]="PARAM",e[e.PLAINTEXT=85]="PLAINTEXT",e[e.PRE=86]="PRE",e[e.RB=87]="RB",e[e.RP=88]="RP",e[e.RT=89]="RT",e[e.RTC=90]="RTC",e[e.RUBY=91]="RUBY",e[e.S=92]="S",e[e.SCRIPT=93]="SCRIPT",e[e.SEARCH=94]="SEARCH",e[e.SECTION=95]="SECTION",e[e.SELECT=96]="SELECT",e[e.SOURCE=97]="SOURCE",e[e.SMALL=98]="SMALL",e[e.SPAN=99]="SPAN",e[e.STRIKE=100]="STRIKE",e[e.STRONG=101]="STRONG",e[e.STYLE=102]="STYLE",e[e.SUB=103]="SUB",e[e.SUMMARY=104]="SUMMARY",e[e.SUP=105]="SUP",e[e.TABLE=106]="TABLE",e[e.TBODY=107]="TBODY",e[e.TEMPLATE=108]="TEMPLATE",e[e.TEXTAREA=109]="TEXTAREA",e[e.TFOOT=110]="TFOOT",e[e.TD=111]="TD",e[e.TH=112]="TH",e[e.THEAD=113]="THEAD",e[e.TITLE=114]="TITLE",e[e.TR=115]="TR",e[e.TRACK=116]="TRACK",e[e.TT=117]="TT",e[e.U=118]="U",e[e.UL=119]="UL",e[e.SVG=120]="SVG",e[e.VAR=121]="VAR",e[e.WBR=122]="WBR",e[e.XMP=123]="XMP"})(b||(b={}));const vV=new Map([[J.A,b.A],[J.ADDRESS,b.ADDRESS],[J.ANNOTATION_XML,b.ANNOTATION_XML],[J.APPLET,b.APPLET],[J.AREA,b.AREA],[J.ARTICLE,b.ARTICLE],[J.ASIDE,b.ASIDE],[J.B,b.B],[J.BASE,b.BASE],[J.BASEFONT,b.BASEFONT],[J.BGSOUND,b.BGSOUND],[J.BIG,b.BIG],[J.BLOCKQUOTE,b.BLOCKQUOTE],[J.BODY,b.BODY],[J.BR,b.BR],[J.BUTTON,b.BUTTON],[J.CAPTION,b.CAPTION],[J.CENTER,b.CENTER],[J.CODE,b.CODE],[J.COL,b.COL],[J.COLGROUP,b.COLGROUP],[J.DD,b.DD],[J.DESC,b.DESC],[J.DETAILS,b.DETAILS],[J.DIALOG,b.DIALOG],[J.DIR,b.DIR],[J.DIV,b.DIV],[J.DL,b.DL],[J.DT,b.DT],[J.EM,b.EM],[J.EMBED,b.EMBED],[J.FIELDSET,b.FIELDSET],[J.FIGCAPTION,b.FIGCAPTION],[J.FIGURE,b.FIGURE],[J.FONT,b.FONT],[J.FOOTER,b.FOOTER],[J.FOREIGN_OBJECT,b.FOREIGN_OBJECT],[J.FORM,b.FORM],[J.FRAME,b.FRAME],[J.FRAMESET,b.FRAMESET],[J.H1,b.H1],[J.H2,b.H2],[J.H3,b.H3],[J.H4,b.H4],[J.H5,b.H5],[J.H6,b.H6],[J.HEAD,b.HEAD],[J.HEADER,b.HEADER],[J.HGROUP,b.HGROUP],[J.HR,b.HR],[J.HTML,b.HTML],[J.I,b.I],[J.IMG,b.IMG],[J.IMAGE,b.IMAGE],[J.INPUT,b.INPUT],[J.IFRAME,b.IFRAME],[J.KEYGEN,b.KEYGEN],[J.LABEL,b.LABEL],[J.LI,b.LI],[J.LINK,b.LINK],[J.LISTING,b.LISTING],[J.MAIN,b.MAIN],[J.MALIGNMARK,b.MALIGNMARK],[J.MARQUEE,b.MARQUEE],[J.MATH,b.MATH],[J.MENU,b.MENU],[J.META,b.META],[J.MGLYPH,b.MGLYPH],[J.MI,b.MI],[J.MO,b.MO],[J.MN,b.MN],[J.MS,b.MS],[J.MTEXT,b.MTEXT],[J.NAV,b.NAV],[J.NOBR,b.NOBR],[J.NOFRAMES,b.NOFRAMES],[J.NOEMBED,b.NOEMBED],[J.NOSCRIPT,b.NOSCRIPT],[J.OBJECT,b.OBJECT],[J.OL,b.OL],[J.OPTGROUP,b.OPTGROUP],[J.OPTION,b.OPTION],[J.P,b.P],[J.PARAM,b.PARAM],[J.PLAINTEXT,b.PLAINTEXT],[J.PRE,b.PRE],[J.RB,b.RB],[J.RP,b.RP],[J.RT,b.RT],[J.RTC,b.RTC],[J.RUBY,b.RUBY],[J.S,b.S],[J.SCRIPT,b.SCRIPT],[J.SEARCH,b.SEARCH],[J.SECTION,b.SECTION],[J.SELECT,b.SELECT],[J.SOURCE,b.SOURCE],[J.SMALL,b.SMALL],[J.SPAN,b.SPAN],[J.STRIKE,b.STRIKE],[J.STRONG,b.STRONG],[J.STYLE,b.STYLE],[J.SUB,b.SUB],[J.SUMMARY,b.SUMMARY],[J.SUP,b.SUP],[J.TABLE,b.TABLE],[J.TBODY,b.TBODY],[J.TEMPLATE,b.TEMPLATE],[J.TEXTAREA,b.TEXTAREA],[J.TFOOT,b.TFOOT],[J.TD,b.TD],[J.TH,b.TH],[J.THEAD,b.THEAD],[J.TITLE,b.TITLE],[J.TR,b.TR],[J.TRACK,b.TRACK],[J.TT,b.TT],[J.U,b.U],[J.UL,b.UL],[J.SVG,b.SVG],[J.VAR,b.VAR],[J.WBR,b.WBR],[J.XMP,b.XMP]]);function hu(e){var t;return(t=vV.get(e))!==null&&t!==void 0?t:b.UNKNOWN}const he=b,EV={[le.HTML]:new Set([he.ADDRESS,he.APPLET,he.AREA,he.ARTICLE,he.ASIDE,he.BASE,he.BASEFONT,he.BGSOUND,he.BLOCKQUOTE,he.BODY,he.BR,he.BUTTON,he.CAPTION,he.CENTER,he.COL,he.COLGROUP,he.DD,he.DETAILS,he.DIR,he.DIV,he.DL,he.DT,he.EMBED,he.FIELDSET,he.FIGCAPTION,he.FIGURE,he.FOOTER,he.FORM,he.FRAME,he.FRAMESET,he.H1,he.H2,he.H3,he.H4,he.H5,he.H6,he.HEAD,he.HEADER,he.HGROUP,he.HR,he.HTML,he.IFRAME,he.IMG,he.INPUT,he.LI,he.LINK,he.LISTING,he.MAIN,he.MARQUEE,he.MENU,he.META,he.NAV,he.NOEMBED,he.NOFRAMES,he.NOSCRIPT,he.OBJECT,he.OL,he.P,he.PARAM,he.PLAINTEXT,he.PRE,he.SCRIPT,he.SECTION,he.SELECT,he.SOURCE,he.STYLE,he.SUMMARY,he.TABLE,he.TBODY,he.TD,he.TEMPLATE,he.TEXTAREA,he.TFOOT,he.TH,he.THEAD,he.TITLE,he.TR,he.TRACK,he.UL,he.WBR,he.XMP]),[le.MATHML]:new Set([he.MI,he.MO,he.MN,he.MS,he.MTEXT,he.ANNOTATION_XML]),[le.SVG]:new Set([he.TITLE,he.FOREIGN_OBJECT,he.DESC]),[le.XLINK]:new Set,[le.XML]:new Set,[le.XMLNS]:new Set},jb=new Set([he.H1,he.H2,he.H3,he.H4,he.H5,he.H6]);J.STYLE,J.SCRIPT,J.XMP,J.IFRAME,J.NOEMBED,J.NOFRAMES,J.PLAINTEXT;var F;(function(e){e[e.DATA=0]="DATA",e[e.RCDATA=1]="RCDATA",e[e.RAWTEXT=2]="RAWTEXT",e[e.SCRIPT_DATA=3]="SCRIPT_DATA",e[e.PLAINTEXT=4]="PLAINTEXT",e[e.TAG_OPEN=5]="TAG_OPEN",e[e.END_TAG_OPEN=6]="END_TAG_OPEN",e[e.TAG_NAME=7]="TAG_NAME",e[e.RCDATA_LESS_THAN_SIGN=8]="RCDATA_LESS_THAN_SIGN",e[e.RCDATA_END_TAG_OPEN=9]="RCDATA_END_TAG_OPEN",e[e.RCDATA_END_TAG_NAME=10]="RCDATA_END_TAG_NAME",e[e.RAWTEXT_LESS_THAN_SIGN=11]="RAWTEXT_LESS_THAN_SIGN",e[e.RAWTEXT_END_TAG_OPEN=12]="RAWTEXT_END_TAG_OPEN",e[e.RAWTEXT_END_TAG_NAME=13]="RAWTEXT_END_TAG_NAME",e[e.SCRIPT_DATA_LESS_THAN_SIGN=14]="SCRIPT_DATA_LESS_THAN_SIGN",e[e.SCRIPT_DATA_END_TAG_OPEN=15]="SCRIPT_DATA_END_TAG_OPEN",e[e.SCRIPT_DATA_END_TAG_NAME=16]="SCRIPT_DATA_END_TAG_NAME",e[e.SCRIPT_DATA_ESCAPE_START=17]="SCRIPT_DATA_ESCAPE_START",e[e.SCRIPT_DATA_ESCAPE_START_DASH=18]="SCRIPT_DATA_ESCAPE_START_DASH",e[e.SCRIPT_DATA_ESCAPED=19]="SCRIPT_DATA_ESCAPED",e[e.SCRIPT_DATA_ESCAPED_DASH=20]="SCRIPT_DATA_ESCAPED_DASH",e[e.SCRIPT_DATA_ESCAPED_DASH_DASH=21]="SCRIPT_DATA_ESCAPED_DASH_DASH",e[e.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN=22]="SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN",e[e.SCRIPT_DATA_ESCAPED_END_TAG_OPEN=23]="SCRIPT_DATA_ESCAPED_END_TAG_OPEN",e[e.SCRIPT_DATA_ESCAPED_END_TAG_NAME=24]="SCRIPT_DATA_ESCAPED_END_TAG_NAME",e[e.SCRIPT_DATA_DOUBLE_ESCAPE_START=25]="SCRIPT_DATA_DOUBLE_ESCAPE_START",e[e.SCRIPT_DATA_DOUBLE_ESCAPED=26]="SCRIPT_DATA_DOUBLE_ESCAPED",e[e.SCRIPT_DATA_DOUBLE_ESCAPED_DASH=27]="SCRIPT_DATA_DOUBLE_ESCAPED_DASH",e[e.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH=28]="SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH",e[e.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN=29]="SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN",e[e.SCRIPT_DATA_DOUBLE_ESCAPE_END=30]="SCRIPT_DATA_DOUBLE_ESCAPE_END",e[e.BEFORE_ATTRIBUTE_NAME=31]="BEFORE_ATTRIBUTE_NAME",e[e.ATTRIBUTE_NAME=32]="ATTRIBUTE_NAME",e[e.AFTER_ATTRIBUTE_NAME=33]="AFTER_ATTRIBUTE_NAME",e[e.BEFORE_ATTRIBUTE_VALUE=34]="BEFORE_ATTRIBUTE_VALUE",e[e.ATTRIBUTE_VALUE_DOUBLE_QUOTED=35]="ATTRIBUTE_VALUE_DOUBLE_QUOTED",e[e.ATTRIBUTE_VALUE_SINGLE_QUOTED=36]="ATTRIBUTE_VALUE_SINGLE_QUOTED",e[e.ATTRIBUTE_VALUE_UNQUOTED=37]="ATTRIBUTE_VALUE_UNQUOTED",e[e.AFTER_ATTRIBUTE_VALUE_QUOTED=38]="AFTER_ATTRIBUTE_VALUE_QUOTED",e[e.SELF_CLOSING_START_TAG=39]="SELF_CLOSING_START_TAG",e[e.BOGUS_COMMENT=40]="BOGUS_COMMENT",e[e.MARKUP_DECLARATION_OPEN=41]="MARKUP_DECLARATION_OPEN",e[e.COMMENT_START=42]="COMMENT_START",e[e.COMMENT_START_DASH=43]="COMMENT_START_DASH",e[e.COMMENT=44]="COMMENT",e[e.COMMENT_LESS_THAN_SIGN=45]="COMMENT_LESS_THAN_SIGN",e[e.COMMENT_LESS_THAN_SIGN_BANG=46]="COMMENT_LESS_THAN_SIGN_BANG",e[e.COMMENT_LESS_THAN_SIGN_BANG_DASH=47]="COMMENT_LESS_THAN_SIGN_BANG_DASH",e[e.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH=48]="COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH",e[e.COMMENT_END_DASH=49]="COMMENT_END_DASH",e[e.COMMENT_END=50]="COMMENT_END",e[e.COMMENT_END_BANG=51]="COMMENT_END_BANG",e[e.DOCTYPE=52]="DOCTYPE",e[e.BEFORE_DOCTYPE_NAME=53]="BEFORE_DOCTYPE_NAME",e[e.DOCTYPE_NAME=54]="DOCTYPE_NAME",e[e.AFTER_DOCTYPE_NAME=55]="AFTER_DOCTYPE_NAME",e[e.AFTER_DOCTYPE_PUBLIC_KEYWORD=56]="AFTER_DOCTYPE_PUBLIC_KEYWORD",e[e.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER=57]="BEFORE_DOCTYPE_PUBLIC_IDENTIFIER",e[e.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED=58]="DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED",e[e.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED=59]="DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED",e[e.AFTER_DOCTYPE_PUBLIC_IDENTIFIER=60]="AFTER_DOCTYPE_PUBLIC_IDENTIFIER",e[e.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS=61]="BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS",e[e.AFTER_DOCTYPE_SYSTEM_KEYWORD=62]="AFTER_DOCTYPE_SYSTEM_KEYWORD",e[e.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER=63]="BEFORE_DOCTYPE_SYSTEM_IDENTIFIER",e[e.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED=64]="DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED",e[e.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED=65]="DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED",e[e.AFTER_DOCTYPE_SYSTEM_IDENTIFIER=66]="AFTER_DOCTYPE_SYSTEM_IDENTIFIER",e[e.BOGUS_DOCTYPE=67]="BOGUS_DOCTYPE",e[e.CDATA_SECTION=68]="CDATA_SECTION",e[e.CDATA_SECTION_BRACKET=69]="CDATA_SECTION_BRACKET",e[e.CDATA_SECTION_END=70]="CDATA_SECTION_END",e[e.CHARACTER_REFERENCE=71]="CHARACTER_REFERENCE",e[e.AMBIGUOUS_AMPERSAND=72]="AMBIGUOUS_AMPERSAND"})(F||(F={}));const Kt={DATA:F.DATA,RCDATA:F.RCDATA,RAWTEXT:F.RAWTEXT,SCRIPT_DATA:F.SCRIPT_DATA,PLAINTEXT:F.PLAINTEXT,CDATA_SECTION:F.CDATA_SECTION};function wV(e){return e>=M.DIGIT_0&&e<=M.DIGIT_9}function Qu(e){return e>=M.LATIN_CAPITAL_A&&e<=M.LATIN_CAPITAL_Z}function SV(e){return e>=M.LATIN_SMALL_A&&e<=M.LATIN_SMALL_Z}function Ns(e){return SV(e)||Qu(e)}function qT(e){return Ns(e)||wV(e)}function jp(e){return e+32}function RD(e){return e===M.SPACE||e===M.LINE_FEED||e===M.TABULATION||e===M.FORM_FEED}function VT(e){return RD(e)||e===M.SOLIDUS||e===M.GREATER_THAN_SIGN}function NV(e){return e===M.NULL?ne.nullCharacterReference:e>1114111?ne.characterReferenceOutsideUnicodeRange:ND(e)?ne.surrogateCharacterReference:_D(e)?ne.noncharacterCharacterReference:kD(e)||e===M.CARRIAGE_RETURN?ne.controlCharacterReference:null}class kV{constructor(t,n){this.options=t,this.handler=n,this.paused=!1,this.inLoop=!1,this.inForeignNode=!1,this.lastStartTagName="",this.active=!1,this.state=F.DATA,this.returnState=F.DATA,this.entityStartPos=0,this.consumedAfterSnapshot=-1,this.currentCharacterToken=null,this.currentToken=null,this.currentAttr={name:"",value:""},this.preprocessor=new cV(n),this.currentLocation=this.getCurrentLocation(-1),this.entityDecoder=new AD(CD,(r,a)=>{this.preprocessor.pos=this.entityStartPos+a-1,this._flushCodePointConsumedAsCharacterReference(r)},n.onParseError?{missingSemicolonAfterCharacterReference:()=>{this._err(ne.missingSemicolonAfterCharacterReference,1)},absenceOfDigitsInNumericCharacterReference:r=>{this._err(ne.absenceOfDigitsInNumericCharacterReference,this.entityStartPos-this.preprocessor.pos+r)},validateNumericCharacterReference:r=>{const a=NV(r);a&&this._err(a,1)}}:void 0)}_err(t,n=0){var r,a;(a=(r=this.handler).onParseError)===null||a===void 0||a.call(r,this.preprocessor.getError(t,n))}getCurrentLocation(t){return this.options.sourceCodeLocationInfo?{startLine:this.preprocessor.line,startCol:this.preprocessor.col-t,startOffset:this.preprocessor.offset-t,endLine:-1,endCol:-1,endOffset:-1}:null}_runParsingLoop(){if(!this.inLoop){for(this.inLoop=!0;this.active&&!this.paused;){this.consumedAfterSnapshot=0;const t=this._consume();this._ensureHibernation()||this._callState(t)}this.inLoop=!1}}pause(){this.paused=!0}resume(t){if(!this.paused)throw new Error("Parser was already resumed");this.paused=!1,!this.inLoop&&(this._runParsingLoop(),this.paused||t==null||t())}write(t,n,r){this.active=!0,this.preprocessor.write(t,n),this._runParsingLoop(),this.paused||r==null||r()}insertHtmlAtCurrentPos(t){this.active=!0,this.preprocessor.insertHtmlAtCurrentPos(t),this._runParsingLoop()}_ensureHibernation(){return this.preprocessor.endOfChunkHit?(this.preprocessor.retreat(this.consumedAfterSnapshot),this.consumedAfterSnapshot=0,this.active=!1,!0):!1}_consume(){return this.consumedAfterSnapshot++,this.preprocessor.advance()}_advanceBy(t){this.consumedAfterSnapshot+=t;for(let n=0;n<t;n++)this.preprocessor.advance()}_consumeSequenceIfMatch(t,n){return this.preprocessor.startsWith(t,n)?(this._advanceBy(t.length-1),!0):!1}_createStartTagToken(){this.currentToken={type:Je.START_TAG,tagName:"",tagID:b.UNKNOWN,selfClosing:!1,ackSelfClosing:!1,attrs:[],location:this.getCurrentLocation(1)}}_createEndTagToken(){this.currentToken={type:Je.END_TAG,tagName:"",tagID:b.UNKNOWN,selfClosing:!1,ackSelfClosing:!1,attrs:[],location:this.getCurrentLocation(2)}}_createCommentToken(t){this.currentToken={type:Je.COMMENT,data:"",location:this.getCurrentLocation(t)}}_createDoctypeToken(t){this.currentToken={type:Je.DOCTYPE,name:t,forceQuirks:!1,publicId:null,systemId:null,location:this.currentLocation}}_createCharacterToken(t,n){this.currentCharacterToken={type:t,chars:n,location:this.currentLocation}}_createAttr(t){this.currentAttr={name:t,value:""},this.currentLocation=this.getCurrentLocation(0)}_leaveAttrName(){var t,n;const r=this.currentToken;if(TD(r,this.currentAttr.name)===null){if(r.attrs.push(this.currentAttr),r.location&&this.currentLocation){const a=(t=(n=r.location).attrs)!==null&&t!==void 0?t:n.attrs=Object.create(null);a[this.currentAttr.name]=this.currentLocation,this._leaveAttrValue()}}else this._err(ne.duplicateAttribute)}_leaveAttrValue(){this.currentLocation&&(this.currentLocation.endLine=this.preprocessor.line,this.currentLocation.endCol=this.preprocessor.col,this.currentLocation.endOffset=this.preprocessor.offset)}prepareToken(t){this._emitCurrentCharacterToken(t.location),this.currentToken=null,t.location&&(t.location.endLine=this.preprocessor.line,t.location.endCol=this.preprocessor.col+1,t.location.endOffset=this.preprocessor.offset+1),this.currentLocation=this.getCurrentLocation(-1)}emitCurrentTagToken(){const t=this.currentToken;this.prepareToken(t),t.tagID=hu(t.tagName),t.type===Je.START_TAG?(this.lastStartTagName=t.tagName,this.handler.onStartTag(t)):(t.attrs.length>0&&this._err(ne.endTagWithAttributes),t.selfClosing&&this._err(ne.endTagWithTrailingSolidus),this.handler.onEndTag(t)),this.preprocessor.dropParsedChunk()}emitCurrentComment(t){this.prepareToken(t),this.handler.onComment(t),this.preprocessor.dropParsedChunk()}emitCurrentDoctype(t){this.prepareToken(t),this.handler.onDoctype(t),this.preprocessor.dropParsedChunk()}_emitCurrentCharacterToken(t){if(this.currentCharacterToken){switch(t&&this.currentCharacterToken.location&&(this.currentCharacterToken.location.endLine=t.startLine,this.currentCharacterToken.location.endCol=t.startCol,this.currentCharacterToken.location.endOffset=t.startOffset),this.currentCharacterToken.type){case Je.CHARACTER:{this.handler.onCharacter(this.currentCharacterToken);break}case Je.NULL_CHARACTER:{this.handler.onNullCharacter(this.currentCharacterToken);break}case Je.WHITESPACE_CHARACTER:{this.handler.onWhitespaceCharacter(this.currentCharacterToken);break}}this.currentCharacterToken=null}}_emitEOFToken(){const t=this.getCurrentLocation(0);t&&(t.endLine=t.startLine,t.endCol=t.startCol,t.endOffset=t.startOffset),this._emitCurrentCharacterToken(t),this.handler.onEof({type:Je.EOF,location:t}),this.active=!1}_appendCharToCurrentCharacterToken(t,n){if(this.currentCharacterToken)if(this.currentCharacterToken.type===t){this.currentCharacterToken.chars+=n;return}else this.currentLocation=this.getCurrentLocation(0),this._emitCurrentCharacterToken(this.currentLocation),this.preprocessor.dropParsedChunk();this._createCharacterToken(t,n)}_emitCodePoint(t){const n=RD(t)?Je.WHITESPACE_CHARACTER:t===M.NULL?Je.NULL_CHARACTER:Je.CHARACTER;this._appendCharToCurrentCharacterToken(n,String.fromCodePoint(t))}_emitChars(t){this._appendCharToCurrentCharacterToken(Je.CHARACTER,t)}_startCharacterReference(){this.returnState=this.state,this.state=F.CHARACTER_REFERENCE,this.entityStartPos=this.preprocessor.pos,this.entityDecoder.startEntity(this._isCharacterReferenceInAttribute()?ns.Attribute:ns.Legacy)}_isCharacterReferenceInAttribute(){return this.returnState===F.ATTRIBUTE_VALUE_DOUBLE_QUOTED||this.returnState===F.ATTRIBUTE_VALUE_SINGLE_QUOTED||this.returnState===F.ATTRIBUTE_VALUE_UNQUOTED}_flushCodePointConsumedAsCharacterReference(t){this._isCharacterReferenceInAttribute()?this.currentAttr.value+=String.fromCodePoint(t):this._emitCodePoint(t)}_callState(t){switch(this.state){case F.DATA:{this._stateData(t);break}case F.RCDATA:{this._stateRcdata(t);break}case F.RAWTEXT:{this._stateRawtext(t);break}case F.SCRIPT_DATA:{this._stateScriptData(t);break}case F.PLAINTEXT:{this._statePlaintext(t);break}case F.TAG_OPEN:{this._stateTagOpen(t);break}case F.END_TAG_OPEN:{this._stateEndTagOpen(t);break}case F.TAG_NAME:{this._stateTagName(t);break}case F.RCDATA_LESS_THAN_SIGN:{this._stateRcdataLessThanSign(t);break}case F.RCDATA_END_TAG_OPEN:{this._stateRcdataEndTagOpen(t);break}case F.RCDATA_END_TAG_NAME:{this._stateRcdataEndTagName(t);break}case F.RAWTEXT_LESS_THAN_SIGN:{this._stateRawtextLessThanSign(t);break}case F.RAWTEXT_END_TAG_OPEN:{this._stateRawtextEndTagOpen(t);break}case F.RAWTEXT_END_TAG_NAME:{this._stateRawtextEndTagName(t);break}case F.SCRIPT_DATA_LESS_THAN_SIGN:{this._stateScriptDataLessThanSign(t);break}case F.SCRIPT_DATA_END_TAG_OPEN:{this._stateScriptDataEndTagOpen(t);break}case F.SCRIPT_DATA_END_TAG_NAME:{this._stateScriptDataEndTagName(t);break}case F.SCRIPT_DATA_ESCAPE_START:{this._stateScriptDataEscapeStart(t);break}case F.SCRIPT_DATA_ESCAPE_START_DASH:{this._stateScriptDataEscapeStartDash(t);break}case F.SCRIPT_DATA_ESCAPED:{this._stateScriptDataEscaped(t);break}case F.SCRIPT_DATA_ESCAPED_DASH:{this._stateScriptDataEscapedDash(t);break}case F.SCRIPT_DATA_ESCAPED_DASH_DASH:{this._stateScriptDataEscapedDashDash(t);break}case F.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN:{this._stateScriptDataEscapedLessThanSign(t);break}case F.SCRIPT_DATA_ESCAPED_END_TAG_OPEN:{this._stateScriptDataEscapedEndTagOpen(t);break}case F.SCRIPT_DATA_ESCAPED_END_TAG_NAME:{this._stateScriptDataEscapedEndTagName(t);break}case F.SCRIPT_DATA_DOUBLE_ESCAPE_START:{this._stateScriptDataDoubleEscapeStart(t);break}case F.SCRIPT_DATA_DOUBLE_ESCAPED:{this._stateScriptDataDoubleEscaped(t);break}case F.SCRIPT_DATA_DOUBLE_ESCAPED_DASH:{this._stateScriptDataDoubleEscapedDash(t);break}case F.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH:{this._stateScriptDataDoubleEscapedDashDash(t);break}case F.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN:{this._stateScriptDataDoubleEscapedLessThanSign(t);break}case F.SCRIPT_DATA_DOUBLE_ESCAPE_END:{this._stateScriptDataDoubleEscapeEnd(t);break}case F.BEFORE_ATTRIBUTE_NAME:{this._stateBeforeAttributeName(t);break}case F.ATTRIBUTE_NAME:{this._stateAttributeName(t);break}case F.AFTER_ATTRIBUTE_NAME:{this._stateAfterAttributeName(t);break}case F.BEFORE_ATTRIBUTE_VALUE:{this._stateBeforeAttributeValue(t);break}case F.ATTRIBUTE_VALUE_DOUBLE_QUOTED:{this._stateAttributeValueDoubleQuoted(t);break}case F.ATTRIBUTE_VALUE_SINGLE_QUOTED:{this._stateAttributeValueSingleQuoted(t);break}case F.ATTRIBUTE_VALUE_UNQUOTED:{this._stateAttributeValueUnquoted(t);break}case F.AFTER_ATTRIBUTE_VALUE_QUOTED:{this._stateAfterAttributeValueQuoted(t);break}case F.SELF_CLOSING_START_TAG:{this._stateSelfClosingStartTag(t);break}case F.BOGUS_COMMENT:{this._stateBogusComment(t);break}case F.MARKUP_DECLARATION_OPEN:{this._stateMarkupDeclarationOpen(t);break}case F.COMMENT_START:{this._stateCommentStart(t);break}case F.COMMENT_START_DASH:{this._stateCommentStartDash(t);break}case F.COMMENT:{this._stateComment(t);break}case F.COMMENT_LESS_THAN_SIGN:{this._stateCommentLessThanSign(t);break}case F.COMMENT_LESS_THAN_SIGN_BANG:{this._stateCommentLessThanSignBang(t);break}case F.COMMENT_LESS_THAN_SIGN_BANG_DASH:{this._stateCommentLessThanSignBangDash(t);break}case F.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH:{this._stateCommentLessThanSignBangDashDash(t);break}case F.COMMENT_END_DASH:{this._stateCommentEndDash(t);break}case F.COMMENT_END:{this._stateCommentEnd(t);break}case F.COMMENT_END_BANG:{this._stateCommentEndBang(t);break}case F.DOCTYPE:{this._stateDoctype(t);break}case F.BEFORE_DOCTYPE_NAME:{this._stateBeforeDoctypeName(t);break}case F.DOCTYPE_NAME:{this._stateDoctypeName(t);break}case F.AFTER_DOCTYPE_NAME:{this._stateAfterDoctypeName(t);break}case F.AFTER_DOCTYPE_PUBLIC_KEYWORD:{this._stateAfterDoctypePublicKeyword(t);break}case F.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER:{this._stateBeforeDoctypePublicIdentifier(t);break}case F.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED:{this._stateDoctypePublicIdentifierDoubleQuoted(t);break}case F.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED:{this._stateDoctypePublicIdentifierSingleQuoted(t);break}case F.AFTER_DOCTYPE_PUBLIC_IDENTIFIER:{this._stateAfterDoctypePublicIdentifier(t);break}case F.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS:{this._stateBetweenDoctypePublicAndSystemIdentifiers(t);break}case F.AFTER_DOCTYPE_SYSTEM_KEYWORD:{this._stateAfterDoctypeSystemKeyword(t);break}case F.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER:{this._stateBeforeDoctypeSystemIdentifier(t);break}case F.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED:{this._stateDoctypeSystemIdentifierDoubleQuoted(t);break}case F.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED:{this._stateDoctypeSystemIdentifierSingleQuoted(t);break}case F.AFTER_DOCTYPE_SYSTEM_IDENTIFIER:{this._stateAfterDoctypeSystemIdentifier(t);break}case F.BOGUS_DOCTYPE:{this._stateBogusDoctype(t);break}case F.CDATA_SECTION:{this._stateCdataSection(t);break}case F.CDATA_SECTION_BRACKET:{this._stateCdataSectionBracket(t);break}case F.CDATA_SECTION_END:{this._stateCdataSectionEnd(t);break}case F.CHARACTER_REFERENCE:{this._stateCharacterReference();break}case F.AMBIGUOUS_AMPERSAND:{this._stateAmbiguousAmpersand(t);break}default:throw new Error("Unknown state")}}_stateData(t){switch(t){case M.LESS_THAN_SIGN:{this.state=F.TAG_OPEN;break}case M.AMPERSAND:{this._startCharacterReference();break}case M.NULL:{this._err(ne.unexpectedNullCharacter),this._emitCodePoint(t);break}case M.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateRcdata(t){switch(t){case M.AMPERSAND:{this._startCharacterReference();break}case M.LESS_THAN_SIGN:{this.state=F.RCDATA_LESS_THAN_SIGN;break}case M.NULL:{this._err(ne.unexpectedNullCharacter),this._emitChars(jt);break}case M.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateRawtext(t){switch(t){case M.LESS_THAN_SIGN:{this.state=F.RAWTEXT_LESS_THAN_SIGN;break}case M.NULL:{this._err(ne.unexpectedNullCharacter),this._emitChars(jt);break}case M.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateScriptData(t){switch(t){case M.LESS_THAN_SIGN:{this.state=F.SCRIPT_DATA_LESS_THAN_SIGN;break}case M.NULL:{this._err(ne.unexpectedNullCharacter),this._emitChars(jt);break}case M.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_statePlaintext(t){switch(t){case M.NULL:{this._err(ne.unexpectedNullCharacter),this._emitChars(jt);break}case M.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateTagOpen(t){if(Ns(t))this._createStartTagToken(),this.state=F.TAG_NAME,this._stateTagName(t);else switch(t){case M.EXCLAMATION_MARK:{this.state=F.MARKUP_DECLARATION_OPEN;break}case M.SOLIDUS:{this.state=F.END_TAG_OPEN;break}case M.QUESTION_MARK:{this._err(ne.unexpectedQuestionMarkInsteadOfTagName),this._createCommentToken(1),this.state=F.BOGUS_COMMENT,this._stateBogusComment(t);break}case M.EOF:{this._err(ne.eofBeforeTagName),this._emitChars("<"),this._emitEOFToken();break}default:this._err(ne.invalidFirstCharacterOfTagName),this._emitChars("<"),this.state=F.DATA,this._stateData(t)}}_stateEndTagOpen(t){if(Ns(t))this._createEndTagToken(),this.state=F.TAG_NAME,this._stateTagName(t);else switch(t){case M.GREATER_THAN_SIGN:{this._err(ne.missingEndTagName),this.state=F.DATA;break}case M.EOF:{this._err(ne.eofBeforeTagName),this._emitChars("</"),this._emitEOFToken();break}default:this._err(ne.invalidFirstCharacterOfTagName),this._createCommentToken(2),this.state=F.BOGUS_COMMENT,this._stateBogusComment(t)}}_stateTagName(t){const n=this.currentToken;switch(t){case M.SPACE:case M.LINE_FEED:case M.TABULATION:case M.FORM_FEED:{this.state=F.BEFORE_ATTRIBUTE_NAME;break}case M.SOLIDUS:{this.state=F.SELF_CLOSING_START_TAG;break}case M.GREATER_THAN_SIGN:{this.state=F.DATA,this.emitCurrentTagToken();break}case M.NULL:{this._err(ne.unexpectedNullCharacter),n.tagName+=jt;break}case M.EOF:{this._err(ne.eofInTag),this._emitEOFToken();break}default:n.tagName+=String.fromCodePoint(Qu(t)?jp(t):t)}}_stateRcdataLessThanSign(t){t===M.SOLIDUS?this.state=F.RCDATA_END_TAG_OPEN:(this._emitChars("<"),this.state=F.RCDATA,this._stateRcdata(t))}_stateRcdataEndTagOpen(t){Ns(t)?(this.state=F.RCDATA_END_TAG_NAME,this._stateRcdataEndTagName(t)):(this._emitChars("</"),this.state=F.RCDATA,this._stateRcdata(t))}handleSpecialEndTag(t){if(!this.preprocessor.startsWith(this.lastStartTagName,!1))return!this._ensureHibernation();this._createEndTagToken();const n=this.currentToken;switch(n.tagName=this.lastStartTagName,this.preprocessor.peek(this.lastStartTagName.length)){case M.SPACE:case M.LINE_FEED:case M.TABULATION:case M.FORM_FEED:return this._advanceBy(this.lastStartTagName.length),this.state=F.BEFORE_ATTRIBUTE_NAME,!1;case M.SOLIDUS:return this._advanceBy(this.lastStartTagName.length),this.state=F.SELF_CLOSING_START_TAG,!1;case M.GREATER_THAN_SIGN:return this._advanceBy(this.lastStartTagName.length),this.emitCurrentTagToken(),this.state=F.DATA,!1;default:return!this._ensureHibernation()}}_stateRcdataEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=F.RCDATA,this._stateRcdata(t))}_stateRawtextLessThanSign(t){t===M.SOLIDUS?this.state=F.RAWTEXT_END_TAG_OPEN:(this._emitChars("<"),this.state=F.RAWTEXT,this._stateRawtext(t))}_stateRawtextEndTagOpen(t){Ns(t)?(this.state=F.RAWTEXT_END_TAG_NAME,this._stateRawtextEndTagName(t)):(this._emitChars("</"),this.state=F.RAWTEXT,this._stateRawtext(t))}_stateRawtextEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=F.RAWTEXT,this._stateRawtext(t))}_stateScriptDataLessThanSign(t){switch(t){case M.SOLIDUS:{this.state=F.SCRIPT_DATA_END_TAG_OPEN;break}case M.EXCLAMATION_MARK:{this.state=F.SCRIPT_DATA_ESCAPE_START,this._emitChars("<!");break}default:this._emitChars("<"),this.state=F.SCRIPT_DATA,this._stateScriptData(t)}}_stateScriptDataEndTagOpen(t){Ns(t)?(this.state=F.SCRIPT_DATA_END_TAG_NAME,this._stateScriptDataEndTagName(t)):(this._emitChars("</"),this.state=F.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=F.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEscapeStart(t){t===M.HYPHEN_MINUS?(this.state=F.SCRIPT_DATA_ESCAPE_START_DASH,this._emitChars("-")):(this.state=F.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEscapeStartDash(t){t===M.HYPHEN_MINUS?(this.state=F.SCRIPT_DATA_ESCAPED_DASH_DASH,this._emitChars("-")):(this.state=F.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEscaped(t){switch(t){case M.HYPHEN_MINUS:{this.state=F.SCRIPT_DATA_ESCAPED_DASH,this._emitChars("-");break}case M.LESS_THAN_SIGN:{this.state=F.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case M.NULL:{this._err(ne.unexpectedNullCharacter),this._emitChars(jt);break}case M.EOF:{this._err(ne.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateScriptDataEscapedDash(t){switch(t){case M.HYPHEN_MINUS:{this.state=F.SCRIPT_DATA_ESCAPED_DASH_DASH,this._emitChars("-");break}case M.LESS_THAN_SIGN:{this.state=F.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case M.NULL:{this._err(ne.unexpectedNullCharacter),this.state=F.SCRIPT_DATA_ESCAPED,this._emitChars(jt);break}case M.EOF:{this._err(ne.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=F.SCRIPT_DATA_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataEscapedDashDash(t){switch(t){case M.HYPHEN_MINUS:{this._emitChars("-");break}case M.LESS_THAN_SIGN:{this.state=F.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case M.GREATER_THAN_SIGN:{this.state=F.SCRIPT_DATA,this._emitChars(">");break}case M.NULL:{this._err(ne.unexpectedNullCharacter),this.state=F.SCRIPT_DATA_ESCAPED,this._emitChars(jt);break}case M.EOF:{this._err(ne.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=F.SCRIPT_DATA_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataEscapedLessThanSign(t){t===M.SOLIDUS?this.state=F.SCRIPT_DATA_ESCAPED_END_TAG_OPEN:Ns(t)?(this._emitChars("<"),this.state=F.SCRIPT_DATA_DOUBLE_ESCAPE_START,this._stateScriptDataDoubleEscapeStart(t)):(this._emitChars("<"),this.state=F.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataEscapedEndTagOpen(t){Ns(t)?(this.state=F.SCRIPT_DATA_ESCAPED_END_TAG_NAME,this._stateScriptDataEscapedEndTagName(t)):(this._emitChars("</"),this.state=F.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataEscapedEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=F.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataDoubleEscapeStart(t){if(this.preprocessor.startsWith(ar.SCRIPT,!1)&&VT(this.preprocessor.peek(ar.SCRIPT.length))){this._emitCodePoint(t);for(let n=0;n<ar.SCRIPT.length;n++)this._emitCodePoint(this._consume());this.state=F.SCRIPT_DATA_DOUBLE_ESCAPED}else this._ensureHibernation()||(this.state=F.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataDoubleEscaped(t){switch(t){case M.HYPHEN_MINUS:{this.state=F.SCRIPT_DATA_DOUBLE_ESCAPED_DASH,this._emitChars("-");break}case M.LESS_THAN_SIGN:{this.state=F.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case M.NULL:{this._err(ne.unexpectedNullCharacter),this._emitChars(jt);break}case M.EOF:{this._err(ne.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateScriptDataDoubleEscapedDash(t){switch(t){case M.HYPHEN_MINUS:{this.state=F.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH,this._emitChars("-");break}case M.LESS_THAN_SIGN:{this.state=F.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case M.NULL:{this._err(ne.unexpectedNullCharacter),this.state=F.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitChars(jt);break}case M.EOF:{this._err(ne.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=F.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataDoubleEscapedDashDash(t){switch(t){case M.HYPHEN_MINUS:{this._emitChars("-");break}case M.LESS_THAN_SIGN:{this.state=F.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case M.GREATER_THAN_SIGN:{this.state=F.SCRIPT_DATA,this._emitChars(">");break}case M.NULL:{this._err(ne.unexpectedNullCharacter),this.state=F.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitChars(jt);break}case M.EOF:{this._err(ne.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=F.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataDoubleEscapedLessThanSign(t){t===M.SOLIDUS?(this.state=F.SCRIPT_DATA_DOUBLE_ESCAPE_END,this._emitChars("/")):(this.state=F.SCRIPT_DATA_DOUBLE_ESCAPED,this._stateScriptDataDoubleEscaped(t))}_stateScriptDataDoubleEscapeEnd(t){if(this.preprocessor.startsWith(ar.SCRIPT,!1)&&VT(this.preprocessor.peek(ar.SCRIPT.length))){this._emitCodePoint(t);for(let n=0;n<ar.SCRIPT.length;n++)this._emitCodePoint(this._consume());this.state=F.SCRIPT_DATA_ESCAPED}else this._ensureHibernation()||(this.state=F.SCRIPT_DATA_DOUBLE_ESCAPED,this._stateScriptDataDoubleEscaped(t))}_stateBeforeAttributeName(t){switch(t){case M.SPACE:case M.LINE_FEED:case M.TABULATION:case M.FORM_FEED:break;case M.SOLIDUS:case M.GREATER_THAN_SIGN:case M.EOF:{this.state=F.AFTER_ATTRIBUTE_NAME,this._stateAfterAttributeName(t);break}case M.EQUALS_SIGN:{this._err(ne.unexpectedEqualsSignBeforeAttributeName),this._createAttr("="),this.state=F.ATTRIBUTE_NAME;break}default:this._createAttr(""),this.state=F.ATTRIBUTE_NAME,this._stateAttributeName(t)}}_stateAttributeName(t){switch(t){case M.SPACE:case M.LINE_FEED:case M.TABULATION:case M.FORM_FEED:case M.SOLIDUS:case M.GREATER_THAN_SIGN:case M.EOF:{this._leaveAttrName(),this.state=F.AFTER_ATTRIBUTE_NAME,this._stateAfterAttributeName(t);break}case M.EQUALS_SIGN:{this._leaveAttrName(),this.state=F.BEFORE_ATTRIBUTE_VALUE;break}case M.QUOTATION_MARK:case M.APOSTROPHE:case M.LESS_THAN_SIGN:{this._err(ne.unexpectedCharacterInAttributeName),this.currentAttr.name+=String.fromCodePoint(t);break}case M.NULL:{this._err(ne.unexpectedNullCharacter),this.currentAttr.name+=jt;break}default:this.currentAttr.name+=String.fromCodePoint(Qu(t)?jp(t):t)}}_stateAfterAttributeName(t){switch(t){case M.SPACE:case M.LINE_FEED:case M.TABULATION:case M.FORM_FEED:break;case M.SOLIDUS:{this.state=F.SELF_CLOSING_START_TAG;break}case M.EQUALS_SIGN:{this.state=F.BEFORE_ATTRIBUTE_VALUE;break}case M.GREATER_THAN_SIGN:{this.state=F.DATA,this.emitCurrentTagToken();break}case M.EOF:{this._err(ne.eofInTag),this._emitEOFToken();break}default:this._createAttr(""),this.state=F.ATTRIBUTE_NAME,this._stateAttributeName(t)}}_stateBeforeAttributeValue(t){switch(t){case M.SPACE:case M.LINE_FEED:case M.TABULATION:case M.FORM_FEED:break;case M.QUOTATION_MARK:{this.state=F.ATTRIBUTE_VALUE_DOUBLE_QUOTED;break}case M.APOSTROPHE:{this.state=F.ATTRIBUTE_VALUE_SINGLE_QUOTED;break}case M.GREATER_THAN_SIGN:{this._err(ne.missingAttributeValue),this.state=F.DATA,this.emitCurrentTagToken();break}default:this.state=F.ATTRIBUTE_VALUE_UNQUOTED,this._stateAttributeValueUnquoted(t)}}_stateAttributeValueDoubleQuoted(t){switch(t){case M.QUOTATION_MARK:{this.state=F.AFTER_ATTRIBUTE_VALUE_QUOTED;break}case M.AMPERSAND:{this._startCharacterReference();break}case M.NULL:{this._err(ne.unexpectedNullCharacter),this.currentAttr.value+=jt;break}case M.EOF:{this._err(ne.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(t)}}_stateAttributeValueSingleQuoted(t){switch(t){case M.APOSTROPHE:{this.state=F.AFTER_ATTRIBUTE_VALUE_QUOTED;break}case M.AMPERSAND:{this._startCharacterReference();break}case M.NULL:{this._err(ne.unexpectedNullCharacter),this.currentAttr.value+=jt;break}case M.EOF:{this._err(ne.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(t)}}_stateAttributeValueUnquoted(t){switch(t){case M.SPACE:case M.LINE_FEED:case M.TABULATION:case M.FORM_FEED:{this._leaveAttrValue(),this.state=F.BEFORE_ATTRIBUTE_NAME;break}case M.AMPERSAND:{this._startCharacterReference();break}case M.GREATER_THAN_SIGN:{this._leaveAttrValue(),this.state=F.DATA,this.emitCurrentTagToken();break}case M.NULL:{this._err(ne.unexpectedNullCharacter),this.currentAttr.value+=jt;break}case M.QUOTATION_MARK:case M.APOSTROPHE:case M.LESS_THAN_SIGN:case M.EQUALS_SIGN:case M.GRAVE_ACCENT:{this._err(ne.unexpectedCharacterInUnquotedAttributeValue),this.currentAttr.value+=String.fromCodePoint(t);break}case M.EOF:{this._err(ne.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(t)}}_stateAfterAttributeValueQuoted(t){switch(t){case M.SPACE:case M.LINE_FEED:case M.TABULATION:case M.FORM_FEED:{this._leaveAttrValue(),this.state=F.BEFORE_ATTRIBUTE_NAME;break}case M.SOLIDUS:{this._leaveAttrValue(),this.state=F.SELF_CLOSING_START_TAG;break}case M.GREATER_THAN_SIGN:{this._leaveAttrValue(),this.state=F.DATA,this.emitCurrentTagToken();break}case M.EOF:{this._err(ne.eofInTag),this._emitEOFToken();break}default:this._err(ne.missingWhitespaceBetweenAttributes),this.state=F.BEFORE_ATTRIBUTE_NAME,this._stateBeforeAttributeName(t)}}_stateSelfClosingStartTag(t){switch(t){case M.GREATER_THAN_SIGN:{const n=this.currentToken;n.selfClosing=!0,this.state=F.DATA,this.emitCurrentTagToken();break}case M.EOF:{this._err(ne.eofInTag),this._emitEOFToken();break}default:this._err(ne.unexpectedSolidusInTag),this.state=F.BEFORE_ATTRIBUTE_NAME,this._stateBeforeAttributeName(t)}}_stateBogusComment(t){const n=this.currentToken;switch(t){case M.GREATER_THAN_SIGN:{this.state=F.DATA,this.emitCurrentComment(n);break}case M.EOF:{this.emitCurrentComment(n),this._emitEOFToken();break}case M.NULL:{this._err(ne.unexpectedNullCharacter),n.data+=jt;break}default:n.data+=String.fromCodePoint(t)}}_stateMarkupDeclarationOpen(t){this._consumeSequenceIfMatch(ar.DASH_DASH,!0)?(this._createCommentToken(ar.DASH_DASH.length+1),this.state=F.COMMENT_START):this._consumeSequenceIfMatch(ar.DOCTYPE,!1)?(this.currentLocation=this.getCurrentLocation(ar.DOCTYPE.length+1),this.state=F.DOCTYPE):this._consumeSequenceIfMatch(ar.CDATA_START,!0)?this.inForeignNode?this.state=F.CDATA_SECTION:(this._err(ne.cdataInHtmlContent),this._createCommentToken(ar.CDATA_START.length+1),this.currentToken.data="[CDATA[",this.state=F.BOGUS_COMMENT):this._ensureHibernation()||(this._err(ne.incorrectlyOpenedComment),this._createCommentToken(2),this.state=F.BOGUS_COMMENT,this._stateBogusComment(t))}_stateCommentStart(t){switch(t){case M.HYPHEN_MINUS:{this.state=F.COMMENT_START_DASH;break}case M.GREATER_THAN_SIGN:{this._err(ne.abruptClosingOfEmptyComment),this.state=F.DATA;const n=this.currentToken;this.emitCurrentComment(n);break}default:this.state=F.COMMENT,this._stateComment(t)}}_stateCommentStartDash(t){const n=this.currentToken;switch(t){case M.HYPHEN_MINUS:{this.state=F.COMMENT_END;break}case M.GREATER_THAN_SIGN:{this._err(ne.abruptClosingOfEmptyComment),this.state=F.DATA,this.emitCurrentComment(n);break}case M.EOF:{this._err(ne.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="-",this.state=F.COMMENT,this._stateComment(t)}}_stateComment(t){const n=this.currentToken;switch(t){case M.HYPHEN_MINUS:{this.state=F.COMMENT_END_DASH;break}case M.LESS_THAN_SIGN:{n.data+="<",this.state=F.COMMENT_LESS_THAN_SIGN;break}case M.NULL:{this._err(ne.unexpectedNullCharacter),n.data+=jt;break}case M.EOF:{this._err(ne.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+=String.fromCodePoint(t)}}_stateCommentLessThanSign(t){const n=this.currentToken;switch(t){case M.EXCLAMATION_MARK:{n.data+="!",this.state=F.COMMENT_LESS_THAN_SIGN_BANG;break}case M.LESS_THAN_SIGN:{n.data+="<";break}default:this.state=F.COMMENT,this._stateComment(t)}}_stateCommentLessThanSignBang(t){t===M.HYPHEN_MINUS?this.state=F.COMMENT_LESS_THAN_SIGN_BANG_DASH:(this.state=F.COMMENT,this._stateComment(t))}_stateCommentLessThanSignBangDash(t){t===M.HYPHEN_MINUS?this.state=F.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH:(this.state=F.COMMENT_END_DASH,this._stateCommentEndDash(t))}_stateCommentLessThanSignBangDashDash(t){t!==M.GREATER_THAN_SIGN&&t!==M.EOF&&this._err(ne.nestedComment),this.state=F.COMMENT_END,this._stateCommentEnd(t)}_stateCommentEndDash(t){const n=this.currentToken;switch(t){case M.HYPHEN_MINUS:{this.state=F.COMMENT_END;break}case M.EOF:{this._err(ne.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="-",this.state=F.COMMENT,this._stateComment(t)}}_stateCommentEnd(t){const n=this.currentToken;switch(t){case M.GREATER_THAN_SIGN:{this.state=F.DATA,this.emitCurrentComment(n);break}case M.EXCLAMATION_MARK:{this.state=F.COMMENT_END_BANG;break}case M.HYPHEN_MINUS:{n.data+="-";break}case M.EOF:{this._err(ne.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="--",this.state=F.COMMENT,this._stateComment(t)}}_stateCommentEndBang(t){const n=this.currentToken;switch(t){case M.HYPHEN_MINUS:{n.data+="--!",this.state=F.COMMENT_END_DASH;break}case M.GREATER_THAN_SIGN:{this._err(ne.incorrectlyClosedComment),this.state=F.DATA,this.emitCurrentComment(n);break}case M.EOF:{this._err(ne.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="--!",this.state=F.COMMENT,this._stateComment(t)}}_stateDoctype(t){switch(t){case M.SPACE:case M.LINE_FEED:case M.TABULATION:case M.FORM_FEED:{this.state=F.BEFORE_DOCTYPE_NAME;break}case M.GREATER_THAN_SIGN:{this.state=F.BEFORE_DOCTYPE_NAME,this._stateBeforeDoctypeName(t);break}case M.EOF:{this._err(ne.eofInDoctype),this._createDoctypeToken(null);const n=this.currentToken;n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(ne.missingWhitespaceBeforeDoctypeName),this.state=F.BEFORE_DOCTYPE_NAME,this._stateBeforeDoctypeName(t)}}_stateBeforeDoctypeName(t){if(Qu(t))this._createDoctypeToken(String.fromCharCode(jp(t))),this.state=F.DOCTYPE_NAME;else switch(t){case M.SPACE:case M.LINE_FEED:case M.TABULATION:case M.FORM_FEED:break;case M.NULL:{this._err(ne.unexpectedNullCharacter),this._createDoctypeToken(jt),this.state=F.DOCTYPE_NAME;break}case M.GREATER_THAN_SIGN:{this._err(ne.missingDoctypeName),this._createDoctypeToken(null);const n=this.currentToken;n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=F.DATA;break}case M.EOF:{this._err(ne.eofInDoctype),this._createDoctypeToken(null);const n=this.currentToken;n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._createDoctypeToken(String.fromCodePoint(t)),this.state=F.DOCTYPE_NAME}}_stateDoctypeName(t){const n=this.currentToken;switch(t){case M.SPACE:case M.LINE_FEED:case M.TABULATION:case M.FORM_FEED:{this.state=F.AFTER_DOCTYPE_NAME;break}case M.GREATER_THAN_SIGN:{this.state=F.DATA,this.emitCurrentDoctype(n);break}case M.NULL:{this._err(ne.unexpectedNullCharacter),n.name+=jt;break}case M.EOF:{this._err(ne.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.name+=String.fromCodePoint(Qu(t)?jp(t):t)}}_stateAfterDoctypeName(t){const n=this.currentToken;switch(t){case M.SPACE:case M.LINE_FEED:case M.TABULATION:case M.FORM_FEED:break;case M.GREATER_THAN_SIGN:{this.state=F.DATA,this.emitCurrentDoctype(n);break}case M.EOF:{this._err(ne.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._consumeSequenceIfMatch(ar.PUBLIC,!1)?this.state=F.AFTER_DOCTYPE_PUBLIC_KEYWORD:this._consumeSequenceIfMatch(ar.SYSTEM,!1)?this.state=F.AFTER_DOCTYPE_SYSTEM_KEYWORD:this._ensureHibernation()||(this._err(ne.invalidCharacterSequenceAfterDoctypeName),n.forceQuirks=!0,this.state=F.BOGUS_DOCTYPE,this._stateBogusDoctype(t))}}_stateAfterDoctypePublicKeyword(t){const n=this.currentToken;switch(t){case M.SPACE:case M.LINE_FEED:case M.TABULATION:case M.FORM_FEED:{this.state=F.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER;break}case M.QUOTATION_MARK:{this._err(ne.missingWhitespaceAfterDoctypePublicKeyword),n.publicId="",this.state=F.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED;break}case M.APOSTROPHE:{this._err(ne.missingWhitespaceAfterDoctypePublicKeyword),n.publicId="",this.state=F.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED;break}case M.GREATER_THAN_SIGN:{this._err(ne.missingDoctypePublicIdentifier),n.forceQuirks=!0,this.state=F.DATA,this.emitCurrentDoctype(n);break}case M.EOF:{this._err(ne.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(ne.missingQuoteBeforeDoctypePublicIdentifier),n.forceQuirks=!0,this.state=F.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBeforeDoctypePublicIdentifier(t){const n=this.currentToken;switch(t){case M.SPACE:case M.LINE_FEED:case M.TABULATION:case M.FORM_FEED:break;case M.QUOTATION_MARK:{n.publicId="",this.state=F.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED;break}case M.APOSTROPHE:{n.publicId="",this.state=F.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED;break}case M.GREATER_THAN_SIGN:{this._err(ne.missingDoctypePublicIdentifier),n.forceQuirks=!0,this.state=F.DATA,this.emitCurrentDoctype(n);break}case M.EOF:{this._err(ne.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(ne.missingQuoteBeforeDoctypePublicIdentifier),n.forceQuirks=!0,this.state=F.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateDoctypePublicIdentifierDoubleQuoted(t){const n=this.currentToken;switch(t){case M.QUOTATION_MARK:{this.state=F.AFTER_DOCTYPE_PUBLIC_IDENTIFIER;break}case M.NULL:{this._err(ne.unexpectedNullCharacter),n.publicId+=jt;break}case M.GREATER_THAN_SIGN:{this._err(ne.abruptDoctypePublicIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=F.DATA;break}case M.EOF:{this._err(ne.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.publicId+=String.fromCodePoint(t)}}_stateDoctypePublicIdentifierSingleQuoted(t){const n=this.currentToken;switch(t){case M.APOSTROPHE:{this.state=F.AFTER_DOCTYPE_PUBLIC_IDENTIFIER;break}case M.NULL:{this._err(ne.unexpectedNullCharacter),n.publicId+=jt;break}case M.GREATER_THAN_SIGN:{this._err(ne.abruptDoctypePublicIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=F.DATA;break}case M.EOF:{this._err(ne.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.publicId+=String.fromCodePoint(t)}}_stateAfterDoctypePublicIdentifier(t){const n=this.currentToken;switch(t){case M.SPACE:case M.LINE_FEED:case M.TABULATION:case M.FORM_FEED:{this.state=F.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS;break}case M.GREATER_THAN_SIGN:{this.state=F.DATA,this.emitCurrentDoctype(n);break}case M.QUOTATION_MARK:{this._err(ne.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),n.systemId="",this.state=F.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case M.APOSTROPHE:{this._err(ne.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),n.systemId="",this.state=F.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case M.EOF:{this._err(ne.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(ne.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=F.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBetweenDoctypePublicAndSystemIdentifiers(t){const n=this.currentToken;switch(t){case M.SPACE:case M.LINE_FEED:case M.TABULATION:case M.FORM_FEED:break;case M.GREATER_THAN_SIGN:{this.emitCurrentDoctype(n),this.state=F.DATA;break}case M.QUOTATION_MARK:{n.systemId="",this.state=F.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case M.APOSTROPHE:{n.systemId="",this.state=F.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case M.EOF:{this._err(ne.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(ne.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=F.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateAfterDoctypeSystemKeyword(t){const n=this.currentToken;switch(t){case M.SPACE:case M.LINE_FEED:case M.TABULATION:case M.FORM_FEED:{this.state=F.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER;break}case M.QUOTATION_MARK:{this._err(ne.missingWhitespaceAfterDoctypeSystemKeyword),n.systemId="",this.state=F.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case M.APOSTROPHE:{this._err(ne.missingWhitespaceAfterDoctypeSystemKeyword),n.systemId="",this.state=F.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case M.GREATER_THAN_SIGN:{this._err(ne.missingDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=F.DATA,this.emitCurrentDoctype(n);break}case M.EOF:{this._err(ne.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(ne.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=F.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBeforeDoctypeSystemIdentifier(t){const n=this.currentToken;switch(t){case M.SPACE:case M.LINE_FEED:case M.TABULATION:case M.FORM_FEED:break;case M.QUOTATION_MARK:{n.systemId="",this.state=F.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case M.APOSTROPHE:{n.systemId="",this.state=F.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case M.GREATER_THAN_SIGN:{this._err(ne.missingDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=F.DATA,this.emitCurrentDoctype(n);break}case M.EOF:{this._err(ne.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(ne.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=F.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateDoctypeSystemIdentifierDoubleQuoted(t){const n=this.currentToken;switch(t){case M.QUOTATION_MARK:{this.state=F.AFTER_DOCTYPE_SYSTEM_IDENTIFIER;break}case M.NULL:{this._err(ne.unexpectedNullCharacter),n.systemId+=jt;break}case M.GREATER_THAN_SIGN:{this._err(ne.abruptDoctypeSystemIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=F.DATA;break}case M.EOF:{this._err(ne.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.systemId+=String.fromCodePoint(t)}}_stateDoctypeSystemIdentifierSingleQuoted(t){const n=this.currentToken;switch(t){case M.APOSTROPHE:{this.state=F.AFTER_DOCTYPE_SYSTEM_IDENTIFIER;break}case M.NULL:{this._err(ne.unexpectedNullCharacter),n.systemId+=jt;break}case M.GREATER_THAN_SIGN:{this._err(ne.abruptDoctypeSystemIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=F.DATA;break}case M.EOF:{this._err(ne.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.systemId+=String.fromCodePoint(t)}}_stateAfterDoctypeSystemIdentifier(t){const n=this.currentToken;switch(t){case M.SPACE:case M.LINE_FEED:case M.TABULATION:case M.FORM_FEED:break;case M.GREATER_THAN_SIGN:{this.emitCurrentDoctype(n),this.state=F.DATA;break}case M.EOF:{this._err(ne.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(ne.unexpectedCharacterAfterDoctypeSystemIdentifier),this.state=F.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBogusDoctype(t){const n=this.currentToken;switch(t){case M.GREATER_THAN_SIGN:{this.emitCurrentDoctype(n),this.state=F.DATA;break}case M.NULL:{this._err(ne.unexpectedNullCharacter);break}case M.EOF:{this.emitCurrentDoctype(n),this._emitEOFToken();break}}}_stateCdataSection(t){switch(t){case M.RIGHT_SQUARE_BRACKET:{this.state=F.CDATA_SECTION_BRACKET;break}case M.EOF:{this._err(ne.eofInCdata),this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateCdataSectionBracket(t){t===M.RIGHT_SQUARE_BRACKET?this.state=F.CDATA_SECTION_END:(this._emitChars("]"),this.state=F.CDATA_SECTION,this._stateCdataSection(t))}_stateCdataSectionEnd(t){switch(t){case M.GREATER_THAN_SIGN:{this.state=F.DATA;break}case M.RIGHT_SQUARE_BRACKET:{this._emitChars("]");break}default:this._emitChars("]]"),this.state=F.CDATA_SECTION,this._stateCdataSection(t)}}_stateCharacterReference(){let t=this.entityDecoder.write(this.preprocessor.html,this.preprocessor.pos);if(t<0)if(this.preprocessor.lastChunkWritten)t=this.entityDecoder.end();else{this.active=!1,this.preprocessor.pos=this.preprocessor.html.length-1,this.consumedAfterSnapshot=0,this.preprocessor.endOfChunkHit=!0;return}t===0?(this.preprocessor.pos=this.entityStartPos,this._flushCodePointConsumedAsCharacterReference(M.AMPERSAND),this.state=!this._isCharacterReferenceInAttribute()&&qT(this.preprocessor.peek(1))?F.AMBIGUOUS_AMPERSAND:this.returnState):this.state=this.returnState}_stateAmbiguousAmpersand(t){qT(t)?this._flushCodePointConsumedAsCharacterReference(t):(t===M.SEMICOLON&&this._err(ne.unknownNamedCharacterReference),this.state=this.returnState,this._callState(t))}}const DD=new Set([b.DD,b.DT,b.LI,b.OPTGROUP,b.OPTION,b.P,b.RB,b.RP,b.RT,b.RTC]),WT=new Set([...DD,b.CAPTION,b.COLGROUP,b.TBODY,b.TD,b.TFOOT,b.TH,b.THEAD,b.TR]),Zh=new Set([b.APPLET,b.CAPTION,b.HTML,b.MARQUEE,b.OBJECT,b.TABLE,b.TD,b.TEMPLATE,b.TH]),_V=new Set([...Zh,b.OL,b.UL]),TV=new Set([...Zh,b.BUTTON]),YT=new Set([b.ANNOTATION_XML,b.MI,b.MN,b.MO,b.MS,b.MTEXT]),KT=new Set([b.DESC,b.FOREIGN_OBJECT,b.TITLE]),CV=new Set([b.TR,b.TEMPLATE,b.HTML]),AV=new Set([b.TBODY,b.TFOOT,b.THEAD,b.TEMPLATE,b.HTML]),IV=new Set([b.TABLE,b.TEMPLATE,b.HTML]),RV=new Set([b.TD,b.TH]);class DV{get currentTmplContentOrNode(){return this._isInTemplate()?this.treeAdapter.getTemplateContent(this.current):this.current}constructor(t,n,r){this.treeAdapter=n,this.handler=r,this.items=[],this.tagIDs=[],this.stackTop=-1,this.tmplCount=0,this.currentTagId=b.UNKNOWN,this.current=t}_indexOf(t){return this.items.lastIndexOf(t,this.stackTop)}_isInTemplate(){return this.currentTagId===b.TEMPLATE&&this.treeAdapter.getNamespaceURI(this.current)===le.HTML}_updateCurrentElement(){this.current=this.items[this.stackTop],this.currentTagId=this.tagIDs[this.stackTop]}push(t,n){this.stackTop++,this.items[this.stackTop]=t,this.current=t,this.tagIDs[this.stackTop]=n,this.currentTagId=n,this._isInTemplate()&&this.tmplCount++,this.handler.onItemPush(t,n,!0)}pop(){const t=this.current;this.tmplCount>0&&this._isInTemplate()&&this.tmplCount--,this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(t,!0)}replace(t,n){const r=this._indexOf(t);this.items[r]=n,r===this.stackTop&&(this.current=n)}insertAfter(t,n,r){const a=this._indexOf(t)+1;this.items.splice(a,0,n),this.tagIDs.splice(a,0,r),this.stackTop++,a===this.stackTop&&this._updateCurrentElement(),this.handler.onItemPush(this.current,this.currentTagId,a===this.stackTop)}popUntilTagNamePopped(t){let n=this.stackTop+1;do n=this.tagIDs.lastIndexOf(t,n-1);while(n>0&&this.treeAdapter.getNamespaceURI(this.items[n])!==le.HTML);this.shortenToLength(n<0?0:n)}shortenToLength(t){for(;this.stackTop>=t;){const n=this.current;this.tmplCount>0&&this._isInTemplate()&&(this.tmplCount-=1),this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(n,this.stackTop<t)}}popUntilElementPopped(t){const n=this._indexOf(t);this.shortenToLength(n<0?0:n)}popUntilPopped(t,n){const r=this._indexOfTagNames(t,n);this.shortenToLength(r<0?0:r)}popUntilNumberedHeaderPopped(){this.popUntilPopped(jb,le.HTML)}popUntilTableCellPopped(){this.popUntilPopped(RV,le.HTML)}popAllUpToHtmlElement(){this.tmplCount=0,this.shortenToLength(1)}_indexOfTagNames(t,n){for(let r=this.stackTop;r>=0;r--)if(t.has(this.tagIDs[r])&&this.treeAdapter.getNamespaceURI(this.items[r])===n)return r;return-1}clearBackTo(t,n){const r=this._indexOfTagNames(t,n);this.shortenToLength(r+1)}clearBackToTableContext(){this.clearBackTo(IV,le.HTML)}clearBackToTableBodyContext(){this.clearBackTo(AV,le.HTML)}clearBackToTableRowContext(){this.clearBackTo(CV,le.HTML)}remove(t){const n=this._indexOf(t);n>=0&&(n===this.stackTop?this.pop():(this.items.splice(n,1),this.tagIDs.splice(n,1),this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(t,!1)))}tryPeekProperlyNestedBodyElement(){return this.stackTop>=1&&this.tagIDs[1]===b.BODY?this.items[1]:null}contains(t){return this._indexOf(t)>-1}getCommonAncestor(t){const n=this._indexOf(t)-1;return n>=0?this.items[n]:null}isRootHtmlElementCurrent(){return this.stackTop===0&&this.tagIDs[0]===b.HTML}hasInDynamicScope(t,n){for(let r=this.stackTop;r>=0;r--){const a=this.tagIDs[r];switch(this.treeAdapter.getNamespaceURI(this.items[r])){case le.HTML:{if(a===t)return!0;if(n.has(a))return!1;break}case le.SVG:{if(KT.has(a))return!1;break}case le.MATHML:{if(YT.has(a))return!1;break}}}return!0}hasInScope(t){return this.hasInDynamicScope(t,Zh)}hasInListItemScope(t){return this.hasInDynamicScope(t,_V)}hasInButtonScope(t){return this.hasInDynamicScope(t,TV)}hasNumberedHeaderInScope(){for(let t=this.stackTop;t>=0;t--){const n=this.tagIDs[t];switch(this.treeAdapter.getNamespaceURI(this.items[t])){case le.HTML:{if(jb.has(n))return!0;if(Zh.has(n))return!1;break}case le.SVG:{if(KT.has(n))return!1;break}case le.MATHML:{if(YT.has(n))return!1;break}}}return!0}hasInTableScope(t){for(let n=this.stackTop;n>=0;n--)if(this.treeAdapter.getNamespaceURI(this.items[n])===le.HTML)switch(this.tagIDs[n]){case t:return!0;case b.TABLE:case b.HTML:return!1}return!0}hasTableBodyContextInTableScope(){for(let t=this.stackTop;t>=0;t--)if(this.treeAdapter.getNamespaceURI(this.items[t])===le.HTML)switch(this.tagIDs[t]){case b.TBODY:case b.THEAD:case b.TFOOT:return!0;case b.TABLE:case b.HTML:return!1}return!0}hasInSelectScope(t){for(let n=this.stackTop;n>=0;n--)if(this.treeAdapter.getNamespaceURI(this.items[n])===le.HTML)switch(this.tagIDs[n]){case t:return!0;case b.OPTION:case b.OPTGROUP:break;default:return!1}return!0}generateImpliedEndTags(){for(;DD.has(this.currentTagId);)this.pop()}generateImpliedEndTagsThoroughly(){for(;WT.has(this.currentTagId);)this.pop()}generateImpliedEndTagsWithExclusion(t){for(;this.currentTagId!==t&&WT.has(this.currentTagId);)this.pop()}}const Pg=3;var Na;(function(e){e[e.Marker=0]="Marker",e[e.Element=1]="Element"})(Na||(Na={}));const ZT={type:Na.Marker};class OV{constructor(t){this.treeAdapter=t,this.entries=[],this.bookmark=null}_getNoahArkConditionCandidates(t,n){const r=[],a=n.length,i=this.treeAdapter.getTagName(t),o=this.treeAdapter.getNamespaceURI(t);for(let l=0;l<this.entries.length;l++){const u=this.entries[l];if(u.type===Na.Marker)break;const{element:c}=u;if(this.treeAdapter.getTagName(c)===i&&this.treeAdapter.getNamespaceURI(c)===o){const d=this.treeAdapter.getAttrList(c);d.length===a&&r.push({idx:l,attrs:d})}}return r}_ensureNoahArkCondition(t){if(this.entries.length<Pg)return;const n=this.treeAdapter.getAttrList(t),r=this._getNoahArkConditionCandidates(t,n);if(r.length<Pg)return;const a=new Map(n.map(o=>[o.name,o.value]));let i=0;for(let o=0;o<r.length;o++){const l=r[o];l.attrs.every(u=>a.get(u.name)===u.value)&&(i+=1,i>=Pg&&this.entries.splice(l.idx,1))}}insertMarker(){this.entries.unshift(ZT)}pushElement(t,n){this._ensureNoahArkCondition(t),this.entries.unshift({type:Na.Element,element:t,token:n})}insertElementAfterBookmark(t,n){const r=this.entries.indexOf(this.bookmark);this.entries.splice(r,0,{type:Na.Element,element:t,token:n})}removeEntry(t){const n=this.entries.indexOf(t);n>=0&&this.entries.splice(n,1)}clearToLastMarker(){const t=this.entries.indexOf(ZT);t>=0?this.entries.splice(0,t+1):this.entries.length=0}getElementEntryInScopeWithTagName(t){const n=this.entries.find(r=>r.type===Na.Marker||this.treeAdapter.getTagName(r.element)===t);return n&&n.type===Na.Element?n:null}getElementEntry(t){return this.entries.find(n=>n.type===Na.Element&&n.element===t)}}const ks={createDocument(){return{nodeName:"#document",mode:Gr.NO_QUIRKS,childNodes:[]}},createDocumentFragment(){return{nodeName:"#document-fragment",childNodes:[]}},createElement(e,t,n){return{nodeName:e,tagName:e,attrs:n,namespaceURI:t,childNodes:[],parentNode:null}},createCommentNode(e){return{nodeName:"#comment",data:e,parentNode:null}},createTextNode(e){return{nodeName:"#text",value:e,parentNode:null}},appendChild(e,t){e.childNodes.push(t),t.parentNode=e},insertBefore(e,t,n){const r=e.childNodes.indexOf(n);e.childNodes.splice(r,0,t),t.parentNode=e},setTemplateContent(e,t){e.content=t},getTemplateContent(e){return e.content},setDocumentType(e,t,n,r){const a=e.childNodes.find(i=>i.nodeName==="#documentType");if(a)a.name=t,a.publicId=n,a.systemId=r;else{const i={nodeName:"#documentType",name:t,publicId:n,systemId:r,parentNode:null};ks.appendChild(e,i)}},setDocumentMode(e,t){e.mode=t},getDocumentMode(e){return e.mode},detachNode(e){if(e.parentNode){const t=e.parentNode.childNodes.indexOf(e);e.parentNode.childNodes.splice(t,1),e.parentNode=null}},insertText(e,t){if(e.childNodes.length>0){const n=e.childNodes[e.childNodes.length-1];if(ks.isTextNode(n)){n.value+=t;return}}ks.appendChild(e,ks.createTextNode(t))},insertTextBefore(e,t,n){const r=e.childNodes[e.childNodes.indexOf(n)-1];r&&ks.isTextNode(r)?r.value+=t:ks.insertBefore(e,ks.createTextNode(t),n)},adoptAttributes(e,t){const n=new Set(e.attrs.map(r=>r.name));for(let r=0;r<t.length;r++)n.has(t[r].name)||e.attrs.push(t[r])},getFirstChild(e){return e.childNodes[0]},getChildNodes(e){return e.childNodes},getParentNode(e){return e.parentNode},getAttrList(e){return e.attrs},getTagName(e){return e.tagName},getNamespaceURI(e){return e.namespaceURI},getTextNodeContent(e){return e.value},getCommentNodeContent(e){return e.data},getDocumentTypeNodeName(e){return e.name},getDocumentTypeNodePublicId(e){return e.publicId},getDocumentTypeNodeSystemId(e){return e.systemId},isTextNode(e){return e.nodeName==="#text"},isCommentNode(e){return e.nodeName==="#comment"},isDocumentTypeNode(e){return e.nodeName==="#documentType"},isElementNode(e){return Object.prototype.hasOwnProperty.call(e,"tagName")},setNodeSourceCodeLocation(e,t){e.sourceCodeLocation=t},getNodeSourceCodeLocation(e){return e.sourceCodeLocation},updateNodeSourceCodeLocation(e,t){e.sourceCodeLocation={...e.sourceCodeLocation,...t}}},OD="html",LV="about:legacy-compat",jV="http://www.ibm.com/data/dtd/v11/ibmxhtml1-transitional.dtd",LD=["+//silmaril//dtd html pro v0r11 19970101//","-//as//dtd html 3.0 aswedit + extensions//","-//advasoft ltd//dtd html 3.0 aswedit + extensions//","-//ietf//dtd html 2.0 level 1//","-//ietf//dtd html 2.0 level 2//","-//ietf//dtd html 2.0 strict level 1//","-//ietf//dtd html 2.0 strict level 2//","-//ietf//dtd html 2.0 strict//","-//ietf//dtd html 2.0//","-//ietf//dtd html 2.1e//","-//ietf//dtd html 3.0//","-//ietf//dtd html 3.2 final//","-//ietf//dtd html 3.2//","-//ietf//dtd html 3//","-//ietf//dtd html level 0//","-//ietf//dtd html level 1//","-//ietf//dtd html level 2//","-//ietf//dtd html level 3//","-//ietf//dtd html strict level 0//","-//ietf//dtd html strict level 1//","-//ietf//dtd html strict level 2//","-//ietf//dtd html strict level 3//","-//ietf//dtd html strict//","-//ietf//dtd html//","-//metrius//dtd metrius presentational//","-//microsoft//dtd internet explorer 2.0 html strict//","-//microsoft//dtd internet explorer 2.0 html//","-//microsoft//dtd internet explorer 2.0 tables//","-//microsoft//dtd internet explorer 3.0 html strict//","-//microsoft//dtd internet explorer 3.0 html//","-//microsoft//dtd internet explorer 3.0 tables//","-//netscape comm. corp.//dtd html//","-//netscape comm. corp.//dtd strict html//","-//o'reilly and associates//dtd html 2.0//","-//o'reilly and associates//dtd html extended 1.0//","-//o'reilly and associates//dtd html extended relaxed 1.0//","-//sq//dtd html 2.0 hotmetal + extensions//","-//softquad software//dtd hotmetal pro 6.0::19990601::extensions to html 4.0//","-//softquad//dtd hotmetal pro 4.0::19971010::extensions to html 4.0//","-//spyglass//dtd html 2.0 extended//","-//sun microsystems corp.//dtd hotjava html//","-//sun microsystems corp.//dtd hotjava strict html//","-//w3c//dtd html 3 1995-03-24//","-//w3c//dtd html 3.2 draft//","-//w3c//dtd html 3.2 final//","-//w3c//dtd html 3.2//","-//w3c//dtd html 3.2s draft//","-//w3c//dtd html 4.0 frameset//","-//w3c//dtd html 4.0 transitional//","-//w3c//dtd html experimental 19960712//","-//w3c//dtd html experimental 970421//","-//w3c//dtd w3 html//","-//w3o//dtd w3 html 3.0//","-//webtechs//dtd mozilla html 2.0//","-//webtechs//dtd mozilla html//"],MV=[...LD,"-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"],FV=new Set(["-//w3o//dtd w3 html strict 3.0//en//","-/w3c/dtd html 4.0 transitional/en","html"]),jD=["-//w3c//dtd xhtml 1.0 frameset//","-//w3c//dtd xhtml 1.0 transitional//"],PV=[...jD,"-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"];function XT(e,t){return t.some(n=>e.startsWith(n))}function BV(e){return e.name===OD&&e.publicId===null&&(e.systemId===null||e.systemId===LV)}function UV(e){if(e.name!==OD)return Gr.QUIRKS;const{systemId:t}=e;if(t&&t.toLowerCase()===jV)return Gr.QUIRKS;let{publicId:n}=e;if(n!==null){if(n=n.toLowerCase(),FV.has(n))return Gr.QUIRKS;let r=t===null?MV:LD;if(XT(n,r))return Gr.QUIRKS;if(r=t===null?jD:PV,XT(n,r))return Gr.LIMITED_QUIRKS}return Gr.NO_QUIRKS}const QT={TEXT_HTML:"text/html",APPLICATION_XML:"application/xhtml+xml"},$V="definitionurl",HV="definitionURL",zV=new Map(["attributeName","attributeType","baseFrequency","baseProfile","calcMode","clipPathUnits","diffuseConstant","edgeMode","filterUnits","glyphRef","gradientTransform","gradientUnits","kernelMatrix","kernelUnitLength","keyPoints","keySplines","keyTimes","lengthAdjust","limitingConeAngle","markerHeight","markerUnits","markerWidth","maskContentUnits","maskUnits","numOctaves","pathLength","patternContentUnits","patternTransform","patternUnits","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","refX","refY","repeatCount","repeatDur","requiredExtensions","requiredFeatures","specularConstant","specularExponent","spreadMethod","startOffset","stdDeviation","stitchTiles","surfaceScale","systemLanguage","tableValues","targetX","targetY","textLength","viewBox","viewTarget","xChannelSelector","yChannelSelector","zoomAndPan"].map(e=>[e.toLowerCase(),e])),GV=new Map([["xlink:actuate",{prefix:"xlink",name:"actuate",namespace:le.XLINK}],["xlink:arcrole",{prefix:"xlink",name:"arcrole",namespace:le.XLINK}],["xlink:href",{prefix:"xlink",name:"href",namespace:le.XLINK}],["xlink:role",{prefix:"xlink",name:"role",namespace:le.XLINK}],["xlink:show",{prefix:"xlink",name:"show",namespace:le.XLINK}],["xlink:title",{prefix:"xlink",name:"title",namespace:le.XLINK}],["xlink:type",{prefix:"xlink",name:"type",namespace:le.XLINK}],["xml:lang",{prefix:"xml",name:"lang",namespace:le.XML}],["xml:space",{prefix:"xml",name:"space",namespace:le.XML}],["xmlns",{prefix:"",name:"xmlns",namespace:le.XMLNS}],["xmlns:xlink",{prefix:"xmlns",name:"xlink",namespace:le.XMLNS}]]),qV=new Map(["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","textPath"].map(e=>[e.toLowerCase(),e])),VV=new Set([b.B,b.BIG,b.BLOCKQUOTE,b.BODY,b.BR,b.CENTER,b.CODE,b.DD,b.DIV,b.DL,b.DT,b.EM,b.EMBED,b.H1,b.H2,b.H3,b.H4,b.H5,b.H6,b.HEAD,b.HR,b.I,b.IMG,b.LI,b.LISTING,b.MENU,b.META,b.NOBR,b.OL,b.P,b.PRE,b.RUBY,b.S,b.SMALL,b.SPAN,b.STRONG,b.STRIKE,b.SUB,b.SUP,b.TABLE,b.TT,b.U,b.UL,b.VAR]);function WV(e){const t=e.tagID;return t===b.FONT&&e.attrs.some(({name:r})=>r===Ki.COLOR||r===Ki.SIZE||r===Ki.FACE)||VV.has(t)}function MD(e){for(let t=0;t<e.attrs.length;t++)if(e.attrs[t].name===$V){e.attrs[t].name=HV;break}}function FD(e){for(let t=0;t<e.attrs.length;t++){const n=zV.get(e.attrs[t].name);n!=null&&(e.attrs[t].name=n)}}function n1(e){for(let t=0;t<e.attrs.length;t++){const n=GV.get(e.attrs[t].name);n&&(e.attrs[t].prefix=n.prefix,e.attrs[t].name=n.name,e.attrs[t].namespace=n.namespace)}}function YV(e){const t=qV.get(e.tagName);t!=null&&(e.tagName=t,e.tagID=hu(e.tagName))}function KV(e,t){return t===le.MATHML&&(e===b.MI||e===b.MO||e===b.MN||e===b.MS||e===b.MTEXT)}function ZV(e,t,n){if(t===le.MATHML&&e===b.ANNOTATION_XML){for(let r=0;r<n.length;r++)if(n[r].name===Ki.ENCODING){const a=n[r].value.toLowerCase();return a===QT.TEXT_HTML||a===QT.APPLICATION_XML}}return t===le.SVG&&(e===b.FOREIGN_OBJECT||e===b.DESC||e===b.TITLE)}function XV(e,t,n,r){return(!r||r===le.HTML)&&ZV(e,t,n)||(!r||r===le.MATHML)&&KV(e,t)}const QV="hidden",JV=8,eW=3;var H;(function(e){e[e.INITIAL=0]="INITIAL",e[e.BEFORE_HTML=1]="BEFORE_HTML",e[e.BEFORE_HEAD=2]="BEFORE_HEAD",e[e.IN_HEAD=3]="IN_HEAD",e[e.IN_HEAD_NO_SCRIPT=4]="IN_HEAD_NO_SCRIPT",e[e.AFTER_HEAD=5]="AFTER_HEAD",e[e.IN_BODY=6]="IN_BODY",e[e.TEXT=7]="TEXT",e[e.IN_TABLE=8]="IN_TABLE",e[e.IN_TABLE_TEXT=9]="IN_TABLE_TEXT",e[e.IN_CAPTION=10]="IN_CAPTION",e[e.IN_COLUMN_GROUP=11]="IN_COLUMN_GROUP",e[e.IN_TABLE_BODY=12]="IN_TABLE_BODY",e[e.IN_ROW=13]="IN_ROW",e[e.IN_CELL=14]="IN_CELL",e[e.IN_SELECT=15]="IN_SELECT",e[e.IN_SELECT_IN_TABLE=16]="IN_SELECT_IN_TABLE",e[e.IN_TEMPLATE=17]="IN_TEMPLATE",e[e.AFTER_BODY=18]="AFTER_BODY",e[e.IN_FRAMESET=19]="IN_FRAMESET",e[e.AFTER_FRAMESET=20]="AFTER_FRAMESET",e[e.AFTER_AFTER_BODY=21]="AFTER_AFTER_BODY",e[e.AFTER_AFTER_FRAMESET=22]="AFTER_AFTER_FRAMESET"})(H||(H={}));const tW={startLine:-1,startCol:-1,startOffset:-1,endLine:-1,endCol:-1,endOffset:-1},PD=new Set([b.TABLE,b.TBODY,b.TFOOT,b.THEAD,b.TR]),JT={scriptingEnabled:!0,sourceCodeLocationInfo:!1,treeAdapter:ks,onParseError:null};class Xh{constructor(t,n,r=null,a=null){this.fragmentContext=r,this.scriptHandler=a,this.currentToken=null,this.stopped=!1,this.insertionMode=H.INITIAL,this.originalInsertionMode=H.INITIAL,this.headElement=null,this.formElement=null,this.currentNotInHTML=!1,this.tmplInsertionModeStack=[],this.pendingCharacterTokens=[],this.hasNonWhitespacePendingCharacterToken=!1,this.framesetOk=!0,this.skipNextNewLine=!1,this.fosterParentingEnabled=!1,this.options={...JT,...t},this.treeAdapter=this.options.treeAdapter,this.onParseError=this.options.onParseError,this.onParseError&&(this.options.sourceCodeLocationInfo=!0),this.document=n??this.treeAdapter.createDocument(),this.tokenizer=new kV(this.options,this),this.activeFormattingElements=new OV(this.treeAdapter),this.fragmentContextID=r?hu(this.treeAdapter.getTagName(r)):b.UNKNOWN,this._setContextModes(r??this.document,this.fragmentContextID),this.openElements=new DV(this.document,this.treeAdapter,this)}static parse(t,n){const r=new this(n);return r.tokenizer.write(t,!0),r.document}static getFragmentParser(t,n){const r={...JT,...n};t??(t=r.treeAdapter.createElement(J.TEMPLATE,le.HTML,[]));const a=r.treeAdapter.createElement("documentmock",le.HTML,[]),i=new this(r,a,t);return i.fragmentContextID===b.TEMPLATE&&i.tmplInsertionModeStack.unshift(H.IN_TEMPLATE),i._initTokenizerForFragmentParsing(),i._insertFakeRootElement(),i._resetInsertionMode(),i._findFormInFragmentContext(),i}getFragment(){const t=this.treeAdapter.getFirstChild(this.document),n=this.treeAdapter.createDocumentFragment();return this._adoptNodes(t,n),n}_err(t,n,r){var a;if(!this.onParseError)return;const i=(a=t.location)!==null&&a!==void 0?a:tW,o={code:n,startLine:i.startLine,startCol:i.startCol,startOffset:i.startOffset,endLine:r?i.startLine:i.endLine,endCol:r?i.startCol:i.endCol,endOffset:r?i.startOffset:i.endOffset};this.onParseError(o)}onItemPush(t,n,r){var a,i;(i=(a=this.treeAdapter).onItemPush)===null||i===void 0||i.call(a,t),r&&this.openElements.stackTop>0&&this._setContextModes(t,n)}onItemPop(t,n){var r,a;if(this.options.sourceCodeLocationInfo&&this._setEndLocation(t,this.currentToken),(a=(r=this.treeAdapter).onItemPop)===null||a===void 0||a.call(r,t,this.openElements.current),n){let i,o;this.openElements.stackTop===0&&this.fragmentContext?(i=this.fragmentContext,o=this.fragmentContextID):{current:i,currentTagId:o}=this.openElements,this._setContextModes(i,o)}}_setContextModes(t,n){const r=t===this.document||this.treeAdapter.getNamespaceURI(t)===le.HTML;this.currentNotInHTML=!r,this.tokenizer.inForeignNode=!r&&!this._isIntegrationPoint(n,t)}_switchToTextParsing(t,n){this._insertElement(t,le.HTML),this.tokenizer.state=n,this.originalInsertionMode=this.insertionMode,this.insertionMode=H.TEXT}switchToPlaintextParsing(){this.insertionMode=H.TEXT,this.originalInsertionMode=H.IN_BODY,this.tokenizer.state=Kt.PLAINTEXT}_getAdjustedCurrentElement(){return this.openElements.stackTop===0&&this.fragmentContext?this.fragmentContext:this.openElements.current}_findFormInFragmentContext(){let t=this.fragmentContext;for(;t;){if(this.treeAdapter.getTagName(t)===J.FORM){this.formElement=t;break}t=this.treeAdapter.getParentNode(t)}}_initTokenizerForFragmentParsing(){if(!(!this.fragmentContext||this.treeAdapter.getNamespaceURI(this.fragmentContext)!==le.HTML))switch(this.fragmentContextID){case b.TITLE:case b.TEXTAREA:{this.tokenizer.state=Kt.RCDATA;break}case b.STYLE:case b.XMP:case b.IFRAME:case b.NOEMBED:case b.NOFRAMES:case b.NOSCRIPT:{this.tokenizer.state=Kt.RAWTEXT;break}case b.SCRIPT:{this.tokenizer.state=Kt.SCRIPT_DATA;break}case b.PLAINTEXT:{this.tokenizer.state=Kt.PLAINTEXT;break}}}_setDocumentType(t){const n=t.name||"",r=t.publicId||"",a=t.systemId||"";if(this.treeAdapter.setDocumentType(this.document,n,r,a),t.location){const o=this.treeAdapter.getChildNodes(this.document).find(l=>this.treeAdapter.isDocumentTypeNode(l));o&&this.treeAdapter.setNodeSourceCodeLocation(o,t.location)}}_attachElementToTree(t,n){if(this.options.sourceCodeLocationInfo){const r=n&&{...n,startTag:n};this.treeAdapter.setNodeSourceCodeLocation(t,r)}if(this._shouldFosterParentOnInsertion())this._fosterParentElement(t);else{const r=this.openElements.currentTmplContentOrNode;this.treeAdapter.appendChild(r,t)}}_appendElement(t,n){const r=this.treeAdapter.createElement(t.tagName,n,t.attrs);this._attachElementToTree(r,t.location)}_insertElement(t,n){const r=this.treeAdapter.createElement(t.tagName,n,t.attrs);this._attachElementToTree(r,t.location),this.openElements.push(r,t.tagID)}_insertFakeElement(t,n){const r=this.treeAdapter.createElement(t,le.HTML,[]);this._attachElementToTree(r,null),this.openElements.push(r,n)}_insertTemplate(t){const n=this.treeAdapter.createElement(t.tagName,le.HTML,t.attrs),r=this.treeAdapter.createDocumentFragment();this.treeAdapter.setTemplateContent(n,r),this._attachElementToTree(n,t.location),this.openElements.push(n,t.tagID),this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(r,null)}_insertFakeRootElement(){const t=this.treeAdapter.createElement(J.HTML,le.HTML,[]);this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(t,null),this.treeAdapter.appendChild(this.openElements.current,t),this.openElements.push(t,b.HTML)}_appendCommentNode(t,n){const r=this.treeAdapter.createCommentNode(t.data);this.treeAdapter.appendChild(n,r),this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(r,t.location)}_insertCharacters(t){let n,r;if(this._shouldFosterParentOnInsertion()?({parent:n,beforeElement:r}=this._findFosterParentingLocation(),r?this.treeAdapter.insertTextBefore(n,t.chars,r):this.treeAdapter.insertText(n,t.chars)):(n=this.openElements.currentTmplContentOrNode,this.treeAdapter.insertText(n,t.chars)),!t.location)return;const a=this.treeAdapter.getChildNodes(n),i=r?a.lastIndexOf(r):a.length,o=a[i-1];if(this.treeAdapter.getNodeSourceCodeLocation(o)){const{endLine:u,endCol:c,endOffset:d}=t.location;this.treeAdapter.updateNodeSourceCodeLocation(o,{endLine:u,endCol:c,endOffset:d})}else this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(o,t.location)}_adoptNodes(t,n){for(let r=this.treeAdapter.getFirstChild(t);r;r=this.treeAdapter.getFirstChild(t))this.treeAdapter.detachNode(r),this.treeAdapter.appendChild(n,r)}_setEndLocation(t,n){if(this.treeAdapter.getNodeSourceCodeLocation(t)&&n.location){const r=n.location,a=this.treeAdapter.getTagName(t),i=n.type===Je.END_TAG&&a===n.tagName?{endTag:{...r},endLine:r.endLine,endCol:r.endCol,endOffset:r.endOffset}:{endLine:r.startLine,endCol:r.startCol,endOffset:r.startOffset};this.treeAdapter.updateNodeSourceCodeLocation(t,i)}}shouldProcessStartTagTokenInForeignContent(t){if(!this.currentNotInHTML)return!1;let n,r;return this.openElements.stackTop===0&&this.fragmentContext?(n=this.fragmentContext,r=this.fragmentContextID):{current:n,currentTagId:r}=this.openElements,t.tagID===b.SVG&&this.treeAdapter.getTagName(n)===J.ANNOTATION_XML&&this.treeAdapter.getNamespaceURI(n)===le.MATHML?!1:this.tokenizer.inForeignNode||(t.tagID===b.MGLYPH||t.tagID===b.MALIGNMARK)&&!this._isIntegrationPoint(r,n,le.HTML)}_processToken(t){switch(t.type){case Je.CHARACTER:{this.onCharacter(t);break}case Je.NULL_CHARACTER:{this.onNullCharacter(t);break}case Je.COMMENT:{this.onComment(t);break}case Je.DOCTYPE:{this.onDoctype(t);break}case Je.START_TAG:{this._processStartTag(t);break}case Je.END_TAG:{this.onEndTag(t);break}case Je.EOF:{this.onEof(t);break}case Je.WHITESPACE_CHARACTER:{this.onWhitespaceCharacter(t);break}}}_isIntegrationPoint(t,n,r){const a=this.treeAdapter.getNamespaceURI(n),i=this.treeAdapter.getAttrList(n);return XV(t,a,i,r)}_reconstructActiveFormattingElements(){const t=this.activeFormattingElements.entries.length;if(t){const n=this.activeFormattingElements.entries.findIndex(a=>a.type===Na.Marker||this.openElements.contains(a.element)),r=n<0?t-1:n-1;for(let a=r;a>=0;a--){const i=this.activeFormattingElements.entries[a];this._insertElement(i.token,this.treeAdapter.getNamespaceURI(i.element)),i.element=this.openElements.current}}}_closeTableCell(){this.openElements.generateImpliedEndTags(),this.openElements.popUntilTableCellPopped(),this.activeFormattingElements.clearToLastMarker(),this.insertionMode=H.IN_ROW}_closePElement(){this.openElements.generateImpliedEndTagsWithExclusion(b.P),this.openElements.popUntilTagNamePopped(b.P)}_resetInsertionMode(){for(let t=this.openElements.stackTop;t>=0;t--)switch(t===0&&this.fragmentContext?this.fragmentContextID:this.openElements.tagIDs[t]){case b.TR:{this.insertionMode=H.IN_ROW;return}case b.TBODY:case b.THEAD:case b.TFOOT:{this.insertionMode=H.IN_TABLE_BODY;return}case b.CAPTION:{this.insertionMode=H.IN_CAPTION;return}case b.COLGROUP:{this.insertionMode=H.IN_COLUMN_GROUP;return}case b.TABLE:{this.insertionMode=H.IN_TABLE;return}case b.BODY:{this.insertionMode=H.IN_BODY;return}case b.FRAMESET:{this.insertionMode=H.IN_FRAMESET;return}case b.SELECT:{this._resetInsertionModeForSelect(t);return}case b.TEMPLATE:{this.insertionMode=this.tmplInsertionModeStack[0];return}case b.HTML:{this.insertionMode=this.headElement?H.AFTER_HEAD:H.BEFORE_HEAD;return}case b.TD:case b.TH:{if(t>0){this.insertionMode=H.IN_CELL;return}break}case b.HEAD:{if(t>0){this.insertionMode=H.IN_HEAD;return}break}}this.insertionMode=H.IN_BODY}_resetInsertionModeForSelect(t){if(t>0)for(let n=t-1;n>0;n--){const r=this.openElements.tagIDs[n];if(r===b.TEMPLATE)break;if(r===b.TABLE){this.insertionMode=H.IN_SELECT_IN_TABLE;return}}this.insertionMode=H.IN_SELECT}_isElementCausesFosterParenting(t){return PD.has(t)}_shouldFosterParentOnInsertion(){return this.fosterParentingEnabled&&this._isElementCausesFosterParenting(this.openElements.currentTagId)}_findFosterParentingLocation(){for(let t=this.openElements.stackTop;t>=0;t--){const n=this.openElements.items[t];switch(this.openElements.tagIDs[t]){case b.TEMPLATE:{if(this.treeAdapter.getNamespaceURI(n)===le.HTML)return{parent:this.treeAdapter.getTemplateContent(n),beforeElement:null};break}case b.TABLE:{const r=this.treeAdapter.getParentNode(n);return r?{parent:r,beforeElement:n}:{parent:this.openElements.items[t-1],beforeElement:null}}}}return{parent:this.openElements.items[0],beforeElement:null}}_fosterParentElement(t){const n=this._findFosterParentingLocation();n.beforeElement?this.treeAdapter.insertBefore(n.parent,t,n.beforeElement):this.treeAdapter.appendChild(n.parent,t)}_isSpecialElement(t,n){const r=this.treeAdapter.getNamespaceURI(t);return EV[r].has(n)}onCharacter(t){if(this.skipNextNewLine=!1,this.tokenizer.inForeignNode){RY(this,t);return}switch(this.insertionMode){case H.INITIAL:{Bu(this,t);break}case H.BEFORE_HTML:{yc(this,t);break}case H.BEFORE_HEAD:{xc(this,t);break}case H.IN_HEAD:{vc(this,t);break}case H.IN_HEAD_NO_SCRIPT:{Ec(this,t);break}case H.AFTER_HEAD:{wc(this,t);break}case H.IN_BODY:case H.IN_CAPTION:case H.IN_CELL:case H.IN_TEMPLATE:{UD(this,t);break}case H.TEXT:case H.IN_SELECT:case H.IN_SELECT_IN_TABLE:{this._insertCharacters(t);break}case H.IN_TABLE:case H.IN_TABLE_BODY:case H.IN_ROW:{Bg(this,t);break}case H.IN_TABLE_TEXT:{VD(this,t);break}case H.IN_COLUMN_GROUP:{Qh(this,t);break}case H.AFTER_BODY:{Jh(this,t);break}case H.AFTER_AFTER_BODY:{oh(this,t);break}}}onNullCharacter(t){if(this.skipNextNewLine=!1,this.tokenizer.inForeignNode){IY(this,t);return}switch(this.insertionMode){case H.INITIAL:{Bu(this,t);break}case H.BEFORE_HTML:{yc(this,t);break}case H.BEFORE_HEAD:{xc(this,t);break}case H.IN_HEAD:{vc(this,t);break}case H.IN_HEAD_NO_SCRIPT:{Ec(this,t);break}case H.AFTER_HEAD:{wc(this,t);break}case H.TEXT:{this._insertCharacters(t);break}case H.IN_TABLE:case H.IN_TABLE_BODY:case H.IN_ROW:{Bg(this,t);break}case H.IN_COLUMN_GROUP:{Qh(this,t);break}case H.AFTER_BODY:{Jh(this,t);break}case H.AFTER_AFTER_BODY:{oh(this,t);break}}}onComment(t){if(this.skipNextNewLine=!1,this.currentNotInHTML){Mb(this,t);return}switch(this.insertionMode){case H.INITIAL:case H.BEFORE_HTML:case H.BEFORE_HEAD:case H.IN_HEAD:case H.IN_HEAD_NO_SCRIPT:case H.AFTER_HEAD:case H.IN_BODY:case H.IN_TABLE:case H.IN_CAPTION:case H.IN_COLUMN_GROUP:case H.IN_TABLE_BODY:case H.IN_ROW:case H.IN_CELL:case H.IN_SELECT:case H.IN_SELECT_IN_TABLE:case H.IN_TEMPLATE:case H.IN_FRAMESET:case H.AFTER_FRAMESET:{Mb(this,t);break}case H.IN_TABLE_TEXT:{Uu(this,t);break}case H.AFTER_BODY:{lW(this,t);break}case H.AFTER_AFTER_BODY:case H.AFTER_AFTER_FRAMESET:{uW(this,t);break}}}onDoctype(t){switch(this.skipNextNewLine=!1,this.insertionMode){case H.INITIAL:{cW(this,t);break}case H.BEFORE_HEAD:case H.IN_HEAD:case H.IN_HEAD_NO_SCRIPT:case H.AFTER_HEAD:{this._err(t,ne.misplacedDoctype);break}case H.IN_TABLE_TEXT:{Uu(this,t);break}}}onStartTag(t){this.skipNextNewLine=!1,this.currentToken=t,this._processStartTag(t),t.selfClosing&&!t.ackSelfClosing&&this._err(t,ne.nonVoidHtmlElementStartTagWithTrailingSolidus)}_processStartTag(t){this.shouldProcessStartTagTokenInForeignContent(t)?DY(this,t):this._startTagOutsideForeignContent(t)}_startTagOutsideForeignContent(t){switch(this.insertionMode){case H.INITIAL:{Bu(this,t);break}case H.BEFORE_HTML:{dW(this,t);break}case H.BEFORE_HEAD:{hW(this,t);break}case H.IN_HEAD:{da(this,t);break}case H.IN_HEAD_NO_SCRIPT:{gW(this,t);break}case H.AFTER_HEAD:{yW(this,t);break}case H.IN_BODY:{Hn(this,t);break}case H.IN_TABLE:{ql(this,t);break}case H.IN_TABLE_TEXT:{Uu(this,t);break}case H.IN_CAPTION:{fY(this,t);break}case H.IN_COLUMN_GROUP:{s1(this,t);break}case H.IN_TABLE_BODY:{nm(this,t);break}case H.IN_ROW:{rm(this,t);break}case H.IN_CELL:{bY(this,t);break}case H.IN_SELECT:{KD(this,t);break}case H.IN_SELECT_IN_TABLE:{xY(this,t);break}case H.IN_TEMPLATE:{EY(this,t);break}case H.AFTER_BODY:{SY(this,t);break}case H.IN_FRAMESET:{NY(this,t);break}case H.AFTER_FRAMESET:{_Y(this,t);break}case H.AFTER_AFTER_BODY:{CY(this,t);break}case H.AFTER_AFTER_FRAMESET:{AY(this,t);break}}}onEndTag(t){this.skipNextNewLine=!1,this.currentToken=t,this.currentNotInHTML?OY(this,t):this._endTagOutsideForeignContent(t)}_endTagOutsideForeignContent(t){switch(this.insertionMode){case H.INITIAL:{Bu(this,t);break}case H.BEFORE_HTML:{pW(this,t);break}case H.BEFORE_HEAD:{fW(this,t);break}case H.IN_HEAD:{mW(this,t);break}case H.IN_HEAD_NO_SCRIPT:{bW(this,t);break}case H.AFTER_HEAD:{xW(this,t);break}case H.IN_BODY:{tm(this,t);break}case H.TEXT:{aY(this,t);break}case H.IN_TABLE:{ed(this,t);break}case H.IN_TABLE_TEXT:{Uu(this,t);break}case H.IN_CAPTION:{mY(this,t);break}case H.IN_COLUMN_GROUP:{gY(this,t);break}case H.IN_TABLE_BODY:{Fb(this,t);break}case H.IN_ROW:{YD(this,t);break}case H.IN_CELL:{yY(this,t);break}case H.IN_SELECT:{ZD(this,t);break}case H.IN_SELECT_IN_TABLE:{vY(this,t);break}case H.IN_TEMPLATE:{wY(this,t);break}case H.AFTER_BODY:{QD(this,t);break}case H.IN_FRAMESET:{kY(this,t);break}case H.AFTER_FRAMESET:{TY(this,t);break}case H.AFTER_AFTER_BODY:{oh(this,t);break}}}onEof(t){switch(this.insertionMode){case H.INITIAL:{Bu(this,t);break}case H.BEFORE_HTML:{yc(this,t);break}case H.BEFORE_HEAD:{xc(this,t);break}case H.IN_HEAD:{vc(this,t);break}case H.IN_HEAD_NO_SCRIPT:{Ec(this,t);break}case H.AFTER_HEAD:{wc(this,t);break}case H.IN_BODY:case H.IN_TABLE:case H.IN_CAPTION:case H.IN_COLUMN_GROUP:case H.IN_TABLE_BODY:case H.IN_ROW:case H.IN_CELL:case H.IN_SELECT:case H.IN_SELECT_IN_TABLE:{GD(this,t);break}case H.TEXT:{sY(this,t);break}case H.IN_TABLE_TEXT:{Uu(this,t);break}case H.IN_TEMPLATE:{XD(this,t);break}case H.AFTER_BODY:case H.IN_FRAMESET:case H.AFTER_FRAMESET:case H.AFTER_AFTER_BODY:case H.AFTER_AFTER_FRAMESET:{a1(this,t);break}}}onWhitespaceCharacter(t){if(this.skipNextNewLine&&(this.skipNextNewLine=!1,t.chars.charCodeAt(0)===M.LINE_FEED)){if(t.chars.length===1)return;t.chars=t.chars.substr(1)}if(this.tokenizer.inForeignNode){this._insertCharacters(t);return}switch(this.insertionMode){case H.IN_HEAD:case H.IN_HEAD_NO_SCRIPT:case H.AFTER_HEAD:case H.TEXT:case H.IN_COLUMN_GROUP:case H.IN_SELECT:case H.IN_SELECT_IN_TABLE:case H.IN_FRAMESET:case H.AFTER_FRAMESET:{this._insertCharacters(t);break}case H.IN_BODY:case H.IN_CAPTION:case H.IN_CELL:case H.IN_TEMPLATE:case H.AFTER_BODY:case H.AFTER_AFTER_BODY:case H.AFTER_AFTER_FRAMESET:{BD(this,t);break}case H.IN_TABLE:case H.IN_TABLE_BODY:case H.IN_ROW:{Bg(this,t);break}case H.IN_TABLE_TEXT:{qD(this,t);break}}}}function nW(e,t){let n=e.activeFormattingElements.getElementEntryInScopeWithTagName(t.tagName);return n?e.openElements.contains(n.element)?e.openElements.hasInScope(t.tagID)||(n=null):(e.activeFormattingElements.removeEntry(n),n=null):zD(e,t),n}function rW(e,t){let n=null,r=e.openElements.stackTop;for(;r>=0;r--){const a=e.openElements.items[r];if(a===t.element)break;e._isSpecialElement(a,e.openElements.tagIDs[r])&&(n=a)}return n||(e.openElements.shortenToLength(r<0?0:r),e.activeFormattingElements.removeEntry(t)),n}function aW(e,t,n){let r=t,a=e.openElements.getCommonAncestor(t);for(let i=0,o=a;o!==n;i++,o=a){a=e.openElements.getCommonAncestor(o);const l=e.activeFormattingElements.getElementEntry(o),u=l&&i>=eW;!l||u?(u&&e.activeFormattingElements.removeEntry(l),e.openElements.remove(o)):(o=sW(e,l),r===t&&(e.activeFormattingElements.bookmark=l),e.treeAdapter.detachNode(r),e.treeAdapter.appendChild(o,r),r=o)}return r}function sW(e,t){const n=e.treeAdapter.getNamespaceURI(t.element),r=e.treeAdapter.createElement(t.token.tagName,n,t.token.attrs);return e.openElements.replace(t.element,r),t.element=r,r}function iW(e,t,n){const r=e.treeAdapter.getTagName(t),a=hu(r);if(e._isElementCausesFosterParenting(a))e._fosterParentElement(n);else{const i=e.treeAdapter.getNamespaceURI(t);a===b.TEMPLATE&&i===le.HTML&&(t=e.treeAdapter.getTemplateContent(t)),e.treeAdapter.appendChild(t,n)}}function oW(e,t,n){const r=e.treeAdapter.getNamespaceURI(n.element),{token:a}=n,i=e.treeAdapter.createElement(a.tagName,r,a.attrs);e._adoptNodes(t,i),e.treeAdapter.appendChild(t,i),e.activeFormattingElements.insertElementAfterBookmark(i,a),e.activeFormattingElements.removeEntry(n),e.openElements.remove(n.element),e.openElements.insertAfter(t,i,a.tagID)}function r1(e,t){for(let n=0;n<JV;n++){const r=nW(e,t);if(!r)break;const a=rW(e,r);if(!a)break;e.activeFormattingElements.bookmark=r;const i=aW(e,a,r.element),o=e.openElements.getCommonAncestor(r.element);e.treeAdapter.detachNode(i),o&&iW(e,o,i),oW(e,a,r)}}function Mb(e,t){e._appendCommentNode(t,e.openElements.currentTmplContentOrNode)}function lW(e,t){e._appendCommentNode(t,e.openElements.items[0])}function uW(e,t){e._appendCommentNode(t,e.document)}function a1(e,t){if(e.stopped=!0,t.location){const n=e.fragmentContext?0:2;for(let r=e.openElements.stackTop;r>=n;r--)e._setEndLocation(e.openElements.items[r],t);if(!e.fragmentContext&&e.openElements.stackTop>=0){const r=e.openElements.items[0],a=e.treeAdapter.getNodeSourceCodeLocation(r);if(a&&!a.endTag&&(e._setEndLocation(r,t),e.openElements.stackTop>=1)){const i=e.openElements.items[1],o=e.treeAdapter.getNodeSourceCodeLocation(i);o&&!o.endTag&&e._setEndLocation(i,t)}}}}function cW(e,t){e._setDocumentType(t);const n=t.forceQuirks?Gr.QUIRKS:UV(t);BV(t)||e._err(t,ne.nonConformingDoctype),e.treeAdapter.setDocumentMode(e.document,n),e.insertionMode=H.BEFORE_HTML}function Bu(e,t){e._err(t,ne.missingDoctype,!0),e.treeAdapter.setDocumentMode(e.document,Gr.QUIRKS),e.insertionMode=H.BEFORE_HTML,e._processToken(t)}function dW(e,t){t.tagID===b.HTML?(e._insertElement(t,le.HTML),e.insertionMode=H.BEFORE_HEAD):yc(e,t)}function pW(e,t){const n=t.tagID;(n===b.HTML||n===b.HEAD||n===b.BODY||n===b.BR)&&yc(e,t)}function yc(e,t){e._insertFakeRootElement(),e.insertionMode=H.BEFORE_HEAD,e._processToken(t)}function hW(e,t){switch(t.tagID){case b.HTML:{Hn(e,t);break}case b.HEAD:{e._insertElement(t,le.HTML),e.headElement=e.openElements.current,e.insertionMode=H.IN_HEAD;break}default:xc(e,t)}}function fW(e,t){const n=t.tagID;n===b.HEAD||n===b.BODY||n===b.HTML||n===b.BR?xc(e,t):e._err(t,ne.endTagWithoutMatchingOpenElement)}function xc(e,t){e._insertFakeElement(J.HEAD,b.HEAD),e.headElement=e.openElements.current,e.insertionMode=H.IN_HEAD,e._processToken(t)}function da(e,t){switch(t.tagID){case b.HTML:{Hn(e,t);break}case b.BASE:case b.BASEFONT:case b.BGSOUND:case b.LINK:case b.META:{e._appendElement(t,le.HTML),t.ackSelfClosing=!0;break}case b.TITLE:{e._switchToTextParsing(t,Kt.RCDATA);break}case b.NOSCRIPT:{e.options.scriptingEnabled?e._switchToTextParsing(t,Kt.RAWTEXT):(e._insertElement(t,le.HTML),e.insertionMode=H.IN_HEAD_NO_SCRIPT);break}case b.NOFRAMES:case b.STYLE:{e._switchToTextParsing(t,Kt.RAWTEXT);break}case b.SCRIPT:{e._switchToTextParsing(t,Kt.SCRIPT_DATA);break}case b.TEMPLATE:{e._insertTemplate(t),e.activeFormattingElements.insertMarker(),e.framesetOk=!1,e.insertionMode=H.IN_TEMPLATE,e.tmplInsertionModeStack.unshift(H.IN_TEMPLATE);break}case b.HEAD:{e._err(t,ne.misplacedStartTagForHeadElement);break}default:vc(e,t)}}function mW(e,t){switch(t.tagID){case b.HEAD:{e.openElements.pop(),e.insertionMode=H.AFTER_HEAD;break}case b.BODY:case b.BR:case b.HTML:{vc(e,t);break}case b.TEMPLATE:{xo(e,t);break}default:e._err(t,ne.endTagWithoutMatchingOpenElement)}}function xo(e,t){e.openElements.tmplCount>0?(e.openElements.generateImpliedEndTagsThoroughly(),e.openElements.currentTagId!==b.TEMPLATE&&e._err(t,ne.closingOfElementWithOpenChildElements),e.openElements.popUntilTagNamePopped(b.TEMPLATE),e.activeFormattingElements.clearToLastMarker(),e.tmplInsertionModeStack.shift(),e._resetInsertionMode()):e._err(t,ne.endTagWithoutMatchingOpenElement)}function vc(e,t){e.openElements.pop(),e.insertionMode=H.AFTER_HEAD,e._processToken(t)}function gW(e,t){switch(t.tagID){case b.HTML:{Hn(e,t);break}case b.BASEFONT:case b.BGSOUND:case b.HEAD:case b.LINK:case b.META:case b.NOFRAMES:case b.STYLE:{da(e,t);break}case b.NOSCRIPT:{e._err(t,ne.nestedNoscriptInHead);break}default:Ec(e,t)}}function bW(e,t){switch(t.tagID){case b.NOSCRIPT:{e.openElements.pop(),e.insertionMode=H.IN_HEAD;break}case b.BR:{Ec(e,t);break}default:e._err(t,ne.endTagWithoutMatchingOpenElement)}}function Ec(e,t){const n=t.type===Je.EOF?ne.openElementsLeftAfterEof:ne.disallowedContentInNoscriptInHead;e._err(t,n),e.openElements.pop(),e.insertionMode=H.IN_HEAD,e._processToken(t)}function yW(e,t){switch(t.tagID){case b.HTML:{Hn(e,t);break}case b.BODY:{e._insertElement(t,le.HTML),e.framesetOk=!1,e.insertionMode=H.IN_BODY;break}case b.FRAMESET:{e._insertElement(t,le.HTML),e.insertionMode=H.IN_FRAMESET;break}case b.BASE:case b.BASEFONT:case b.BGSOUND:case b.LINK:case b.META:case b.NOFRAMES:case b.SCRIPT:case b.STYLE:case b.TEMPLATE:case b.TITLE:{e._err(t,ne.abandonedHeadElementChild),e.openElements.push(e.headElement,b.HEAD),da(e,t),e.openElements.remove(e.headElement);break}case b.HEAD:{e._err(t,ne.misplacedStartTagForHeadElement);break}default:wc(e,t)}}function xW(e,t){switch(t.tagID){case b.BODY:case b.HTML:case b.BR:{wc(e,t);break}case b.TEMPLATE:{xo(e,t);break}default:e._err(t,ne.endTagWithoutMatchingOpenElement)}}function wc(e,t){e._insertFakeElement(J.BODY,b.BODY),e.insertionMode=H.IN_BODY,em(e,t)}function em(e,t){switch(t.type){case Je.CHARACTER:{UD(e,t);break}case Je.WHITESPACE_CHARACTER:{BD(e,t);break}case Je.COMMENT:{Mb(e,t);break}case Je.START_TAG:{Hn(e,t);break}case Je.END_TAG:{tm(e,t);break}case Je.EOF:{GD(e,t);break}}}function BD(e,t){e._reconstructActiveFormattingElements(),e._insertCharacters(t)}function UD(e,t){e._reconstructActiveFormattingElements(),e._insertCharacters(t),e.framesetOk=!1}function vW(e,t){e.openElements.tmplCount===0&&e.treeAdapter.adoptAttributes(e.openElements.items[0],t.attrs)}function EW(e,t){const n=e.openElements.tryPeekProperlyNestedBodyElement();n&&e.openElements.tmplCount===0&&(e.framesetOk=!1,e.treeAdapter.adoptAttributes(n,t.attrs))}function wW(e,t){const n=e.openElements.tryPeekProperlyNestedBodyElement();e.framesetOk&&n&&(e.treeAdapter.detachNode(n),e.openElements.popAllUpToHtmlElement(),e._insertElement(t,le.HTML),e.insertionMode=H.IN_FRAMESET)}function SW(e,t){e.openElements.hasInButtonScope(b.P)&&e._closePElement(),e._insertElement(t,le.HTML)}function NW(e,t){e.openElements.hasInButtonScope(b.P)&&e._closePElement(),jb.has(e.openElements.currentTagId)&&e.openElements.pop(),e._insertElement(t,le.HTML)}function kW(e,t){e.openElements.hasInButtonScope(b.P)&&e._closePElement(),e._insertElement(t,le.HTML),e.skipNextNewLine=!0,e.framesetOk=!1}function _W(e,t){const n=e.openElements.tmplCount>0;(!e.formElement||n)&&(e.openElements.hasInButtonScope(b.P)&&e._closePElement(),e._insertElement(t,le.HTML),n||(e.formElement=e.openElements.current))}function TW(e,t){e.framesetOk=!1;const n=t.tagID;for(let r=e.openElements.stackTop;r>=0;r--){const a=e.openElements.tagIDs[r];if(n===b.LI&&a===b.LI||(n===b.DD||n===b.DT)&&(a===b.DD||a===b.DT)){e.openElements.generateImpliedEndTagsWithExclusion(a),e.openElements.popUntilTagNamePopped(a);break}if(a!==b.ADDRESS&&a!==b.DIV&&a!==b.P&&e._isSpecialElement(e.openElements.items[r],a))break}e.openElements.hasInButtonScope(b.P)&&e._closePElement(),e._insertElement(t,le.HTML)}function CW(e,t){e.openElements.hasInButtonScope(b.P)&&e._closePElement(),e._insertElement(t,le.HTML),e.tokenizer.state=Kt.PLAINTEXT}function AW(e,t){e.openElements.hasInScope(b.BUTTON)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(b.BUTTON)),e._reconstructActiveFormattingElements(),e._insertElement(t,le.HTML),e.framesetOk=!1}function IW(e,t){const n=e.activeFormattingElements.getElementEntryInScopeWithTagName(J.A);n&&(r1(e,t),e.openElements.remove(n.element),e.activeFormattingElements.removeEntry(n)),e._reconstructActiveFormattingElements(),e._insertElement(t,le.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t)}function RW(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,le.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t)}function DW(e,t){e._reconstructActiveFormattingElements(),e.openElements.hasInScope(b.NOBR)&&(r1(e,t),e._reconstructActiveFormattingElements()),e._insertElement(t,le.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t)}function OW(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,le.HTML),e.activeFormattingElements.insertMarker(),e.framesetOk=!1}function LW(e,t){e.treeAdapter.getDocumentMode(e.document)!==Gr.QUIRKS&&e.openElements.hasInButtonScope(b.P)&&e._closePElement(),e._insertElement(t,le.HTML),e.framesetOk=!1,e.insertionMode=H.IN_TABLE}function $D(e,t){e._reconstructActiveFormattingElements(),e._appendElement(t,le.HTML),e.framesetOk=!1,t.ackSelfClosing=!0}function HD(e){const t=TD(e,Ki.TYPE);return t!=null&&t.toLowerCase()===QV}function jW(e,t){e._reconstructActiveFormattingElements(),e._appendElement(t,le.HTML),HD(t)||(e.framesetOk=!1),t.ackSelfClosing=!0}function MW(e,t){e._appendElement(t,le.HTML),t.ackSelfClosing=!0}function FW(e,t){e.openElements.hasInButtonScope(b.P)&&e._closePElement(),e._appendElement(t,le.HTML),e.framesetOk=!1,t.ackSelfClosing=!0}function PW(e,t){t.tagName=J.IMG,t.tagID=b.IMG,$D(e,t)}function BW(e,t){e._insertElement(t,le.HTML),e.skipNextNewLine=!0,e.tokenizer.state=Kt.RCDATA,e.originalInsertionMode=e.insertionMode,e.framesetOk=!1,e.insertionMode=H.TEXT}function UW(e,t){e.openElements.hasInButtonScope(b.P)&&e._closePElement(),e._reconstructActiveFormattingElements(),e.framesetOk=!1,e._switchToTextParsing(t,Kt.RAWTEXT)}function $W(e,t){e.framesetOk=!1,e._switchToTextParsing(t,Kt.RAWTEXT)}function e2(e,t){e._switchToTextParsing(t,Kt.RAWTEXT)}function HW(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,le.HTML),e.framesetOk=!1,e.insertionMode=e.insertionMode===H.IN_TABLE||e.insertionMode===H.IN_CAPTION||e.insertionMode===H.IN_TABLE_BODY||e.insertionMode===H.IN_ROW||e.insertionMode===H.IN_CELL?H.IN_SELECT_IN_TABLE:H.IN_SELECT}function zW(e,t){e.openElements.currentTagId===b.OPTION&&e.openElements.pop(),e._reconstructActiveFormattingElements(),e._insertElement(t,le.HTML)}function GW(e,t){e.openElements.hasInScope(b.RUBY)&&e.openElements.generateImpliedEndTags(),e._insertElement(t,le.HTML)}function qW(e,t){e.openElements.hasInScope(b.RUBY)&&e.openElements.generateImpliedEndTagsWithExclusion(b.RTC),e._insertElement(t,le.HTML)}function VW(e,t){e._reconstructActiveFormattingElements(),MD(t),n1(t),t.selfClosing?e._appendElement(t,le.MATHML):e._insertElement(t,le.MATHML),t.ackSelfClosing=!0}function WW(e,t){e._reconstructActiveFormattingElements(),FD(t),n1(t),t.selfClosing?e._appendElement(t,le.SVG):e._insertElement(t,le.SVG),t.ackSelfClosing=!0}function t2(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,le.HTML)}function Hn(e,t){switch(t.tagID){case b.I:case b.S:case b.B:case b.U:case b.EM:case b.TT:case b.BIG:case b.CODE:case b.FONT:case b.SMALL:case b.STRIKE:case b.STRONG:{RW(e,t);break}case b.A:{IW(e,t);break}case b.H1:case b.H2:case b.H3:case b.H4:case b.H5:case b.H6:{NW(e,t);break}case b.P:case b.DL:case b.OL:case b.UL:case b.DIV:case b.DIR:case b.NAV:case b.MAIN:case b.MENU:case b.ASIDE:case b.CENTER:case b.FIGURE:case b.FOOTER:case b.HEADER:case b.HGROUP:case b.DIALOG:case b.DETAILS:case b.ADDRESS:case b.ARTICLE:case b.SEARCH:case b.SECTION:case b.SUMMARY:case b.FIELDSET:case b.BLOCKQUOTE:case b.FIGCAPTION:{SW(e,t);break}case b.LI:case b.DD:case b.DT:{TW(e,t);break}case b.BR:case b.IMG:case b.WBR:case b.AREA:case b.EMBED:case b.KEYGEN:{$D(e,t);break}case b.HR:{FW(e,t);break}case b.RB:case b.RTC:{GW(e,t);break}case b.RT:case b.RP:{qW(e,t);break}case b.PRE:case b.LISTING:{kW(e,t);break}case b.XMP:{UW(e,t);break}case b.SVG:{WW(e,t);break}case b.HTML:{vW(e,t);break}case b.BASE:case b.LINK:case b.META:case b.STYLE:case b.TITLE:case b.SCRIPT:case b.BGSOUND:case b.BASEFONT:case b.TEMPLATE:{da(e,t);break}case b.BODY:{EW(e,t);break}case b.FORM:{_W(e,t);break}case b.NOBR:{DW(e,t);break}case b.MATH:{VW(e,t);break}case b.TABLE:{LW(e,t);break}case b.INPUT:{jW(e,t);break}case b.PARAM:case b.TRACK:case b.SOURCE:{MW(e,t);break}case b.IMAGE:{PW(e,t);break}case b.BUTTON:{AW(e,t);break}case b.APPLET:case b.OBJECT:case b.MARQUEE:{OW(e,t);break}case b.IFRAME:{$W(e,t);break}case b.SELECT:{HW(e,t);break}case b.OPTION:case b.OPTGROUP:{zW(e,t);break}case b.NOEMBED:case b.NOFRAMES:{e2(e,t);break}case b.FRAMESET:{wW(e,t);break}case b.TEXTAREA:{BW(e,t);break}case b.NOSCRIPT:{e.options.scriptingEnabled?e2(e,t):t2(e,t);break}case b.PLAINTEXT:{CW(e,t);break}case b.COL:case b.TH:case b.TD:case b.TR:case b.HEAD:case b.FRAME:case b.TBODY:case b.TFOOT:case b.THEAD:case b.CAPTION:case b.COLGROUP:break;default:t2(e,t)}}function YW(e,t){if(e.openElements.hasInScope(b.BODY)&&(e.insertionMode=H.AFTER_BODY,e.options.sourceCodeLocationInfo)){const n=e.openElements.tryPeekProperlyNestedBodyElement();n&&e._setEndLocation(n,t)}}function KW(e,t){e.openElements.hasInScope(b.BODY)&&(e.insertionMode=H.AFTER_BODY,QD(e,t))}function ZW(e,t){const n=t.tagID;e.openElements.hasInScope(n)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(n))}function XW(e){const t=e.openElements.tmplCount>0,{formElement:n}=e;t||(e.formElement=null),(n||t)&&e.openElements.hasInScope(b.FORM)&&(e.openElements.generateImpliedEndTags(),t?e.openElements.popUntilTagNamePopped(b.FORM):n&&e.openElements.remove(n))}function QW(e){e.openElements.hasInButtonScope(b.P)||e._insertFakeElement(J.P,b.P),e._closePElement()}function JW(e){e.openElements.hasInListItemScope(b.LI)&&(e.openElements.generateImpliedEndTagsWithExclusion(b.LI),e.openElements.popUntilTagNamePopped(b.LI))}function eY(e,t){const n=t.tagID;e.openElements.hasInScope(n)&&(e.openElements.generateImpliedEndTagsWithExclusion(n),e.openElements.popUntilTagNamePopped(n))}function tY(e){e.openElements.hasNumberedHeaderInScope()&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilNumberedHeaderPopped())}function nY(e,t){const n=t.tagID;e.openElements.hasInScope(n)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(n),e.activeFormattingElements.clearToLastMarker())}function rY(e){e._reconstructActiveFormattingElements(),e._insertFakeElement(J.BR,b.BR),e.openElements.pop(),e.framesetOk=!1}function zD(e,t){const n=t.tagName,r=t.tagID;for(let a=e.openElements.stackTop;a>0;a--){const i=e.openElements.items[a],o=e.openElements.tagIDs[a];if(r===o&&(r!==b.UNKNOWN||e.treeAdapter.getTagName(i)===n)){e.openElements.generateImpliedEndTagsWithExclusion(r),e.openElements.stackTop>=a&&e.openElements.shortenToLength(a);break}if(e._isSpecialElement(i,o))break}}function tm(e,t){switch(t.tagID){case b.A:case b.B:case b.I:case b.S:case b.U:case b.EM:case b.TT:case b.BIG:case b.CODE:case b.FONT:case b.NOBR:case b.SMALL:case b.STRIKE:case b.STRONG:{r1(e,t);break}case b.P:{QW(e);break}case b.DL:case b.UL:case b.OL:case b.DIR:case b.DIV:case b.NAV:case b.PRE:case b.MAIN:case b.MENU:case b.ASIDE:case b.BUTTON:case b.CENTER:case b.FIGURE:case b.FOOTER:case b.HEADER:case b.HGROUP:case b.DIALOG:case b.ADDRESS:case b.ARTICLE:case b.DETAILS:case b.SEARCH:case b.SECTION:case b.SUMMARY:case b.LISTING:case b.FIELDSET:case b.BLOCKQUOTE:case b.FIGCAPTION:{ZW(e,t);break}case b.LI:{JW(e);break}case b.DD:case b.DT:{eY(e,t);break}case b.H1:case b.H2:case b.H3:case b.H4:case b.H5:case b.H6:{tY(e);break}case b.BR:{rY(e);break}case b.BODY:{YW(e,t);break}case b.HTML:{KW(e,t);break}case b.FORM:{XW(e);break}case b.APPLET:case b.OBJECT:case b.MARQUEE:{nY(e,t);break}case b.TEMPLATE:{xo(e,t);break}default:zD(e,t)}}function GD(e,t){e.tmplInsertionModeStack.length>0?XD(e,t):a1(e,t)}function aY(e,t){var n;t.tagID===b.SCRIPT&&((n=e.scriptHandler)===null||n===void 0||n.call(e,e.openElements.current)),e.openElements.pop(),e.insertionMode=e.originalInsertionMode}function sY(e,t){e._err(t,ne.eofInElementThatCanContainOnlyText),e.openElements.pop(),e.insertionMode=e.originalInsertionMode,e.onEof(t)}function Bg(e,t){if(PD.has(e.openElements.currentTagId))switch(e.pendingCharacterTokens.length=0,e.hasNonWhitespacePendingCharacterToken=!1,e.originalInsertionMode=e.insertionMode,e.insertionMode=H.IN_TABLE_TEXT,t.type){case Je.CHARACTER:{VD(e,t);break}case Je.WHITESPACE_CHARACTER:{qD(e,t);break}}else Fd(e,t)}function iY(e,t){e.openElements.clearBackToTableContext(),e.activeFormattingElements.insertMarker(),e._insertElement(t,le.HTML),e.insertionMode=H.IN_CAPTION}function oY(e,t){e.openElements.clearBackToTableContext(),e._insertElement(t,le.HTML),e.insertionMode=H.IN_COLUMN_GROUP}function lY(e,t){e.openElements.clearBackToTableContext(),e._insertFakeElement(J.COLGROUP,b.COLGROUP),e.insertionMode=H.IN_COLUMN_GROUP,s1(e,t)}function uY(e,t){e.openElements.clearBackToTableContext(),e._insertElement(t,le.HTML),e.insertionMode=H.IN_TABLE_BODY}function cY(e,t){e.openElements.clearBackToTableContext(),e._insertFakeElement(J.TBODY,b.TBODY),e.insertionMode=H.IN_TABLE_BODY,nm(e,t)}function dY(e,t){e.openElements.hasInTableScope(b.TABLE)&&(e.openElements.popUntilTagNamePopped(b.TABLE),e._resetInsertionMode(),e._processStartTag(t))}function pY(e,t){HD(t)?e._appendElement(t,le.HTML):Fd(e,t),t.ackSelfClosing=!0}function hY(e,t){!e.formElement&&e.openElements.tmplCount===0&&(e._insertElement(t,le.HTML),e.formElement=e.openElements.current,e.openElements.pop())}function ql(e,t){switch(t.tagID){case b.TD:case b.TH:case b.TR:{cY(e,t);break}case b.STYLE:case b.SCRIPT:case b.TEMPLATE:{da(e,t);break}case b.COL:{lY(e,t);break}case b.FORM:{hY(e,t);break}case b.TABLE:{dY(e,t);break}case b.TBODY:case b.TFOOT:case b.THEAD:{uY(e,t);break}case b.INPUT:{pY(e,t);break}case b.CAPTION:{iY(e,t);break}case b.COLGROUP:{oY(e,t);break}default:Fd(e,t)}}function ed(e,t){switch(t.tagID){case b.TABLE:{e.openElements.hasInTableScope(b.TABLE)&&(e.openElements.popUntilTagNamePopped(b.TABLE),e._resetInsertionMode());break}case b.TEMPLATE:{xo(e,t);break}case b.BODY:case b.CAPTION:case b.COL:case b.COLGROUP:case b.HTML:case b.TBODY:case b.TD:case b.TFOOT:case b.TH:case b.THEAD:case b.TR:break;default:Fd(e,t)}}function Fd(e,t){const n=e.fosterParentingEnabled;e.fosterParentingEnabled=!0,em(e,t),e.fosterParentingEnabled=n}function qD(e,t){e.pendingCharacterTokens.push(t)}function VD(e,t){e.pendingCharacterTokens.push(t),e.hasNonWhitespacePendingCharacterToken=!0}function Uu(e,t){let n=0;if(e.hasNonWhitespacePendingCharacterToken)for(;n<e.pendingCharacterTokens.length;n++)Fd(e,e.pendingCharacterTokens[n]);else for(;n<e.pendingCharacterTokens.length;n++)e._insertCharacters(e.pendingCharacterTokens[n]);e.insertionMode=e.originalInsertionMode,e._processToken(t)}const WD=new Set([b.CAPTION,b.COL,b.COLGROUP,b.TBODY,b.TD,b.TFOOT,b.TH,b.THEAD,b.TR]);function fY(e,t){const n=t.tagID;WD.has(n)?e.openElements.hasInTableScope(b.CAPTION)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(b.CAPTION),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=H.IN_TABLE,ql(e,t)):Hn(e,t)}function mY(e,t){const n=t.tagID;switch(n){case b.CAPTION:case b.TABLE:{e.openElements.hasInTableScope(b.CAPTION)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(b.CAPTION),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=H.IN_TABLE,n===b.TABLE&&ed(e,t));break}case b.BODY:case b.COL:case b.COLGROUP:case b.HTML:case b.TBODY:case b.TD:case b.TFOOT:case b.TH:case b.THEAD:case b.TR:break;default:tm(e,t)}}function s1(e,t){switch(t.tagID){case b.HTML:{Hn(e,t);break}case b.COL:{e._appendElement(t,le.HTML),t.ackSelfClosing=!0;break}case b.TEMPLATE:{da(e,t);break}default:Qh(e,t)}}function gY(e,t){switch(t.tagID){case b.COLGROUP:{e.openElements.currentTagId===b.COLGROUP&&(e.openElements.pop(),e.insertionMode=H.IN_TABLE);break}case b.TEMPLATE:{xo(e,t);break}case b.COL:break;default:Qh(e,t)}}function Qh(e,t){e.openElements.currentTagId===b.COLGROUP&&(e.openElements.pop(),e.insertionMode=H.IN_TABLE,e._processToken(t))}function nm(e,t){switch(t.tagID){case b.TR:{e.openElements.clearBackToTableBodyContext(),e._insertElement(t,le.HTML),e.insertionMode=H.IN_ROW;break}case b.TH:case b.TD:{e.openElements.clearBackToTableBodyContext(),e._insertFakeElement(J.TR,b.TR),e.insertionMode=H.IN_ROW,rm(e,t);break}case b.CAPTION:case b.COL:case b.COLGROUP:case b.TBODY:case b.TFOOT:case b.THEAD:{e.openElements.hasTableBodyContextInTableScope()&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=H.IN_TABLE,ql(e,t));break}default:ql(e,t)}}function Fb(e,t){const n=t.tagID;switch(t.tagID){case b.TBODY:case b.TFOOT:case b.THEAD:{e.openElements.hasInTableScope(n)&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=H.IN_TABLE);break}case b.TABLE:{e.openElements.hasTableBodyContextInTableScope()&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=H.IN_TABLE,ed(e,t));break}case b.BODY:case b.CAPTION:case b.COL:case b.COLGROUP:case b.HTML:case b.TD:case b.TH:case b.TR:break;default:ed(e,t)}}function rm(e,t){switch(t.tagID){case b.TH:case b.TD:{e.openElements.clearBackToTableRowContext(),e._insertElement(t,le.HTML),e.insertionMode=H.IN_CELL,e.activeFormattingElements.insertMarker();break}case b.CAPTION:case b.COL:case b.COLGROUP:case b.TBODY:case b.TFOOT:case b.THEAD:case b.TR:{e.openElements.hasInTableScope(b.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=H.IN_TABLE_BODY,nm(e,t));break}default:ql(e,t)}}function YD(e,t){switch(t.tagID){case b.TR:{e.openElements.hasInTableScope(b.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=H.IN_TABLE_BODY);break}case b.TABLE:{e.openElements.hasInTableScope(b.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=H.IN_TABLE_BODY,Fb(e,t));break}case b.TBODY:case b.TFOOT:case b.THEAD:{(e.openElements.hasInTableScope(t.tagID)||e.openElements.hasInTableScope(b.TR))&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=H.IN_TABLE_BODY,Fb(e,t));break}case b.BODY:case b.CAPTION:case b.COL:case b.COLGROUP:case b.HTML:case b.TD:case b.TH:break;default:ed(e,t)}}function bY(e,t){const n=t.tagID;WD.has(n)?(e.openElements.hasInTableScope(b.TD)||e.openElements.hasInTableScope(b.TH))&&(e._closeTableCell(),rm(e,t)):Hn(e,t)}function yY(e,t){const n=t.tagID;switch(n){case b.TD:case b.TH:{e.openElements.hasInTableScope(n)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(n),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=H.IN_ROW);break}case b.TABLE:case b.TBODY:case b.TFOOT:case b.THEAD:case b.TR:{e.openElements.hasInTableScope(n)&&(e._closeTableCell(),YD(e,t));break}case b.BODY:case b.CAPTION:case b.COL:case b.COLGROUP:case b.HTML:break;default:tm(e,t)}}function KD(e,t){switch(t.tagID){case b.HTML:{Hn(e,t);break}case b.OPTION:{e.openElements.currentTagId===b.OPTION&&e.openElements.pop(),e._insertElement(t,le.HTML);break}case b.OPTGROUP:{e.openElements.currentTagId===b.OPTION&&e.openElements.pop(),e.openElements.currentTagId===b.OPTGROUP&&e.openElements.pop(),e._insertElement(t,le.HTML);break}case b.HR:{e.openElements.currentTagId===b.OPTION&&e.openElements.pop(),e.openElements.currentTagId===b.OPTGROUP&&e.openElements.pop(),e._appendElement(t,le.HTML),t.ackSelfClosing=!0;break}case b.INPUT:case b.KEYGEN:case b.TEXTAREA:case b.SELECT:{e.openElements.hasInSelectScope(b.SELECT)&&(e.openElements.popUntilTagNamePopped(b.SELECT),e._resetInsertionMode(),t.tagID!==b.SELECT&&e._processStartTag(t));break}case b.SCRIPT:case b.TEMPLATE:{da(e,t);break}}}function ZD(e,t){switch(t.tagID){case b.OPTGROUP:{e.openElements.stackTop>0&&e.openElements.currentTagId===b.OPTION&&e.openElements.tagIDs[e.openElements.stackTop-1]===b.OPTGROUP&&e.openElements.pop(),e.openElements.currentTagId===b.OPTGROUP&&e.openElements.pop();break}case b.OPTION:{e.openElements.currentTagId===b.OPTION&&e.openElements.pop();break}case b.SELECT:{e.openElements.hasInSelectScope(b.SELECT)&&(e.openElements.popUntilTagNamePopped(b.SELECT),e._resetInsertionMode());break}case b.TEMPLATE:{xo(e,t);break}}}function xY(e,t){const n=t.tagID;n===b.CAPTION||n===b.TABLE||n===b.TBODY||n===b.TFOOT||n===b.THEAD||n===b.TR||n===b.TD||n===b.TH?(e.openElements.popUntilTagNamePopped(b.SELECT),e._resetInsertionMode(),e._processStartTag(t)):KD(e,t)}function vY(e,t){const n=t.tagID;n===b.CAPTION||n===b.TABLE||n===b.TBODY||n===b.TFOOT||n===b.THEAD||n===b.TR||n===b.TD||n===b.TH?e.openElements.hasInTableScope(n)&&(e.openElements.popUntilTagNamePopped(b.SELECT),e._resetInsertionMode(),e.onEndTag(t)):ZD(e,t)}function EY(e,t){switch(t.tagID){case b.BASE:case b.BASEFONT:case b.BGSOUND:case b.LINK:case b.META:case b.NOFRAMES:case b.SCRIPT:case b.STYLE:case b.TEMPLATE:case b.TITLE:{da(e,t);break}case b.CAPTION:case b.COLGROUP:case b.TBODY:case b.TFOOT:case b.THEAD:{e.tmplInsertionModeStack[0]=H.IN_TABLE,e.insertionMode=H.IN_TABLE,ql(e,t);break}case b.COL:{e.tmplInsertionModeStack[0]=H.IN_COLUMN_GROUP,e.insertionMode=H.IN_COLUMN_GROUP,s1(e,t);break}case b.TR:{e.tmplInsertionModeStack[0]=H.IN_TABLE_BODY,e.insertionMode=H.IN_TABLE_BODY,nm(e,t);break}case b.TD:case b.TH:{e.tmplInsertionModeStack[0]=H.IN_ROW,e.insertionMode=H.IN_ROW,rm(e,t);break}default:e.tmplInsertionModeStack[0]=H.IN_BODY,e.insertionMode=H.IN_BODY,Hn(e,t)}}function wY(e,t){t.tagID===b.TEMPLATE&&xo(e,t)}function XD(e,t){e.openElements.tmplCount>0?(e.openElements.popUntilTagNamePopped(b.TEMPLATE),e.activeFormattingElements.clearToLastMarker(),e.tmplInsertionModeStack.shift(),e._resetInsertionMode(),e.onEof(t)):a1(e,t)}function SY(e,t){t.tagID===b.HTML?Hn(e,t):Jh(e,t)}function QD(e,t){var n;if(t.tagID===b.HTML){if(e.fragmentContext||(e.insertionMode=H.AFTER_AFTER_BODY),e.options.sourceCodeLocationInfo&&e.openElements.tagIDs[0]===b.HTML){e._setEndLocation(e.openElements.items[0],t);const r=e.openElements.items[1];r&&!(!((n=e.treeAdapter.getNodeSourceCodeLocation(r))===null||n===void 0)&&n.endTag)&&e._setEndLocation(r,t)}}else Jh(e,t)}function Jh(e,t){e.insertionMode=H.IN_BODY,em(e,t)}function NY(e,t){switch(t.tagID){case b.HTML:{Hn(e,t);break}case b.FRAMESET:{e._insertElement(t,le.HTML);break}case b.FRAME:{e._appendElement(t,le.HTML),t.ackSelfClosing=!0;break}case b.NOFRAMES:{da(e,t);break}}}function kY(e,t){t.tagID===b.FRAMESET&&!e.openElements.isRootHtmlElementCurrent()&&(e.openElements.pop(),!e.fragmentContext&&e.openElements.currentTagId!==b.FRAMESET&&(e.insertionMode=H.AFTER_FRAMESET))}function _Y(e,t){switch(t.tagID){case b.HTML:{Hn(e,t);break}case b.NOFRAMES:{da(e,t);break}}}function TY(e,t){t.tagID===b.HTML&&(e.insertionMode=H.AFTER_AFTER_FRAMESET)}function CY(e,t){t.tagID===b.HTML?Hn(e,t):oh(e,t)}function oh(e,t){e.insertionMode=H.IN_BODY,em(e,t)}function AY(e,t){switch(t.tagID){case b.HTML:{Hn(e,t);break}case b.NOFRAMES:{da(e,t);break}}}function IY(e,t){t.chars=jt,e._insertCharacters(t)}function RY(e,t){e._insertCharacters(t),e.framesetOk=!1}function JD(e){for(;e.treeAdapter.getNamespaceURI(e.openElements.current)!==le.HTML&&!e._isIntegrationPoint(e.openElements.currentTagId,e.openElements.current);)e.openElements.pop()}function DY(e,t){if(WV(t))JD(e),e._startTagOutsideForeignContent(t);else{const n=e._getAdjustedCurrentElement(),r=e.treeAdapter.getNamespaceURI(n);r===le.MATHML?MD(t):r===le.SVG&&(YV(t),FD(t)),n1(t),t.selfClosing?e._appendElement(t,r):e._insertElement(t,r),t.ackSelfClosing=!0}}function OY(e,t){if(t.tagID===b.P||t.tagID===b.BR){JD(e),e._endTagOutsideForeignContent(t);return}for(let n=e.openElements.stackTop;n>0;n--){const r=e.openElements.items[n];if(e.treeAdapter.getNamespaceURI(r)===le.HTML){e._endTagOutsideForeignContent(t);break}const a=e.treeAdapter.getTagName(r);if(a.toLowerCase()===t.tagName){t.tagName=a,e.openElements.shortenToLength(n);break}}}J.AREA,J.BASE,J.BASEFONT,J.BGSOUND,J.BR,J.COL,J.EMBED,J.FRAME,J.HR,J.IMG,J.INPUT,J.KEYGEN,J.LINK,J.META,J.PARAM,J.SOURCE,J.TRACK,J.WBR;function LY(e,t){return Xh.parse(e,t)}function jY(e,t,n){typeof e=="string"&&(n=t,t=e,e=null);const r=Xh.getFragmentParser(e,n);return r.tokenizer.write(t,!0),r.getFragment()}const MY=/<(\/?)(iframe|noembed|noframes|plaintext|script|style|textarea|title|xmp)(?=[\t\n\f\r />])/gi,FY=new Set(["mdxFlowExpression","mdxJsxFlowElement","mdxJsxTextElement","mdxTextExpression","mdxjsEsm"]),n2={sourceCodeLocationInfo:!0,scriptingEnabled:!1};function eO(e,t){const n=WY(e),r=Jf("type",{handlers:{root:PY,element:BY,text:UY,comment:nO,doctype:$Y,raw:zY},unknown:GY}),a={parser:n?new Xh(n2):Xh.getFragmentParser(void 0,n2),handle(l){r(l,a)},stitches:!1,options:t||{}};r(e,a),fu(a,Fa());const i=n?a.parser.document:a.parser.getFragment(),o=vD(i,{file:a.options.file});return a.stitches&&En(o,"comment",function(l,u,c){const d=l;if(d.value.stitch&&c&&u!==void 0){const p=c.children;return p[u]=d.value.stitch,u}}),o.type==="root"&&o.children.length===1&&o.children[0].type===e.type?o.children[0]:o}function tO(e,t){let n=-1;if(e)for(;++n<e.length;)t.handle(e[n])}function PY(e,t){tO(e.children,t)}function BY(e,t){qY(e,t),tO(e.children,t),VY(e,t)}function UY(e,t){t.parser.tokenizer.state>4&&(t.parser.tokenizer.state=0);const n={type:Je.CHARACTER,chars:e.value,location:Pd(e)};fu(t,Fa(e)),t.parser.currentToken=n,t.parser._processToken(t.parser.currentToken)}function $Y(e,t){const n={type:Je.DOCTYPE,name:"html",forceQuirks:!1,publicId:"",systemId:"",location:Pd(e)};fu(t,Fa(e)),t.parser.currentToken=n,t.parser._processToken(t.parser.currentToken)}function HY(e,t){t.stitches=!0;const n=YY(e);if("children"in e&&"children"in n){const r=eO({type:"root",children:e.children},t.options);n.children=r.children}nO({type:"comment",value:{stitch:n}},t)}function nO(e,t){const n=e.value,r={type:Je.COMMENT,data:n,location:Pd(e)};fu(t,Fa(e)),t.parser.currentToken=r,t.parser._processToken(t.parser.currentToken)}function zY(e,t){if(t.parser.tokenizer.preprocessor.html="",t.parser.tokenizer.preprocessor.pos=-1,t.parser.tokenizer.preprocessor.lastGapPos=-2,t.parser.tokenizer.preprocessor.gapStack=[],t.parser.tokenizer.preprocessor.skipNextNewLine=!1,t.parser.tokenizer.preprocessor.lastChunkWritten=!1,t.parser.tokenizer.preprocessor.endOfChunkHit=!1,t.parser.tokenizer.preprocessor.isEol=!1,rO(t,Fa(e)),t.parser.tokenizer.write(t.options.tagfilter?e.value.replace(MY,"&lt;$1$2"):e.value,!1),t.parser.tokenizer._runParsingLoop(),t.parser.tokenizer.state===72||t.parser.tokenizer.state===78){t.parser.tokenizer.preprocessor.lastChunkWritten=!0;const n=t.parser.tokenizer._consume();t.parser.tokenizer._callState(n)}}function GY(e,t){const n=e;if(t.options.passThrough&&t.options.passThrough.includes(n.type))HY(n,t);else{let r="";throw FY.has(n.type)&&(r=". It looks like you are using MDX nodes with `hast-util-raw` (or `rehype-raw`). If you use this because you are using remark or rehype plugins that inject `'html'` nodes, then please raise an issue with that plugin, as its a bad and slow idea. If you use this because you are using markdown syntax, then you have to configure this utility (or plugin) to pass through these nodes (see `passThrough` in docs), but you can also migrate to use the MDX syntax"),new Error("Cannot compile `"+n.type+"` node"+r)}}function fu(e,t){rO(e,t);const n=e.parser.tokenizer.currentCharacterToken;n&&n.location&&(n.location.endLine=e.parser.tokenizer.preprocessor.line,n.location.endCol=e.parser.tokenizer.preprocessor.col+1,n.location.endOffset=e.parser.tokenizer.preprocessor.offset+1,e.parser.currentToken=n,e.parser._processToken(e.parser.currentToken)),e.parser.tokenizer.paused=!1,e.parser.tokenizer.inLoop=!1,e.parser.tokenizer.active=!1,e.parser.tokenizer.returnState=Kt.DATA,e.parser.tokenizer.charRefCode=-1,e.parser.tokenizer.consumedAfterSnapshot=-1,e.parser.tokenizer.currentLocation=null,e.parser.tokenizer.currentCharacterToken=null,e.parser.tokenizer.currentToken=null,e.parser.tokenizer.currentAttr={name:"",value:""}}function rO(e,t){if(t&&t.offset!==void 0){const n={startLine:t.line,startCol:t.column,startOffset:t.offset,endLine:-1,endCol:-1,endOffset:-1};e.parser.tokenizer.preprocessor.lineStartPos=-t.column+1,e.parser.tokenizer.preprocessor.droppedBufferSize=t.offset,e.parser.tokenizer.preprocessor.line=t.line,e.parser.tokenizer.currentLocation=n}}function qY(e,t){const n=e.tagName.toLowerCase();if(t.parser.tokenizer.state===Kt.PLAINTEXT)return;fu(t,Fa(e));const r=t.parser.openElements.current;let a="namespaceURI"in r?r.namespaceURI:Mi.html;a===Mi.html&&n==="svg"&&(a=Mi.svg);const i=Qq({...e,children:[]},{space:a===Mi.svg?"svg":"html"}),o={type:Je.START_TAG,tagName:n,tagID:hu(n),selfClosing:!1,ackSelfClosing:!1,attrs:"attrs"in i?i.attrs:[],location:Pd(e)};t.parser.currentToken=o,t.parser._processToken(t.parser.currentToken),t.parser.tokenizer.lastStartTagName=n}function VY(e,t){const n=e.tagName.toLowerCase();if(!t.parser.tokenizer.inForeignNode&&SD.includes(n)||t.parser.tokenizer.state===Kt.PLAINTEXT)return;fu(t,Yf(e));const r={type:Je.END_TAG,tagName:n,tagID:hu(n),selfClosing:!1,ackSelfClosing:!1,attrs:[],location:Pd(e)};t.parser.currentToken=r,t.parser._processToken(t.parser.currentToken),n===t.parser.tokenizer.lastStartTagName&&(t.parser.tokenizer.state===Kt.RCDATA||t.parser.tokenizer.state===Kt.RAWTEXT||t.parser.tokenizer.state===Kt.SCRIPT_DATA)&&(t.parser.tokenizer.state=Kt.DATA)}function WY(e){const t=e.type==="root"?e.children[0]:e;return!!(t&&(t.type==="doctype"||t.type==="element"&&t.tagName.toLowerCase()==="html"))}function Pd(e){const t=Fa(e)||{line:void 0,column:void 0,offset:void 0},n=Yf(e)||{line:void 0,column:void 0,offset:void 0};return{startLine:t.line,startCol:t.column,startOffset:t.offset,endLine:n.line,endCol:n.column,endOffset:n.offset}}function YY(e){return"children"in e?oi({...e,children:[]}):oi(e)}function ri(e){return function(t,n){return eO(t,{...e,file:n})}}const _i=["ariaDescribedBy","ariaLabel","ariaLabelledBy"],r2={ancestors:{tbody:["table"],td:["table"],th:["table"],thead:["table"],tfoot:["table"],tr:["table"]},attributes:{a:[..._i,"dataFootnoteBackref","dataFootnoteRef",["className","data-footnote-backref"],"href"],blockquote:["cite"],code:[["className",/^language-./]],del:["cite"],div:["itemScope","itemType"],dl:[..._i],h2:[["className","sr-only"]],img:[..._i,"longDesc","src"],input:[["disabled",!0],["type","checkbox"]],ins:["cite"],li:[["className","task-list-item"]],ol:[..._i,["className","contains-task-list"]],q:["cite"],section:["dataFootnotes",["className","footnotes"]],source:["srcSet"],summary:[..._i],table:[..._i],ul:[..._i,["className","contains-task-list"]],"*":["abbr","accept","acceptCharset","accessKey","action","align","alt","axis","border","cellPadding","cellSpacing","char","charOff","charSet","checked","clear","colSpan","color","cols","compact","coords","dateTime","dir","encType","frame","hSpace","headers","height","hrefLang","htmlFor","id","isMap","itemProp","label","lang","maxLength","media","method","multiple","name","noHref","noShade","noWrap","open","prompt","readOnly","rev","rowSpan","rows","rules","scope","selected","shape","size","span","start","summary","tabIndex","title","useMap","vAlign","value","width"]},clobber:["ariaDescribedBy","ariaLabelledBy","id","name"],clobberPrefix:"user-content-",protocols:{cite:["http","https"],href:["http","https","irc","ircs","mailto","xmpp"],longDesc:["http","https"],src:["http","https"]},required:{input:{disabled:!0,type:"checkbox"}},strip:["script"],tagNames:["a","b","blockquote","br","code","dd","del","details","div","dl","dt","em","h1","h2","h3","h4","h5","h6","hr","i","img","input","ins","kbd","li","ol","p","picture","pre","q","rp","rt","ruby","s","samp","section","source","span","strike","strong","sub","summary","sup","table","tbody","td","tfoot","th","thead","tr","tt","ul","var"]},As={}.hasOwnProperty;function KY(e,t){let n={type:"root",children:[]};const r={schema:t?{...r2,...t}:r2,stack:[]},a=aO(r,e);return a&&(Array.isArray(a)?a.length===1?n=a[0]:n.children=a:n=a),n}function aO(e,t){if(t&&typeof t=="object"){const n=t;switch(typeof n.type=="string"?n.type:""){case"comment":return ZY(e,n);case"doctype":return XY(e,n);case"element":return QY(e,n);case"root":return JY(e,n);case"text":return eK(e,n)}}}function ZY(e,t){if(e.schema.allowComments){const n=typeof t.value=="string"?t.value:"",r=n.indexOf("-->"),i={type:"comment",value:r<0?n:n.slice(0,r)};return Bd(i,t),i}}function XY(e,t){if(e.schema.allowDoctypes){const n={type:"doctype"};return Bd(n,t),n}}function QY(e,t){const n=typeof t.tagName=="string"?t.tagName:"";e.stack.push(n);const r=sO(e,t.children),a=tK(e,t.properties);e.stack.pop();let i=!1;if(n&&n!=="*"&&(!e.schema.tagNames||e.schema.tagNames.includes(n))&&(i=!0,e.schema.ancestors&&As.call(e.schema.ancestors,n))){const l=e.schema.ancestors[n];let u=-1;for(i=!1;++u<l.length;)e.stack.includes(l[u])&&(i=!0)}if(!i)return e.schema.strip&&!e.schema.strip.includes(n)?r:void 0;const o={type:"element",tagName:n,properties:a,children:r};return Bd(o,t),o}function JY(e,t){const r={type:"root",children:sO(e,t.children)};return Bd(r,t),r}function eK(e,t){const r={type:"text",value:typeof t.value=="string"?t.value:""};return Bd(r,t),r}function sO(e,t){const n=[];if(Array.isArray(t)){const r=t;let a=-1;for(;++a<r.length;){const i=aO(e,r[a]);i&&(Array.isArray(i)?n.push(...i):n.push(i))}}return n}function tK(e,t){const n=e.stack[e.stack.length-1],r=e.schema.attributes,a=e.schema.required,i=r&&As.call(r,n)?r[n]:void 0,o=r&&As.call(r,"*")?r["*"]:void 0,l=t&&typeof t=="object"?t:{},u={};let c;for(c in l)if(As.call(l,c)){const d=l[c];let p=a2(e,s2(i,c),c,d);p==null&&(p=a2(e,s2(o,c),c,d)),p!=null&&(u[c]=p)}if(a&&As.call(a,n)){const d=a[n];for(c in d)As.call(d,c)&&!As.call(u,c)&&(u[c]=d[c])}return u}function a2(e,t,n,r){return t?Array.isArray(r)?nK(e,t,n,r):iO(e,t,n,r):void 0}function nK(e,t,n,r){let a=-1;const i=[];for(;++a<r.length;){const o=iO(e,t,n,r[a]);(typeof o=="number"||typeof o=="string")&&i.push(o)}return i}function iO(e,t,n,r){if(!(typeof r!="boolean"&&typeof r!="number"&&typeof r!="string")&&rK(e,n,r)){if(typeof t=="object"&&t.length>1){let a=!1,i=0;for(;++i<t.length;){const o=t[i];if(o&&typeof o=="object"&&"flags"in o){if(o.test(String(r))){a=!0;break}}else if(o===r){a=!0;break}}if(!a)return}return e.schema.clobber&&e.schema.clobberPrefix&&e.schema.clobber.includes(n)?e.schema.clobberPrefix+r:r}}function rK(e,t,n){const r=e.schema.protocols&&As.call(e.schema.protocols,t)?e.schema.protocols[t]:void 0;if(!r||r.length===0)return!0;const a=String(n),i=a.indexOf(":"),o=a.indexOf("?"),l=a.indexOf("#"),u=a.indexOf("/");if(i<0||u>-1&&i>u||o>-1&&i>o||l>-1&&i>l)return!0;let c=-1;for(;++c<r.length;){const d=r[c];if(i===d.length&&a.slice(0,d.length)===d)return!0}return!1}function Bd(e,t){const n=f3(t);t.data&&(e.data=oi(t.data)),n&&(e.position=n)}function s2(e,t){let n,r=-1;if(e)for(;++r<e.length;){const a=e[r],i=typeof a=="string"?a:a[0];if(i===t)return a;i==="data*"&&(n=a)}if(t.length>4&&t.slice(0,4).toLowerCase()==="data")return n}function aK(e){return function(t){return KY(t,e)}}function Vl({content:e,className:t=""}){return s.jsx("div",{className:"bg-amber-100 p-6 rounded-lg shadow-lg",children:s.jsx(hl,{remarkPlugins:[Yi],rehypePlugins:[ri,aK],className:`prose prose-xl max-w-none font-cinzel ${t}`,components:{h1:({node:n,...r})=>s.jsx("h1",{className:"text-4xl font-bold text-brown-800 border-b-2 border-brown-500 pb-2 mb-4",...r}),h2:({node:n,...r})=>s.jsx("h2",{className:"text-3xl font-bold text-brown-700 border-b pb-2 mb-3",...r}),h3:({node:n,...r})=>s.jsx("h3",{className:"text-2xl font-bold text-brown-600 mb-2",...r}),table:({node:n,...r})=>s.jsx("table",{className:"border-collapse border border-brown-300 my-4",...r}),th:({node:n,...r})=>s.jsx("th",{className:"border border-brown-300 px-4 py-2 bg-amber-200",...r}),td:({node:n,...r})=>s.jsx("td",{className:"border border-brown-300 px-4 py-2",...r}),blockquote:({node:n,...r})=>s.jsx("blockquote",{className:"border-l-4 border-amber-600 pl-4 my-4 italic bg-amber-50 py-2 pr-4",...r}),code:({node:n,inline:r,...a})=>r?s.jsx("code",{className:"bg-amber-200 px-1 rounded",...a}):s.jsx("code",{className:"block bg-amber-200 p-4 rounded my-4 overflow-x-auto",...a})},children:e})})}function Ga({icon:e,label:t,onClick:n}){return s.jsx("button",{type:"button",onClick:n,title:t,className:"p-1.5 text-gray-600 hover:text-blue-600 hover:bg-gray-100 rounded transition-all",children:s.jsx(e,{size:16})})}const sK=({character:e})=>{const[t,n]=E.useState([]),[r,a]=E.useState(!0),[i,o]=E.useState(null),[l,u]=E.useState(null),[c,d]=E.useState(!1),p=E.useRef(null),h=E.useCallback(async()=>{a(!0),o(null);try{const{data:x,error:w}=await se.from("notes").select("id, title, content, created_at, updated_at").eq("character_id",e.id).order("created_at",{ascending:!1});if(w)throw w;n(x||[])}catch(x){o(x instanceof Error?x.message:"Failed to load notes.")}finally{a(!1)}},[e.id]);E.useEffect(()=>{h()},[h]);const f=(x,w="")=>{const k=p.current;if(!k||!l)return;const S=k.selectionStart,T=k.selectionEnd,A=k.value,I=A.substring(0,S),C=A.substring(S,T),N=A.substring(T),O=I+x+C+w+N;u(D=>D?{...D,content:O}:null),setTimeout(()=>{k.focus();const D=S+x.length+C.length+w.length;k.setSelectionRange(D,D)},0)},m=()=>{f(`
| Header 1 | Header 2 |
| -------- | -------- |
| Cell 1   | Cell 2   |
`)},v=async x=>{var k;if(!((k=x.title)!=null&&k.trim())){alert("Title is required.");return}const w={...x,character_id:e.id,user_id:e.user_id,updated_at:new Date().toISOString()};try{const{id:S,created_at:T,...A}=w,{error:I}=await se.from("notes").upsert(A,{onConflict:"id"});if(I)throw I;u(null),d(!1),await h()}catch(S){console.error("Error saving note:",S),alert(S instanceof Error?`Failed to save note: ${S.message}`:"An unknown error occurred.")}},y=async x=>{if(window.confirm("Are you sure you want to delete this note?"))try{const{error:w}=await se.from("notes").delete().eq("id",x);if(w)throw w;await h()}catch(w){alert(w instanceof Error?`Failed to delete note: ${w.message}`:"An unknown error occurred.")}},g=()=>{u({title:"",content:""}),d(!1)};return r?s.jsx("div",{className:"p-4",children:s.jsx(et,{size:"sm"})}):i?s.jsx("div",{className:"p-4",children:s.jsx(He,{message:i})}):s.jsxs("div",{className:"bg-white p-4 rounded-lg border",children:[s.jsxs("div",{className:"flex justify-between items-center mb-3",children:[s.jsxs("h3",{className:"font-semibold flex items-center gap-2 text-gray-700",children:[s.jsx(ii,{className:"w-5 h-5 text-yellow-600"})," Character Notes"]}),s.jsx(V,{size:"xs",icon:Ht,onClick:g,children:"New Note"})]}),s.jsx("div",{className:"space-y-2",children:t.length===0?s.jsx("p",{className:"text-sm text-gray-500 italic text-center py-4",children:"No notes for this character yet."}):t.map(x=>s.jsxs("div",{className:"p-3 rounded-md border border-gray-100 hover:bg-gray-50 flex justify-between items-center transition-colors",children:[s.jsxs("div",{children:[s.jsx("button",{onClick:()=>u(x),className:"text-sm font-bold text-gray-800 hover:text-blue-600 text-left block",children:x.title}),s.jsx("span",{className:"text-xs text-gray-400",children:new Date(x.created_at).toLocaleDateString()})]}),s.jsx(V,{variant:"danger_outline",size:"xs",icon:Cn,onClick:()=>y(x.id)})]},x.id))}),l&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:s.jsxs("div",{className:"bg-white rounded-lg max-w-3xl w-full p-6 shadow-xl flex flex-col max-h-[90vh] animate-in fade-in zoom-in-95 duration-200",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4 border-b pb-2",children:[s.jsx("h4",{className:"text-lg font-semibold",children:l.id?"Edit Note":"New Note"}),s.jsx("button",{onClick:()=>u(null),children:s.jsx(mt,{className:"w-6 h-6 text-gray-500 hover:text-gray-800"})})]}),s.jsxs("div",{className:"overflow-y-auto flex-grow space-y-4 pr-1",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:"Title"}),s.jsx("input",{type:"text",placeholder:"Note Title",value:l.title||"",onChange:x=>u(w=>w?{...w,title:x.target.value}:null),className:"w-full font-bold text-lg p-2 border rounded focus:ring-2 focus:ring-blue-500 outline-none",autoFocus:!0})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between items-end mb-1",children:[s.jsxs("label",{className:"block text-sm font-bold text-gray-700",children:["Content ",s.jsx("span",{className:"text-xs font-normal text-gray-400",children:"(Markdown)"})]}),s.jsx("button",{type:"button",onClick:()=>d(!c),className:"text-xs flex items-center gap-1 text-blue-600 hover:text-blue-800 font-medium",children:c?s.jsxs(s.Fragment,{children:[s.jsx(yx,{size:14})," Edit"]}):s.jsxs(s.Fragment,{children:[s.jsx(Uf,{size:14})," Preview"]})})]}),s.jsxs("div",{className:"border rounded-lg overflow-hidden border-gray-300 focus-within:ring-2 focus-within:ring-blue-500 focus-within:border-blue-500 transition-all",children:[!c&&s.jsxs("div",{className:"flex items-center gap-1 p-2 bg-gray-50 border-b border-gray-200 overflow-x-auto",children:[s.jsx(Ga,{icon:mx,label:"Bold",onClick:()=>f("**","**")}),s.jsx(Ga,{icon:Ex,label:"Italic",onClick:()=>f("*","*")}),s.jsx("div",{className:"w-px h-4 bg-gray-300 mx-1"}),s.jsx(Ga,{icon:xx,label:"Heading",onClick:()=>f("# ","")}),s.jsx(Ga,{icon:Tx,label:"Quote",onClick:()=>f("> ","")}),s.jsx(Ga,{icon:Bf,label:"Code Block",onClick:()=>f("```\n","\n```")}),s.jsx("div",{className:"w-px h-4 bg-gray-300 mx-1"}),s.jsx(Ga,{icon:Hf,label:"Bullet List",onClick:()=>f("- ","")}),s.jsx(Ga,{icon:wx,label:"Numbered List",onClick:()=>f("1. ","")}),s.jsx("div",{className:"w-px h-4 bg-gray-300 mx-1"}),s.jsx(Ga,{icon:$f,label:"Link",onClick:()=>f("[","](url)")}),s.jsx(Ga,{icon:Ox,label:"Table",onClick:m})]}),c?s.jsx("div",{className:"p-4 h-[400px] overflow-y-auto prose prose-sm max-w-none bg-gray-50/50",children:s.jsx(Vl,{content:l.content||"*No content*"})}):s.jsx("textarea",{ref:p,placeholder:"Write your note here...",value:l.content||"",onChange:x=>u(w=>w?{...w,content:x.target.value}:null),className:"w-full p-3 h-[400px] font-mono text-sm outline-none resize-none bg-white"})]})]})]}),s.jsxs("div",{className:"flex justify-end gap-2 mt-6 border-t pt-4",children:[s.jsx(V,{variant:"outline",onClick:()=>u(null),children:"Cancel"}),s.jsx(V,{variant:"primary",icon:vn,onClick:()=>v(l),children:"Save Note"})]})]})})]})},i2=({label:e,icon:t,currentValue:n,maxValue:r,onDecrement:a,onIncrement:i,isSaving:o,colorClass:l})=>{const u=r>0?n/r*100:0;return s.jsxs("div",{className:"p-3 rounded-lg shadow bg-white",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsxs("h3",{className:"font-semibold flex items-center gap-1.5 text-sm",children:[s.jsx(t,{className:`w-4 h-4 ${e==="HP"?"text-red-600":"text-blue-600"}`})," ",e]}),s.jsxs("span",{className:"text-sm font-medium",children:[n," / ",r]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{onClick:a,className:"p-1 text-xs bg-gray-200 text-gray-700 rounded-full hover:bg-gray-300 disabled:opacity-50",disabled:o||n<=0,title:`Decrease ${e}`,children:s.jsx(kx,{className:"w-3 h-3"})}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5",children:s.jsx("div",{className:`${l} h-2.5 rounded-full transition-all`,style:{width:`${u}%`}})}),s.jsx("button",{onClick:i,className:"p-1 text-xs bg-gray-200 text-gray-700 rounded-full hover:bg-gray-300 disabled:opacity-50",disabled:o||n>=r,title:`Increase ${e}`,children:s.jsx(Ht,{className:"w-3 h-3"})})]})]})};function iK({}){var U,X,L,ie,W,Q,q;Mr();const{toggleDiceRoller:e}=Kr(),{character:t,fetchCharacter:n,adjustStat:r,toggleCondition:a,performRest:i,isLoading:o,error:l,isSaving:u,saveError:c}=un(),[d,p]=E.useState(!1),[h,f]=E.useState(!1),[m,v]=E.useState(!1),[y,g]=E.useState(!1),[x,w]=E.useState(!1),[k,S]=E.useState(!1),[T,A]=E.useState(!1),[I,C]=E.useState(!1),[N,O]=E.useState("equipment");if(o)return s.jsx("div",{className:"p-4 text-center",children:"Loading character..."});if(l)return s.jsxs("div",{className:"p-4 text-center text-red-500",children:["Error loading character: ",l]});if(!t)return s.jsx("div",{className:"p-4 text-center",children:"Character data not available."});const D=ee=>{a(ee)},B=async ee=>{f(!1),await i(ee,ee==="stretch"?I:void 0),C(!1)},j=(ee,ve,Ie,te)=>{var pe;const oe=ve??10,ge=((pe=t.conditions)==null?void 0:pe[te])??!1;return s.jsxs("div",{className:"relative",children:[s.jsxs("div",{className:"p-4 bg-gray-800 rounded-lg text-white",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("span",{className:"font-medium",children:ee}),s.jsx("span",{className:"text-xl",children:oe})]}),s.jsx("div",{className:"text-sm h-5",children:(ee==="STR"||ee==="AGL")&&oe>12&&s.jsxs("div",{className:"text-blue-400",children:["Damage Bonus: ",oe<=15?"+D4":"+D6"]})})]}),s.jsx("button",{onClick:()=>D(te),className:`absolute -bottom-3 left-1/2 transform -translate-x-1/2 px-3 py-1 rounded-full text-xs font-medium transition-colors ${ge?"bg-red-600 text-white hover:bg-red-700":"bg-gray-200 text-gray-700 hover:bg-gray-300"} ${u?"opacity-50":""}`,disabled:u,title:`Toggle ${te}`,children:te.toUpperCase().substring(0,3)})]})},P=()=>h?s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:s.jsxs("div",{className:"bg-white rounded-lg max-w-lg w-full p-6 max-h-[90vh] overflow-y-auto shadow-xl",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsxs("h3",{className:"text-xl font-semibold flex items-center gap-2",children:[s.jsx(o_,{className:"w-6 h-6"})," Choose Rest Type"]}),s.jsx("button",{onClick:()=>{f(!1),C(!1)},className:"text-gray-500 hover:text-gray-700",children:s.jsx(mt,{className:"w-6 h-6"})})]}),s.jsxs("div",{className:"space-y-4 mb-6",children:[s.jsxs("div",{children:[s.jsx("button",{onClick:()=>B("shift"),className:"w-full flex items-center justify-center gap-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50",disabled:u,children:u?"Resting...":"Take Shift Rest"}),s.jsxs("p",{className:"text-sm text-gray-600 mt-2",children:[s.jsx("strong",{children:"Shift Rest (~6 hours):"})," Requires a safe location. Recovers all HP & WP, heals all standard conditions."]})]}),s.jsxs("div",{children:[s.jsx("button",{onClick:()=>B("stretch"),className:"w-full flex items-center justify-center gap-2 px-4 py-2 bg-amber-600 text-white rounded-lg hover:bg-amber-700 disabled:opacity-50",disabled:u||((t==null?void 0:t.current_hp)??0)<=0,children:u?"Resting...":"Take Stretch Rest"}),s.jsxs("p",{className:"text-sm text-gray-600 mt-2",children:[s.jsx("strong",{children:"Stretch Rest (~15 mins):"})," Heal ",I?"2d6":"1d6"," HP, recover 1d6 WP, heal one condition. Cannot be taken while dying."]})]}),s.jsx("div",{className:"mb-4",children:s.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[s.jsx("input",{type:"checkbox",checked:I,onChange:ee=>C(ee.target.checked),className:"rounded border-gray-300"}),s.jsx("span",{children:"Healer present for Stretch Rest"})]})}),s.jsxs("div",{children:[s.jsx("button",{onClick:()=>B("round"),className:"w-full flex items-center justify-center gap-2 px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 disabled:opacity-50",disabled:u,children:u?"Resting...":"Take Round Rest"}),s.jsxs("p",{className:"text-sm text-gray-600 mt-2",children:[s.jsx("strong",{children:"Round Rest (~10 secs):"})," Recover 1d6 WP. No HP recovery."]})]})]}),u&&s.jsx("div",{className:"mt-4 text-sm text-center text-gray-500",children:"Saving..."}),c&&s.jsxs("div",{className:"mt-4 text-sm text-center text-red-500",children:["Error: ",c]})]})}):null,Y=()=>{var ve;const ee=Object.keys((t==null?void 0:t.skill_levels)||{});return((ve=t==null?void 0:t.profession)==null?void 0:ve.endsWith("Mage"))||ee.some(Ie=>["ELEMENTALISM","ANIMISM","MENTALISM"].includes(Ie.toUpperCase()))},K=(t==null?void 0:t.current_hp)??0,$=(t==null?void 0:t.current_wp)??0,z=(t==null?void 0:t.max_hp)??10,_=(t==null?void 0:t.max_wp)??10;return s.jsxs("div",{className:"p-4 space-y-6",children:[s.jsxs("div",{className:"flex flex-wrap justify-between items-start gap-4",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold",children:t.name}),s.jsxs("p",{className:"text-gray-600 text-lg",children:[t.kin," ",t.profession," - Age: ",t.age]})]}),s.jsxs("div",{className:"flex items-center flex-wrap gap-2",children:[s.jsxs("button",{onClick:()=>S(!0),className:"flex items-center gap-2 px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 text-sm",children:[s.jsx(VP,{className:"w-4 h-4"})," Bio"]}),s.jsxs("button",{onClick:()=>g(!0),className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 text-sm",children:[s.jsx(so,{className:"w-4 h-4"})," Inventory"]}),s.jsxs("button",{onClick:()=>f(!0),className:"flex items-center gap-2 px-4 py-2 bg-teal-600 text-white rounded-lg hover:bg-teal-700 text-sm",children:[s.jsx(o_,{className:"w-4 h-4"})," Rest"]}),s.jsxs("button",{onClick:()=>w(!0),className:"flex items-center gap-2 px-4 py-2 bg-yellow-500 text-black rounded-lg hover:bg-yellow-600 text-sm",children:[s.jsx(Ff,{className:"w-4 h-4"})," Session"]}),s.jsxs("button",{onClick:()=>A(!0),className:"flex items-center gap-2 px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 text-sm",children:[s.jsx(bP,{className:"w-4 h-4"})," Actions"]})]})]}),s.jsx(ZB,{}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-x-4 gap-y-6",children:[j("STR",(U=t.attributes)==null?void 0:U.STR,s.jsx(wP,{}),"exhausted"),j("CON",(X=t.attributes)==null?void 0:X.CON,s.jsx(xi,{}),"sickly"),j("AGL",(L=t.attributes)==null?void 0:L.AGL,s.jsx(SP,{}),"dazed"),j("INT",(ie=t.attributes)==null?void 0:ie.INT,s.jsx(wR,{}),"angry"),j("WIL",(W=t.attributes)==null?void 0:W.WIL,s.jsx(Ar,{}),"scared"),j("CHA",(Q=t.attributes)==null?void 0:Q.CHA,s.jsx(QP,{}),"disheartened")]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-12 gap-4 items-start",children:[s.jsxs("div",{className:"md:col-span-6 flex flex-col gap-3",children:[s.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[s.jsxs("button",{onClick:()=>v(!0),className:"flex items-center gap-2 px-3 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 text-sm",children:[s.jsx(_d,{className:"w-4 h-4"})," Skills"]}),Y()&&s.jsxs("button",{onClick:()=>p(!0),className:"flex items-center gap-2 px-3 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 text-sm",children:[s.jsx($l,{className:"w-4 h-4"})," Spells"]})]}),s.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 bg-gray-800 text-white rounded-lg text-sm self-start",children:[s.jsx("span",{className:"font-medium",children:"Movement:"}),s.jsxs("span",{className:"font-bold text-lg",children:[hB(t.kin,(q=t.attributes)==null?void 0:q.AGL),"m"]})]})]}),s.jsxs("div",{className:"md:col-span-6 grid grid-cols-1 sm:grid-cols-2 gap-4",children:[K>0?s.jsx(i2,{label:"HP",icon:vx,currentValue:K,maxValue:z,onDecrement:()=>r("current_hp",-1),onIncrement:()=>r("current_hp",1),isSaving:u,colorClass:"bg-red-500"}):s.jsx(KB,{character:t}),s.jsx(i2,{label:"WP",icon:Ar,currentValue:$,maxValue:_,onDecrement:()=>r("current_wp",-1),onIncrement:()=>r("current_wp",1),isSaving:u,colorClass:"bg-blue-500"})]})]}),s.jsxs("div",{children:[s.jsx("div",{className:"border-b border-gray-200",children:s.jsxs("nav",{className:"-mb-px flex space-x-6","aria-label":"Tabs",children:[s.jsxs("button",{onClick:()=>O("equipment"),className:`flex items-center gap-2 whitespace-nowrap py-3 px-1 border-b-2 font-medium text-sm ${N==="equipment"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:[s.jsx(Tn,{className:"w-5 h-5"})," Equipment"]}),s.jsxs("button",{onClick:()=>O("abilities"),className:`flex items-center gap-2 whitespace-nowrap py-3 px-1 border-b-2 font-medium text-sm ${N==="abilities"?"border-orange-500 text-orange-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:[s.jsx(Ix,{className:"w-5 h-5"})," Heroic Abilities"]}),s.jsxs("button",{onClick:()=>O("notes"),className:`flex items-center gap-2 whitespace-nowrap py-3 px-1 border-b-2 font-medium text-sm ${N==="notes"?"border-yellow-500 text-yellow-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:[s.jsx(ii,{className:"w-5 h-5"})," Notes"]})]})}),s.jsxs("div",{className:"mt-4",children:[N==="equipment"&&s.jsx(PB,{character:t}),N==="abilities"&&s.jsx(HB,{}),N==="notes"&&s.jsx(sK,{character:t})]})]}),k&&s.jsx(XB,{onClose:()=>S(!1)}),m&&s.jsx(gB,{onClose:()=>v(!1)}),d&&s.jsx(wB,{onClose:()=>p(!1)}),y&&s.jsx(RB,{onClose:()=>g(!1)}),x&&s.jsx(YB,{character:t,onClose:()=>{w(!1),t!=null&&t.id&&(t!=null&&t.user_id)&&n(t.id,t.user_id)}}),T&&s.jsx(QB,{onClose:()=>A(!1)}),P(),u&&s.jsx("div",{className:"fixed bottom-4 right-4 bg-blue-600 text-white px-4 py-2 rounded-lg shadow-md text-sm z-50 animate-pulse",children:" Saving... "}),c&&s.jsxs("div",{className:"fixed bottom-4 right-4 bg-red-600 text-white px-4 py-2 rounded-lg shadow-md text-sm z-50",children:[" Save Error: ",c," "]})]})}const oK=({combatant:e})=>{var y;const{setInitiativeForCombatant:t,updateCombatant:n,isSaving:r,character:a}=un(),[i,o]=E.useState(((y=e.initiative_roll)==null?void 0:y.toString())??"");E.useEffect(()=>{var g;o(((g=e.initiative_roll)==null?void 0:g.toString())??"")},[e.initiative_roll]);const l=()=>{const g=parseInt(i,10);!isNaN(g)&&g>=1&&g<=10&&t(e.id,g)},u=()=>{n(e.id,{has_acted:!e.has_acted})},c=e.character_id===(a==null?void 0:a.id),d=!!e.character_id,p=e.has_acted||!1,f=!d&&e.current_hp===0,m=d&&e.current_hp===0;let v=d?"border-teal-600 bg-teal-50":"border-orange-700 bg-orange-50";return f?v="border-stone-400 bg-stone-200 opacity-70":p&&(v="border-stone-300 bg-stone-100 opacity-70 grayscale"),s.jsxs("div",{className:`relative p-3 rounded-lg border-l-4 shadow-sm transition-all ${v}`,children:[f&&s.jsx("div",{className:"absolute inset-0 flex items-center justify-center z-0 opacity-20",children:s.jsx("span",{className:"text-3xl font-black uppercase -rotate-12 text-black",children:"Defeated"})}),s.jsxs("div",{className:"relative z-10 flex justify-between items-start",children:[s.jsxs("div",{children:[s.jsx("p",{className:`font-bold ${p||f?"text-stone-500 line-through":"text-stone-900"}`,children:e.display_name}),m&&s.jsxs("span",{className:"text-xs font-bold text-red-600 flex items-center gap-1",children:[s.jsx(ds,{size:12})," DYING"]})]}),s.jsxs("div",{className:"flex items-center gap-1 text-sm font-mono bg-white/50 px-2 py-1 rounded",children:[s.jsx(xi,{className:`w-3 h-3 ${e.current_hp===0?"text-stone-400":"text-red-600"}`}),s.jsxs("span",{children:[e.current_hp," / ",e.max_hp]})]})]}),s.jsxs("div",{className:"relative z-10 mt-3 flex items-center justify-between",children:[s.jsx("div",{className:"flex items-center gap-2",children:(!e.initiative_roll||c)&&!f?s.jsxs(s.Fragment,{children:[s.jsx("input",{type:"number",value:i,onChange:g=>o(g.target.value),placeholder:"#",className:"w-12 px-1 py-0.5 text-center border rounded text-sm font-bold",min:"1",max:"10",disabled:r}),!e.initiative_roll&&s.jsx(V,{onClick:l,size:"xs",variant:"secondary",disabled:r,children:"Set"})]}):s.jsx("div",{className:"w-8 h-8 bg-white border-2 border-stone-800 rounded flex items-center justify-center font-serif font-bold text-lg shadow-sm",children:e.initiative_roll})}),(c||!d)&&!f&&s.jsxs(V,{onClick:u,size:"xs",variant:p?"ghost":"outline",className:p?"text-stone-500":"text-stone-800 border-stone-400 bg-white",children:[p?s.jsx(Ax,{size:14,className:"mr-1"}):s.jsx($h,{size:14,className:"mr-1"}),p?"Recover":"Flip / Reaction"]})]})]})};function oO(){const{character:e,activeEncounter:t,encounterCombatants:n,isLoadingEncounter:r,fetchActiveEncounter:a}=un(),[i,o]=E.useState(!1);if(E.useEffect(()=>{if(!(e!=null&&e.party_id)||!(e!=null&&e.id))return;const c=e.party_id,d=e.id,p=se.channel(`party-encounter-updates-${c}`),h=()=>{console.log("Syncing encounter data..."),a(c,d)};return p.on("postgres_changes",{event:"*",schema:"public",table:"encounters",filter:`party_id=eq.${c}`},h).on("postgres_changes",{event:"*",schema:"public",table:"encounter_combatants"},h).subscribe(),()=>{se.removeChannel(p)}},[e,a]),!e)return null;const l=(t==null?void 0:t.status)==="active",u=[...n].sort((c,d)=>{const p=c.initiative_roll??1e3,h=d.initiative_roll??1e3;return p!==h?p-h:(c.display_name??"").localeCompare(d.display_name??"")});return s.jsxs(s.Fragment,{children:[s.jsx("button",{className:`fixed bottom-4 right-4 p-4 rounded-full shadow-lg text-white transition-all duration-200 z-40 hover:scale-105 ${l?"bg-red-700 hover:bg-red-800 ring-2 ring-red-400 animate-pulse-slow":"bg-blue-600 hover:bg-blue-700"}`,onClick:()=>o(!i),children:l?s.jsx(Ut,{size:24}):s.jsx(jP,{size:24})}),i&&s.jsx("div",{className:"fixed inset-0 bg-black/60 flex justify-end z-30 backdrop-blur-sm",onClick:()=>o(!1),children:s.jsxs("div",{className:"bg-stone-100 w-full max-w-sm h-full shadow-2xl flex flex-col border-l border-stone-300",onClick:c=>c.stopPropagation(),children:[s.jsxs("div",{className:"flex justify-between items-center p-4 bg-stone-800 text-white shadow-md",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-lg font-bold font-serif tracking-wide",children:l?"Combat":"Party Chat"}),l&&s.jsxs("span",{className:"text-xs text-green-400 uppercase font-bold",children:["Round ",t.current_round]})]}),s.jsx("button",{onClick:()=>o(!1),className:"text-stone-400 hover:text-white",children:s.jsx(mt,{size:24})})]}),s.jsx("div",{className:"flex-grow p-4 overflow-y-auto space-y-4 bg-[url('/parchment-bg.png')] bg-repeat",children:r&&!t?s.jsx("div",{className:"flex justify-center items-center h-full",children:s.jsx(Sa,{className:"w-8 h-8 animate-spin text-stone-500"})}):t?s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"bg-white p-3 rounded shadow-sm border border-stone-200",children:[s.jsx("h3",{className:"font-bold text-lg text-stone-800",children:t.name}),s.jsx("p",{className:"text-xs text-stone-500",children:t.description||"No description"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("div",{className:"flex justify-between items-end border-b border-stone-300 pb-1",children:s.jsx("h4",{className:"font-bold text-stone-600 uppercase text-xs tracking-wider",children:"Initiative Track"})}),u.length>0?u.map(c=>s.jsx(oK,{combatant:c},c.id)):s.jsx("p",{className:"text-sm text-stone-500 italic text-center py-4",children:"The battlefield is empty."})]})]}):s.jsx("div",{className:"text-stone-500 text-center mt-10 italic",children:"The party is resting."})})]})})]})}function lK(){const{id:e}=ox(),{user:t}=cn(),{character:n,isLoading:r,error:a,fetchCharacter:i,setCharacter:o}=un();return E.useEffect(()=>{(async()=>{e&&(t!=null&&t.id)?await i(e,t.id):(o(null),console.warn("CharacterPage: Character ID or User ID is missing. Cannot load character."))})()},[e,t==null?void 0:t.id,i,o]),r?s.jsx("div",{className:"flex items-center justify-center min-h-screen",children:s.jsx(et,{size:"lg"})}):a?s.jsx("div",{className:"p-8",children:s.jsx(He,{message:a})}):n?s.jsxs(s.Fragment,{children:[s.jsx(iK,{}),s.jsx(oO,{})]}):s.jsx("div",{className:"p-8",children:s.jsx(He,{message:"Character not found, does not exist, or you may not have permission to view it."})})}function i1(e){return G$(e,{extensions:[bD()],htmlExtensions:[Mq()]})}function uK(e){return`<div class="monster-block">${i1(e)}</div>`}function cK(e){return`<div class="note-block">${i1(e)}</div>`}function dK(e){return`<div class="spell-block">${i1(e)}</div>`}function Sc(){return e=>{En(e,"code",t=>{var a;const n=(a=t.lang)==null?void 0:a.toLowerCase();let r;switch(n){case"monster":r=uK(t.value);break;case"note":r=cK(t.value);break;case"spell":r=dK(t.value);break}r&&(t.type="html",t.value=r)})}}function pK({content:e,className:t=""}){return s.jsx("div",{className:`phb ${t}`,children:s.jsx(hl,{remarkPlugins:[Yi,Sc],rehypePlugins:[ri],children:e})})}function tt(){return tt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},tt.apply(null,arguments)}function td(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function _a(e){return"children"in e?lO(e):"value"in e?e.value:""}function hK(e){return e.type==="text"?e.value:"children"in e?lO(e):""}function lO(e){let t=-1;const n=[];for(;++t<e.children.length;)n[t]=hK(e.children[t]);return n.join("")}const fK={}.hasOwnProperty;function uO(e,t,n){const r=jd(t),a=t&&typeof t=="object"&&"cascade"in t?t.cascade:void 0,i=a??!0;return o(e);function o(l,u,c){const d=[];if(!r(l,u,c))return;if(mK(l)){let f=-1;for(;++f<l.children.length;){const m=o(l.children[f],f,l);m&&d.push(m)}if(i&&l.children.length>0&&d.length===0)return}const p={};let h;for(h in l)fK.call(l,h)&&(p[h]=h==="children"?d:l[h]);return p}}function mK(e){return"children"in e&&e.children!==void 0}var Pb={exports:{}};(function(e,t){function n(r){let a=[],i;for(let o of r.split(",").map(l=>l.trim()))if(/^-?\d+$/.test(o))a.push(parseInt(o,10));else if(i=o.match(/^(-?\d+)(-|\.\.\.?|\u2025|\u2026|\u22EF)(-?\d+)$/)){let[l,u,c,d]=i;if(u&&d){u=parseInt(u),d=parseInt(d);const p=u<d?1:-1;(c==="-"||c===".."||c==="")&&(d+=p);for(let h=u;h!==d;h+=p)a.push(h)}}return a}t.default=n,e.exports=n})(Pb,Pb.exports);var gK=Pb.exports;const cO=Xl(gK);at.displayName="clike";at.aliases=[];function at(e){e.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|trait)\s+|\bcatch\s+\()[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:break|catch|continue|do|else|finally|for|function|if|in|instanceof|new|null|return|throw|try|while)\b/,boolean:/\b(?:false|true)\b/,function:/\b\w+(?=\()/,number:/\b0x[\da-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?/i,operator:/[<>]=?|[!=]=?=?|--?|\+\+?|&&?|\|\|?|[?*/~^%]/,punctuation:/[{}[\];(),.:]/}}pa.displayName="c";pa.aliases=[];function pa(e){e.register(at),e.languages.c=e.languages.extend("clike",{comment:{pattern:/\/\/(?:[^\r\n\\]|\\(?:\r\n?|\n|(?![\r\n])))*|\/\*[\s\S]*?(?:\*\/|$)/,greedy:!0},string:{pattern:/"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"/,greedy:!0},"class-name":{pattern:/(\b(?:enum|struct)\s+(?:__attribute__\s*\(\([\s\S]*?\)\)\s*)?)\w+|\b[a-z]\w*_t\b/,lookbehind:!0},keyword:/\b(?:_Alignas|_Alignof|_Atomic|_Bool|_Complex|_Generic|_Imaginary|_Noreturn|_Static_assert|_Thread_local|__attribute__|asm|auto|break|case|char|const|continue|default|do|double|else|enum|extern|float|for|goto|if|inline|int|long|register|return|short|signed|sizeof|static|struct|switch|typedef|typeof|union|unsigned|void|volatile|while)\b/,function:/\b[a-z_]\w*(?=\s*\()/i,number:/(?:\b0x(?:[\da-f]+(?:\.[\da-f]*)?|\.[\da-f]+)(?:p[+-]?\d+)?|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?)[ful]{0,4}/i,operator:/>>=?|<<=?|->|([-+&|:])\1|[?:~]|[-+*/%&|^!=<>]=?/}),e.languages.insertBefore("c","string",{char:{pattern:/'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n]){0,32}'/,greedy:!0}}),e.languages.insertBefore("c","string",{macro:{pattern:/(^[\t ]*)#\s*[a-z](?:[^\r\n\\/]|\/(?!\*)|\/\*(?:[^*]|\*(?!\/))*\*\/|\\(?:\r\n|[\s\S]))*/im,lookbehind:!0,greedy:!0,alias:"property",inside:{string:[{pattern:/^(#\s*include\s*)<[^>]+>/,lookbehind:!0},e.languages.c.string],char:e.languages.c.char,comment:e.languages.c.comment,"macro-name":[{pattern:/(^#\s*define\s+)\w+\b(?!\()/i,lookbehind:!0},{pattern:/(^#\s*define\s+)\w+\b(?=\()/i,lookbehind:!0,alias:"function"}],directive:{pattern:/^(#\s*)[a-z]+/,lookbehind:!0,alias:"keyword"},"directive-hash":/^#/,punctuation:/##|\\(?=[\r\n])/,expression:{pattern:/\S[\s\S]*/,inside:e.languages.c}}}}),e.languages.insertBefore("c","function",{constant:/\b(?:EOF|NULL|SEEK_CUR|SEEK_END|SEEK_SET|__DATE__|__FILE__|__LINE__|__TIMESTAMP__|__TIME__|__func__|stderr|stdin|stdout)\b/}),delete e.languages.c.boolean}vo.displayName="cpp";vo.aliases=[];function vo(e){e.register(pa),function(t){var n=/\b(?:alignas|alignof|asm|auto|bool|break|case|catch|char|char16_t|char32_t|char8_t|class|co_await|co_return|co_yield|compl|concept|const|const_cast|consteval|constexpr|constinit|continue|decltype|default|delete|do|double|dynamic_cast|else|enum|explicit|export|extern|final|float|for|friend|goto|if|import|inline|int|int16_t|int32_t|int64_t|int8_t|long|module|mutable|namespace|new|noexcept|nullptr|operator|override|private|protected|public|register|reinterpret_cast|requires|return|short|signed|sizeof|static|static_assert|static_cast|struct|switch|template|this|thread_local|throw|try|typedef|typeid|typename|uint16_t|uint32_t|uint64_t|uint8_t|union|unsigned|using|virtual|void|volatile|wchar_t|while)\b/,r=/\b(?!<keyword>)\w+(?:\s*\.\s*\w+)*\b/.source.replace(/<keyword>/g,function(){return n.source});t.languages.cpp=t.languages.extend("c",{"class-name":[{pattern:RegExp(/(\b(?:class|concept|enum|struct|typename)\s+)(?!<keyword>)\w+/.source.replace(/<keyword>/g,function(){return n.source})),lookbehind:!0},/\b[A-Z]\w*(?=\s*::\s*\w+\s*\()/,/\b[A-Z_]\w*(?=\s*::\s*~\w+\s*\()/i,/\b\w+(?=\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>\s*::\s*\w+\s*\()/],keyword:n,number:{pattern:/(?:\b0b[01']+|\b0x(?:[\da-f']+(?:\.[\da-f']*)?|\.[\da-f']+)(?:p[+-]?[\d']+)?|(?:\b[\d']+(?:\.[\d']*)?|\B\.[\d']+)(?:e[+-]?[\d']+)?)[ful]{0,4}/i,greedy:!0},operator:/>>=?|<<=?|->|--|\+\+|&&|\|\||[?:~]|<=>|[-+*/%&|^!=<>]=?|\b(?:and|and_eq|bitand|bitor|not|not_eq|or|or_eq|xor|xor_eq)\b/,boolean:/\b(?:false|true)\b/}),t.languages.insertBefore("cpp","string",{module:{pattern:RegExp(/(\b(?:import|module)\s+)/.source+"(?:"+/"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|<[^<>\r\n]*>/.source+"|"+/<mod-name>(?:\s*:\s*<mod-name>)?|:\s*<mod-name>/.source.replace(/<mod-name>/g,function(){return r})+")"),lookbehind:!0,greedy:!0,inside:{string:/^[<"][\s\S]+/,operator:/:/,punctuation:/\./}},"raw-string":{pattern:/R"([^()\\ ]{0,16})\([\s\S]*?\)\1"/,alias:"string",greedy:!0}}),t.languages.insertBefore("cpp","keyword",{"generic-function":{pattern:/\b(?!operator\b)[a-z_]\w*\s*<(?:[^<>]|<[^<>]*>)*>(?=\s*\()/i,inside:{function:/^\w+/,generic:{pattern:/<[\s\S]+/,alias:"class-name",inside:t.languages.cpp}}}}),t.languages.insertBefore("cpp","operator",{"double-colon":{pattern:/::/,alias:"punctuation"}}),t.languages.insertBefore("cpp","class-name",{"base-clause":{pattern:/(\b(?:class|struct)\s+\w+\s*:\s*)[^;{}"'\s]+(?:\s+[^;{}"'\s]+)*(?=\s*[;{])/,lookbehind:!0,greedy:!0,inside:t.languages.extend("cpp",{})}}),t.languages.insertBefore("inside","double-colon",{"class-name":/\b[a-z_]\w*\b(?!\s*::)/i},t.languages.cpp["base-clause"])}(e)}am.displayName="arduino";am.aliases=["ino"];function am(e){e.register(vo),e.languages.arduino=e.languages.extend("cpp",{keyword:/\b(?:String|array|bool|boolean|break|byte|case|catch|continue|default|do|double|else|finally|for|function|goto|if|in|instanceof|int|integer|long|loop|new|null|return|setup|string|switch|throw|try|void|while|word)\b/,constant:/\b(?:ANALOG_MESSAGE|DEFAULT|DIGITAL_MESSAGE|EXTERNAL|FIRMATA_STRING|HIGH|INPUT|INPUT_PULLUP|INTERNAL|INTERNAL1V1|INTERNAL2V56|LED_BUILTIN|LOW|OUTPUT|REPORT_ANALOG|REPORT_DIGITAL|SET_PIN_MODE|SYSEX_START|SYSTEM_RESET)\b/,builtin:/\b(?:Audio|BSSID|Bridge|Client|Console|EEPROM|Esplora|EsploraTFT|Ethernet|EthernetClient|EthernetServer|EthernetUDP|File|FileIO|FileSystem|Firmata|GPRS|GSM|GSMBand|GSMClient|GSMModem|GSMPIN|GSMScanner|GSMServer|GSMVoiceCall|GSM_SMS|HttpClient|IPAddress|IRread|Keyboard|KeyboardController|LiquidCrystal|LiquidCrystal_I2C|Mailbox|Mouse|MouseController|PImage|Process|RSSI|RobotControl|RobotMotor|SD|SPI|SSID|Scheduler|Serial|Server|Servo|SoftwareSerial|Stepper|Stream|TFT|Task|USBHost|WiFi|WiFiClient|WiFiServer|WiFiUDP|Wire|YunClient|YunServer|abs|addParameter|analogRead|analogReadResolution|analogReference|analogWrite|analogWriteResolution|answerCall|attach|attachGPRS|attachInterrupt|attached|autoscroll|available|background|beep|begin|beginPacket|beginSD|beginSMS|beginSpeaker|beginTFT|beginTransmission|beginWrite|bit|bitClear|bitRead|bitSet|bitWrite|blink|blinkVersion|buffer|changePIN|checkPIN|checkPUK|checkReg|circle|cityNameRead|cityNameWrite|clear|clearScreen|click|close|compassRead|config|connect|connected|constrain|cos|countryNameRead|countryNameWrite|createChar|cursor|debugPrint|delay|delayMicroseconds|detach|detachInterrupt|digitalRead|digitalWrite|disconnect|display|displayLogos|drawBMP|drawCompass|encryptionType|end|endPacket|endSMS|endTransmission|endWrite|exists|exitValue|fill|find|findUntil|flush|gatewayIP|get|getAsynchronously|getBand|getButton|getCurrentCarrier|getIMEI|getKey|getModifiers|getOemKey|getPINUsed|getResult|getSignalStrength|getSocket|getVoiceCallStatus|getXChange|getYChange|hangCall|height|highByte|home|image|interrupts|isActionDone|isDirectory|isListening|isPIN|isPressed|isValid|keyPressed|keyReleased|keyboardRead|knobRead|leftToRight|line|lineFollowConfig|listen|listenOnLocalhost|loadImage|localIP|lowByte|macAddress|maintain|map|max|messageAvailable|micros|millis|min|mkdir|motorsStop|motorsWrite|mouseDragged|mouseMoved|mousePressed|mouseReleased|move|noAutoscroll|noBlink|noBuffer|noCursor|noDisplay|noFill|noInterrupts|noListenOnLocalhost|noStroke|noTone|onReceive|onRequest|open|openNextFile|overflow|parseCommand|parseFloat|parseInt|parsePacket|pauseMode|peek|pinMode|playFile|playMelody|point|pointTo|position|pow|prepare|press|print|printFirmwareVersion|printVersion|println|process|processInput|pulseIn|put|random|randomSeed|read|readAccelerometer|readBlue|readButton|readBytes|readBytesUntil|readGreen|readJoystickButton|readJoystickSwitch|readJoystickX|readJoystickY|readLightSensor|readMessage|readMicrophone|readNetworks|readRed|readSlider|readString|readStringUntil|readTemperature|ready|rect|release|releaseAll|remoteIP|remoteNumber|remotePort|remove|requestFrom|retrieveCallingNumber|rewindDirectory|rightToLeft|rmdir|robotNameRead|robotNameWrite|run|runAsynchronously|runShellCommand|runShellCommandAsynchronously|running|scanNetworks|scrollDisplayLeft|scrollDisplayRight|seek|sendAnalog|sendDigitalPortPair|sendDigitalPorts|sendString|sendSysex|serialEvent|setBand|setBitOrder|setClockDivider|setCursor|setDNS|setDataMode|setFirmwareVersion|setMode|setPINUsed|setSpeed|setTextSize|setTimeout|shiftIn|shiftOut|shutdown|sin|size|sqrt|startLoop|step|stop|stroke|subnetMask|switchPIN|tan|tempoWrite|text|tone|transfer|tuneWrite|turn|updateIR|userNameRead|userNameWrite|voiceCall|waitContinue|width|write|writeBlue|writeGreen|writeJSON|writeMessage|writeMicroseconds|writeRGB|writeRed|yield)\b/}),e.languages.ino=e.languages.arduino}Ud.displayName="bash";Ud.aliases=["sh","shell"];function Ud(e){(function(t){var n="\\b(?:BASH|BASHOPTS|BASH_ALIASES|BASH_ARGC|BASH_ARGV|BASH_CMDS|BASH_COMPLETION_COMPAT_DIR|BASH_LINENO|BASH_REMATCH|BASH_SOURCE|BASH_VERSINFO|BASH_VERSION|COLORTERM|COLUMNS|COMP_WORDBREAKS|DBUS_SESSION_BUS_ADDRESS|DEFAULTS_PATH|DESKTOP_SESSION|DIRSTACK|DISPLAY|EUID|GDMSESSION|GDM_LANG|GNOME_KEYRING_CONTROL|GNOME_KEYRING_PID|GPG_AGENT_INFO|GROUPS|HISTCONTROL|HISTFILE|HISTFILESIZE|HISTSIZE|HOME|HOSTNAME|HOSTTYPE|IFS|INSTANCE|JOB|LANG|LANGUAGE|LC_ADDRESS|LC_ALL|LC_IDENTIFICATION|LC_MEASUREMENT|LC_MONETARY|LC_NAME|LC_NUMERIC|LC_PAPER|LC_TELEPHONE|LC_TIME|LESSCLOSE|LESSOPEN|LINES|LOGNAME|LS_COLORS|MACHTYPE|MAILCHECK|MANDATORY_PATH|NO_AT_BRIDGE|OLDPWD|OPTERR|OPTIND|ORBIT_SOCKETDIR|OSTYPE|PAPERSIZE|PATH|PIPESTATUS|PPID|PS1|PS2|PS3|PS4|PWD|RANDOM|REPLY|SECONDS|SELINUX_INIT|SESSION|SESSIONTYPE|SESSION_MANAGER|SHELL|SHELLOPTS|SHLVL|SSH_AUTH_SOCK|TERM|UID|UPSTART_EVENTS|UPSTART_INSTANCE|UPSTART_JOB|UPSTART_SESSION|USER|WINDOWID|XAUTHORITY|XDG_CONFIG_DIRS|XDG_CURRENT_DESKTOP|XDG_DATA_DIRS|XDG_GREETER_DATA_DIR|XDG_MENU_PREFIX|XDG_RUNTIME_DIR|XDG_SEAT|XDG_SEAT_PATH|XDG_SESSION_DESKTOP|XDG_SESSION_ID|XDG_SESSION_PATH|XDG_SESSION_TYPE|XDG_VTNR|XMODIFIERS)\\b",r={pattern:/(^(["']?)\w+\2)[ \t]+\S.*/,lookbehind:!0,alias:"punctuation",inside:null},a={bash:r,environment:{pattern:RegExp("\\$"+n),alias:"constant"},variable:[{pattern:/\$?\(\([\s\S]+?\)\)/,greedy:!0,inside:{variable:[{pattern:/(^\$\(\([\s\S]+)\)\)/,lookbehind:!0},/^\$\(\(/],number:/\b0x[\dA-Fa-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:[Ee]-?\d+)?/,operator:/--|\+\+|\*\*=?|<<=?|>>=?|&&|\|\||[=!+\-*/%<>^&|]=?|[?~:]/,punctuation:/\(\(?|\)\)?|,|;/}},{pattern:/\$\((?:\([^)]+\)|[^()])+\)|`[^`]+`/,greedy:!0,inside:{variable:/^\$\(|^`|\)$|`$/}},{pattern:/\$\{[^}]+\}/,greedy:!0,inside:{operator:/:[-=?+]?|[!\/]|##?|%%?|\^\^?|,,?/,punctuation:/[\[\]]/,environment:{pattern:RegExp("(\\{)"+n),lookbehind:!0,alias:"constant"}}},/\$(?:\w+|[#?*!@$])/],entity:/\\(?:[abceEfnrtv\\"]|O?[0-7]{1,3}|U[0-9a-fA-F]{8}|u[0-9a-fA-F]{4}|x[0-9a-fA-F]{1,2})/};t.languages.bash={shebang:{pattern:/^#!\s*\/.*/,alias:"important"},comment:{pattern:/(^|[^"{\\$])#.*/,lookbehind:!0},"function-name":[{pattern:/(\bfunction\s+)[\w-]+(?=(?:\s*\(?:\s*\))?\s*\{)/,lookbehind:!0,alias:"function"},{pattern:/\b[\w-]+(?=\s*\(\s*\)\s*\{)/,alias:"function"}],"for-or-select":{pattern:/(\b(?:for|select)\s+)\w+(?=\s+in\s)/,alias:"variable",lookbehind:!0},"assign-left":{pattern:/(^|[\s;|&]|[<>]\()\w+(?:\.\w+)*(?=\+?=)/,inside:{environment:{pattern:RegExp("(^|[\\s;|&]|[<>]\\()"+n),lookbehind:!0,alias:"constant"}},alias:"variable",lookbehind:!0},parameter:{pattern:/(^|\s)-{1,2}(?:\w+:[+-]?)?\w+(?:\.\w+)*(?=[=\s]|$)/,alias:"variable",lookbehind:!0},string:[{pattern:/((?:^|[^<])<<-?\s*)(\w+)\s[\s\S]*?(?:\r?\n|\r)\2/,lookbehind:!0,greedy:!0,inside:a},{pattern:/((?:^|[^<])<<-?\s*)(["'])(\w+)\2\s[\s\S]*?(?:\r?\n|\r)\3/,lookbehind:!0,greedy:!0,inside:{bash:r}},{pattern:/(^|[^\\](?:\\\\)*)"(?:\\[\s\S]|\$\([^)]+\)|\$(?!\()|`[^`]+`|[^"\\`$])*"/,lookbehind:!0,greedy:!0,inside:a},{pattern:/(^|[^$\\])'[^']*'/,lookbehind:!0,greedy:!0},{pattern:/\$'(?:[^'\\]|\\[\s\S])*'/,greedy:!0,inside:{entity:a.entity}}],environment:{pattern:RegExp("\\$?"+n),alias:"constant"},variable:a.variable,function:{pattern:/(^|[\s;|&]|[<>]\()(?:add|apropos|apt|apt-cache|apt-get|aptitude|aspell|automysqlbackup|awk|basename|bash|bc|bconsole|bg|bzip2|cal|cargo|cat|cfdisk|chgrp|chkconfig|chmod|chown|chroot|cksum|clear|cmp|column|comm|composer|cp|cron|crontab|csplit|curl|cut|date|dc|dd|ddrescue|debootstrap|df|diff|diff3|dig|dir|dircolors|dirname|dirs|dmesg|docker|docker-compose|du|egrep|eject|env|ethtool|expand|expect|expr|fdformat|fdisk|fg|fgrep|file|find|fmt|fold|format|free|fsck|ftp|fuser|gawk|git|gparted|grep|groupadd|groupdel|groupmod|groups|grub-mkconfig|gzip|halt|head|hg|history|host|hostname|htop|iconv|id|ifconfig|ifdown|ifup|import|install|ip|java|jobs|join|kill|killall|less|link|ln|locate|logname|logrotate|look|lpc|lpr|lprint|lprintd|lprintq|lprm|ls|lsof|lynx|make|man|mc|mdadm|mkconfig|mkdir|mke2fs|mkfifo|mkfs|mkisofs|mknod|mkswap|mmv|more|most|mount|mtools|mtr|mutt|mv|nano|nc|netstat|nice|nl|node|nohup|notify-send|npm|nslookup|op|open|parted|passwd|paste|pathchk|ping|pkill|pnpm|podman|podman-compose|popd|pr|printcap|printenv|ps|pushd|pv|quota|quotacheck|quotactl|ram|rar|rcp|reboot|remsync|rename|renice|rev|rm|rmdir|rpm|rsync|scp|screen|sdiff|sed|sendmail|seq|service|sftp|sh|shellcheck|shuf|shutdown|sleep|slocate|sort|split|ssh|stat|strace|su|sudo|sum|suspend|swapon|sync|sysctl|tac|tail|tar|tee|time|timeout|top|touch|tr|traceroute|tsort|tty|umount|uname|unexpand|uniq|units|unrar|unshar|unzip|update-grub|uptime|useradd|userdel|usermod|users|uudecode|uuencode|v|vcpkg|vdir|vi|vim|virsh|vmstat|wait|watch|wc|wget|whereis|which|who|whoami|write|xargs|xdg-open|yarn|yes|zenity|zip|zsh|zypper)(?=$|[)\s;|&])/,lookbehind:!0},keyword:{pattern:/(^|[\s;|&]|[<>]\()(?:case|do|done|elif|else|esac|fi|for|function|if|in|select|then|until|while)(?=$|[)\s;|&])/,lookbehind:!0},builtin:{pattern:/(^|[\s;|&]|[<>]\()(?:\.|:|alias|bind|break|builtin|caller|cd|command|continue|declare|echo|enable|eval|exec|exit|export|getopts|hash|help|let|local|logout|mapfile|printf|pwd|read|readarray|readonly|return|set|shift|shopt|source|test|times|trap|type|typeset|ulimit|umask|unalias|unset)(?=$|[)\s;|&])/,lookbehind:!0,alias:"class-name"},boolean:{pattern:/(^|[\s;|&]|[<>]\()(?:false|true)(?=$|[)\s;|&])/,lookbehind:!0},"file-descriptor":{pattern:/\B&\d\b/,alias:"important"},operator:{pattern:/\d?<>|>\||\+=|=[=~]?|!=?|<<[<-]?|[&\d]?>>|\d[<>]&?|[<>][&=]?|&[>&]?|\|[&|]?/,inside:{"file-descriptor":{pattern:/^\d/,alias:"important"}}},punctuation:/\$?\(\(?|\)\)?|\.\.|[{}[\];\\]/,number:{pattern:/(^|\s)(?:[1-9]\d*|0)(?:[.,]\d+)?\b/,lookbehind:!0}},r.inside=t.languages.bash;for(var i=["comment","function-name","for-or-select","assign-left","parameter","string","environment","function","keyword","builtin","boolean","file-descriptor","operator","punctuation","number"],o=a.variable[1].inside,l=0;l<i.length;l++)o[i[l]]=t.languages.bash[i[l]];t.languages.sh=t.languages.bash,t.languages.shell=t.languages.bash})(e)}Eo.displayName="csharp";Eo.aliases=["cs","dotnet"];function Eo(e){e.register(at),function(t){function n(_,U){return _.replace(/<<(\d+)>>/g,function(X,L){return"(?:"+U[+L]+")"})}function r(_,U,X){return RegExp(n(_,U),"")}function a(_,U){for(var X=0;X<U;X++)_=_.replace(/<<self>>/g,function(){return"(?:"+_+")"});return _.replace(/<<self>>/g,"[^\\s\\S]")}var i={type:"bool byte char decimal double dynamic float int long object sbyte short string uint ulong ushort var void",typeDeclaration:"class enum interface record struct",contextual:"add alias and ascending async await by descending from(?=\\s*(?:\\w|$)) get global group into init(?=\\s*;) join let nameof not notnull on or orderby partial remove select set unmanaged value when where with(?=\\s*{)",other:"abstract as base break case catch checked const continue default delegate do else event explicit extern finally fixed for foreach goto if implicit in internal is lock namespace new null operator out override params private protected public readonly ref return sealed sizeof stackalloc static switch this throw try typeof unchecked unsafe using virtual volatile while yield"};function o(_){return"\\b(?:"+_.trim().replace(/ /g,"|")+")\\b"}var l=o(i.typeDeclaration),u=RegExp(o(i.type+" "+i.typeDeclaration+" "+i.contextual+" "+i.other)),c=o(i.typeDeclaration+" "+i.contextual+" "+i.other),d=o(i.type+" "+i.typeDeclaration+" "+i.other),p=a(/<(?:[^<>;=+\-*/%&|^]|<<self>>)*>/.source,2),h=a(/\((?:[^()]|<<self>>)*\)/.source,2),f=/@?\b[A-Za-z_]\w*\b/.source,m=n(/<<0>>(?:\s*<<1>>)?/.source,[f,p]),v=n(/(?!<<0>>)<<1>>(?:\s*\.\s*<<1>>)*/.source,[c,m]),y=/\[\s*(?:,\s*)*\]/.source,g=n(/<<0>>(?:\s*(?:\?\s*)?<<1>>)*(?:\s*\?)?/.source,[v,y]),x=n(/[^,()<>[\];=+\-*/%&|^]|<<0>>|<<1>>|<<2>>/.source,[p,h,y]),w=n(/\(<<0>>+(?:,<<0>>+)+\)/.source,[x]),k=n(/(?:<<0>>|<<1>>)(?:\s*(?:\?\s*)?<<2>>)*(?:\s*\?)?/.source,[w,v,y]),S={keyword:u,punctuation:/[<>()?,.:[\]]/},T=/'(?:[^\r\n'\\]|\\.|\\[Uux][\da-fA-F]{1,8})'/.source,A=/"(?:\\.|[^\\"\r\n])*"/.source,I=/@"(?:""|\\[\s\S]|[^\\"])*"(?!")/.source;t.languages.csharp=t.languages.extend("clike",{string:[{pattern:r(/(^|[^$\\])<<0>>/.source,[I]),lookbehind:!0,greedy:!0},{pattern:r(/(^|[^@$\\])<<0>>/.source,[A]),lookbehind:!0,greedy:!0}],"class-name":[{pattern:r(/(\busing\s+static\s+)<<0>>(?=\s*;)/.source,[v]),lookbehind:!0,inside:S},{pattern:r(/(\busing\s+<<0>>\s*=\s*)<<1>>(?=\s*;)/.source,[f,k]),lookbehind:!0,inside:S},{pattern:r(/(\busing\s+)<<0>>(?=\s*=)/.source,[f]),lookbehind:!0},{pattern:r(/(\b<<0>>\s+)<<1>>/.source,[l,m]),lookbehind:!0,inside:S},{pattern:r(/(\bcatch\s*\(\s*)<<0>>/.source,[v]),lookbehind:!0,inside:S},{pattern:r(/(\bwhere\s+)<<0>>/.source,[f]),lookbehind:!0},{pattern:r(/(\b(?:is(?:\s+not)?|as)\s+)<<0>>/.source,[g]),lookbehind:!0,inside:S},{pattern:r(/\b<<0>>(?=\s+(?!<<1>>|with\s*\{)<<2>>(?:\s*[=,;:{)\]]|\s+(?:in|when)\b))/.source,[k,d,f]),inside:S}],keyword:u,number:/(?:\b0(?:x[\da-f_]*[\da-f]|b[01_]*[01])|(?:\B\.\d+(?:_+\d+)*|\b\d+(?:_+\d+)*(?:\.\d+(?:_+\d+)*)?)(?:e[-+]?\d+(?:_+\d+)*)?)(?:[dflmu]|lu|ul)?\b/i,operator:/>>=?|<<=?|[-=]>|([-+&|])\1|~|\?\?=?|[-+*/%&|^!=<>]=?/,punctuation:/\?\.?|::|[{}[\];(),.:]/}),t.languages.insertBefore("csharp","number",{range:{pattern:/\.\./,alias:"operator"}}),t.languages.insertBefore("csharp","punctuation",{"named-parameter":{pattern:r(/([(,]\s*)<<0>>(?=\s*:)/.source,[f]),lookbehind:!0,alias:"punctuation"}}),t.languages.insertBefore("csharp","class-name",{namespace:{pattern:r(/(\b(?:namespace|using)\s+)<<0>>(?:\s*\.\s*<<0>>)*(?=\s*[;{])/.source,[f]),lookbehind:!0,inside:{punctuation:/\./}},"type-expression":{pattern:r(/(\b(?:default|sizeof|typeof)\s*\(\s*(?!\s))(?:[^()\s]|\s(?!\s)|<<0>>)*(?=\s*\))/.source,[h]),lookbehind:!0,alias:"class-name",inside:S},"return-type":{pattern:r(/<<0>>(?=\s+(?:<<1>>\s*(?:=>|[({]|\.\s*this\s*\[)|this\s*\[))/.source,[k,v]),inside:S,alias:"class-name"},"constructor-invocation":{pattern:r(/(\bnew\s+)<<0>>(?=\s*[[({])/.source,[k]),lookbehind:!0,inside:S,alias:"class-name"},"generic-method":{pattern:r(/<<0>>\s*<<1>>(?=\s*\()/.source,[f,p]),inside:{function:r(/^<<0>>/.source,[f]),generic:{pattern:RegExp(p),alias:"class-name",inside:S}}},"type-list":{pattern:r(/\b((?:<<0>>\s+<<1>>|record\s+<<1>>\s*<<5>>|where\s+<<2>>)\s*:\s*)(?:<<3>>|<<4>>|<<1>>\s*<<5>>|<<6>>)(?:\s*,\s*(?:<<3>>|<<4>>|<<6>>))*(?=\s*(?:where|[{;]|=>|$))/.source,[l,m,f,k,u.source,h,/\bnew\s*\(\s*\)/.source]),lookbehind:!0,inside:{"record-arguments":{pattern:r(/(^(?!new\s*\()<<0>>\s*)<<1>>/.source,[m,h]),lookbehind:!0,greedy:!0,inside:t.languages.csharp},keyword:u,"class-name":{pattern:RegExp(k),greedy:!0,inside:S},punctuation:/[,()]/}},preprocessor:{pattern:/(^[\t ]*)#.*/m,lookbehind:!0,alias:"property",inside:{directive:{pattern:/(#)\b(?:define|elif|else|endif|endregion|error|if|line|nullable|pragma|region|undef|warning)\b/,lookbehind:!0,alias:"keyword"}}}});var C=A+"|"+T,N=n(/\/(?![*/])|\/\/[^\r\n]*[\r\n]|\/\*(?:[^*]|\*(?!\/))*\*\/|<<0>>/.source,[C]),O=a(n(/[^"'/()]|<<0>>|\(<<self>>*\)/.source,[N]),2),D=/\b(?:assembly|event|field|method|module|param|property|return|type)\b/.source,B=n(/<<0>>(?:\s*\(<<1>>*\))?/.source,[v,O]);t.languages.insertBefore("csharp","class-name",{attribute:{pattern:r(/((?:^|[^\s\w>)?])\s*\[\s*)(?:<<0>>\s*:\s*)?<<1>>(?:\s*,\s*<<1>>)*(?=\s*\])/.source,[D,B]),lookbehind:!0,greedy:!0,inside:{target:{pattern:r(/^<<0>>(?=\s*:)/.source,[D]),alias:"keyword"},"attribute-arguments":{pattern:r(/\(<<0>>*\)/.source,[O]),inside:t.languages.csharp},"class-name":{pattern:RegExp(v),inside:{punctuation:/\./}},punctuation:/[:,]/}}});var j=/:[^}\r\n]+/.source,P=a(n(/[^"'/()]|<<0>>|\(<<self>>*\)/.source,[N]),2),Y=n(/\{(?!\{)(?:(?![}:])<<0>>)*<<1>>?\}/.source,[P,j]),K=a(n(/[^"'/()]|\/(?!\*)|\/\*(?:[^*]|\*(?!\/))*\*\/|<<0>>|\(<<self>>*\)/.source,[C]),2),$=n(/\{(?!\{)(?:(?![}:])<<0>>)*<<1>>?\}/.source,[K,j]);function z(_,U){return{interpolation:{pattern:r(/((?:^|[^{])(?:\{\{)*)<<0>>/.source,[_]),lookbehind:!0,inside:{"format-string":{pattern:r(/(^\{(?:(?![}:])<<0>>)*)<<1>>(?=\}$)/.source,[U,j]),lookbehind:!0,inside:{punctuation:/^:/}},punctuation:/^\{|\}$/,expression:{pattern:/[\s\S]+/,alias:"language-csharp",inside:t.languages.csharp}}},string:/[\s\S]+/}}t.languages.insertBefore("csharp","string",{"interpolation-string":[{pattern:r(/(^|[^\\])(?:\$@|@\$)"(?:""|\\[\s\S]|\{\{|<<0>>|[^\\{"])*"/.source,[Y]),lookbehind:!0,greedy:!0,inside:z(Y,P)},{pattern:r(/(^|[^@\\])\$"(?:\\.|\{\{|<<0>>|[^\\"{])*"/.source,[$]),lookbehind:!0,greedy:!0,inside:z($,K)}],char:{pattern:RegExp(T),greedy:!0}}),t.languages.dotnet=t.languages.cs=t.languages.csharp}(e)}wn.displayName="markup";wn.aliases=["atom","html","mathml","rss","ssml","svg","xml"];function wn(e){e.languages.markup={comment:{pattern:/<!--(?:(?!<!--)[\s\S])*?-->/,greedy:!0},prolog:{pattern:/<\?[\s\S]+?\?>/,greedy:!0},doctype:{pattern:/<!DOCTYPE(?:[^>"'[\]]|"[^"]*"|'[^']*')+(?:\[(?:[^<"'\]]|"[^"]*"|'[^']*'|<(?!!--)|<!--(?:[^-]|-(?!->))*-->)*\]\s*)?>/i,greedy:!0,inside:{"internal-subset":{pattern:/(^[^\[]*\[)[\s\S]+(?=\]>$)/,lookbehind:!0,greedy:!0,inside:null},string:{pattern:/"[^"]*"|'[^']*'/,greedy:!0},punctuation:/^<!|>$|[[\]]/,"doctype-tag":/^DOCTYPE/i,name:/[^\s<>'"]+/}},cdata:{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,greedy:!0},tag:{pattern:/<\/?(?!\d)[^\s>\/=$<%]+(?:\s(?:\s*[^\s>\/=]+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))|(?=[\s/>])))+)?\s*\/?>/,greedy:!0,inside:{tag:{pattern:/^<\/?[^\s>\/]+/,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"special-attr":[],"attr-value":{pattern:/=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+)/,inside:{punctuation:[{pattern:/^=/,alias:"attr-equals"},{pattern:/^(\s*)["']|["']$/,lookbehind:!0}]}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},entity:[{pattern:/&[\da-z]{1,8};/i,alias:"named-entity"},/&#x?[\da-f]{1,8};/i]},e.languages.markup.tag.inside["attr-value"].inside.entity=e.languages.markup.entity,e.languages.markup.doctype.inside["internal-subset"].inside=e.languages.markup,e.hooks.add("wrap",function(t){t.type==="entity"&&(t.attributes.title=t.content.value.replace(/&amp;/,"&"))}),Object.defineProperty(e.languages.markup.tag,"addInlined",{value:function(n,r){var a={};a["language-"+r]={pattern:/(^<!\[CDATA\[)[\s\S]+?(?=\]\]>$)/i,lookbehind:!0,inside:e.languages[r]},a.cdata=/^<!\[CDATA\[|\]\]>$/i;var i={"included-cdata":{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,inside:a}};i["language-"+r]={pattern:/[\s\S]+/,inside:e.languages[r]};var o={};o[n]={pattern:RegExp(/(<__[^>]*>)(?:<!\[CDATA\[(?:[^\]]|\](?!\]>))*\]\]>|(?!<!\[CDATA\[)[\s\S])*?(?=<\/__>)/.source.replace(/__/g,function(){return n}),"i"),lookbehind:!0,greedy:!0,inside:i},e.languages.insertBefore("markup","cdata",o)}}),Object.defineProperty(e.languages.markup.tag,"addAttribute",{value:function(t,n){e.languages.markup.tag.inside["special-attr"].push({pattern:RegExp(/(^|["'\s])/.source+"(?:"+t+")"+/\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))/.source,"i"),lookbehind:!0,inside:{"attr-name":/^[^\s=]+/,"attr-value":{pattern:/=[\s\S]+/,inside:{value:{pattern:/(^=\s*(["']|(?!["'])))\S[\s\S]*(?=\2$)/,lookbehind:!0,alias:[n,"language-"+n],inside:e.languages[n]},punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}}}})}}),e.languages.html=e.languages.markup,e.languages.mathml=e.languages.markup,e.languages.svg=e.languages.markup,e.languages.xml=e.languages.extend("markup",{}),e.languages.ssml=e.languages.xml,e.languages.atom=e.languages.xml,e.languages.rss=e.languages.xml}wi.displayName="css";wi.aliases=[];function wi(e){(function(t){var n=/(?:"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n])*')/;t.languages.css={comment:/\/\*[\s\S]*?\*\//,atrule:{pattern:RegExp("@[\\w-](?:"+/[^;{\s"']|\s+(?!\s)/.source+"|"+n.source+")*?"+/(?:;|(?=\s*\{))/.source),inside:{rule:/^@[\w-]+/,"selector-function-argument":{pattern:/(\bselector\s*\(\s*(?![\s)]))(?:[^()\s]|\s+(?![\s)])|\((?:[^()]|\([^()]*\))*\))+(?=\s*\))/,lookbehind:!0,alias:"selector"},keyword:{pattern:/(^|[^\w-])(?:and|not|only|or)(?![\w-])/,lookbehind:!0}}},url:{pattern:RegExp("\\burl\\((?:"+n.source+"|"+/(?:[^\\\r\n()"']|\\[\s\S])*/.source+")\\)","i"),greedy:!0,inside:{function:/^url/i,punctuation:/^\(|\)$/,string:{pattern:RegExp("^"+n.source+"$"),alias:"url"}}},selector:{pattern:RegExp(`(^|[{}\\s])[^{}\\s](?:[^{};"'\\s]|\\s+(?![\\s{])|`+n.source+")*(?=\\s*\\{)"),lookbehind:!0},string:{pattern:n,greedy:!0},property:{pattern:/(^|[^-\w\xA0-\uFFFF])(?!\s)[-_a-z\xA0-\uFFFF](?:(?!\s)[-\w\xA0-\uFFFF])*(?=\s*:)/i,lookbehind:!0},important:/!important\b/i,function:{pattern:/(^|[^-a-z0-9])[-a-z0-9]+(?=\()/i,lookbehind:!0},punctuation:/[(){};:,]/},t.languages.css.atrule.inside.rest=t.languages.css;var r=t.languages.markup;r&&(r.tag.addInlined("style","css"),r.tag.addAttribute("style","css"))})(e)}sm.displayName="diff";sm.aliases=[];function sm(e){(function(t){t.languages.diff={coord:[/^(?:\*{3}|-{3}|\+{3}).*$/m,/^@@.*@@$/m,/^\d.*$/m]};var n={"deleted-sign":"-","deleted-arrow":"<","inserted-sign":"+","inserted-arrow":">",unchanged:" ",diff:"!"};Object.keys(n).forEach(function(r){var a=n[r],i=[];/^\w+$/.test(r)||i.push(/\w+/.exec(r)[0]),r==="diff"&&i.push("bold"),t.languages.diff[r]={pattern:RegExp("^(?:["+a+`].*(?:\r
?|
|(?![\\s\\S])))+`,"m"),alias:i,inside:{line:{pattern:/(.)(?=[\s\S]).*(?:\r\n?|\n)?/,lookbehind:!0},prefix:{pattern:/[\s\S]/,alias:/\w+/.exec(r)[0]}}}}),Object.defineProperty(t.languages.diff,"PREFIXES",{value:n})})(e)}im.displayName="go";im.aliases=[];function im(e){e.register(at),e.languages.go=e.languages.extend("clike",{string:{pattern:/(^|[^\\])"(?:\\.|[^"\\\r\n])*"|`[^`]*`/,lookbehind:!0,greedy:!0},keyword:/\b(?:break|case|chan|const|continue|default|defer|else|fallthrough|for|func|go(?:to)?|if|import|interface|map|package|range|return|select|struct|switch|type|var)\b/,boolean:/\b(?:_|false|iota|nil|true)\b/,number:[/\b0(?:b[01_]+|o[0-7_]+)i?\b/i,/\b0x(?:[a-f\d_]+(?:\.[a-f\d_]*)?|\.[a-f\d_]+)(?:p[+-]?\d+(?:_\d+)*)?i?(?!\w)/i,/(?:\b\d[\d_]*(?:\.[\d_]*)?|\B\.\d[\d_]*)(?:e[+-]?[\d_]+)?i?(?!\w)/i],operator:/[*\/%^!=]=?|\+[=+]?|-[=-]?|\|[=|]?|&(?:=|&|\^=?)?|>(?:>=?|=)?|<(?:<=?|=|-)?|:=|\.\.\./,builtin:/\b(?:append|bool|byte|cap|close|complex|complex(?:64|128)|copy|delete|error|float(?:32|64)|u?int(?:8|16|32|64)?|imag|len|make|new|panic|print(?:ln)?|real|recover|rune|string|uintptr)\b/}),e.languages.insertBefore("go","string",{char:{pattern:/'(?:\\.|[^'\\\r\n]){0,10}'/,greedy:!0}}),delete e.languages.go["class-name"]}om.displayName="ini";om.aliases=[];function om(e){e.languages.ini={comment:{pattern:/(^[ \f\t\v]*)[#;][^\n\r]*/m,lookbehind:!0},section:{pattern:/(^[ \f\t\v]*)\[[^\n\r\]]*\]?/m,lookbehind:!0,inside:{"section-name":{pattern:/(^\[[ \f\t\v]*)[^ \f\t\v\]]+(?:[ \f\t\v]+[^ \f\t\v\]]+)*/,lookbehind:!0,alias:"selector"},punctuation:/\[|\]/}},key:{pattern:/(^[ \f\t\v]*)[^ \f\n\r\t\v=]+(?:[ \f\t\v]+[^ \f\n\r\t\v=]+)*(?=[ \f\t\v]*=)/m,lookbehind:!0,alias:"attr-name"},value:{pattern:/(=[ \f\t\v]*)[^ \f\n\r\t\v]+(?:[ \f\t\v]+[^ \f\n\r\t\v]+)*/,lookbehind:!0,alias:"attr-value",inside:{"inner-value":{pattern:/^("|').+(?=\1$)/,lookbehind:!0}}},punctuation:/=/}}wo.displayName="java";wo.aliases=[];function wo(e){e.register(at),function(t){var n=/\b(?:abstract|assert|boolean|break|byte|case|catch|char|class|const|continue|default|do|double|else|enum|exports|extends|final|finally|float|for|goto|if|implements|import|instanceof|int|interface|long|module|native|new|non-sealed|null|open|opens|package|permits|private|protected|provides|public|record(?!\s*[(){}[\]<>=%~.:,;?+\-*/&|^])|requires|return|sealed|short|static|strictfp|super|switch|synchronized|this|throw|throws|to|transient|transitive|try|uses|var|void|volatile|while|with|yield)\b/,r=/(?:[a-z]\w*\s*\.\s*)*(?:[A-Z]\w*\s*\.\s*)*/.source,a={pattern:RegExp(/(^|[^\w.])/.source+r+/[A-Z](?:[\d_A-Z]*[a-z]\w*)?\b/.source),lookbehind:!0,inside:{namespace:{pattern:/^[a-z]\w*(?:\s*\.\s*[a-z]\w*)*(?:\s*\.)?/,inside:{punctuation:/\./}},punctuation:/\./}};t.languages.java=t.languages.extend("clike",{string:{pattern:/(^|[^\\])"(?:\\.|[^"\\\r\n])*"/,lookbehind:!0,greedy:!0},"class-name":[a,{pattern:RegExp(/(^|[^\w.])/.source+r+/[A-Z]\w*(?=\s+\w+\s*[;,=()]|\s*(?:\[[\s,]*\]\s*)?::\s*new\b)/.source),lookbehind:!0,inside:a.inside},{pattern:RegExp(/(\b(?:class|enum|extends|implements|instanceof|interface|new|record|throws)\s+)/.source+r+/[A-Z]\w*\b/.source),lookbehind:!0,inside:a.inside}],keyword:n,function:[t.languages.clike.function,{pattern:/(::\s*)[a-z_]\w*/,lookbehind:!0}],number:/\b0b[01][01_]*L?\b|\b0x(?:\.[\da-f_p+-]+|[\da-f_]+(?:\.[\da-f_p+-]+)?)\b|(?:\b\d[\d_]*(?:\.[\d_]*)?|\B\.\d[\d_]*)(?:e[+-]?\d[\d_]*)?[dfl]?/i,operator:{pattern:/(^|[^.])(?:<<=?|>>>?=?|->|--|\+\+|&&|\|\||::|[?:~]|[-+*/%&|^!=<>]=?)/m,lookbehind:!0},constant:/\b[A-Z][A-Z_\d]+\b/}),t.languages.insertBefore("java","string",{"triple-quoted-string":{pattern:/"""[ \t]*[\r\n](?:(?:"|"")?(?:\\.|[^"\\]))*"""/,greedy:!0,alias:"string"},char:{pattern:/'(?:\\.|[^'\\\r\n]){1,6}'/,greedy:!0}}),t.languages.insertBefore("java","class-name",{annotation:{pattern:/(^|[^.])@\w+(?:\s*\.\s*\w+)*/,lookbehind:!0,alias:"punctuation"},generics:{pattern:/<(?:[\w\s,.?]|&(?!&)|<(?:[\w\s,.?]|&(?!&)|<(?:[\w\s,.?]|&(?!&)|<(?:[\w\s,.?]|&(?!&))*>)*>)*>)*>/,inside:{"class-name":a,keyword:n,punctuation:/[<>(),.:]/,operator:/[?&|]/}},import:[{pattern:RegExp(/(\bimport\s+)/.source+r+/(?:[A-Z]\w*|\*)(?=\s*;)/.source),lookbehind:!0,inside:{namespace:a.inside.namespace,punctuation:/\./,operator:/\*/,"class-name":/\w+/}},{pattern:RegExp(/(\bimport\s+static\s+)/.source+r+/(?:\w+|\*)(?=\s*;)/.source),lookbehind:!0,alias:"static",inside:{namespace:a.inside.namespace,static:/\b\w+$/,punctuation:/\./,operator:/\*/,"class-name":/\w+/}}],namespace:{pattern:RegExp(/(\b(?:exports|import(?:\s+static)?|module|open|opens|package|provides|requires|to|transitive|uses|with)\s+)(?!<keyword>)[a-z]\w*(?:\.[a-z]\w*)*\.?/.source.replace(/<keyword>/g,function(){return n.source})),lookbehind:!0,inside:{punctuation:/\./}}})}(e)}lm.displayName="regex";lm.aliases=[];function lm(e){(function(t){var n={pattern:/\\[\\(){}[\]^$+*?|.]/,alias:"escape"},r=/\\(?:x[\da-fA-F]{2}|u[\da-fA-F]{4}|u\{[\da-fA-F]+\}|0[0-7]{0,2}|[123][0-7]{2}|c[a-zA-Z]|.)/,a={pattern:/\.|\\[wsd]|\\p\{[^{}]+\}/i,alias:"class-name"},i={pattern:/\\[wsd]|\\p\{[^{}]+\}/i,alias:"class-name"},o="(?:[^\\\\-]|"+r.source+")",l=RegExp(o+"-"+o),u={pattern:/(<|')[^<>']+(?=[>']$)/,lookbehind:!0,alias:"variable"};t.languages.regex={"char-class":{pattern:/((?:^|[^\\])(?:\\\\)*)\[(?:[^\\\]]|\\[\s\S])*\]/,lookbehind:!0,inside:{"char-class-negation":{pattern:/(^\[)\^/,lookbehind:!0,alias:"operator"},"char-class-punctuation":{pattern:/^\[|\]$/,alias:"punctuation"},range:{pattern:l,inside:{escape:r,"range-punctuation":{pattern:/-/,alias:"operator"}}},"special-escape":n,"char-set":i,escape:r}},"special-escape":n,"char-set":a,backreference:[{pattern:/\\(?![123][0-7]{2})[1-9]/,alias:"keyword"},{pattern:/\\k<[^<>']+>/,alias:"keyword",inside:{"group-name":u}}],anchor:{pattern:/[$^]|\\[ABbGZz]/,alias:"function"},escape:r,group:[{pattern:/\((?:\?(?:<[^<>']+>|'[^<>']+'|[>:]|<?[=!]|[idmnsuxU]+(?:-[idmnsuxU]+)?:?))?/,alias:"punctuation",inside:{"group-name":u}},{pattern:/\)/,alias:"punctuation"}],quantifier:{pattern:/(?:[+*?]|\{\d+(?:,\d*)?\})[?+]?/,alias:"number"},alternation:{pattern:/\|/,alias:"keyword"}}})(e)}In.displayName="javascript";In.aliases=["js"];function In(e){e.register(at),e.languages.javascript=e.languages.extend("clike",{"class-name":[e.languages.clike["class-name"],{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$A-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\.(?:constructor|prototype))/,lookbehind:!0}],keyword:[{pattern:/((?:^|\})\s*)catch\b/,lookbehind:!0},{pattern:/(^|[^.]|\.\.\.\s*)\b(?:as|assert(?=\s*\{)|async(?=\s*(?:function\b|\(|[$\w\xA0-\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally(?=\s*(?:\{|$))|for|from(?=\s*(?:['"]|$))|function|(?:get|set)(?=\s*(?:[#\[$\w\xA0-\uFFFF]|$))|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\b/,lookbehind:!0}],function:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,number:{pattern:RegExp(/(^|[^\w$])/.source+"(?:"+(/NaN|Infinity/.source+"|"+/0[bB][01]+(?:_[01]+)*n?/.source+"|"+/0[oO][0-7]+(?:_[0-7]+)*n?/.source+"|"+/0[xX][\dA-Fa-f]+(?:_[\dA-Fa-f]+)*n?/.source+"|"+/\d+(?:_\d+)*n/.source+"|"+/(?:\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\.\d+(?:_\d+)*)(?:[Ee][+-]?\d+(?:_\d+)*)?/.source)+")"+/(?![\w$])/.source),lookbehind:!0},operator:/--|\+\+|\*\*=?|=>|&&=?|\|\|=?|[!=]==|<<=?|>>>?=?|[-+*/%&|^!=<>]=?|\.{3}|\?\?=?|\?\.?|[~:]/}),e.languages.javascript["class-name"][0].pattern=/(\b(?:class|extends|implements|instanceof|interface|new)\s+)[\w.\\]+/,e.languages.insertBefore("javascript","keyword",{regex:{pattern:RegExp(/((?:^|[^$\w\xA0-\uFFFF."'\])\s]|\b(?:return|yield))\s*)/.source+/\//.source+"(?:"+/(?:\[(?:[^\]\\\r\n]|\\.)*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}/.source+"|"+/(?:\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.)*\])*\])*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}v[dgimyus]{0,7}/.source+")"+/(?=(?:\s|\/\*(?:[^*]|\*(?!\/))*\*\/)*(?:$|[\r\n,.;:})\]]|\/\/))/.source),lookbehind:!0,greedy:!0,inside:{"regex-source":{pattern:/^(\/)[\s\S]+(?=\/[a-z]*$)/,lookbehind:!0,alias:"language-regex",inside:e.languages.regex},"regex-delimiter":/^\/|\/$/,"regex-flags":/^[a-z]+$/}},"function-variable":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)\s*=>))/,alias:"function"},parameter:[{pattern:/(function(?:\s+(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)?\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\))/,lookbehind:!0,inside:e.languages.javascript},{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$a-z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*=>)/i,lookbehind:!0,inside:e.languages.javascript},{pattern:/(\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*=>)/,lookbehind:!0,inside:e.languages.javascript},{pattern:/((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*)\(\s*|\]\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*\{)/,lookbehind:!0,inside:e.languages.javascript}],constant:/\b[A-Z](?:[A-Z_]|\dx?)*\b/}),e.languages.insertBefore("javascript","string",{hashbang:{pattern:/^#!.*/,greedy:!0,alias:"comment"},"template-string":{pattern:/`(?:\\[\s\S]|\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}|(?!\$\{)[^\\`])*`/,greedy:!0,inside:{"template-punctuation":{pattern:/^`|`$/,alias:"string"},interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}/,lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"punctuation"},rest:e.languages.javascript}},string:/[\s\S]+/}},"string-property":{pattern:/((?:^|[,{])[ \t]*)(["'])(?:\\(?:\r\n|[\s\S])|(?!\2)[^\\\r\n])*\2(?=\s*:)/m,lookbehind:!0,greedy:!0,alias:"property"}}),e.languages.insertBefore("javascript","operator",{"literal-property":{pattern:/((?:^|[,{])[ \t]*)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*:)/m,lookbehind:!0,alias:"property"}}),e.languages.markup&&(e.languages.markup.tag.addInlined("script","javascript"),e.languages.markup.tag.addAttribute(/on(?:abort|blur|change|click|composition(?:end|start|update)|dblclick|error|focus(?:in|out)?|key(?:down|up)|load|mouse(?:down|enter|leave|move|out|over|up)|reset|resize|scroll|select|slotchange|submit|unload|wheel)/.source,"javascript")),e.languages.js=e.languages.javascript}mu.displayName="json";mu.aliases=["webmanifest"];function mu(e){e.languages.json={property:{pattern:/(^|[^\\])"(?:\\.|[^\\"\r\n])*"(?=\s*:)/,lookbehind:!0,greedy:!0},string:{pattern:/(^|[^\\])"(?:\\.|[^\\"\r\n])*"(?!\s*:)/,lookbehind:!0,greedy:!0},comment:{pattern:/\/\/.*|\/\*[\s\S]*?(?:\*\/|$)/,greedy:!0},number:/-?\b\d+(?:\.\d+)?(?:e[+-]?\d+)?\b/i,punctuation:/[{}[\],]/,operator:/:/,boolean:/\b(?:false|true)\b/,null:{pattern:/\bnull\b/,alias:"keyword"}},e.languages.webmanifest=e.languages.json}um.displayName="kotlin";um.aliases=["kt","kts"];function um(e){e.register(at),function(t){t.languages.kotlin=t.languages.extend("clike",{keyword:{pattern:/(^|[^.])\b(?:abstract|actual|annotation|as|break|by|catch|class|companion|const|constructor|continue|crossinline|data|do|dynamic|else|enum|expect|external|final|finally|for|fun|get|if|import|in|infix|init|inline|inner|interface|internal|is|lateinit|noinline|null|object|open|operator|out|override|package|private|protected|public|reified|return|sealed|set|super|suspend|tailrec|this|throw|to|try|typealias|val|var|vararg|when|where|while)\b/,lookbehind:!0},function:[{pattern:/(?:`[^\r\n`]+`|\b\w+)(?=\s*\()/,greedy:!0},{pattern:/(\.)(?:`[^\r\n`]+`|\w+)(?=\s*\{)/,lookbehind:!0,greedy:!0}],number:/\b(?:0[xX][\da-fA-F]+(?:_[\da-fA-F]+)*|0[bB][01]+(?:_[01]+)*|\d+(?:_\d+)*(?:\.\d+(?:_\d+)*)?(?:[eE][+-]?\d+(?:_\d+)*)?[fFL]?)\b/,operator:/\+[+=]?|-[-=>]?|==?=?|!(?:!|==?)?|[\/*%<>]=?|[?:]:?|\.\.|&&|\|\||\b(?:and|inv|or|shl|shr|ushr|xor)\b/}),delete t.languages.kotlin["class-name"];var n={"interpolation-punctuation":{pattern:/^\$\{?|\}$/,alias:"punctuation"},expression:{pattern:/[\s\S]+/,inside:t.languages.kotlin}};t.languages.insertBefore("kotlin","string",{"string-literal":[{pattern:/"""(?:[^$]|\$(?:(?!\{)|\{[^{}]*\}))*?"""/,alias:"multiline",inside:{interpolation:{pattern:/\$(?:[a-z_]\w*|\{[^{}]*\})/i,inside:n},string:/[\s\S]+/}},{pattern:/"(?:[^"\\\r\n$]|\\.|\$(?:(?!\{)|\{[^{}]*\}))*"/,alias:"singleline",inside:{interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$(?:[a-z_]\w*|\{[^{}]*\})/i,lookbehind:!0,inside:n},string:/[\s\S]+/}}],char:{pattern:/'(?:[^'\\\r\n]|\\(?:.|u[a-fA-F0-9]{0,4}))'/,greedy:!0}}),delete t.languages.kotlin.string,t.languages.insertBefore("kotlin","keyword",{annotation:{pattern:/\B@(?:\w+:)?(?:[A-Z]\w*|\[[^\]]+\])/,alias:"builtin"}}),t.languages.insertBefore("kotlin","function",{label:{pattern:/\b\w+@|@\w+\b/,alias:"symbol"}}),t.languages.kt=t.languages.kotlin,t.languages.kts=t.languages.kotlin}(e)}cm.displayName="less";cm.aliases=[];function cm(e){e.register(wi),e.languages.less=e.languages.extend("css",{comment:[/\/\*[\s\S]*?\*\//,{pattern:/(^|[^\\])\/\/.*/,lookbehind:!0}],atrule:{pattern:/@[\w-](?:\((?:[^(){}]|\([^(){}]*\))*\)|[^(){};\s]|\s+(?!\s))*?(?=\s*\{)/,inside:{punctuation:/[:()]/}},selector:{pattern:/(?:@\{[\w-]+\}|[^{};\s@])(?:@\{[\w-]+\}|\((?:[^(){}]|\([^(){}]*\))*\)|[^(){};@\s]|\s+(?!\s))*?(?=\s*\{)/,inside:{variable:/@+[\w-]+/}},property:/(?:@\{[\w-]+\}|[\w-])+(?:\+_?)?(?=\s*:)/,operator:/[+\-*\/]/}),e.languages.insertBefore("less","property",{variable:[{pattern:/@[\w-]+\s*:/,inside:{punctuation:/:/}},/@@?[\w-]+/],"mixin-usage":{pattern:/([{;]\s*)[.#](?!\d)[\w-].*?(?=[(;])/,lookbehind:!0,alias:"function"}})}$d.displayName="lua";$d.aliases=[];function $d(e){e.languages.lua={comment:/^#!.+|--(?:\[(=*)\[[\s\S]*?\]\1\]|.*)/m,string:{pattern:/(["'])(?:(?!\1)[^\\\r\n]|\\z(?:\r\n|\s)|\\(?:\r\n|[^z]))*\1|\[(=*)\[[\s\S]*?\]\2\]/,greedy:!0},number:/\b0x[a-f\d]+(?:\.[a-f\d]*)?(?:p[+-]?\d+)?\b|\b\d+(?:\.\B|(?:\.\d*)?(?:e[+-]?\d+)?\b)|\B\.\d+(?:e[+-]?\d+)?\b/i,keyword:/\b(?:and|break|do|else|elseif|end|false|for|function|goto|if|in|local|nil|not|or|repeat|return|then|true|until|while)\b/,function:/(?!\d)\w+(?=\s*(?:[({]))/,operator:[/[-+*%^&|#]|\/\/?|<[<=]?|>[>=]?|[=~]=?/,{pattern:/(^|[^.])\.\.(?!\.)/,lookbehind:!0}],punctuation:/[\[\](){},;]|\.+|:+/}}dm.displayName="makefile";dm.aliases=[];function dm(e){e.languages.makefile={comment:{pattern:/(^|[^\\])#(?:\\(?:\r\n|[\s\S])|[^\\\r\n])*/,lookbehind:!0},string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"builtin-target":{pattern:/\.[A-Z][^:#=\s]+(?=\s*:(?!=))/,alias:"builtin"},target:{pattern:/^(?:[^:=\s]|[ \t]+(?![\s:]))+(?=\s*:(?!=))/m,alias:"symbol",inside:{variable:/\$+(?:(?!\$)[^(){}:#=\s]+|(?=[({]))/}},variable:/\$+(?:(?!\$)[^(){}:#=\s]+|\([@*%<^+?][DF]\)|(?=[({]))/,keyword:/-include\b|\b(?:define|else|endef|endif|export|ifn?def|ifn?eq|include|override|private|sinclude|undefine|unexport|vpath)\b/,function:{pattern:/(\()(?:abspath|addsuffix|and|basename|call|dir|error|eval|file|filter(?:-out)?|findstring|firstword|flavor|foreach|guile|if|info|join|lastword|load|notdir|or|origin|patsubst|realpath|shell|sort|strip|subst|suffix|value|warning|wildcard|word(?:list|s)?)(?=[ \t])/,lookbehind:!0},operator:/(?:::|[?:+!])?=|[|@]/,punctuation:/[:;(){}]/}}Hd.displayName="yaml";Hd.aliases=["yml"];function Hd(e){(function(t){var n=/[*&][^\s[\]{},]+/,r=/!(?:<[\w\-%#;/?:@&=+$,.!~*'()[\]]+>|(?:[a-zA-Z\d-]*!)?[\w\-%#;/?:@&=+$.~*'()]+)?/,a="(?:"+r.source+"(?:[ 	]+"+n.source+")?|"+n.source+"(?:[ 	]+"+r.source+")?)",i=/(?:[^\s\x00-\x08\x0e-\x1f!"#%&'*,\-:>?@[\]`{|}\x7f-\x84\x86-\x9f\ud800-\udfff\ufffe\uffff]|[?:-]<PLAIN>)(?:[ \t]*(?:(?![#:])<PLAIN>|:<PLAIN>))*/.source.replace(/<PLAIN>/g,function(){return/[^\s\x00-\x08\x0e-\x1f,[\]{}\x7f-\x84\x86-\x9f\ud800-\udfff\ufffe\uffff]/.source}),o=/"(?:[^"\\\r\n]|\\.)*"|'(?:[^'\\\r\n]|\\.)*'/.source;function l(u,c){c=(c||"").replace(/m/g,"")+"m";var d=/([:\-,[{]\s*(?:\s<<prop>>[ \t]+)?)(?:<<value>>)(?=[ \t]*(?:$|,|\]|\}|(?:[\r\n]\s*)?#))/.source.replace(/<<prop>>/g,function(){return a}).replace(/<<value>>/g,function(){return u});return RegExp(d,c)}t.languages.yaml={scalar:{pattern:RegExp(/([\-:]\s*(?:\s<<prop>>[ \t]+)?[|>])[ \t]*(?:((?:\r?\n|\r)[ \t]+)\S[^\r\n]*(?:\2[^\r\n]+)*)/.source.replace(/<<prop>>/g,function(){return a})),lookbehind:!0,alias:"string"},comment:/#.*/,key:{pattern:RegExp(/((?:^|[:\-,[{\r\n?])[ \t]*(?:<<prop>>[ \t]+)?)<<key>>(?=\s*:\s)/.source.replace(/<<prop>>/g,function(){return a}).replace(/<<key>>/g,function(){return"(?:"+i+"|"+o+")"})),lookbehind:!0,greedy:!0,alias:"atrule"},directive:{pattern:/(^[ \t]*)%.+/m,lookbehind:!0,alias:"important"},datetime:{pattern:l(/\d{4}-\d\d?-\d\d?(?:[tT]|[ \t]+)\d\d?:\d{2}:\d{2}(?:\.\d*)?(?:[ \t]*(?:Z|[-+]\d\d?(?::\d{2})?))?|\d{4}-\d{2}-\d{2}|\d\d?:\d{2}(?::\d{2}(?:\.\d*)?)?/.source),lookbehind:!0,alias:"number"},boolean:{pattern:l(/false|true/.source,"i"),lookbehind:!0,alias:"important"},null:{pattern:l(/null|~/.source,"i"),lookbehind:!0,alias:"important"},string:{pattern:l(o),lookbehind:!0,greedy:!0},number:{pattern:l(/[+-]?(?:0x[\da-f]+|0o[0-7]+|(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?|\.inf|\.nan)/.source,"i"),lookbehind:!0},tag:r,important:n,punctuation:/---|[:[\]{}\-,|>?]|\.\.\./},t.languages.yml=t.languages.yaml})(e)}pm.displayName="markdown";pm.aliases=["md"];function pm(e){e.register(wn),function(t){var n=/(?:\\.|[^\\\n\r]|(?:\n|\r\n?)(?![\r\n]))/.source;function r(l){return l=l.replace(/<inner>/g,function(){return n}),RegExp(/((?:^|[^\\])(?:\\{2})*)/.source+"(?:"+l+")")}var a=/(?:\\.|``(?:[^`\r\n]|`(?!`))+``|`[^`\r\n]+`|[^\\|\r\n`])+/.source,i=/\|?__(?:\|__)+\|?(?:(?:\n|\r\n?)|(?![\s\S]))/.source.replace(/__/g,function(){return a}),o=/\|?[ \t]*:?-{3,}:?[ \t]*(?:\|[ \t]*:?-{3,}:?[ \t]*)+\|?(?:\n|\r\n?)/.source;t.languages.markdown=t.languages.extend("markup",{}),t.languages.insertBefore("markdown","prolog",{"front-matter-block":{pattern:/(^(?:\s*[\r\n])?)---(?!.)[\s\S]*?[\r\n]---(?!.)/,lookbehind:!0,greedy:!0,inside:{punctuation:/^---|---$/,"front-matter":{pattern:/\S+(?:\s+\S+)*/,alias:["yaml","language-yaml"],inside:t.languages.yaml}}},blockquote:{pattern:/^>(?:[\t ]*>)*/m,alias:"punctuation"},table:{pattern:RegExp("^"+i+o+"(?:"+i+")*","m"),inside:{"table-data-rows":{pattern:RegExp("^("+i+o+")(?:"+i+")*$"),lookbehind:!0,inside:{"table-data":{pattern:RegExp(a),inside:t.languages.markdown},punctuation:/\|/}},"table-line":{pattern:RegExp("^("+i+")"+o+"$"),lookbehind:!0,inside:{punctuation:/\||:?-{3,}:?/}},"table-header-row":{pattern:RegExp("^"+i+"$"),inside:{"table-header":{pattern:RegExp(a),alias:"important",inside:t.languages.markdown},punctuation:/\|/}}}},code:[{pattern:/((?:^|\n)[ \t]*\n|(?:^|\r\n?)[ \t]*\r\n?)(?: {4}|\t).+(?:(?:\n|\r\n?)(?: {4}|\t).+)*/,lookbehind:!0,alias:"keyword"},{pattern:/^```[\s\S]*?^```$/m,greedy:!0,inside:{"code-block":{pattern:/^(```.*(?:\n|\r\n?))[\s\S]+?(?=(?:\n|\r\n?)^```$)/m,lookbehind:!0},"code-language":{pattern:/^(```).+/,lookbehind:!0},punctuation:/```/}}],title:[{pattern:/\S.*(?:\n|\r\n?)(?:==+|--+)(?=[ \t]*$)/m,alias:"important",inside:{punctuation:/==+$|--+$/}},{pattern:/(^\s*)#.+/m,lookbehind:!0,alias:"important",inside:{punctuation:/^#+|#+$/}}],hr:{pattern:/(^\s*)([*-])(?:[\t ]*\2){2,}(?=\s*$)/m,lookbehind:!0,alias:"punctuation"},list:{pattern:/(^\s*)(?:[*+-]|\d+\.)(?=[\t ].)/m,lookbehind:!0,alias:"punctuation"},"url-reference":{pattern:/!?\[[^\]]+\]:[\t ]+(?:\S+|<(?:\\.|[^>\\])+>)(?:[\t ]+(?:"(?:\\.|[^"\\])*"|'(?:\\.|[^'\\])*'|\((?:\\.|[^)\\])*\)))?/,inside:{variable:{pattern:/^(!?\[)[^\]]+/,lookbehind:!0},string:/(?:"(?:\\.|[^"\\])*"|'(?:\\.|[^'\\])*'|\((?:\\.|[^)\\])*\))$/,punctuation:/^[\[\]!:]|[<>]/},alias:"url"},bold:{pattern:r(/\b__(?:(?!_)<inner>|_(?:(?!_)<inner>)+_)+__\b|\*\*(?:(?!\*)<inner>|\*(?:(?!\*)<inner>)+\*)+\*\*/.source),lookbehind:!0,greedy:!0,inside:{content:{pattern:/(^..)[\s\S]+(?=..$)/,lookbehind:!0,inside:{}},punctuation:/\*\*|__/}},italic:{pattern:r(/\b_(?:(?!_)<inner>|__(?:(?!_)<inner>)+__)+_\b|\*(?:(?!\*)<inner>|\*\*(?:(?!\*)<inner>)+\*\*)+\*/.source),lookbehind:!0,greedy:!0,inside:{content:{pattern:/(^.)[\s\S]+(?=.$)/,lookbehind:!0,inside:{}},punctuation:/[*_]/}},strike:{pattern:r(/(~~?)(?:(?!~)<inner>)+\2/.source),lookbehind:!0,greedy:!0,inside:{content:{pattern:/(^~~?)[\s\S]+(?=\1$)/,lookbehind:!0,inside:{}},punctuation:/~~?/}},"code-snippet":{pattern:/(^|[^\\`])(?:``[^`\r\n]+(?:`[^`\r\n]+)*``(?!`)|`[^`\r\n]+`(?!`))/,lookbehind:!0,greedy:!0,alias:["code","keyword"]},url:{pattern:r(/!?\[(?:(?!\])<inner>)+\](?:\([^\s)]+(?:[\t ]+"(?:\\.|[^"\\])*")?\)|[ \t]?\[(?:(?!\])<inner>)+\])/.source),lookbehind:!0,greedy:!0,inside:{operator:/^!/,content:{pattern:/(^\[)[^\]]+(?=\])/,lookbehind:!0,inside:{}},variable:{pattern:/(^\][ \t]?\[)[^\]]+(?=\]$)/,lookbehind:!0},url:{pattern:/(^\]\()[^\s)]+/,lookbehind:!0},string:{pattern:/(^[ \t]+)"(?:\\.|[^"\\])*"(?=\)$)/,lookbehind:!0}}}}),["url","bold","italic","strike"].forEach(function(l){["url","bold","italic","strike","code-snippet"].forEach(function(u){l!==u&&(t.languages.markdown[l].inside.content.inside[u]=t.languages.markdown[u])})}),t.hooks.add("after-tokenize",function(l){if(l.language!=="markdown"&&l.language!=="md")return;function u(c){if(!(!c||typeof c=="string"))for(var d=0,p=c.length;d<p;d++){var h=c[d];if(h.type!=="code"){u(h.content);continue}var f=h.content[1],m=h.content[3];if(f&&m&&f.type==="code-language"&&m.type==="code-block"&&typeof f.content=="string"){var v=f.content.replace(/\b#/g,"sharp").replace(/\b\+\+/g,"pp");v=(/[a-z][\w-]*/i.exec(v)||[""])[0].toLowerCase();var y="language-"+v;m.alias?typeof m.alias=="string"?m.alias=[m.alias,y]:m.alias.push(y):m.alias=[y]}}}u(l.tokens)}),t.hooks.add("wrap",function(l){if(l.type==="code-block"){for(var u="",c=0,d=l.classes.length;c<d;c++){var p=l.classes[c],h=/language-(.+)/.exec(p);if(h){u=h[1];break}}var f=t.languages[u];if(f)l.content=t.highlight(l.content.value,f,u);else if(u&&u!=="none"&&t.plugins.autoloader){var m="md-"+new Date().valueOf()+"-"+Math.floor(Math.random()*1e16);l.attributes.id=m,t.plugins.autoloader.loadLanguages(u,function(){var v=document.getElementById(m);v&&(v.innerHTML=t.highlight(v.textContent,t.languages[u],u))})}}}),RegExp(t.languages.markup.tag.pattern.source,"gi"),t.languages.md=t.languages.markdown}(e)}hm.displayName="objectivec";hm.aliases=["objc"];function hm(e){e.register(pa),e.languages.objectivec=e.languages.extend("c",{string:{pattern:/@?"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"/,greedy:!0},keyword:/\b(?:asm|auto|break|case|char|const|continue|default|do|double|else|enum|extern|float|for|goto|if|in|inline|int|long|register|return|self|short|signed|sizeof|static|struct|super|switch|typedef|typeof|union|unsigned|void|volatile|while)\b|(?:@interface|@end|@implementation|@protocol|@class|@public|@protected|@private|@property|@try|@catch|@finally|@throw|@synthesize|@dynamic|@selector)\b/,operator:/-[->]?|\+\+?|!=?|<<?=?|>>?=?|==?|&&?|\|\|?|[~^%?*\/@]/}),delete e.languages.objectivec["class-name"],e.languages.objc=e.languages.objectivec}fm.displayName="perl";fm.aliases=[];function fm(e){(function(t){var n=/(?:\((?:[^()\\]|\\[\s\S])*\)|\{(?:[^{}\\]|\\[\s\S])*\}|\[(?:[^[\]\\]|\\[\s\S])*\]|<(?:[^<>\\]|\\[\s\S])*>)/.source;t.languages.perl={comment:[{pattern:/(^\s*)=\w[\s\S]*?=cut.*/m,lookbehind:!0,greedy:!0},{pattern:/(^|[^\\$])#.*/,lookbehind:!0,greedy:!0}],string:[{pattern:RegExp(/\b(?:q|qq|qw|qx)(?![a-zA-Z0-9])\s*/.source+"(?:"+[/([^a-zA-Z0-9\s{(\[<])(?:(?!\1)[^\\]|\\[\s\S])*\1/.source,/([a-zA-Z0-9])(?:(?!\2)[^\\]|\\[\s\S])*\2/.source,n].join("|")+")"),greedy:!0},{pattern:/("|`)(?:(?!\1)[^\\]|\\[\s\S])*\1/,greedy:!0},{pattern:/'(?:[^'\\\r\n]|\\.)*'/,greedy:!0}],regex:[{pattern:RegExp(/\b(?:m|qr)(?![a-zA-Z0-9])\s*/.source+"(?:"+[/([^a-zA-Z0-9\s{(\[<])(?:(?!\1)[^\\]|\\[\s\S])*\1/.source,/([a-zA-Z0-9])(?:(?!\2)[^\\]|\\[\s\S])*\2/.source,n].join("|")+")"+/[msixpodualngc]*/.source),greedy:!0},{pattern:RegExp(/(^|[^-])\b(?:s|tr|y)(?![a-zA-Z0-9])\s*/.source+"(?:"+[/([^a-zA-Z0-9\s{(\[<])(?:(?!\2)[^\\]|\\[\s\S])*\2(?:(?!\2)[^\\]|\\[\s\S])*\2/.source,/([a-zA-Z0-9])(?:(?!\3)[^\\]|\\[\s\S])*\3(?:(?!\3)[^\\]|\\[\s\S])*\3/.source,n+/\s*/.source+n].join("|")+")"+/[msixpodualngcer]*/.source),lookbehind:!0,greedy:!0},{pattern:/\/(?:[^\/\\\r\n]|\\.)*\/[msixpodualngc]*(?=\s*(?:$|[\r\n,.;})&|\-+*~<>!?^]|(?:and|cmp|eq|ge|gt|le|lt|ne|not|or|x|xor)\b))/,greedy:!0}],variable:[/[&*$@%]\{\^[A-Z]+\}/,/[&*$@%]\^[A-Z_]/,/[&*$@%]#?(?=\{)/,/[&*$@%]#?(?:(?:::)*'?(?!\d)[\w$]+(?![\w$]))+(?:::)*/,/[&*$@%]\d+/,/(?!%=)[$@%][!"#$%&'()*+,\-.\/:;<=>?@[\\\]^_`{|}~]/],filehandle:{pattern:/<(?![<=])\S*?>|\b_\b/,alias:"symbol"},"v-string":{pattern:/v\d+(?:\.\d+)*|\d+(?:\.\d+){2,}/,alias:"string"},function:{pattern:/(\bsub[ \t]+)\w+/,lookbehind:!0},keyword:/\b(?:any|break|continue|default|delete|die|do|else|elsif|eval|for|foreach|given|goto|if|last|local|my|next|our|package|print|redo|require|return|say|state|sub|switch|undef|unless|until|use|when|while)\b/,number:/\b(?:0x[\dA-Fa-f](?:_?[\dA-Fa-f])*|0b[01](?:_?[01])*|(?:(?:\d(?:_?\d)*)?\.)?\d(?:_?\d)*(?:[Ee][+-]?\d+)?)\b/,operator:/-[rwxoRWXOezsfdlpSbctugkTBMAC]\b|\+[+=]?|-[-=>]?|\*\*?=?|\/\/?=?|=[=~>]?|~[~=]?|\|\|?=?|&&?=?|<(?:=>?|<=?)?|>>?=?|![~=]?|[%^]=?|\.(?:=|\.\.?)?|[\\?]|\bx(?:=|\b)|\b(?:and|cmp|eq|ge|gt|le|lt|ne|not|or|xor)\b/,punctuation:/[{}[\];(),:]/}})(e)}Rn.displayName="markup-templating";Rn.aliases=[];function Rn(e){e.register(wn),function(t){function n(r,a){return"___"+r.toUpperCase()+a+"___"}Object.defineProperties(t.languages["markup-templating"]={},{buildPlaceholders:{value:function(r,a,i,o){if(r.language===a){var l=r.tokenStack=[];r.code=r.code.replace(i,function(u){if(typeof o=="function"&&!o(u))return u;for(var c=l.length,d;r.code.indexOf(d=n(a,c))!==-1;)++c;return l[c]=u,d}),r.grammar=t.languages.markup}}},tokenizePlaceholders:{value:function(r,a){if(r.language!==a||!r.tokenStack)return;r.grammar=t.languages[a];var i=0,o=Object.keys(r.tokenStack);function l(u){for(var c=0;c<u.length&&!(i>=o.length);c++){var d=u[c];if(typeof d=="string"||d.content&&typeof d.content=="string"){var p=o[i],h=r.tokenStack[p],f=typeof d=="string"?d:d.content,m=n(a,p),v=f.indexOf(m);if(v>-1){++i;var y=f.substring(0,v),g=new t.Token(a,t.tokenize(h,r.grammar),"language-"+a,h),x=f.substring(v+m.length),w=[];y&&w.push.apply(w,l([y])),w.push(g),x&&w.push.apply(w,l([x])),typeof d=="string"?u.splice.apply(u,[c,1].concat(w)):d.content=w}}else d.content&&l(d.content)}return u}l(r.tokens)}}})}(e)}So.displayName="php";So.aliases=[];function So(e){e.register(Rn),function(t){var n=/\/\*[\s\S]*?\*\/|\/\/.*|#(?!\[).*/,r=[{pattern:/\b(?:false|true)\b/i,alias:"boolean"},{pattern:/(::\s*)\b[a-z_]\w*\b(?!\s*\()/i,greedy:!0,lookbehind:!0},{pattern:/(\b(?:case|const)\s+)\b[a-z_]\w*(?=\s*[;=])/i,greedy:!0,lookbehind:!0},/\b(?:null)\b/i,/\b[A-Z_][A-Z0-9_]*\b(?!\s*\()/],a=/\b0b[01]+(?:_[01]+)*\b|\b0o[0-7]+(?:_[0-7]+)*\b|\b0x[\da-f]+(?:_[\da-f]+)*\b|(?:\b\d+(?:_\d+)*\.?(?:\d+(?:_\d+)*)?|\B\.\d+)(?:e[+-]?\d+)?/i,i=/<?=>|\?\?=?|\.{3}|\??->|[!=]=?=?|::|\*\*=?|--|\+\+|&&|\|\||<<|>>|[?~]|[/^|%*&<>.+-]=?/,o=/[{}\[\](),:;]/;t.languages.php={delimiter:{pattern:/\?>$|^<\?(?:php(?=\s)|=)?/i,alias:"important"},comment:n,variable:/\$+(?:\w+\b|(?=\{))/,package:{pattern:/(namespace\s+|use\s+(?:function\s+)?)(?:\\?\b[a-z_]\w*)+\b(?!\\)/i,lookbehind:!0,inside:{punctuation:/\\/}},"class-name-definition":{pattern:/(\b(?:class|enum|interface|trait)\s+)\b[a-z_]\w*(?!\\)\b/i,lookbehind:!0,alias:"class-name"},"function-definition":{pattern:/(\bfunction\s+)[a-z_]\w*(?=\s*\()/i,lookbehind:!0,alias:"function"},keyword:[{pattern:/(\(\s*)\b(?:array|bool|boolean|float|int|integer|object|string)\b(?=\s*\))/i,alias:"type-casting",greedy:!0,lookbehind:!0},{pattern:/([(,?]\s*)\b(?:array(?!\s*\()|bool|callable|(?:false|null)(?=\s*\|)|float|int|iterable|mixed|object|self|static|string)\b(?=\s*\$)/i,alias:"type-hint",greedy:!0,lookbehind:!0},{pattern:/(\)\s*:\s*(?:\?\s*)?)\b(?:array(?!\s*\()|bool|callable|(?:false|null)(?=\s*\|)|float|int|iterable|mixed|never|object|self|static|string|void)\b/i,alias:"return-type",greedy:!0,lookbehind:!0},{pattern:/\b(?:array(?!\s*\()|bool|float|int|iterable|mixed|object|string|void)\b/i,alias:"type-declaration",greedy:!0},{pattern:/(\|\s*)(?:false|null)\b|\b(?:false|null)(?=\s*\|)/i,alias:"type-declaration",greedy:!0,lookbehind:!0},{pattern:/\b(?:parent|self|static)(?=\s*::)/i,alias:"static-context",greedy:!0},{pattern:/(\byield\s+)from\b/i,lookbehind:!0},/\bclass\b/i,{pattern:/((?:^|[^\s>:]|(?:^|[^-])>|(?:^|[^:]):)\s*)\b(?:abstract|and|array|as|break|callable|case|catch|clone|const|continue|declare|default|die|do|echo|else|elseif|empty|enddeclare|endfor|endforeach|endif|endswitch|endwhile|enum|eval|exit|extends|final|finally|fn|for|foreach|function|global|goto|if|implements|include|include_once|instanceof|insteadof|interface|isset|list|match|namespace|never|new|or|parent|print|private|protected|public|readonly|require|require_once|return|self|static|switch|throw|trait|try|unset|use|var|while|xor|yield|__halt_compiler)\b/i,lookbehind:!0}],"argument-name":{pattern:/([(,]\s*)\b[a-z_]\w*(?=\s*:(?!:))/i,lookbehind:!0},"class-name":[{pattern:/(\b(?:extends|implements|instanceof|new(?!\s+self|\s+static))\s+|\bcatch\s*\()\b[a-z_]\w*(?!\\)\b/i,greedy:!0,lookbehind:!0},{pattern:/(\|\s*)\b[a-z_]\w*(?!\\)\b/i,greedy:!0,lookbehind:!0},{pattern:/\b[a-z_]\w*(?!\\)\b(?=\s*\|)/i,greedy:!0},{pattern:/(\|\s*)(?:\\?\b[a-z_]\w*)+\b/i,alias:"class-name-fully-qualified",greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}},{pattern:/(?:\\?\b[a-z_]\w*)+\b(?=\s*\|)/i,alias:"class-name-fully-qualified",greedy:!0,inside:{punctuation:/\\/}},{pattern:/(\b(?:extends|implements|instanceof|new(?!\s+self\b|\s+static\b))\s+|\bcatch\s*\()(?:\\?\b[a-z_]\w*)+\b(?!\\)/i,alias:"class-name-fully-qualified",greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}},{pattern:/\b[a-z_]\w*(?=\s*\$)/i,alias:"type-declaration",greedy:!0},{pattern:/(?:\\?\b[a-z_]\w*)+(?=\s*\$)/i,alias:["class-name-fully-qualified","type-declaration"],greedy:!0,inside:{punctuation:/\\/}},{pattern:/\b[a-z_]\w*(?=\s*::)/i,alias:"static-context",greedy:!0},{pattern:/(?:\\?\b[a-z_]\w*)+(?=\s*::)/i,alias:["class-name-fully-qualified","static-context"],greedy:!0,inside:{punctuation:/\\/}},{pattern:/([(,?]\s*)[a-z_]\w*(?=\s*\$)/i,alias:"type-hint",greedy:!0,lookbehind:!0},{pattern:/([(,?]\s*)(?:\\?\b[a-z_]\w*)+(?=\s*\$)/i,alias:["class-name-fully-qualified","type-hint"],greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}},{pattern:/(\)\s*:\s*(?:\?\s*)?)\b[a-z_]\w*(?!\\)\b/i,alias:"return-type",greedy:!0,lookbehind:!0},{pattern:/(\)\s*:\s*(?:\?\s*)?)(?:\\?\b[a-z_]\w*)+\b(?!\\)/i,alias:["class-name-fully-qualified","return-type"],greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}}],constant:r,function:{pattern:/(^|[^\\\w])\\?[a-z_](?:[\w\\]*\w)?(?=\s*\()/i,lookbehind:!0,inside:{punctuation:/\\/}},property:{pattern:/(->\s*)\w+/,lookbehind:!0},number:a,operator:i,punctuation:o};var l={pattern:/\{\$(?:\{(?:\{[^{}]+\}|[^{}]+)\}|[^{}])+\}|(^|[^\\{])\$+(?:\w+(?:\[[^\r\n\[\]]+\]|->\w+)?)/,lookbehind:!0,inside:t.languages.php},u=[{pattern:/<<<'([^']+)'[\r\n](?:.*[\r\n])*?\1;/,alias:"nowdoc-string",greedy:!0,inside:{delimiter:{pattern:/^<<<'[^']+'|[a-z_]\w*;$/i,alias:"symbol",inside:{punctuation:/^<<<'?|[';]$/}}}},{pattern:/<<<(?:"([^"]+)"[\r\n](?:.*[\r\n])*?\1;|([a-z_]\w*)[\r\n](?:.*[\r\n])*?\2;)/i,alias:"heredoc-string",greedy:!0,inside:{delimiter:{pattern:/^<<<(?:"[^"]+"|[a-z_]\w*)|[a-z_]\w*;$/i,alias:"symbol",inside:{punctuation:/^<<<"?|[";]$/}},interpolation:l}},{pattern:/`(?:\\[\s\S]|[^\\`])*`/,alias:"backtick-quoted-string",greedy:!0},{pattern:/'(?:\\[\s\S]|[^\\'])*'/,alias:"single-quoted-string",greedy:!0},{pattern:/"(?:\\[\s\S]|[^\\"])*"/,alias:"double-quoted-string",greedy:!0,inside:{interpolation:l}}];t.languages.insertBefore("php","variable",{string:u,attribute:{pattern:/#\[(?:[^"'\/#]|\/(?![*/])|\/\/.*$|#(?!\[).*$|\/\*(?:[^*]|\*(?!\/))*\*\/|"(?:\\[\s\S]|[^\\"])*"|'(?:\\[\s\S]|[^\\'])*')+\](?=\s*[a-z$#])/im,greedy:!0,inside:{"attribute-content":{pattern:/^(#\[)[\s\S]+(?=\]$)/,lookbehind:!0,inside:{comment:n,string:u,"attribute-class-name":[{pattern:/([^:]|^)\b[a-z_]\w*(?!\\)\b/i,alias:"class-name",greedy:!0,lookbehind:!0},{pattern:/([^:]|^)(?:\\?\b[a-z_]\w*)+/i,alias:["class-name","class-name-fully-qualified"],greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}}],constant:r,number:a,operator:i,punctuation:o}},delimiter:{pattern:/^#\[|\]$/,alias:"punctuation"}}}}),t.hooks.add("before-tokenize",function(c){if(/<\?/.test(c.code)){var d=/<\?(?:[^"'/#]|\/(?![*/])|("|')(?:\\[\s\S]|(?!\1)[^\\])*\1|(?:\/\/|#(?!\[))(?:[^?\n\r]|\?(?!>))*(?=$|\?>|[\r\n])|#\[|\/\*(?:[^*]|\*(?!\/))*(?:\*\/|$))*?(?:\?>|$)/g;t.languages["markup-templating"].buildPlaceholders(c,"php",d)}}),t.hooks.add("after-tokenize",function(c){t.languages["markup-templating"].tokenizePlaceholders(c,"php")})}(e)}zd.displayName="python";zd.aliases=["py"];function zd(e){e.languages.python={comment:{pattern:/(^|[^\\])#.*/,lookbehind:!0,greedy:!0},"string-interpolation":{pattern:/(?:f|fr|rf)(?:("""|''')[\s\S]*?\1|("|')(?:\\.|(?!\2)[^\\\r\n])*\2)/i,greedy:!0,inside:{interpolation:{pattern:/((?:^|[^{])(?:\{\{)*)\{(?!\{)(?:[^{}]|\{(?!\{)(?:[^{}]|\{(?!\{)(?:[^{}])+\})+\})+\}/,lookbehind:!0,inside:{"format-spec":{pattern:/(:)[^:(){}]+(?=\}$)/,lookbehind:!0},"conversion-option":{pattern:/![sra](?=[:}]$)/,alias:"punctuation"},rest:null}},string:/[\s\S]+/}},"triple-quoted-string":{pattern:/(?:[rub]|br|rb)?("""|''')[\s\S]*?\1/i,greedy:!0,alias:"string"},string:{pattern:/(?:[rub]|br|rb)?("|')(?:\\.|(?!\1)[^\\\r\n])*\1/i,greedy:!0},function:{pattern:/((?:^|\s)def[ \t]+)[a-zA-Z_]\w*(?=\s*\()/g,lookbehind:!0},"class-name":{pattern:/(\bclass\s+)\w+/i,lookbehind:!0},decorator:{pattern:/(^[\t ]*)@\w+(?:\.\w+)*/m,lookbehind:!0,alias:["annotation","punctuation"],inside:{punctuation:/\./}},keyword:/\b(?:_(?=\s*:)|and|as|assert|async|await|break|case|class|continue|def|del|elif|else|except|exec|finally|for|from|global|if|import|in|is|lambda|match|nonlocal|not|or|pass|print|raise|return|try|while|with|yield)\b/,builtin:/\b(?:__import__|abs|all|any|apply|ascii|basestring|bin|bool|buffer|bytearray|bytes|callable|chr|classmethod|cmp|coerce|compile|complex|delattr|dict|dir|divmod|enumerate|eval|execfile|file|filter|float|format|frozenset|getattr|globals|hasattr|hash|help|hex|id|input|int|intern|isinstance|issubclass|iter|len|list|locals|long|map|max|memoryview|min|next|object|oct|open|ord|pow|property|range|raw_input|reduce|reload|repr|reversed|round|set|setattr|slice|sorted|staticmethod|str|sum|super|tuple|type|unichr|unicode|vars|xrange|zip)\b/,boolean:/\b(?:False|None|True)\b/,number:/\b0(?:b(?:_?[01])+|o(?:_?[0-7])+|x(?:_?[a-f0-9])+)\b|(?:\b\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\B\.\d+(?:_\d+)*)(?:e[+-]?\d+(?:_\d+)*)?j?(?!\w)/i,operator:/[-+%=]=?|!=|:=|\*\*?=?|\/\/?=?|<[<=>]?|>[=>]?|[&|^~]/,punctuation:/[{}[\];(),.:]/},e.languages.python["string-interpolation"].inside.interpolation.inside.rest=e.languages.python,e.languages.py=e.languages.python}mm.displayName="r";mm.aliases=[];function mm(e){e.languages.r={comment:/#.*/,string:{pattern:/(['"])(?:\\.|(?!\1)[^\\\r\n])*\1/,greedy:!0},"percent-operator":{pattern:/%[^%\s]*%/,alias:"operator"},boolean:/\b(?:FALSE|TRUE)\b/,ellipsis:/\.\.(?:\.|\d+)/,number:[/\b(?:Inf|NaN)\b/,/(?:\b0x[\dA-Fa-f]+(?:\.\d*)?|\b\d+(?:\.\d*)?|\B\.\d+)(?:[EePp][+-]?\d+)?[iL]?/],keyword:/\b(?:NA|NA_character_|NA_complex_|NA_integer_|NA_real_|NULL|break|else|for|function|if|in|next|repeat|while)\b/,operator:/->?>?|<(?:=|<?-)?|[>=!]=?|::?|&&?|\|\|?|[+*\/^$@~]/,punctuation:/[(){}\[\],;]/}}No.displayName="ruby";No.aliases=["rb"];function No(e){e.register(at),function(t){t.languages.ruby=t.languages.extend("clike",{comment:{pattern:/#.*|^=begin\s[\s\S]*?^=end/m,greedy:!0},"class-name":{pattern:/(\b(?:class|module)\s+|\bcatch\s+\()[\w.\\]+|\b[A-Z_]\w*(?=\s*\.\s*new\b)/,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:BEGIN|END|alias|and|begin|break|case|class|def|define_method|defined|do|each|else|elsif|end|ensure|extend|for|if|in|include|module|new|next|nil|not|or|prepend|private|protected|public|raise|redo|require|rescue|retry|return|self|super|then|throw|undef|unless|until|when|while|yield)\b/,operator:/\.{2,3}|&\.|===|<?=>|[!=]?~|(?:&&|\|\||<<|>>|\*\*|[+\-*/%<>!^&|=])=?|[?:]/,punctuation:/[(){}[\].,;]/}),t.languages.insertBefore("ruby","operator",{"double-colon":{pattern:/::/,alias:"punctuation"}});var n={pattern:/((?:^|[^\\])(?:\\{2})*)#\{(?:[^{}]|\{[^{}]*\})*\}/,lookbehind:!0,inside:{content:{pattern:/^(#\{)[\s\S]+(?=\}$)/,lookbehind:!0,inside:t.languages.ruby},delimiter:{pattern:/^#\{|\}$/,alias:"punctuation"}}};delete t.languages.ruby.function;var r="(?:"+[/([^a-zA-Z0-9\s{(\[<=])(?:(?!\1)[^\\]|\\[\s\S])*\1/.source,/\((?:[^()\\]|\\[\s\S]|\((?:[^()\\]|\\[\s\S])*\))*\)/.source,/\{(?:[^{}\\]|\\[\s\S]|\{(?:[^{}\\]|\\[\s\S])*\})*\}/.source,/\[(?:[^\[\]\\]|\\[\s\S]|\[(?:[^\[\]\\]|\\[\s\S])*\])*\]/.source,/<(?:[^<>\\]|\\[\s\S]|<(?:[^<>\\]|\\[\s\S])*>)*>/.source].join("|")+")",a=/(?:"(?:\\.|[^"\\\r\n])*"|(?:\b[a-zA-Z_]\w*|[^\s\0-\x7F]+)[?!]?|\$.)/.source;t.languages.insertBefore("ruby","keyword",{"regex-literal":[{pattern:RegExp(/%r/.source+r+/[egimnosux]{0,6}/.source),greedy:!0,inside:{interpolation:n,regex:/[\s\S]+/}},{pattern:/(^|[^/])\/(?!\/)(?:\[[^\r\n\]]+\]|\\.|[^[/\\\r\n])+\/[egimnosux]{0,6}(?=\s*(?:$|[\r\n,.;})#]))/,lookbehind:!0,greedy:!0,inside:{interpolation:n,regex:/[\s\S]+/}}],variable:/[@$]+[a-zA-Z_]\w*(?:[?!]|\b)/,symbol:[{pattern:RegExp(/(^|[^:]):/.source+a),lookbehind:!0,greedy:!0},{pattern:RegExp(/([\r\n{(,][ \t]*)/.source+a+/(?=:(?!:))/.source),lookbehind:!0,greedy:!0}],"method-definition":{pattern:/(\bdef\s+)\w+(?:\s*\.\s*\w+)?/,lookbehind:!0,inside:{function:/\b\w+$/,keyword:/^self\b/,"class-name":/^\w+/,punctuation:/\./}}}),t.languages.insertBefore("ruby","string",{"string-literal":[{pattern:RegExp(/%[qQiIwWs]?/.source+r),greedy:!0,inside:{interpolation:n,string:/[\s\S]+/}},{pattern:/("|')(?:#\{[^}]+\}|#(?!\{)|\\(?:\r\n|[\s\S])|(?!\1)[^\\#\r\n])*\1/,greedy:!0,inside:{interpolation:n,string:/[\s\S]+/}},{pattern:/<<[-~]?([a-z_]\w*)[\r\n](?:.*[\r\n])*?[\t ]*\1/i,alias:"heredoc-string",greedy:!0,inside:{delimiter:{pattern:/^<<[-~]?[a-z_]\w*|\b[a-z_]\w*$/i,inside:{symbol:/\b\w+/,punctuation:/^<<[-~]?/}},interpolation:n,string:/[\s\S]+/}},{pattern:/<<[-~]?'([a-z_]\w*)'[\r\n](?:.*[\r\n])*?[\t ]*\1/i,alias:"heredoc-string",greedy:!0,inside:{delimiter:{pattern:/^<<[-~]?'[a-z_]\w*'|\b[a-z_]\w*$/i,inside:{symbol:/\b\w+/,punctuation:/^<<[-~]?'|'$/}},string:/[\s\S]+/}}],"command-literal":[{pattern:RegExp(/%x/.source+r),greedy:!0,inside:{interpolation:n,command:{pattern:/[\s\S]+/,alias:"string"}}},{pattern:/`(?:#\{[^}]+\}|#(?!\{)|\\(?:\r\n|[\s\S])|[^\\`#\r\n])*`/,greedy:!0,inside:{interpolation:n,command:{pattern:/[\s\S]+/,alias:"string"}}}]}),delete t.languages.ruby.string,t.languages.insertBefore("ruby","number",{builtin:/\b(?:Array|Bignum|Binding|Class|Continuation|Dir|Exception|FalseClass|File|Fixnum|Float|Hash|IO|Integer|MatchData|Method|Module|NilClass|Numeric|Object|Proc|Range|Regexp|Stat|String|Struct|Symbol|TMS|Thread|ThreadGroup|Time|TrueClass)\b/,constant:/\b[A-Z][A-Z0-9_]*(?:[?!]|\b)/}),t.languages.rb=t.languages.ruby}(e)}gm.displayName="rust";gm.aliases=[];function gm(e){(function(t){for(var n=/\/\*(?:[^*/]|\*(?!\/)|\/(?!\*)|<self>)*\*\//.source,r=0;r<2;r++)n=n.replace(/<self>/g,function(){return n});n=n.replace(/<self>/g,function(){return/[^\s\S]/.source}),t.languages.rust={comment:[{pattern:RegExp(/(^|[^\\])/.source+n),lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/b?"(?:\\[\s\S]|[^\\"])*"|b?r(#*)"(?:[^"]|"(?!\1))*"\1/,greedy:!0},char:{pattern:/b?'(?:\\(?:x[0-7][\da-fA-F]|u\{(?:[\da-fA-F]_*){1,6}\}|.)|[^\\\r\n\t'])'/,greedy:!0},attribute:{pattern:/#!?\[(?:[^\[\]"]|"(?:\\[\s\S]|[^\\"])*")*\]/,greedy:!0,alias:"attr-name",inside:{string:null}},"closure-params":{pattern:/([=(,:]\s*|\bmove\s*)\|[^|]*\||\|[^|]*\|(?=\s*(?:\{|->))/,lookbehind:!0,greedy:!0,inside:{"closure-punctuation":{pattern:/^\||\|$/,alias:"punctuation"},rest:null}},"lifetime-annotation":{pattern:/'\w+/,alias:"symbol"},"fragment-specifier":{pattern:/(\$\w+:)[a-z]+/,lookbehind:!0,alias:"punctuation"},variable:/\$\w+/,"function-definition":{pattern:/(\bfn\s+)\w+/,lookbehind:!0,alias:"function"},"type-definition":{pattern:/(\b(?:enum|struct|trait|type|union)\s+)\w+/,lookbehind:!0,alias:"class-name"},"module-declaration":[{pattern:/(\b(?:crate|mod)\s+)[a-z][a-z_\d]*/,lookbehind:!0,alias:"namespace"},{pattern:/(\b(?:crate|self|super)\s*)::\s*[a-z][a-z_\d]*\b(?:\s*::(?:\s*[a-z][a-z_\d]*\s*::)*)?/,lookbehind:!0,alias:"namespace",inside:{punctuation:/::/}}],keyword:[/\b(?:Self|abstract|as|async|await|become|box|break|const|continue|crate|do|dyn|else|enum|extern|final|fn|for|if|impl|in|let|loop|macro|match|mod|move|mut|override|priv|pub|ref|return|self|static|struct|super|trait|try|type|typeof|union|unsafe|unsized|use|virtual|where|while|yield)\b/,/\b(?:bool|char|f(?:32|64)|[ui](?:8|16|32|64|128|size)|str)\b/],function:/\b[a-z_]\w*(?=\s*(?:::\s*<|\())/,macro:{pattern:/\b\w+!/,alias:"property"},constant:/\b[A-Z_][A-Z_\d]+\b/,"class-name":/\b[A-Z]\w*\b/,namespace:{pattern:/(?:\b[a-z][a-z_\d]*\s*::\s*)*\b[a-z][a-z_\d]*\s*::(?!\s*<)/,inside:{punctuation:/::/}},number:/\b(?:0x[\dA-Fa-f](?:_?[\dA-Fa-f])*|0o[0-7](?:_?[0-7])*|0b[01](?:_?[01])*|(?:(?:\d(?:_?\d)*)?\.)?\d(?:_?\d)*(?:[Ee][+-]?\d+)?)(?:_?(?:f32|f64|[iu](?:8|16|32|64|size)?))?\b/,boolean:/\b(?:false|true)\b/,punctuation:/->|\.\.=|\.{1,3}|::|[{}[\];(),:]/,operator:/[-+*\/%!^]=?|=[=>]?|&[&=]?|\|[|=]?|<<?=?|>>?=?|[@?]/},t.languages.rust["closure-params"].inside.rest=t.languages.rust,t.languages.rust.attribute.inside.string=t.languages.rust.string})(e)}bm.displayName="sass";bm.aliases=[];function bm(e){e.register(wi),function(t){t.languages.sass=t.languages.extend("css",{comment:{pattern:/^([ \t]*)\/[\/*].*(?:(?:\r?\n|\r)\1[ \t].+)*/m,lookbehind:!0,greedy:!0}}),t.languages.insertBefore("sass","atrule",{"atrule-line":{pattern:/^(?:[ \t]*)[@+=].+/m,greedy:!0,inside:{atrule:/(?:@[\w-]+|[+=])/}}}),delete t.languages.sass.atrule;var n=/\$[-\w]+|#\{\$[-\w]+\}/,r=[/[+*\/%]|[=!]=|<=?|>=?|\b(?:and|not|or)\b/,{pattern:/(\s)-(?=\s)/,lookbehind:!0}];t.languages.insertBefore("sass","property",{"variable-line":{pattern:/^[ \t]*\$.+/m,greedy:!0,inside:{punctuation:/:/,variable:n,operator:r}},"property-line":{pattern:/^[ \t]*(?:[^:\s]+ *:.*|:[^:\s].*)/m,greedy:!0,inside:{property:[/[^:\s]+(?=\s*:)/,{pattern:/(:)[^:\s]+/,lookbehind:!0}],punctuation:/:/,variable:n,operator:r,important:t.languages.sass.important}}}),delete t.languages.sass.property,delete t.languages.sass.important,t.languages.insertBefore("sass","punctuation",{selector:{pattern:/^([ \t]*)\S(?:,[^,\r\n]+|[^,\r\n]*)(?:,[^,\r\n]+)*(?:,(?:\r?\n|\r)\1[ \t]+\S(?:,[^,\r\n]+|[^,\r\n]*)(?:,[^,\r\n]+)*)*/m,lookbehind:!0,greedy:!0}})}(e)}ym.displayName="scss";ym.aliases=[];function ym(e){e.register(wi),e.languages.scss=e.languages.extend("css",{comment:{pattern:/(^|[^\\])(?:\/\*[\s\S]*?\*\/|\/\/.*)/,lookbehind:!0},atrule:{pattern:/@[\w-](?:\([^()]+\)|[^()\s]|\s+(?!\s))*?(?=\s+[{;])/,inside:{rule:/@[\w-]+/}},url:/(?:[-a-z]+-)?url(?=\()/i,selector:{pattern:/(?=\S)[^@;{}()]?(?:[^@;{}()\s]|\s+(?!\s)|#\{\$[-\w]+\})+(?=\s*\{(?:\}|\s|[^}][^:{}]*[:{][^}]))/,inside:{parent:{pattern:/&/,alias:"important"},placeholder:/%[-\w]+/,variable:/\$[-\w]+|#\{\$[-\w]+\}/}},property:{pattern:/(?:[-\w]|\$[-\w]|#\{\$[-\w]+\})+(?=\s*:)/,inside:{variable:/\$[-\w]+|#\{\$[-\w]+\}/}}}),e.languages.insertBefore("scss","atrule",{keyword:[/@(?:content|debug|each|else(?: if)?|extend|for|forward|function|if|import|include|mixin|return|use|warn|while)\b/i,{pattern:/( )(?:from|through)(?= )/,lookbehind:!0}]}),e.languages.insertBefore("scss","important",{variable:/\$[-\w]+|#\{\$[-\w]+\}/}),e.languages.insertBefore("scss","function",{"module-modifier":{pattern:/\b(?:as|hide|show|with)\b/i,alias:"keyword"},placeholder:{pattern:/%[-\w]+/,alias:"selector"},statement:{pattern:/\B!(?:default|optional)\b/i,alias:"keyword"},boolean:/\b(?:false|true)\b/,null:{pattern:/\bnull\b/,alias:"keyword"},operator:{pattern:/(\s)(?:[-+*\/%]|[=!]=|<=?|>=?|and|not|or)(?=\s)/,lookbehind:!0}}),e.languages.scss.atrule.inside.rest=e.languages.scss}gu.displayName="sql";gu.aliases=[];function gu(e){e.languages.sql={comment:{pattern:/(^|[^\\])(?:\/\*[\s\S]*?\*\/|(?:--|\/\/|#).*)/,lookbehind:!0},variable:[{pattern:/@(["'`])(?:\\[\s\S]|(?!\1)[^\\])+\1/,greedy:!0},/@[\w.$]+/],string:{pattern:/(^|[^@\\])("|')(?:\\[\s\S]|(?!\2)[^\\]|\2\2)*\2/,greedy:!0,lookbehind:!0},identifier:{pattern:/(^|[^@\\])`(?:\\[\s\S]|[^`\\]|``)*`/,greedy:!0,lookbehind:!0,inside:{punctuation:/^`|`$/}},function:/\b(?:AVG|COUNT|FIRST|FORMAT|LAST|LCASE|LEN|MAX|MID|MIN|MOD|NOW|ROUND|SUM|UCASE)(?=\s*\()/i,keyword:/\b(?:ACTION|ADD|AFTER|ALGORITHM|ALL|ALTER|ANALYZE|ANY|APPLY|AS|ASC|AUTHORIZATION|AUTO_INCREMENT|BACKUP|BDB|BEGIN|BERKELEYDB|BIGINT|BINARY|BIT|BLOB|BOOL|BOOLEAN|BREAK|BROWSE|BTREE|BULK|BY|CALL|CASCADED?|CASE|CHAIN|CHAR(?:ACTER|SET)?|CHECK(?:POINT)?|CLOSE|CLUSTERED|COALESCE|COLLATE|COLUMNS?|COMMENT|COMMIT(?:TED)?|COMPUTE|CONNECT|CONSISTENT|CONSTRAINT|CONTAINS(?:TABLE)?|CONTINUE|CONVERT|CREATE|CROSS|CURRENT(?:_DATE|_TIME|_TIMESTAMP|_USER)?|CURSOR|CYCLE|DATA(?:BASES?)?|DATE(?:TIME)?|DAY|DBCC|DEALLOCATE|DEC|DECIMAL|DECLARE|DEFAULT|DEFINER|DELAYED|DELETE|DELIMITERS?|DENY|DESC|DESCRIBE|DETERMINISTIC|DISABLE|DISCARD|DISK|DISTINCT|DISTINCTROW|DISTRIBUTED|DO|DOUBLE|DROP|DUMMY|DUMP(?:FILE)?|DUPLICATE|ELSE(?:IF)?|ENABLE|ENCLOSED|END|ENGINE|ENUM|ERRLVL|ERRORS|ESCAPED?|EXCEPT|EXEC(?:UTE)?|EXISTS|EXIT|EXPLAIN|EXTENDED|FETCH|FIELDS|FILE|FILLFACTOR|FIRST|FIXED|FLOAT|FOLLOWING|FOR(?: EACH ROW)?|FORCE|FOREIGN|FREETEXT(?:TABLE)?|FROM|FULL|FUNCTION|GEOMETRY(?:COLLECTION)?|GLOBAL|GOTO|GRANT|GROUP|HANDLER|HASH|HAVING|HOLDLOCK|HOUR|IDENTITY(?:COL|_INSERT)?|IF|IGNORE|IMPORT|INDEX|INFILE|INNER|INNODB|INOUT|INSERT|INT|INTEGER|INTERSECT|INTERVAL|INTO|INVOKER|ISOLATION|ITERATE|JOIN|KEYS?|KILL|LANGUAGE|LAST|LEAVE|LEFT|LEVEL|LIMIT|LINENO|LINES|LINESTRING|LOAD|LOCAL|LOCK|LONG(?:BLOB|TEXT)|LOOP|MATCH(?:ED)?|MEDIUM(?:BLOB|INT|TEXT)|MERGE|MIDDLEINT|MINUTE|MODE|MODIFIES|MODIFY|MONTH|MULTI(?:LINESTRING|POINT|POLYGON)|NATIONAL|NATURAL|NCHAR|NEXT|NO|NONCLUSTERED|NULLIF|NUMERIC|OFF?|OFFSETS?|ON|OPEN(?:DATASOURCE|QUERY|ROWSET)?|OPTIMIZE|OPTION(?:ALLY)?|ORDER|OUT(?:ER|FILE)?|OVER|PARTIAL|PARTITION|PERCENT|PIVOT|PLAN|POINT|POLYGON|PRECEDING|PRECISION|PREPARE|PREV|PRIMARY|PRINT|PRIVILEGES|PROC(?:EDURE)?|PUBLIC|PURGE|QUICK|RAISERROR|READS?|REAL|RECONFIGURE|REFERENCES|RELEASE|RENAME|REPEAT(?:ABLE)?|REPLACE|REPLICATION|REQUIRE|RESIGNAL|RESTORE|RESTRICT|RETURN(?:ING|S)?|REVOKE|RIGHT|ROLLBACK|ROUTINE|ROW(?:COUNT|GUIDCOL|S)?|RTREE|RULE|SAVE(?:POINT)?|SCHEMA|SECOND|SELECT|SERIAL(?:IZABLE)?|SESSION(?:_USER)?|SET(?:USER)?|SHARE|SHOW|SHUTDOWN|SIMPLE|SMALLINT|SNAPSHOT|SOME|SONAME|SQL|START(?:ING)?|STATISTICS|STATUS|STRIPED|SYSTEM_USER|TABLES?|TABLESPACE|TEMP(?:ORARY|TABLE)?|TERMINATED|TEXT(?:SIZE)?|THEN|TIME(?:STAMP)?|TINY(?:BLOB|INT|TEXT)|TOP?|TRAN(?:SACTIONS?)?|TRIGGER|TRUNCATE|TSEQUAL|TYPES?|UNBOUNDED|UNCOMMITTED|UNDEFINED|UNION|UNIQUE|UNLOCK|UNPIVOT|UNSIGNED|UPDATE(?:TEXT)?|USAGE|USE|USER|USING|VALUES?|VAR(?:BINARY|CHAR|CHARACTER|YING)|VIEW|WAITFOR|WARNINGS|WHEN|WHERE|WHILE|WITH(?: ROLLUP|IN)?|WORK|WRITE(?:TEXT)?|YEAR)\b/i,boolean:/\b(?:FALSE|NULL|TRUE)\b/i,number:/\b0x[\da-f]+\b|\b\d+(?:\.\d*)?|\B\.\d+\b/i,operator:/[-+*\/=%^~]|&&?|\|\|?|!=?|<(?:=>?|<|>)?|>[>=]?|\b(?:AND|BETWEEN|DIV|ILIKE|IN|IS|LIKE|NOT|OR|REGEXP|RLIKE|SOUNDS LIKE|XOR)\b/i,punctuation:/[;[\]()`,.]/}}xm.displayName="swift";xm.aliases=[];function xm(e){e.languages.swift={comment:{pattern:/(^|[^\\:])(?:\/\/.*|\/\*(?:[^/*]|\/(?!\*)|\*(?!\/)|\/\*(?:[^*]|\*(?!\/))*\*\/)*\*\/)/,lookbehind:!0,greedy:!0},"string-literal":[{pattern:RegExp(/(^|[^"#])/.source+"(?:"+/"(?:\\(?:\((?:[^()]|\([^()]*\))*\)|\r\n|[^(])|[^\\\r\n"])*"/.source+"|"+/"""(?:\\(?:\((?:[^()]|\([^()]*\))*\)|[^(])|[^\\"]|"(?!""))*"""/.source+")"+/(?!["#])/.source),lookbehind:!0,greedy:!0,inside:{interpolation:{pattern:/(\\\()(?:[^()]|\([^()]*\))*(?=\))/,lookbehind:!0,inside:null},"interpolation-punctuation":{pattern:/^\)|\\\($/,alias:"punctuation"},punctuation:/\\(?=[\r\n])/,string:/[\s\S]+/}},{pattern:RegExp(/(^|[^"#])(#+)/.source+"(?:"+/"(?:\\(?:#+\((?:[^()]|\([^()]*\))*\)|\r\n|[^#])|[^\\\r\n])*?"/.source+"|"+/"""(?:\\(?:#+\((?:[^()]|\([^()]*\))*\)|[^#])|[^\\])*?"""/.source+")\\2"),lookbehind:!0,greedy:!0,inside:{interpolation:{pattern:/(\\#+\()(?:[^()]|\([^()]*\))*(?=\))/,lookbehind:!0,inside:null},"interpolation-punctuation":{pattern:/^\)|\\#+\($/,alias:"punctuation"},string:/[\s\S]+/}}],directive:{pattern:RegExp(/#/.source+"(?:"+(/(?:elseif|if)\b/.source+"(?:[ 	]*"+/(?:![ \t]*)?(?:\b\w+\b(?:[ \t]*\((?:[^()]|\([^()]*\))*\))?|\((?:[^()]|\([^()]*\))*\))(?:[ \t]*(?:&&|\|\|))?/.source+")+")+"|"+/(?:else|endif)\b/.source+")"),alias:"property",inside:{"directive-name":/^#\w+/,boolean:/\b(?:false|true)\b/,number:/\b\d+(?:\.\d+)*\b/,operator:/!|&&|\|\||[<>]=?/,punctuation:/[(),]/}},literal:{pattern:/#(?:colorLiteral|column|dsohandle|file(?:ID|Literal|Path)?|function|imageLiteral|line)\b/,alias:"constant"},"other-directive":{pattern:/#\w+\b/,alias:"property"},attribute:{pattern:/@\w+/,alias:"atrule"},"function-definition":{pattern:/(\bfunc\s+)\w+/,lookbehind:!0,alias:"function"},label:{pattern:/\b(break|continue)\s+\w+|\b[a-zA-Z_]\w*(?=\s*:\s*(?:for|repeat|while)\b)/,lookbehind:!0,alias:"important"},keyword:/\b(?:Any|Protocol|Self|Type|actor|as|assignment|associatedtype|associativity|async|await|break|case|catch|class|continue|convenience|default|defer|deinit|didSet|do|dynamic|else|enum|extension|fallthrough|fileprivate|final|for|func|get|guard|higherThan|if|import|in|indirect|infix|init|inout|internal|is|isolated|lazy|left|let|lowerThan|mutating|none|nonisolated|nonmutating|open|operator|optional|override|postfix|precedencegroup|prefix|private|protocol|public|repeat|required|rethrows|return|right|safe|self|set|some|static|struct|subscript|super|switch|throw|throws|try|typealias|unowned|unsafe|var|weak|where|while|willSet)\b/,boolean:/\b(?:false|true)\b/,nil:{pattern:/\bnil\b/,alias:"constant"},"short-argument":/\$\d+\b/,omit:{pattern:/\b_\b/,alias:"keyword"},number:/\b(?:[\d_]+(?:\.[\de_]+)?|0x[a-f0-9_]+(?:\.[a-f0-9p_]+)?|0b[01_]+|0o[0-7_]+)\b/i,"class-name":/\b[A-Z](?:[A-Z_\d]*[a-z]\w*)?\b/,function:/\b[a-z_]\w*(?=\s*\()/i,constant:/\b(?:[A-Z_]{2,}|k[A-Z][A-Za-z_]+)\b/,operator:/[-+*/%=!<>&|^~?]+|\.[.\-+*/%=!<>&|^~?]+/,punctuation:/[{}[\]();,.:\\]/},e.languages.swift["string-literal"].forEach(function(t){t.inside.interpolation.inside=e.languages.swift})}bu.displayName="typescript";bu.aliases=["ts"];function bu(e){e.register(In),function(t){t.languages.typescript=t.languages.extend("javascript",{"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|type)\s+)(?!keyof\b)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?:\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>)?/,lookbehind:!0,greedy:!0,inside:null},builtin:/\b(?:Array|Function|Promise|any|boolean|console|never|number|string|symbol|unknown)\b/}),t.languages.typescript.keyword.push(/\b(?:abstract|declare|is|keyof|readonly|require)\b/,/\b(?:asserts|infer|interface|module|namespace|type)\b(?=\s*(?:[{_$a-zA-Z\xA0-\uFFFF]|$))/,/\btype\b(?=\s*(?:[\{*]|$))/),delete t.languages.typescript.parameter,delete t.languages.typescript["literal-property"];var n=t.languages.extend("typescript",{});delete n["class-name"],t.languages.typescript["class-name"].inside=n,t.languages.insertBefore("typescript","function",{decorator:{pattern:/@[$\w\xA0-\uFFFF]+/,inside:{at:{pattern:/^@/,alias:"operator"},function:/^[\s\S]+/}},"generic-function":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>(?=\s*\()/,greedy:!0,inside:{function:/^#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*/,generic:{pattern:/<[\s\S]+/,alias:"class-name",inside:n}}}}),t.languages.ts=t.languages.typescript}(e)}Gd.displayName="basic";Gd.aliases=[];function Gd(e){e.languages.basic={comment:{pattern:/(?:!|REM\b).+/i,inside:{keyword:/^REM/i}},string:{pattern:/"(?:""|[!#$%&'()*,\/:;<=>?^\w +\-.])*"/,greedy:!0},number:/(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:E[+-]?\d+)?/i,keyword:/\b(?:AS|BEEP|BLOAD|BSAVE|CALL(?: ABSOLUTE)?|CASE|CHAIN|CHDIR|CLEAR|CLOSE|CLS|COM|COMMON|CONST|DATA|DECLARE|DEF(?: FN| SEG|DBL|INT|LNG|SNG|STR)|DIM|DO|DOUBLE|ELSE|ELSEIF|END|ENVIRON|ERASE|ERROR|EXIT|FIELD|FILES|FOR|FUNCTION|GET|GOSUB|GOTO|IF|INPUT|INTEGER|IOCTL|KEY|KILL|LINE INPUT|LOCATE|LOCK|LONG|LOOP|LSET|MKDIR|NAME|NEXT|OFF|ON(?: COM| ERROR| KEY| TIMER)?|OPEN|OPTION BASE|OUT|POKE|PUT|READ|REDIM|REM|RESTORE|RESUME|RETURN|RMDIR|RSET|RUN|SELECT CASE|SHARED|SHELL|SINGLE|SLEEP|STATIC|STEP|STOP|STRING|SUB|SWAP|SYSTEM|THEN|TIMER|TO|TROFF|TRON|TYPE|UNLOCK|UNTIL|USING|VIEW PRINT|WAIT|WEND|WHILE|WRITE)(?:\$|\b)/i,function:/\b(?:ABS|ACCESS|ACOS|ANGLE|AREA|ARITHMETIC|ARRAY|ASIN|ASK|AT|ATN|BASE|BEGIN|BREAK|CAUSE|CEIL|CHR|CLIP|COLLATE|COLOR|CON|COS|COSH|COT|CSC|DATE|DATUM|DEBUG|DECIMAL|DEF|DEG|DEGREES|DELETE|DET|DEVICE|DISPLAY|DOT|ELAPSED|EPS|ERASABLE|EXLINE|EXP|EXTERNAL|EXTYPE|FILETYPE|FIXED|FP|GO|GRAPH|HANDLER|IDN|IMAGE|IN|INT|INTERNAL|IP|IS|KEYED|LBOUND|LCASE|LEFT|LEN|LENGTH|LET|LINE|LINES|LOG|LOG10|LOG2|LTRIM|MARGIN|MAT|MAX|MAXNUM|MID|MIN|MISSING|MOD|NATIVE|NUL|NUMERIC|OF|OPTION|ORD|ORGANIZATION|OUTIN|OUTPUT|PI|POINT|POINTER|POINTS|POS|PRINT|PROGRAM|PROMPT|RAD|RADIANS|RANDOMIZE|RECORD|RECSIZE|RECTYPE|RELATIVE|REMAINDER|REPEAT|REST|RETRY|REWRITE|RIGHT|RND|ROUND|RTRIM|SAME|SEC|SELECT|SEQUENTIAL|SET|SETTER|SGN|SIN|SINH|SIZE|SKIP|SQR|STANDARD|STATUS|STR|STREAM|STYLE|TAB|TAN|TANH|TEMPLATE|TEXT|THERE|TIME|TIMEOUT|TRACE|TRANSFORM|TRUNCATE|UBOUND|UCASE|USE|VAL|VARIABLE|VIEWPORT|WHEN|WINDOW|WITH|ZER|ZONEWIDTH)(?:\$|\b)/i,operator:/<[=>]?|>=?|[+\-*\/^=&]|\b(?:AND|EQV|IMP|NOT|OR|XOR)\b/i,punctuation:/[,;:()]/}}qd.displayName="vbnet";qd.aliases=[];function qd(e){e.register(Gd),e.languages.vbnet=e.languages.extend("basic",{comment:[{pattern:/(?:!|REM\b).+/i,inside:{keyword:/^REM/i}},{pattern:/(^|[^\\:])'.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(^|[^"])"(?:""|[^"])*"(?!")/,lookbehind:!0,greedy:!0},keyword:/(?:\b(?:ADDHANDLER|ADDRESSOF|ALIAS|AND|ANDALSO|AS|BEEP|BLOAD|BOOLEAN|BSAVE|BYREF|BYTE|BYVAL|CALL(?: ABSOLUTE)?|CASE|CATCH|CBOOL|CBYTE|CCHAR|CDATE|CDBL|CDEC|CHAIN|CHAR|CHDIR|CINT|CLASS|CLEAR|CLNG|CLOSE|CLS|COBJ|COM|COMMON|CONST|CONTINUE|CSBYTE|CSHORT|CSNG|CSTR|CTYPE|CUINT|CULNG|CUSHORT|DATA|DATE|DECIMAL|DECLARE|DEF(?: FN| SEG|DBL|INT|LNG|SNG|STR)|DEFAULT|DELEGATE|DIM|DIRECTCAST|DO|DOUBLE|ELSE|ELSEIF|END|ENUM|ENVIRON|ERASE|ERROR|EVENT|EXIT|FALSE|FIELD|FILES|FINALLY|FOR(?: EACH)?|FRIEND|FUNCTION|GET|GETTYPE|GETXMLNAMESPACE|GLOBAL|GOSUB|GOTO|HANDLES|IF|IMPLEMENTS|IMPORTS|IN|INHERITS|INPUT|INTEGER|INTERFACE|IOCTL|IS|ISNOT|KEY|KILL|LET|LIB|LIKE|LINE INPUT|LOCATE|LOCK|LONG|LOOP|LSET|ME|MKDIR|MOD|MODULE|MUSTINHERIT|MUSTOVERRIDE|MYBASE|MYCLASS|NAME|NAMESPACE|NARROWING|NEW|NEXT|NOT|NOTHING|NOTINHERITABLE|NOTOVERRIDABLE|OBJECT|OF|OFF|ON(?: COM| ERROR| KEY| TIMER)?|OPEN|OPERATOR|OPTION(?: BASE)?|OPTIONAL|OR|ORELSE|OUT|OVERLOADS|OVERRIDABLE|OVERRIDES|PARAMARRAY|PARTIAL|POKE|PRIVATE|PROPERTY|PROTECTED|PUBLIC|PUT|RAISEEVENT|READ|READONLY|REDIM|REM|REMOVEHANDLER|RESTORE|RESUME|RETURN|RMDIR|RSET|RUN|SBYTE|SELECT(?: CASE)?|SET|SHADOWS|SHARED|SHELL|SHORT|SINGLE|SLEEP|STATIC|STEP|STOP|STRING|STRUCTURE|SUB|SWAP|SYNCLOCK|SYSTEM|THEN|THROW|TIMER|TO|TROFF|TRON|TRUE|TRY|TRYCAST|TYPE|TYPEOF|UINTEGER|ULONG|UNLOCK|UNTIL|USHORT|USING|VIEW PRINT|WAIT|WEND|WHEN|WHILE|WIDENING|WITH|WITHEVENTS|WRITE|WRITEONLY|XOR)|\B(?:#CONST|#ELSE|#ELSEIF|#END|#IF))(?:\$|\b)/i,punctuation:/[,;:(){}]/})}const o2=/[#.]/g;function bK(e,t){const n=e||"",r={};let a=0,i,o;for(;a<n.length;){o2.lastIndex=a;const l=o2.exec(n),u=n.slice(a,l?l.index:n.length);u&&(i?i==="#"?r.id=u:Array.isArray(r.className)?r.className.push(u):r.className=[u]:o=u,a+=u.length),l&&(i=l[0],a++)}return{type:"element",tagName:o||t||"div",properties:r,children:[]}}const yK=new Set(["menu","submit","reset","button"]),dO={}.hasOwnProperty;function xK(e,t,n){return function(a,i,...o){let l=-1,u;if(a==null)u={type:"root",children:[]},o.unshift(i);else if(u=bK(a,t),u.tagName=u.tagName.toLowerCase(),vK(i,u.tagName)){let c;for(c in i)dO.call(i,c)&&EK(e,u.properties,c,i[c])}else o.unshift(i);for(;++l<o.length;)Bb(u.children,o[l]);return u.type==="element"&&u.tagName==="template"&&(u.content={type:"root",children:u.children},u.children=[]),u}}function vK(e,t){return e==null||typeof e!="object"||Array.isArray(e)?!1:t==="input"||!e.type||typeof e.type!="string"?!0:"children"in e&&Array.isArray(e.children)?!1:t==="button"?yK.has(e.type.toLowerCase()):!("value"in e)}function EK(e,t,n,r){const a=Od(e,n);let i=-1,o;if(r!=null){if(typeof r=="number"){if(Number.isNaN(r))return;o=r}else typeof r=="boolean"?o=r:typeof r=="string"?a.spaceSeparated?o=Zc(r):a.commaSeparated?o=Kc(r):a.commaOrSpaceSeparated?o=Zc(Kc(r).join(" ")):o=l2(a,a.property,r):Array.isArray(r)?o=r.concat():o=a.property==="style"?wK(r):String(r);if(Array.isArray(o)){const l=[];for(;++i<o.length;)l[i]=l2(a,a.property,o[i]);o=l}a.property==="className"&&Array.isArray(t.className)&&(o=t.className.concat(o)),t[a.property]=o}}function Bb(e,t){let n=-1;if(t!=null)if(typeof t=="string"||typeof t=="number")e.push({type:"text",value:String(t)});else if(Array.isArray(t))for(;++n<t.length;)Bb(e,t[n]);else if(typeof t=="object"&&"type"in t)t.type==="root"?Bb(e,t.children):e.push(t);else throw new Error("Expected node, nodes, or string, got `"+t+"`")}function l2(e,t,n){if(typeof n=="string"){if(e.number&&n&&!Number.isNaN(Number(n)))return Number(n);if((e.boolean||e.overloadedBoolean)&&(n===""||io(n)===io(t)))return!0}return n}function wK(e){const t=[];let n;for(n in e)dO.call(e,n)&&t.push([n,e[n]].join(": "));return t.join("; ")}const SK=xK(du,"div"),pO=["AElig","AMP","Aacute","Acirc","Agrave","Aring","Atilde","Auml","COPY","Ccedil","ETH","Eacute","Ecirc","Egrave","Euml","GT","Iacute","Icirc","Igrave","Iuml","LT","Ntilde","Oacute","Ocirc","Ograve","Oslash","Otilde","Ouml","QUOT","REG","THORN","Uacute","Ucirc","Ugrave","Uuml","Yacute","aacute","acirc","acute","aelig","agrave","amp","aring","atilde","auml","brvbar","ccedil","cedil","cent","copy","curren","deg","divide","eacute","ecirc","egrave","eth","euml","frac12","frac14","frac34","gt","iacute","icirc","iexcl","igrave","iquest","iuml","laquo","lt","macr","micro","middot","nbsp","not","ntilde","oacute","ocirc","ograve","ordf","ordm","oslash","otilde","ouml","para","plusmn","pound","quot","raquo","reg","sect","shy","sup1","sup2","sup3","szlig","thorn","times","uacute","ucirc","ugrave","uml","uuml","yacute","yen","yuml"],u2={0:"",128:"",130:"",131:"",132:"",133:"",134:"",135:"",136:"",137:"",138:"",139:"",140:"",142:"",145:"",146:"",147:"",148:"",149:"",150:"",151:"",152:"",153:"",154:"",155:"",156:"",158:"",159:""};function hO(e){const t=typeof e=="string"?e.charCodeAt(0):e;return t>=48&&t<=57}function NK(e){const t=typeof e=="string"?e.charCodeAt(0):e;return t>=97&&t<=102||t>=65&&t<=70||t>=48&&t<=57}function kK(e){const t=typeof e=="string"?e.charCodeAt(0):e;return t>=97&&t<=122||t>=65&&t<=90}function c2(e){return kK(e)||hO(e)}const _K=["","Named character references must be terminated by a semicolon","Numeric character references must be terminated by a semicolon","Named character references cannot be empty","Numeric character references cannot be empty","Named character references must be known","Numeric character references cannot be disallowed","Numeric character references cannot be outside the permissible Unicode range"];function TK(e,t){const n={},r=typeof n.additional=="string"?n.additional.charCodeAt(0):n.additional,a=[];let i=0,o=-1,l="",u,c;n.position&&("start"in n.position||"indent"in n.position?(c=n.position.indent,u=n.position.start):u=n.position);let d=(u?u.line:0)||1,p=(u?u.column:0)||1,h=m(),f;for(i--;++i<=e.length;)if(f===10&&(p=(c?c[o]:0)||1),f=e.charCodeAt(i),f===38){const g=e.charCodeAt(i+1);if(g===9||g===10||g===12||g===32||g===38||g===60||Number.isNaN(g)||r&&g===r){l+=String.fromCharCode(f),p++;continue}const x=i+1;let w=x,k=x,S;if(g===35){k=++w;const B=e.charCodeAt(k);B===88||B===120?(S="hexadecimal",k=++w):S="decimal"}else S="named";let T="",A="",I="";const C=S==="named"?c2:S==="decimal"?hO:NK;for(k--;++k<=e.length;){const B=e.charCodeAt(k);if(!C(B))break;I+=String.fromCharCode(B),S==="named"&&pO.includes(I)&&(T=I,A=zl(I))}let N=e.charCodeAt(k)===59;if(N){k++;const B=S==="named"?zl(I):!1;B&&(T=I,A=B)}let O=1+k-x,D="";if(!(!N&&n.nonTerminated===!1))if(!I)S!=="named"&&v(4,O);else if(S==="named"){if(N&&!A)v(5,1);else if(T!==I&&(k=w+T.length,O=1+k-w,N=!1),!N){const B=T?1:3;if(n.attribute){const j=e.charCodeAt(k);j===61?(v(B,O),A=""):c2(j)?A="":v(B,O)}else v(B,O)}D=A}else{N||v(2,O);let B=Number.parseInt(I,S==="hexadecimal"?16:10);if(CK(B))v(7,O),D="";else if(B in u2)v(6,O),D=u2[B];else{let j="";AK(B)&&v(6,O),B>65535&&(B-=65536,j+=String.fromCharCode(B>>>10|55296),B=56320|B&1023),D=j+String.fromCharCode(B)}}if(D){y(),h=m(),i=k-1,p+=k-x+1,a.push(D);const B=m();B.offset++,n.reference&&n.reference.call(n.referenceContext||void 0,D,{start:h,end:B},e.slice(x-1,k)),h=B}else I=e.slice(x-1,k),l+=I,p+=I.length,i=k-1}else f===10&&(d++,o++,p=0),Number.isNaN(f)?y():(l+=String.fromCharCode(f),p++);return a.join("");function m(){return{line:d,column:p,offset:i+((u?u.offset:0)||0)}}function v(g,x){let w;n.warning&&(w=m(),w.column+=x,w.offset+=x,n.warning.call(n.warningContext||void 0,_K[g],w,g))}function y(){l&&(a.push(l),n.text&&n.text.call(n.textContext||void 0,l,{start:h,end:m()}),l="")}}function CK(e){return e>=55296&&e<=57343||e>1114111}function AK(e){return e>=1&&e<=8||e===11||e>=13&&e<=31||e>=127&&e<=159||e>=64976&&e<=65007||(e&65535)===65535||(e&65535)===65534}var IK=0,Mp={},mn={util:{type:function(e){return Object.prototype.toString.call(e).slice(8,-1)},objId:function(e){return e.__id||Object.defineProperty(e,"__id",{value:++IK}),e.__id},clone:function e(t,n){n=n||{};var r,a;switch(mn.util.type(t)){case"Object":if(a=mn.util.objId(t),n[a])return n[a];r={},n[a]=r;for(var i in t)t.hasOwnProperty(i)&&(r[i]=e(t[i],n));return r;case"Array":return a=mn.util.objId(t),n[a]?n[a]:(r=[],n[a]=r,t.forEach(function(o,l){r[l]=e(o,n)}),r);default:return t}}},languages:{plain:Mp,plaintext:Mp,text:Mp,txt:Mp,extend:function(e,t){var n=mn.util.clone(mn.languages[e]);for(var r in t)n[r]=t[r];return n},insertBefore:function(e,t,n,r){r=r||mn.languages;var a=r[e],i={};for(var o in a)if(a.hasOwnProperty(o)){if(o==t)for(var l in n)n.hasOwnProperty(l)&&(i[l]=n[l]);n.hasOwnProperty(o)||(i[o]=a[o])}var u=r[e];return r[e]=i,mn.languages.DFS(mn.languages,function(c,d){d===u&&c!=e&&(this[c]=i)}),i},DFS:function e(t,n,r,a){a=a||{};var i=mn.util.objId;for(var o in t)if(t.hasOwnProperty(o)){n.call(t,o,t[o],r||o);var l=t[o],u=mn.util.type(l);u==="Object"&&!a[i(l)]?(a[i(l)]=!0,e(l,n,null,a)):u==="Array"&&!a[i(l)]&&(a[i(l)]=!0,e(l,n,o,a))}}},plugins:{},highlight:function(e,t,n){var r={code:e,grammar:t,language:n};if(mn.hooks.run("before-tokenize",r),!r.grammar)throw new Error('The language "'+r.language+'" has no grammar.');return r.tokens=mn.tokenize(r.code,r.grammar),mn.hooks.run("after-tokenize",r),Nc.stringify(mn.util.encode(r.tokens),r.language)},tokenize:function(e,t){var n=t.rest;if(n){for(var r in n)t[r]=n[r];delete t.rest}var a=new RK;return lh(a,a.head,e),fO(e,a,t,a.head,0),OK(a)},hooks:{all:{},add:function(e,t){var n=mn.hooks.all;n[e]=n[e]||[],n[e].push(t)},run:function(e,t){var n=mn.hooks.all[e];if(!(!n||!n.length))for(var r=0,a;a=n[r++];)a(t)}},Token:Nc};function Nc(e,t,n,r){this.type=e,this.content=t,this.alias=n,this.length=(r||"").length|0}function d2(e,t,n,r){e.lastIndex=t;var a=e.exec(n);if(a&&r&&a[1]){var i=a[1].length;a.index+=i,a[0]=a[0].slice(i)}return a}function fO(e,t,n,r,a,i){for(var o in n)if(!(!n.hasOwnProperty(o)||!n[o])){var l=n[o];l=Array.isArray(l)?l:[l];for(var u=0;u<l.length;++u){if(i&&i.cause==o+","+u)return;var c=l[u],d=c.inside,p=!!c.lookbehind,h=!!c.greedy,f=c.alias;if(h&&!c.pattern.global){var m=c.pattern.toString().match(/[imsuy]*$/)[0];c.pattern=RegExp(c.pattern.source,m+"g")}for(var v=c.pattern||c,y=r.next,g=a;y!==t.tail&&!(i&&g>=i.reach);g+=y.value.length,y=y.next){var x=y.value;if(t.length>e.length)return;if(!(x instanceof Nc)){var w=1,k;if(h){if(k=d2(v,g,e,p),!k||k.index>=e.length)break;var I=k.index,S=k.index+k[0].length,T=g;for(T+=y.value.length;I>=T;)y=y.next,T+=y.value.length;if(T-=y.value.length,g=T,y.value instanceof Nc)continue;for(var A=y;A!==t.tail&&(T<S||typeof A.value=="string");A=A.next)w++,T+=A.value.length;w--,x=e.slice(g,T),k.index-=g}else if(k=d2(v,0,x,p),!k)continue;var I=k.index,C=k[0],N=x.slice(0,I),O=x.slice(I+C.length),D=g+x.length;i&&D>i.reach&&(i.reach=D);var B=y.prev;N&&(B=lh(t,B,N),g+=N.length),DK(t,B,w);var j=new Nc(o,d?mn.tokenize(C,d):C,f,C);if(y=lh(t,B,j),O&&lh(t,y,O),w>1){var P={cause:o+","+u,reach:D};fO(e,t,n,y.prev,g,P),i&&P.reach>i.reach&&(i.reach=P.reach)}}}}}}function RK(){var e={value:null,prev:null,next:null},t={value:null,prev:e,next:null};e.next=t,this.head=e,this.tail=t,this.length=0}function lh(e,t,n){var r=t.next,a={value:n,prev:t,next:r};return t.next=a,r.prev=a,e.length++,a}function DK(e,t,n){for(var r=t.next,a=0;a<n&&r!==e.tail;a++)r=r.next;t.next=r,r.prev=t,e.length-=a}function OK(e){for(var t=[],n=e.head.next;n!==e.tail;)t.push(n.value),n=n.next;return t}const mO=mn,yu={}.hasOwnProperty;function gO(){}gO.prototype=mO;const R=new gO;R.highlight=LK;R.register=jK;R.alias=MK;R.registered=FK;R.listLanguages=PK;R.util.encode=BK;R.Token.stringify=Ub;function LK(e,t){if(typeof e!="string")throw new TypeError("Expected `string` for `value`, got `"+e+"`");let n,r;if(t&&typeof t=="object")n=t;else{if(r=t,typeof r!="string")throw new TypeError("Expected `string` for `name`, got `"+r+"`");if(yu.call(R.languages,r))n=R.languages[r];else throw new Error("Unknown language: `"+r+"` is not registered")}return{type:"root",children:mO.highlight.call(R,e,n,r)}}function jK(e){if(typeof e!="function"||!e.displayName)throw new Error("Expected `function` for `syntax`, got `"+e+"`");yu.call(R.languages,e.displayName)||e(R)}function MK(e,t){const n=R.languages;let r={};typeof e=="string"?t&&(r[e]=t):r=e;let a;for(a in r)if(yu.call(r,a)){const i=r[a],o=typeof i=="string"?[i]:i;let l=-1;for(;++l<o.length;)n[o[l]]=n[a]}}function FK(e){if(typeof e!="string")throw new TypeError("Expected `string` for `aliasOrLanguage`, got `"+e+"`");return yu.call(R.languages,e)}function PK(){const e=R.languages,t=[];let n;for(n in e)yu.call(e,n)&&typeof e[n]=="object"&&t.push(n);return t}function Ub(e,t){if(typeof e=="string")return{type:"text",value:e};if(Array.isArray(e)){const r=[];let a=-1;for(;++a<e.length;)e[a]!==null&&e[a]!==void 0&&e[a]!==""&&r.push(Ub(e[a],t));return r}const n={attributes:{},classes:["token",e.type],content:Ub(e.content,t),language:t,tag:"span",type:e.type};return e.alias&&n.classes.push(...typeof e.alias=="string"?[e.alias]:e.alias),R.hooks.run("wrap",n),SK(n.tag+"."+n.classes.join("."),UK(n.attributes),n.content)}function BK(e){return e}function UK(e){let t;for(t in e)yu.call(e,t)&&(e[t]=TK(e[t]));return e}R.register(at);R.register(pa);R.register(vo);R.register(am);R.register(Ud);R.register(Eo);R.register(wn);R.register(wi);R.register(sm);R.register(im);R.register(om);R.register(wo);R.register(lm);R.register(In);R.register(mu);R.register(um);R.register(cm);R.register($d);R.register(dm);R.register(Hd);R.register(pm);R.register(hm);R.register(fm);R.register(Rn);R.register(So);R.register(zd);R.register(mm);R.register(No);R.register(gm);R.register(bm);R.register(ym);R.register(gu);R.register(xm);R.register(bu);R.register(Gd);R.register(qd);o1.displayName="abap";o1.aliases=[];function o1(e){e.languages.abap={comment:/^\*.*/m,string:/(`|')(?:\\.|(?!\1)[^\\\r\n])*\1/,"string-template":{pattern:/([|}])(?:\\.|[^\\|{\r\n])*(?=[|{])/,lookbehind:!0,alias:"string"},"eol-comment":{pattern:/(^|\s)".*/m,lookbehind:!0,alias:"comment"},keyword:{pattern:/(\s|\.|^)(?:\*-INPUT|\?TO|ABAP-SOURCE|ABBREVIATED|ABS|ABSTRACT|ACCEPT|ACCEPTING|ACCESSPOLICY|ACCORDING|ACOS|ACTIVATION|ACTUAL|ADD|ADD-CORRESPONDING|ADJACENT|AFTER|ALIAS|ALIASES|ALIGN|ALL|ALLOCATE|ALPHA|ANALYSIS|ANALYZER|AND|ANY|APPEND|APPENDAGE|APPENDING|APPLICATION|ARCHIVE|AREA|ARITHMETIC|AS|ASCENDING|ASIN|ASPECT|ASSERT|ASSIGN|ASSIGNED|ASSIGNING|ASSOCIATION|ASYNCHRONOUS|AT|ATAN|ATTRIBUTES|AUTHORITY|AUTHORITY-CHECK|AVG|BACK|BACKGROUND|BACKUP|BACKWARD|BADI|BASE|BEFORE|BEGIN|BETWEEN|BIG|BINARY|BINDING|BIT|BIT-AND|BIT-NOT|BIT-OR|BIT-XOR|BLACK|BLANK|BLANKS|BLOB|BLOCK|BLOCKS|BLUE|BOUND|BOUNDARIES|BOUNDS|BOXED|BREAK-POINT|BT|BUFFER|BY|BYPASSING|BYTE|BYTE-CA|BYTE-CN|BYTE-CO|BYTE-CS|BYTE-NA|BYTE-NS|BYTE-ORDER|C|CA|CALL|CALLING|CASE|CAST|CASTING|CATCH|CEIL|CENTER|CENTERED|CHAIN|CHAIN-INPUT|CHAIN-REQUEST|CHANGE|CHANGING|CHANNELS|CHAR-TO-HEX|CHARACTER|CHARLEN|CHECK|CHECKBOX|CIRCULAR|CI_|CLASS|CLASS-CODING|CLASS-DATA|CLASS-EVENTS|CLASS-METHODS|CLASS-POOL|CLEANUP|CLEAR|CLIENT|CLOB|CLOCK|CLOSE|CN|CNT|CO|COALESCE|CODE|CODING|COLLECT|COLOR|COLUMN|COLUMNS|COL_BACKGROUND|COL_GROUP|COL_HEADING|COL_KEY|COL_NEGATIVE|COL_NORMAL|COL_POSITIVE|COL_TOTAL|COMMENT|COMMENTS|COMMIT|COMMON|COMMUNICATION|COMPARING|COMPONENT|COMPONENTS|COMPRESSION|COMPUTE|CONCAT|CONCATENATE|COND|CONDENSE|CONDITION|CONNECT|CONNECTION|CONSTANTS|CONTEXT|CONTEXTS|CONTINUE|CONTROL|CONTROLS|CONV|CONVERSION|CONVERT|COPIES|COPY|CORRESPONDING|COS|COSH|COUNT|COUNTRY|COVER|CP|CPI|CREATE|CREATING|CRITICAL|CS|CURRENCY|CURRENCY_CONVERSION|CURRENT|CURSOR|CURSOR-SELECTION|CUSTOMER|CUSTOMER-FUNCTION|DANGEROUS|DATA|DATABASE|DATAINFO|DATASET|DATE|DAYLIGHT|DBMAXLEN|DD\/MM\/YY|DD\/MM\/YYYY|DDMMYY|DEALLOCATE|DECIMALS|DECIMAL_SHIFT|DECLARATIONS|DEEP|DEFAULT|DEFERRED|DEFINE|DEFINING|DEFINITION|DELETE|DELETING|DEMAND|DEPARTMENT|DESCENDING|DESCRIBE|DESTINATION|DETAIL|DIALOG|DIRECTORY|DISCONNECT|DISPLAY|DISPLAY-MODE|DISTANCE|DISTINCT|DIV|DIVIDE|DIVIDE-CORRESPONDING|DIVISION|DO|DUMMY|DUPLICATE|DUPLICATES|DURATION|DURING|DYNAMIC|DYNPRO|E|EACH|EDIT|EDITOR-CALL|ELSE|ELSEIF|EMPTY|ENABLED|ENABLING|ENCODING|END|END-ENHANCEMENT-SECTION|END-LINES|END-OF-DEFINITION|END-OF-FILE|END-OF-PAGE|END-OF-SELECTION|ENDAT|ENDCASE|ENDCATCH|ENDCHAIN|ENDCLASS|ENDDO|ENDENHANCEMENT|ENDEXEC|ENDFOR|ENDFORM|ENDFUNCTION|ENDIAN|ENDIF|ENDING|ENDINTERFACE|ENDLOOP|ENDMETHOD|ENDMODULE|ENDON|ENDPROVIDE|ENDSELECT|ENDTRY|ENDWHILE|ENGINEERING|ENHANCEMENT|ENHANCEMENT-POINT|ENHANCEMENT-SECTION|ENHANCEMENTS|ENTRIES|ENTRY|ENVIRONMENT|EQ|EQUAL|EQUIV|ERRORMESSAGE|ERRORS|ESCAPE|ESCAPING|EVENT|EVENTS|EXACT|EXCEPT|EXCEPTION|EXCEPTION-TABLE|EXCEPTIONS|EXCLUDE|EXCLUDING|EXEC|EXECUTE|EXISTS|EXIT|EXIT-COMMAND|EXP|EXPAND|EXPANDING|EXPIRATION|EXPLICIT|EXPONENT|EXPORT|EXPORTING|EXTEND|EXTENDED|EXTENSION|EXTRACT|FAIL|FETCH|FIELD|FIELD-GROUPS|FIELD-SYMBOL|FIELD-SYMBOLS|FIELDS|FILE|FILTER|FILTER-TABLE|FILTERS|FINAL|FIND|FIRST|FIRST-LINE|FIXED-POINT|FKEQ|FKGE|FLOOR|FLUSH|FONT|FOR|FORM|FORMAT|FORWARD|FOUND|FRAC|FRAME|FRAMES|FREE|FRIENDS|FROM|FUNCTION|FUNCTION-POOL|FUNCTIONALITY|FURTHER|GAPS|GE|GENERATE|GET|GIVING|GKEQ|GKGE|GLOBAL|GRANT|GREATER|GREEN|GROUP|GROUPS|GT|HANDLE|HANDLER|HARMLESS|HASHED|HAVING|HDB|HEAD-LINES|HEADER|HEADERS|HEADING|HELP-ID|HELP-REQUEST|HIDE|HIGH|HINT|HOLD|HOTSPOT|I|ICON|ID|IDENTIFICATION|IDENTIFIER|IDS|IF|IGNORE|IGNORING|IMMEDIATELY|IMPLEMENTATION|IMPLEMENTATIONS|IMPLEMENTED|IMPLICIT|IMPORT|IMPORTING|IN|INACTIVE|INCL|INCLUDE|INCLUDES|INCLUDING|INCREMENT|INDEX|INDEX-LINE|INFOTYPES|INHERITING|INIT|INITIAL|INITIALIZATION|INNER|INOUT|INPUT|INSERT|INSTANCES|INTENSIFIED|INTERFACE|INTERFACE-POOL|INTERFACES|INTERNAL|INTERVALS|INTO|INVERSE|INVERTED-DATE|IS|ISO|ITERATOR|ITNO|JOB|JOIN|KEEP|KEEPING|KERNEL|KEY|KEYS|KEYWORDS|KIND|LANGUAGE|LAST|LATE|LAYOUT|LE|LEADING|LEAVE|LEFT|LEFT-JUSTIFIED|LEFTPLUS|LEFTSPACE|LEGACY|LENGTH|LESS|LET|LEVEL|LEVELS|LIKE|LINE|LINE-COUNT|LINE-SELECTION|LINE-SIZE|LINEFEED|LINES|LIST|LIST-PROCESSING|LISTBOX|LITTLE|LLANG|LOAD|LOAD-OF-PROGRAM|LOB|LOCAL|LOCALE|LOCATOR|LOG|LOG-POINT|LOG10|LOGFILE|LOGICAL|LONG|LOOP|LOW|LOWER|LPAD|LPI|LT|M|MAIL|MAIN|MAJOR-ID|MAPPING|MARGIN|MARK|MASK|MATCH|MATCHCODE|MAX|MAXIMUM|MEDIUM|MEMBERS|MEMORY|MESH|MESSAGE|MESSAGE-ID|MESSAGES|MESSAGING|METHOD|METHODS|MIN|MINIMUM|MINOR-ID|MM\/DD\/YY|MM\/DD\/YYYY|MMDDYY|MOD|MODE|MODIF|MODIFIER|MODIFY|MODULE|MOVE|MOVE-CORRESPONDING|MULTIPLY|MULTIPLY-CORRESPONDING|NA|NAME|NAMETAB|NATIVE|NB|NE|NESTED|NESTING|NEW|NEW-LINE|NEW-PAGE|NEW-SECTION|NEXT|NO|NO-DISPLAY|NO-EXTENSION|NO-GAP|NO-GAPS|NO-GROUPING|NO-HEADING|NO-SCROLLING|NO-SIGN|NO-TITLE|NO-TOPOFPAGE|NO-ZERO|NODE|NODES|NON-UNICODE|NON-UNIQUE|NOT|NP|NS|NULL|NUMBER|NUMOFCHAR|O|OBJECT|OBJECTS|OBLIGATORY|OCCURRENCE|OCCURRENCES|OCCURS|OF|OFF|OFFSET|OLE|ON|ONLY|OPEN|OPTION|OPTIONAL|OPTIONS|OR|ORDER|OTHER|OTHERS|OUT|OUTER|OUTPUT|OUTPUT-LENGTH|OVERFLOW|OVERLAY|PACK|PACKAGE|PAD|PADDING|PAGE|PAGES|PARAMETER|PARAMETER-TABLE|PARAMETERS|PART|PARTIALLY|PATTERN|PERCENTAGE|PERFORM|PERFORMING|PERSON|PF|PF-STATUS|PINK|PLACES|POOL|POSITION|POS_HIGH|POS_LOW|PRAGMAS|PRECOMPILED|PREFERRED|PRESERVING|PRIMARY|PRINT|PRINT-CONTROL|PRIORITY|PRIVATE|PROCEDURE|PROCESS|PROGRAM|PROPERTY|PROTECTED|PROVIDE|PUBLIC|PUSHBUTTON|PUT|QUEUE-ONLY|QUICKINFO|RADIOBUTTON|RAISE|RAISING|RANGE|RANGES|RAW|READ|READ-ONLY|READER|RECEIVE|RECEIVED|RECEIVER|RECEIVING|RED|REDEFINITION|REDUCE|REDUCED|REF|REFERENCE|REFRESH|REGEX|REJECT|REMOTE|RENAMING|REPLACE|REPLACEMENT|REPLACING|REPORT|REQUEST|REQUESTED|RESERVE|RESET|RESOLUTION|RESPECTING|RESPONSIBLE|RESULT|RESULTS|RESUMABLE|RESUME|RETRY|RETURN|RETURNCODE|RETURNING|RIGHT|RIGHT-JUSTIFIED|RIGHTPLUS|RIGHTSPACE|RISK|RMC_COMMUNICATION_FAILURE|RMC_INVALID_STATUS|RMC_SYSTEM_FAILURE|ROLE|ROLLBACK|ROUND|ROWS|RTTI|RUN|SAP|SAP-SPOOL|SAVING|SCALE_PRESERVING|SCALE_PRESERVING_SCIENTIFIC|SCAN|SCIENTIFIC|SCIENTIFIC_WITH_LEADING_ZERO|SCREEN|SCROLL|SCROLL-BOUNDARY|SCROLLING|SEARCH|SECONDARY|SECONDS|SECTION|SELECT|SELECT-OPTIONS|SELECTION|SELECTION-SCREEN|SELECTION-SET|SELECTION-SETS|SELECTION-TABLE|SELECTIONS|SELECTOR|SEND|SEPARATE|SEPARATED|SET|SHARED|SHIFT|SHORT|SHORTDUMP-ID|SIGN|SIGN_AS_POSTFIX|SIMPLE|SIN|SINGLE|SINH|SIZE|SKIP|SKIPPING|SMART|SOME|SORT|SORTABLE|SORTED|SOURCE|SPACE|SPECIFIED|SPLIT|SPOOL|SPOTS|SQL|SQLSCRIPT|SQRT|STABLE|STAMP|STANDARD|START-OF-SELECTION|STARTING|STATE|STATEMENT|STATEMENTS|STATIC|STATICS|STATUSINFO|STEP-LOOP|STOP|STRLEN|STRUCTURE|STRUCTURES|STYLE|SUBKEY|SUBMATCHES|SUBMIT|SUBROUTINE|SUBSCREEN|SUBSTRING|SUBTRACT|SUBTRACT-CORRESPONDING|SUFFIX|SUM|SUMMARY|SUMMING|SUPPLIED|SUPPLY|SUPPRESS|SWITCH|SWITCHSTATES|SYMBOL|SYNCPOINTS|SYNTAX|SYNTAX-CHECK|SYNTAX-TRACE|SYSTEM-CALL|SYSTEM-EXCEPTIONS|SYSTEM-EXIT|TAB|TABBED|TABLE|TABLES|TABLEVIEW|TABSTRIP|TAN|TANH|TARGET|TASK|TASKS|TEST|TESTING|TEXT|TEXTPOOL|THEN|THROW|TIME|TIMES|TIMESTAMP|TIMEZONE|TITLE|TITLE-LINES|TITLEBAR|TO|TOKENIZATION|TOKENS|TOP-LINES|TOP-OF-PAGE|TRACE-FILE|TRACE-TABLE|TRAILING|TRANSACTION|TRANSFER|TRANSFORMATION|TRANSLATE|TRANSPORTING|TRMAC|TRUNC|TRUNCATE|TRUNCATION|TRY|TYPE|TYPE-POOL|TYPE-POOLS|TYPES|ULINE|UNASSIGN|UNDER|UNICODE|UNION|UNIQUE|UNIT|UNIT_CONVERSION|UNIX|UNPACK|UNTIL|UNWIND|UP|UPDATE|UPPER|USER|USER-COMMAND|USING|UTF-8|VALID|VALUE|VALUE-REQUEST|VALUES|VARY|VARYING|VERIFICATION-MESSAGE|VERSION|VIA|VIEW|VISIBLE|WAIT|WARNING|WHEN|WHENEVER|WHERE|WHILE|WIDTH|WINDOW|WINDOWS|WITH|WITH-HEADING|WITH-TITLE|WITHOUT|WORD|WORK|WRITE|WRITER|X|XML|XOR|XSD|XSTRLEN|YELLOW|YES|YYMMDD|Z|ZERO|ZONE)(?![\w-])/i,lookbehind:!0},number:/\b\d+\b/,operator:{pattern:/(\s)(?:\*\*?|<[=>]?|>=?|\?=|[-+\/=])(?=\s)/,lookbehind:!0},"string-operator":{pattern:/(\s)&&?(?=\s)/,lookbehind:!0,alias:"keyword"},"token-operator":[{pattern:/(\w)(?:->?|=>|[~|{}])(?=\w)/,lookbehind:!0,alias:"punctuation"},{pattern:/[|{}]/,alias:"punctuation"}],punctuation:/[,.:()]/}}l1.displayName="abnf";l1.aliases=[];function l1(e){(function(t){var n="(?:ALPHA|BIT|CHAR|CR|CRLF|CTL|DIGIT|DQUOTE|HEXDIG|HTAB|LF|LWSP|OCTET|SP|VCHAR|WSP)";t.languages.abnf={comment:/;.*/,string:{pattern:/(?:%[is])?"[^"\n\r]*"/,greedy:!0,inside:{punctuation:/^%[is]/}},range:{pattern:/%(?:b[01]+-[01]+|d\d+-\d+|x[A-F\d]+-[A-F\d]+)/i,alias:"number"},terminal:{pattern:/%(?:b[01]+(?:\.[01]+)*|d\d+(?:\.\d+)*|x[A-F\d]+(?:\.[A-F\d]+)*)/i,alias:"number"},repetition:{pattern:/(^|[^\w-])(?:\d*\*\d*|\d+)/,lookbehind:!0,alias:"operator"},definition:{pattern:/(^[ \t]*)(?:[a-z][\w-]*|<[^<>\r\n]*>)(?=\s*=)/m,lookbehind:!0,alias:"keyword",inside:{punctuation:/<|>/}},"core-rule":{pattern:RegExp("(?:(^|[^<\\w-])"+n+"|<"+n+">)(?![\\w-])","i"),lookbehind:!0,alias:["rule","constant"],inside:{punctuation:/<|>/}},rule:{pattern:/(^|[^<\w-])[a-z][\w-]*|<[^<>\r\n]*>/i,lookbehind:!0,inside:{punctuation:/<|>/}},operator:/=\/?|\//,punctuation:/[()\[\]]/}})(e)}u1.displayName="actionscript";u1.aliases=[];function u1(e){e.register(In),e.languages.actionscript=e.languages.extend("javascript",{keyword:/\b(?:as|break|case|catch|class|const|default|delete|do|dynamic|each|else|extends|final|finally|for|function|get|if|implements|import|in|include|instanceof|interface|internal|is|namespace|native|new|null|override|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|use|var|void|while|with)\b/,operator:/\+\+|--|(?:[+\-*\/%^]|&&?|\|\|?|<<?|>>?>?|[!=]=?)=?|[~?@]/}),e.languages.actionscript["class-name"].alias="function",delete e.languages.actionscript.parameter,delete e.languages.actionscript["literal-property"],e.languages.markup&&e.languages.insertBefore("actionscript","string",{xml:{pattern:/(^|[^.])<\/?\w+(?:\s+[^\s>\/=]+=("|')(?:\\[\s\S]|(?!\2)[^\\])*\2)*\s*\/?>/,lookbehind:!0,inside:e.languages.markup}})}c1.displayName="ada";c1.aliases=[];function c1(e){e.languages.ada={comment:/--.*/,string:/"(?:""|[^"\r\f\n])*"/,number:[{pattern:/\b\d(?:_?\d)*#[\dA-F](?:_?[\dA-F])*(?:\.[\dA-F](?:_?[\dA-F])*)?#(?:E[+-]?\d(?:_?\d)*)?/i},{pattern:/\b\d(?:_?\d)*(?:\.\d(?:_?\d)*)?(?:E[+-]?\d(?:_?\d)*)?\b/i}],attribute:{pattern:/\b'\w+/,alias:"attr-name"},keyword:/\b(?:abort|abs|abstract|accept|access|aliased|all|and|array|at|begin|body|case|constant|declare|delay|delta|digits|do|else|elsif|end|entry|exception|exit|for|function|generic|goto|if|in|interface|is|limited|loop|mod|new|not|null|of|or|others|out|overriding|package|pragma|private|procedure|protected|raise|range|record|rem|renames|requeue|return|reverse|select|separate|some|subtype|synchronized|tagged|task|terminate|then|type|until|use|when|while|with|xor)\b/i,boolean:/\b(?:false|true)\b/i,operator:/<[=>]?|>=?|=>?|:=|\/=?|\*\*?|[&+-]/,punctuation:/\.\.?|[,;():]/,char:/'.'/,variable:/\b[a-z](?:\w)*\b/i}}d1.displayName="agda";d1.aliases=[];function d1(e){(function(t){t.languages.agda={comment:/\{-[\s\S]*?(?:-\}|$)|--.*/,string:{pattern:/"(?:\\(?:\r\n|[\s\S])|[^\\\r\n"])*"/,greedy:!0},punctuation:/[(){}.;@]/,"class-name":{pattern:/((?:data|record) +)\S+/,lookbehind:!0},function:{pattern:/(^[ \t]*)(?!\s)[^:\r\n]+(?=:)/m,lookbehind:!0},operator:{pattern:/(^\s*|\s)(?:[=|:\\?_]|->)(?=\s)/,lookbehind:!0},keyword:/\b(?:Set|abstract|constructor|data|eta-equality|field|forall|hiding|import|in|inductive|infix|infixl|infixr|instance|let|macro|module|mutual|no-eta-equality|open|overlap|pattern|postulate|primitive|private|public|quote|quoteContext|quoteGoal|quoteTerm|record|renaming|rewrite|syntax|tactic|unquote|unquoteDecl|unquoteDef|using|variable|where|with)\b/}})(e)}p1.displayName="al";p1.aliases=[];function p1(e){e.languages.al={comment:/\/\/.*|\/\*[\s\S]*?\*\//,string:{pattern:/'(?:''|[^'\r\n])*'(?!')|"(?:""|[^"\r\n])*"(?!")/,greedy:!0},function:{pattern:/(\b(?:event|procedure|trigger)\s+|(?:^|[^.])\.\s*)[a-z_]\w*(?=\s*\()/i,lookbehind:!0},keyword:[/\b(?:array|asserterror|begin|break|case|do|downto|else|end|event|exit|for|foreach|function|if|implements|in|indataset|interface|internal|local|of|procedure|program|protected|repeat|runonclient|securityfiltering|suppressdispose|temporary|then|to|trigger|until|var|while|with|withevents)\b/i,/\b(?:action|actions|addafter|addbefore|addfirst|addlast|area|assembly|chartpart|codeunit|column|controladdin|cuegroup|customizes|dataitem|dataset|dotnet|elements|enum|enumextension|extends|field|fieldattribute|fieldelement|fieldgroup|fieldgroups|fields|filter|fixed|grid|group|key|keys|label|labels|layout|modify|moveafter|movebefore|movefirst|movelast|page|pagecustomization|pageextension|part|profile|query|repeater|report|requestpage|schema|separator|systempart|table|tableelement|tableextension|textattribute|textelement|type|usercontrol|value|xmlport)\b/i],number:/\b(?:0x[\da-f]+|(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?)(?:F|LL?|U(?:LL?)?)?\b/i,boolean:/\b(?:false|true)\b/i,variable:/\b(?:Curr(?:FieldNo|Page|Report)|x?Rec|RequestOptionsPage)\b/,"class-name":/\b(?:automation|biginteger|bigtext|blob|boolean|byte|char|clienttype|code|completiontriggererrorlevel|connectiontype|database|dataclassification|datascope|date|dateformula|datetime|decimal|defaultlayout|dialog|dictionary|dotnetassembly|dotnettypedeclaration|duration|errorinfo|errortype|executioncontext|executionmode|fieldclass|fieldref|fieldtype|file|filterpagebuilder|guid|httpclient|httpcontent|httpheaders|httprequestmessage|httpresponsemessage|instream|integer|joker|jsonarray|jsonobject|jsontoken|jsonvalue|keyref|list|moduledependencyinfo|moduleinfo|none|notification|notificationscope|objecttype|option|outstream|pageresult|record|recordid|recordref|reportformat|securityfilter|sessionsettings|tableconnectiontype|tablefilter|testaction|testfield|testfilterfield|testpage|testpermissions|testrequestpage|text|textbuilder|textconst|textencoding|time|transactionmodel|transactiontype|variant|verbosity|version|view|views|webserviceactioncontext|webserviceactionresultcode|xmlattribute|xmlattributecollection|xmlcdata|xmlcomment|xmldeclaration|xmldocument|xmldocumenttype|xmlelement|xmlnamespacemanager|xmlnametable|xmlnode|xmlnodelist|xmlprocessinginstruction|xmlreadoptions|xmltext|xmlwriteoptions)\b/i,operator:/\.\.|:[=:]|[-+*/]=?|<>|[<>]=?|=|\b(?:and|div|mod|not|or|xor)\b/i,punctuation:/[()\[\]{}:.;,]/}}h1.displayName="antlr4";h1.aliases=["g4"];function h1(e){e.languages.antlr4={comment:/\/\/.*|\/\*[\s\S]*?(?:\*\/|$)/,string:{pattern:/'(?:\\.|[^\\'\r\n])*'/,greedy:!0},"character-class":{pattern:/\[(?:\\.|[^\\\]\r\n])*\]/,greedy:!0,alias:"regex",inside:{range:{pattern:/([^[]|(?:^|[^\\])(?:\\\\)*\\\[)-(?!\])/,lookbehind:!0,alias:"punctuation"},escape:/\\(?:u(?:[a-fA-F\d]{4}|\{[a-fA-F\d]+\})|[pP]\{[=\w-]+\}|[^\r\nupP])/,punctuation:/[\[\]]/}},action:{pattern:/\{(?:[^{}]|\{(?:[^{}]|\{(?:[^{}]|\{[^{}]*\})*\})*\})*\}/,greedy:!0,inside:{content:{pattern:/(\{)[\s\S]+(?=\})/,lookbehind:!0},punctuation:/[{}]/}},command:{pattern:/(->\s*(?!\s))(?:\s*(?:,\s*)?\b[a-z]\w*(?:\s*\([^()\r\n]*\))?)+(?=\s*;)/i,lookbehind:!0,inside:{function:/\b\w+(?=\s*(?:[,(]|$))/,punctuation:/[,()]/}},annotation:{pattern:/@\w+(?:::\w+)*/,alias:"keyword"},label:{pattern:/#[ \t]*\w+/,alias:"punctuation"},keyword:/\b(?:catch|channels|finally|fragment|grammar|import|lexer|locals|mode|options|parser|returns|throws|tokens)\b/,definition:[{pattern:/\b[a-z]\w*(?=\s*:)/,alias:["rule","class-name"]},{pattern:/\b[A-Z]\w*(?=\s*:)/,alias:["token","constant"]}],constant:/\b[A-Z][A-Z_]*\b/,operator:/\.\.|->|[|~]|[*+?]\??/,punctuation:/[;:()=]/},e.languages.g4=e.languages.antlr4}f1.displayName="apacheconf";f1.aliases=[];function f1(e){e.languages.apacheconf={comment:/#.*/,"directive-inline":{pattern:/(^[\t ]*)\b(?:AcceptFilter|AcceptPathInfo|AccessFileName|Action|Add(?:Alt|AltByEncoding|AltByType|Charset|DefaultCharset|Description|Encoding|Handler|Icon|IconByEncoding|IconByType|InputFilter|Language|ModuleInfo|OutputFilter|OutputFilterByType|Type)|Alias|AliasMatch|Allow(?:CONNECT|EncodedSlashes|Methods|Override|OverrideList)?|Anonymous(?:_LogEmail|_MustGiveEmail|_NoUserID|_VerifyEmail)?|AsyncRequestWorkerFactor|Auth(?:BasicAuthoritative|BasicFake|BasicProvider|BasicUseDigestAlgorithm|DBDUserPWQuery|DBDUserRealmQuery|DBMGroupFile|DBMType|DBMUserFile|Digest(?:Algorithm|Domain|NonceLifetime|Provider|Qop|ShmemSize)|Form(?:Authoritative|Body|DisableNoStore|FakeBasicAuth|Location|LoginRequiredLocation|LoginSuccessLocation|LogoutLocation|Method|Mimetype|Password|Provider|SitePassphrase|Size|Username)|GroupFile|LDAP(?:AuthorizePrefix|BindAuthoritative|BindDN|BindPassword|CharsetConfig|CompareAsUser|CompareDNOnServer|DereferenceAliases|GroupAttribute|GroupAttributeIsDN|InitialBindAsUser|InitialBindPattern|MaxSubGroupDepth|RemoteUserAttribute|RemoteUserIsDN|SearchAsUser|SubGroupAttribute|SubGroupClass|Url)|Merging|Name|nCache(?:Context|Enable|ProvideFor|SOCache|Timeout)|nzFcgiCheckAuthnProvider|nzFcgiDefineProvider|Type|UserFile|zDBDLoginToReferer|zDBDQuery|zDBDRedirectQuery|zDBMType|zSendForbiddenOnFailure)|BalancerGrowth|BalancerInherit|BalancerMember|BalancerPersist|BrowserMatch|BrowserMatchNoCase|BufferedLogs|BufferSize|Cache(?:DefaultExpire|DetailHeader|DirLength|DirLevels|Disable|Enable|File|Header|IgnoreCacheControl|IgnoreHeaders|IgnoreNoLastMod|IgnoreQueryString|IgnoreURLSessionIdentifiers|KeyBaseURL|LastModifiedFactor|Lock|LockMaxAge|LockPath|MaxExpire|MaxFileSize|MinExpire|MinFileSize|NegotiatedDocs|QuickHandler|ReadSize|ReadTime|Root|Socache(?:MaxSize|MaxTime|MinTime|ReadSize|ReadTime)?|StaleOnError|StoreExpired|StoreNoStore|StorePrivate)|CGIDScriptTimeout|CGIMapExtension|CharsetDefault|CharsetOptions|CharsetSourceEnc|CheckCaseOnly|CheckSpelling|ChrootDir|ContentDigest|CookieDomain|CookieExpires|CookieName|CookieStyle|CookieTracking|CoreDumpDirectory|CustomLog|Dav|DavDepthInfinity|DavGenericLockDB|DavLockDB|DavMinTimeout|DBDExptime|DBDInitSQL|DBDKeep|DBDMax|DBDMin|DBDParams|DBDPersist|DBDPrepareSQL|DBDriver|DefaultIcon|DefaultLanguage|DefaultRuntimeDir|DefaultType|Define|Deflate(?:BufferSize|CompressionLevel|FilterNote|InflateLimitRequestBody|InflateRatio(?:Burst|Limit)|MemLevel|WindowSize)|Deny|DirectoryCheckHandler|DirectoryIndex|DirectoryIndexRedirect|DirectorySlash|DocumentRoot|DTracePrivileges|DumpIOInput|DumpIOOutput|EnableExceptionHook|EnableMMAP|EnableSendfile|Error|ErrorDocument|ErrorLog|ErrorLogFormat|Example|ExpiresActive|ExpiresByType|ExpiresDefault|ExtendedStatus|ExtFilterDefine|ExtFilterOptions|FallbackResource|FileETag|FilterChain|FilterDeclare|FilterProtocol|FilterProvider|FilterTrace|ForceLanguagePriority|ForceType|ForensicLog|GprofDir|GracefulShutdownTimeout|Group|Header|HeaderName|Heartbeat(?:Address|Listen|MaxServers|Storage)|HostnameLookups|IdentityCheck|IdentityCheckTimeout|ImapBase|ImapDefault|ImapMenu|Include|IncludeOptional|Index(?:HeadInsert|Ignore|IgnoreReset|Options|OrderDefault|StyleSheet)|InputSed|ISAPI(?:AppendLogToErrors|AppendLogToQuery|CacheFile|FakeAsync|LogNotSupported|ReadAheadBuffer)|KeepAlive|KeepAliveTimeout|KeptBodySize|LanguagePriority|LDAP(?:CacheEntries|CacheTTL|ConnectionPoolTTL|ConnectionTimeout|LibraryDebug|OpCacheEntries|OpCacheTTL|ReferralHopLimit|Referrals|Retries|RetryDelay|SharedCacheFile|SharedCacheSize|Timeout|TrustedClientCert|TrustedGlobalCert|TrustedMode|VerifyServerCert)|Limit(?:InternalRecursion|Request(?:Body|Fields|FieldSize|Line)|XMLRequestBody)|Listen|ListenBackLog|LoadFile|LoadModule|LogFormat|LogLevel|LogMessage|LuaAuthzProvider|LuaCodeCache|Lua(?:Hook(?:AccessChecker|AuthChecker|CheckUserID|Fixups|InsertFilter|Log|MapToStorage|TranslateName|TypeChecker)|Inherit|InputFilter|MapHandler|OutputFilter|PackageCPath|PackagePath|QuickHandler|Root|Scope)|Max(?:ConnectionsPerChild|KeepAliveRequests|MemFree|RangeOverlaps|RangeReversals|Ranges|RequestWorkers|SpareServers|SpareThreads|Threads)|MergeTrailers|MetaDir|MetaFiles|MetaSuffix|MimeMagicFile|MinSpareServers|MinSpareThreads|MMapFile|ModemStandard|ModMimeUsePathInfo|MultiviewsMatch|Mutex|NameVirtualHost|NoProxy|NWSSLTrustedCerts|NWSSLUpgradeable|Options|Order|OutputSed|PassEnv|PidFile|PrivilegesMode|Protocol|ProtocolEcho|Proxy(?:AddHeaders|BadHeader|Block|Domain|ErrorOverride|ExpressDBMFile|ExpressDBMType|ExpressEnable|FtpDirCharset|FtpEscapeWildcards|FtpListOnWildcard|HTML(?:BufSize|CharsetOut|DocType|Enable|Events|Extended|Fixups|Interp|Links|Meta|StripComments|URLMap)|IOBufferSize|MaxForwards|Pass(?:Inherit|InterpolateEnv|Match|Reverse|ReverseCookieDomain|ReverseCookiePath)?|PreserveHost|ReceiveBufferSize|Remote|RemoteMatch|Requests|SCGIInternalRedirect|SCGISendfile|Set|SourceAddress|Status|Timeout|Via)|ReadmeName|ReceiveBufferSize|Redirect|RedirectMatch|RedirectPermanent|RedirectTemp|ReflectorHeader|RemoteIP(?:Header|InternalProxy|InternalProxyList|ProxiesHeader|TrustedProxy|TrustedProxyList)|RemoveCharset|RemoveEncoding|RemoveHandler|RemoveInputFilter|RemoveLanguage|RemoveOutputFilter|RemoveType|RequestHeader|RequestReadTimeout|Require|Rewrite(?:Base|Cond|Engine|Map|Options|Rule)|RLimitCPU|RLimitMEM|RLimitNPROC|Satisfy|ScoreBoardFile|Script(?:Alias|AliasMatch|InterpreterSource|Log|LogBuffer|LogLength|Sock)?|SecureListen|SeeRequestTail|SendBufferSize|Server(?:Admin|Alias|Limit|Name|Path|Root|Signature|Tokens)|Session(?:Cookie(?:Name|Name2|Remove)|Crypto(?:Cipher|Driver|Passphrase|PassphraseFile)|DBD(?:CookieName|CookieName2|CookieRemove|DeleteLabel|InsertLabel|PerUser|SelectLabel|UpdateLabel)|Env|Exclude|Header|Include|MaxAge)?|SetEnv|SetEnvIf|SetEnvIfExpr|SetEnvIfNoCase|SetHandler|SetInputFilter|SetOutputFilter|SSIEndTag|SSIErrorMsg|SSIETag|SSILastModified|SSILegacyExprParser|SSIStartTag|SSITimeFormat|SSIUndefinedEcho|SSL(?:CACertificateFile|CACertificatePath|CADNRequestFile|CADNRequestPath|CARevocationCheck|CARevocationFile|CARevocationPath|CertificateChainFile|CertificateFile|CertificateKeyFile|CipherSuite|Compression|CryptoDevice|Engine|FIPS|HonorCipherOrder|InsecureRenegotiation|OCSP(?:DefaultResponder|Enable|OverrideResponder|ResponderTimeout|ResponseMaxAge|ResponseTimeSkew|UseRequestNonce)|OpenSSLConfCmd|Options|PassPhraseDialog|Protocol|Proxy(?:CACertificateFile|CACertificatePath|CARevocation(?:Check|File|Path)|CheckPeer(?:CN|Expire|Name)|CipherSuite|Engine|MachineCertificate(?:ChainFile|File|Path)|Protocol|Verify|VerifyDepth)|RandomSeed|RenegBufferSize|Require|RequireSSL|Session(?:Cache|CacheTimeout|TicketKeyFile|Tickets)|SRPUnknownUserSeed|SRPVerifierFile|Stapling(?:Cache|ErrorCacheTimeout|FakeTryLater|ForceURL|ResponderTimeout|ResponseMaxAge|ResponseTimeSkew|ReturnResponderErrors|StandardCacheTimeout)|StrictSNIVHostCheck|UserName|UseStapling|VerifyClient|VerifyDepth)|StartServers|StartThreads|Substitute|Suexec|SuexecUserGroup|ThreadLimit|ThreadsPerChild|ThreadStackSize|TimeOut|TraceEnable|TransferLog|TypesConfig|UnDefine|UndefMacro|UnsetEnv|Use|UseCanonicalName|UseCanonicalPhysicalPort|User|UserDir|VHostCGIMode|VHostCGIPrivs|VHostGroup|VHostPrivs|VHostSecure|VHostUser|Virtual(?:DocumentRoot|ScriptAlias)(?:IP)?|WatchdogInterval|XBitHack|xml2EncAlias|xml2EncDefault|xml2StartParse)\b/im,lookbehind:!0,alias:"property"},"directive-block":{pattern:/<\/?\b(?:Auth[nz]ProviderAlias|Directory|DirectoryMatch|Else|ElseIf|Files|FilesMatch|If|IfDefine|IfModule|IfVersion|Limit|LimitExcept|Location|LocationMatch|Macro|Proxy|Require(?:All|Any|None)|VirtualHost)\b.*>/i,inside:{"directive-block":{pattern:/^<\/?\w+/,inside:{punctuation:/^<\/?/},alias:"tag"},"directive-block-parameter":{pattern:/.*[^>]/,inside:{punctuation:/:/,string:{pattern:/("|').*\1/,inside:{variable:/[$%]\{?(?:\w\.?[-+:]?)+\}?/}}},alias:"attr-value"},punctuation:/>/},alias:"tag"},"directive-flags":{pattern:/\[(?:[\w=],?)+\]/,alias:"keyword"},string:{pattern:/("|').*\1/,inside:{variable:/[$%]\{?(?:\w\.?[-+:]?)+\}?/}},variable:/[$%]\{?(?:\w\.?[-+:]?)+\}?/,regex:/\^?.*\$|\^.*\$?/}}m1.displayName="apex";m1.aliases=[];function m1(e){e.register(at),e.register(gu),function(t){var n=/\b(?:(?:after|before)(?=\s+[a-z])|abstract|activate|and|any|array|as|asc|autonomous|begin|bigdecimal|blob|boolean|break|bulk|by|byte|case|cast|catch|char|class|collect|commit|const|continue|currency|date|datetime|decimal|default|delete|desc|do|double|else|end|enum|exception|exit|export|extends|final|finally|float|for|from|get(?=\s*[{};])|global|goto|group|having|hint|if|implements|import|in|inner|insert|instanceof|int|integer|interface|into|join|like|limit|list|long|loop|map|merge|new|not|null|nulls|number|object|of|on|or|outer|override|package|parallel|pragma|private|protected|public|retrieve|return|rollback|select|set|short|sObject|sort|static|string|super|switch|synchronized|system|testmethod|then|this|throw|time|transaction|transient|trigger|try|undelete|update|upsert|using|virtual|void|webservice|when|where|while|(?:inherited|with|without)\s+sharing)\b/i,r=/\b(?:(?=[a-z_]\w*\s*[<\[])|(?!<keyword>))[A-Z_]\w*(?:\s*\.\s*[A-Z_]\w*)*\b(?:\s*(?:\[\s*\]|<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>))*/.source.replace(/<keyword>/g,function(){return n.source});function a(o){return RegExp(o.replace(/<CLASS-NAME>/g,function(){return r}),"i")}var i={keyword:n,punctuation:/[()\[\]{};,:.<>]/};t.languages.apex={comment:t.languages.clike.comment,string:t.languages.clike.string,sql:{pattern:/((?:[=,({:]|\breturn)\s*)\[[^\[\]]*\]/i,lookbehind:!0,greedy:!0,alias:"language-sql",inside:t.languages.sql},annotation:{pattern:/@\w+\b/,alias:"punctuation"},"class-name":[{pattern:a(/(\b(?:class|enum|extends|implements|instanceof|interface|new|trigger\s+\w+\s+on)\s+)<CLASS-NAME>/.source),lookbehind:!0,inside:i},{pattern:a(/(\(\s*)<CLASS-NAME>(?=\s*\)\s*[\w(])/.source),lookbehind:!0,inside:i},{pattern:a(/<CLASS-NAME>(?=\s*\w+\s*[;=,(){:])/.source),inside:i}],trigger:{pattern:/(\btrigger\s+)\w+\b/i,lookbehind:!0,alias:"class-name"},keyword:n,function:/\b[a-z_]\w*(?=\s*\()/i,boolean:/\b(?:false|true)\b/i,number:/(?:\B\.\d+|\b\d+(?:\.\d+|L)?)\b/i,operator:/[!=](?:==?)?|\?\.?|&&|\|\||--|\+\+|[-+*/^&|]=?|:|<<?=?|>{1,3}=?/,punctuation:/[()\[\]{};,.]/}}(e)}g1.displayName="apl";g1.aliases=[];function g1(e){e.languages.apl={comment:/(?:|#[! ]).*$/m,string:{pattern:/'(?:[^'\r\n]|'')*'/,greedy:!0},number:/?(?:\d*\.?\b\d+(?:e[+]?\d+)?||)(?:j?(?:(?:\d+(?:\.\d+)?|\.\d+)(?:e[+]?\d+)?||))?/i,statement:/:[A-Z][a-z][A-Za-z]*\b/,"system-function":{pattern:/[A-Z]+/i,alias:"function"},constant:/[#]/,function:/[-+|?*!<=>~,]/,"monadic-operator":{pattern:/[\\\/&]/,alias:"operator"},"dyadic-operator":{pattern:/[.@]/,alias:"operator"},assignment:{pattern://,alias:"keyword"},punctuation:/[\[;\]()]/,dfn:{pattern:/[{}:]/,alias:"builtin"}}}b1.displayName="applescript";b1.aliases=[];function b1(e){e.languages.applescript={comment:[/\(\*(?:\(\*(?:[^*]|\*(?!\)))*\*\)|(?!\(\*)[\s\S])*?\*\)/,/--.+/,/#.+/],string:/"(?:\\.|[^"\\\r\n])*"/,number:/(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e-?\d+)?\b/i,operator:[/[&=*+\-\/^]|[<>]=?/,/\b(?:(?:begin|end|start)s? with|(?:contains?|(?:does not|doesn't) contain)|(?:is|isn't|is not) (?:contained by|in)|(?:(?:is|isn't|is not) )?(?:greater|less) than(?: or equal)?(?: to)?|(?:comes|(?:does not|doesn't) come) (?:after|before)|(?:is|isn't|is not) equal(?: to)?|(?:(?:does not|doesn't) equal|equal to|equals|is not|isn't)|(?:a )?(?:ref(?: to)?|reference to)|(?:and|as|div|mod|not|or))\b/],keyword:/\b(?:about|above|after|against|apart from|around|aside from|at|back|before|beginning|behind|below|beneath|beside|between|but|by|considering|continue|copy|does|eighth|else|end|equal|error|every|exit|false|fifth|first|for|fourth|from|front|get|given|global|if|ignoring|in|instead of|into|is|it|its|last|local|me|middle|my|ninth|of|on|onto|out of|over|prop|property|put|repeat|return|returning|second|set|seventh|since|sixth|some|tell|tenth|that|the|then|third|through|thru|timeout|times|to|transaction|true|try|until|where|while|whose|with|without)\b/,"class-name":/\b(?:POSIX file|RGB color|alias|application|boolean|centimeters|centimetres|class|constant|cubic centimeters|cubic centimetres|cubic feet|cubic inches|cubic meters|cubic metres|cubic yards|date|degrees Celsius|degrees Fahrenheit|degrees Kelvin|feet|file|gallons|grams|inches|integer|kilograms|kilometers|kilometres|list|liters|litres|meters|metres|miles|number|ounces|pounds|quarts|real|record|reference|script|square feet|square kilometers|square kilometres|square meters|square metres|square miles|square yards|text|yards)\b/,punctuation:/[{}():,]/}}y1.displayName="aql";y1.aliases=[];function y1(e){e.languages.aql={comment:/\/\/.*|\/\*[\s\S]*?\*\//,property:{pattern:/([{,]\s*)(?:(?!\d)\w+|(["'`])(?:(?!\2)[^\\\r\n]|\\.)*\2)(?=\s*:)/,lookbehind:!0,greedy:!0},string:{pattern:/(["'])(?:(?!\1)[^\\\r\n]|\\.)*\1/,greedy:!0},identifier:{pattern:/([`])(?:(?!\1)[^\\\r\n]|\\.)*\1/,greedy:!0},variable:/@@?\w+/,keyword:[{pattern:/(\bWITH\s+)COUNT(?=\s+INTO\b)/i,lookbehind:!0},/\b(?:AGGREGATE|ALL|AND|ANY|ASC|COLLECT|DESC|DISTINCT|FILTER|FOR|GRAPH|IN|INBOUND|INSERT|INTO|K_PATHS|K_SHORTEST_PATHS|LET|LIKE|LIMIT|NONE|NOT|NULL|OR|OUTBOUND|REMOVE|REPLACE|RETURN|SHORTEST_PATH|SORT|UPDATE|UPSERT|WINDOW|WITH)\b/i,{pattern:/(^|[^\w.[])(?:KEEP|PRUNE|SEARCH|TO)\b/i,lookbehind:!0},{pattern:/(^|[^\w.[])(?:CURRENT|NEW|OLD)\b/,lookbehind:!0},{pattern:/\bOPTIONS(?=\s*\{)/i}],function:/\b(?!\d)\w+(?=\s*\()/,boolean:/\b(?:false|true)\b/i,range:{pattern:/\.\./,alias:"operator"},number:[/\b0b[01]+/i,/\b0x[0-9a-f]+/i,/(?:\B\.\d+|\b(?:0|[1-9]\d*)(?:\.\d+)?)(?:e[+-]?\d+)?/i],operator:/\*{2,}|[=!]~|[!=<>]=?|&&|\|\||[-+*/%]/,punctuation:/::|[?.:,;()[\]{}]/}}x1.displayName="arff";x1.aliases=[];function x1(e){e.languages.arff={comment:/%.*/,string:{pattern:/(["'])(?:\\.|(?!\1)[^\\\r\n])*\1/,greedy:!0},keyword:/@(?:attribute|data|end|relation)\b/i,number:/\b\d+(?:\.\d+)?\b/,punctuation:/[{},]/}}v1.displayName="armasm";v1.aliases=["arm-asm"];function v1(e){e.languages.armasm={comment:{pattern:/;.*/,greedy:!0},string:{pattern:/"(?:[^"\r\n]|"")*"/,greedy:!0,inside:{variable:{pattern:/((?:^|[^$])(?:\${2})*)\$\w+/,lookbehind:!0}}},char:{pattern:/'(?:[^'\r\n]{0,4}|'')'/,greedy:!0},"version-symbol":{pattern:/\|[\w@]+\|/,greedy:!0,alias:"property"},boolean:/\b(?:FALSE|TRUE)\b/,directive:{pattern:/\b(?:ALIAS|ALIGN|AREA|ARM|ASSERT|ATTR|CN|CODE|CODE16|CODE32|COMMON|CP|DATA|DCB|DCD|DCDO|DCDU|DCFD|DCFDU|DCI|DCQ|DCQU|DCW|DCWU|DN|ELIF|ELSE|END|ENDFUNC|ENDIF|ENDP|ENTRY|EQU|EXPORT|EXPORTAS|EXTERN|FIELD|FILL|FN|FUNCTION|GBLA|GBLL|GBLS|GET|GLOBAL|IF|IMPORT|INCBIN|INCLUDE|INFO|KEEP|LCLA|LCLL|LCLS|LTORG|MACRO|MAP|MEND|MEXIT|NOFP|OPT|PRESERVE8|PROC|QN|READONLY|RELOC|REQUIRE|REQUIRE8|RLIST|ROUT|SETA|SETL|SETS|SN|SPACE|SUBT|THUMB|THUMBX|TTL|WEND|WHILE)\b/,alias:"property"},instruction:{pattern:/((?:^|(?:^|[^\\])(?:\r\n?|\n))[ \t]*(?:(?:[A-Z][A-Z0-9_]*[a-z]\w*|[a-z]\w*|\d+)[ \t]+)?)\b[A-Z.]+\b/,lookbehind:!0,alias:"keyword"},variable:/\$\w+/,number:/(?:\b[2-9]_\d+|(?:\b\d+(?:\.\d+)?|\B\.\d+)(?:e-?\d+)?|\b0(?:[fd]_|x)[0-9a-f]+|&[0-9a-f]+)\b/i,register:{pattern:/\b(?:r\d|lr)\b/,alias:"symbol"},operator:/<>|<<|>>|&&|\|\||[=!<>/]=?|[+\-*%#?&|^]|:[A-Z]+:/,punctuation:/[()[\],]/},e.languages["arm-asm"]=e.languages.armasm}E1.displayName="arturo";E1.aliases=["art"];function E1(e){(function(t){var n=function(r,a){return{pattern:RegExp(/\{!/.source+"(?:"+(a||r)+")"+/$[\s\S]*\}/.source,"m"),greedy:!0,inside:{embedded:{pattern:/(^\{!\w+\b)[\s\S]+(?=\}$)/,lookbehind:!0,alias:"language-"+r,inside:t.languages[r]},string:/[\s\S]+/}}};t.languages.arturo={comment:{pattern:/;.*/,greedy:!0},character:{pattern:/`.`/,alias:"char",greedy:!0},number:{pattern:/\b\d+(?:\.\d+(?:\.\d+(?:-[\w+-]+)?)?)?\b/},string:{pattern:/"(?:[^"\\\r\n]|\\.)*"/,greedy:!0},regex:{pattern:/\{\/.*?\/\}/,greedy:!0},"html-string":n("html"),"css-string":n("css"),"js-string":n("js"),"md-string":n("md"),"sql-string":n("sql"),"sh-string":n("shell","sh"),multistring:{pattern:/.*|\{:[\s\S]*?:\}|\{[\s\S]*?\}|^-{6}$[\s\S]*/m,alias:"string",greedy:!0},label:{pattern:/\w+\b\??:/,alias:"property"},literal:{pattern:/'(?:\w+\b\??:?)/,alias:"constant"},type:{pattern:/:(?:\w+\b\??:?)/,alias:"class-name"},color:/#\w+/,predicate:{pattern:/\b(?:all|and|any|ascii|attr|attribute|attributeLabel|binary|block|char|contains|database|date|dictionary|empty|equal|even|every|exists|false|floating|function|greater|greaterOrEqual|if|in|inline|integer|is|key|label|leap|less|lessOrEqual|literal|logical|lower|nand|negative|nor|not|notEqual|null|numeric|odd|or|path|pathLabel|positive|prefix|prime|regex|same|set|some|sorted|standalone|string|subset|suffix|superset|symbol|symbolLiteral|true|try|type|unless|upper|when|whitespace|word|xnor|xor|zero)\?/,alias:"keyword"},"builtin-function":{pattern:/\b(?:abs|acos|acosh|acsec|acsech|actan|actanh|add|after|alert|alias|and|angle|append|arg|args|arity|array|as|asec|asech|asin|asinh|atan|atan2|atanh|attr|attrs|average|before|benchmark|blend|break|call|capitalize|case|ceil|chop|clear|clip|close|color|combine|conj|continue|copy|cos|cosh|crc|csec|csech|ctan|ctanh|cursor|darken|dec|decode|define|delete|desaturate|deviation|dialog|dictionary|difference|digest|digits|div|do|download|drop|dup|e|else|empty|encode|ensure|env|escape|execute|exit|exp|extend|extract|factors|fdiv|filter|first|flatten|floor|fold|from|function|gamma|gcd|get|goto|hash|hypot|if|inc|indent|index|infinity|info|input|insert|inspect|intersection|invert|jaro|join|keys|kurtosis|last|let|levenshtein|lighten|list|ln|log|loop|lower|mail|map|match|max|median|min|mod|module|mul|nand|neg|new|nor|normalize|not|now|null|open|or|outdent|pad|palette|panic|path|pause|permissions|permutate|pi|pop|popup|pow|powerset|powmod|prefix|print|prints|process|product|query|random|range|read|relative|remove|rename|render|repeat|replace|request|return|reverse|round|sample|saturate|script|sec|sech|select|serve|set|shl|shr|shuffle|sin|sinh|size|skewness|slice|sort|spin|split|sqrt|squeeze|stack|strip|sub|suffix|sum|switch|symbols|symlink|sys|take|tan|tanh|terminal|terminate|to|truncate|try|type|unclip|union|unique|unless|until|unzip|upper|values|var|variance|volume|webview|while|with|wordwrap|write|xnor|xor|zip)\b/,alias:"keyword"},sugar:{pattern:/->|=>|\||::/,alias:"operator"},punctuation:/[()[\],]/,symbol:{pattern:/<:|-:||@|#|\+|\||\*|\$|---|-|%|\/|\.\.|\^|~|=|<|>|\\/},boolean:{pattern:/\b(?:false|maybe|true)\b/}},t.languages.art=t.languages.arturo})(e)}w1.displayName="asciidoc";w1.aliases=["adoc"];function w1(e){(function(t){var n={pattern:/(^[ \t]*)\[(?!\[)(?:(["'$`])(?:(?!\2)[^\\]|\\.)*\2|\[(?:[^\[\]\\]|\\.)*\]|[^\[\]\\"'$`]|\\.)*\]/m,lookbehind:!0,inside:{quoted:{pattern:/([$`])(?:(?!\1)[^\\]|\\.)*\1/,inside:{punctuation:/^[$`]|[$`]$/}},interpreted:{pattern:/'(?:[^'\\]|\\.)*'/,inside:{punctuation:/^'|'$/}},string:/"(?:[^"\\]|\\.)*"/,variable:/\w+(?==)/,punctuation:/^\[|\]$|,/,operator:/=/,"attr-value":/(?!^\s+$).+/}},r=t.languages.asciidoc={"comment-block":{pattern:/^(\/{4,})$[\s\S]*?^\1/m,alias:"comment"},table:{pattern:/^\|={3,}(?:(?:\r?\n|\r(?!\n)).*)*?(?:\r?\n|\r)\|={3,}$/m,inside:{specifiers:{pattern:/(?:(?:(?:\d+(?:\.\d+)?|\.\d+)[+*](?:[<^>](?:\.[<^>])?|\.[<^>])?|[<^>](?:\.[<^>])?|\.[<^>])[a-z]*|[a-z]+)(?=\|)/,alias:"attr-value"},punctuation:{pattern:/(^|[^\\])[|!]=*/,lookbehind:!0}}},"passthrough-block":{pattern:/^(\+{4,})$[\s\S]*?^\1$/m,inside:{punctuation:/^\++|\++$/}},"literal-block":{pattern:/^(-{4,}|\.{4,})$[\s\S]*?^\1$/m,inside:{punctuation:/^(?:-+|\.+)|(?:-+|\.+)$/}},"other-block":{pattern:/^(--|\*{4,}|_{4,}|={4,})$[\s\S]*?^\1$/m,inside:{punctuation:/^(?:-+|\*+|_+|=+)|(?:-+|\*+|_+|=+)$/}},"list-punctuation":{pattern:/(^[ \t]*)(?:-|\*{1,5}|\.{1,5}|(?:[a-z]|\d+)\.|[xvi]+\))(?= )/im,lookbehind:!0,alias:"punctuation"},"list-label":{pattern:/(^[ \t]*)[a-z\d].+(?::{2,4}|;;)(?=\s)/im,lookbehind:!0,alias:"symbol"},"indented-block":{pattern:/((\r?\n|\r)\2)([ \t]+)\S.*(?:(?:\r?\n|\r)\3.+)*(?=\2{2}|$)/,lookbehind:!0},comment:/^\/\/.*/m,title:{pattern:/^.+(?:\r?\n|\r)(?:={3,}|-{3,}|~{3,}|\^{3,}|\+{3,})$|^={1,5} .+|^\.(?![\s.]).*/m,alias:"important",inside:{punctuation:/^(?:\.|=+)|(?:=+|-+|~+|\^+|\++)$/}},"attribute-entry":{pattern:/^:[^:\r\n]+:(?: .*?(?: \+(?:\r?\n|\r).*?)*)?$/m,alias:"tag"},attributes:n,hr:{pattern:/^'{3,}$/m,alias:"punctuation"},"page-break":{pattern:/^<{3,}$/m,alias:"punctuation"},admonition:{pattern:/^(?:CAUTION|IMPORTANT|NOTE|TIP|WARNING):/m,alias:"keyword"},callout:[{pattern:/(^[ \t]*)<?\d*>/m,lookbehind:!0,alias:"symbol"},{pattern:/<\d+>/,alias:"symbol"}],macro:{pattern:/\b[a-z\d][a-z\d-]*::?(?:[^\s\[\]]*\[(?:[^\]\\"']|(["'])(?:(?!\1)[^\\]|\\.)*\1|\\.)*\])/,inside:{function:/^[a-z\d-]+(?=:)/,punctuation:/^::?/,attributes:{pattern:/(?:\[(?:[^\]\\"']|(["'])(?:(?!\1)[^\\]|\\.)*\1|\\.)*\])/,inside:n.inside}}},inline:{pattern:/(^|[^\\])(?:(?:\B\[(?:[^\]\\"']|(["'])(?:(?!\2)[^\\]|\\.)*\2|\\.)*\])?(?:\b_(?!\s)(?: _|[^_\\\r\n]|\\.)+(?:(?:\r?\n|\r)(?: _|[^_\\\r\n]|\\.)+)*_\b|\B``(?!\s).+?(?:(?:\r?\n|\r).+?)*''\B|\B`(?!\s)(?:[^`'\s]|\s+\S)+['`]\B|\B(['*+#])(?!\s)(?: \3|(?!\3)[^\\\r\n]|\\.)+(?:(?:\r?\n|\r)(?: \3|(?!\3)[^\\\r\n]|\\.)+)*\3\B)|(?:\[(?:[^\]\\"']|(["'])(?:(?!\4)[^\\]|\\.)*\4|\\.)*\])?(?:(__|\*\*|\+\+\+?|##|\$\$|[~^]).+?(?:(?:\r?\n|\r).+?)*\5|\{[^}\r\n]+\}|\[\[\[?.+?(?:(?:\r?\n|\r).+?)*\]?\]\]|<<.+?(?:(?:\r?\n|\r).+?)*>>|\(\(\(?.+?(?:(?:\r?\n|\r).+?)*\)?\)\)))/m,lookbehind:!0,inside:{attributes:n,url:{pattern:/^(?:\[\[\[?.+?\]?\]\]|<<.+?>>)$/,inside:{punctuation:/^(?:\[\[\[?|<<)|(?:\]\]\]?|>>)$/}},"attribute-ref":{pattern:/^\{.+\}$/,inside:{variable:{pattern:/(^\{)[a-z\d,+_-]+/,lookbehind:!0},operator:/^[=?!#%@$]|!(?=[:}])/,punctuation:/^\{|\}$|::?/}},italic:{pattern:/^(['_])[\s\S]+\1$/,inside:{punctuation:/^(?:''?|__?)|(?:''?|__?)$/}},bold:{pattern:/^\*[\s\S]+\*$/,inside:{punctuation:/^\*\*?|\*\*?$/}},punctuation:/^(?:``?|\+{1,3}|##?|\$\$|[~^]|\(\(\(?)|(?:''?|\+{1,3}|##?|\$\$|[~^`]|\)?\)\))$/}},replacement:{pattern:/\((?:C|R|TM)\)/,alias:"builtin"},entity:/&#?[\da-z]{1,8};/i,"line-continuation":{pattern:/(^| )\+$/m,lookbehind:!0,alias:"punctuation"}};function a(i){i=i.split(" ");for(var o={},l=0,u=i.length;l<u;l++)o[i[l]]=r[i[l]];return o}n.inside.interpreted.inside.rest=a("macro inline replacement entity"),r["passthrough-block"].inside.rest=a("macro"),r["literal-block"].inside.rest=a("callout"),r.table.inside.rest=a("comment-block passthrough-block literal-block other-block list-punctuation indented-block comment title attribute-entry attributes hr page-break admonition list-label callout macro inline replacement entity line-continuation"),r["other-block"].inside.rest=a("table list-punctuation indented-block comment attribute-entry attributes hr page-break admonition list-label macro inline replacement entity line-continuation"),r.title.inside.rest=a("macro inline replacement entity"),t.hooks.add("wrap",function(i){i.type==="entity"&&(i.attributes.title=i.content.value.replace(/&amp;/,"&"))}),t.languages.adoc=t.languages.asciidoc})(e)}S1.displayName="aspnet";S1.aliases=[];function S1(e){e.register(Eo),e.register(wn),e.languages.aspnet=e.languages.extend("markup",{"page-directive":{pattern:/<%\s*@.*%>/,alias:"tag",inside:{"page-directive":{pattern:/<%\s*@\s*(?:Assembly|Control|Implements|Import|Master(?:Type)?|OutputCache|Page|PreviousPageType|Reference|Register)?|%>/i,alias:"tag"},rest:e.languages.markup.tag.inside}},directive:{pattern:/<%.*%>/,alias:"tag",inside:{directive:{pattern:/<%\s*?[$=%#:]{0,2}|%>/,alias:"tag"},rest:e.languages.csharp}}}),e.languages.aspnet.tag.pattern=/<(?!%)\/?[^\s>\/]+(?:\s+[^\s>\/=]+(?:=(?:("|')(?:\\[\s\S]|(?!\1)[^\\])*\1|[^\s'">=]+))?)*\s*\/?>/,e.languages.insertBefore("inside","punctuation",{directive:e.languages.aspnet.directive},e.languages.aspnet.tag.inside["attr-value"]),e.languages.insertBefore("aspnet","comment",{"asp-comment":{pattern:/<%--[\s\S]*?--%>/,alias:["asp","comment"]}}),e.languages.insertBefore("aspnet",e.languages.javascript?"script":"tag",{"asp-script":{pattern:/(<script(?=.*runat=['"]?server\b)[^>]*>)[\s\S]*?(?=<\/script>)/i,lookbehind:!0,alias:["asp","script"],inside:e.languages.csharp||{}}})}N1.displayName="asm6502";N1.aliases=[];function N1(e){e.languages.asm6502={comment:/;.*/,directive:{pattern:/\.\w+(?= )/,alias:"property"},string:/(["'`])(?:\\.|(?!\1)[^\\\r\n])*\1/,"op-code":{pattern:/\b(?:ADC|AND|ASL|BCC|BCS|BEQ|BIT|BMI|BNE|BPL|BRK|BVC|BVS|CLC|CLD|CLI|CLV|CMP|CPX|CPY|DEC|DEX|DEY|EOR|INC|INX|INY|JMP|JSR|LDA|LDX|LDY|LSR|NOP|ORA|PHA|PHP|PLA|PLP|ROL|ROR|RTI|RTS|SBC|SEC|SED|SEI|STA|STX|STY|TAX|TAY|TSX|TXA|TXS|TYA|adc|and|asl|bcc|bcs|beq|bit|bmi|bne|bpl|brk|bvc|bvs|clc|cld|cli|clv|cmp|cpx|cpy|dec|dex|dey|eor|inc|inx|iny|jmp|jsr|lda|ldx|ldy|lsr|nop|ora|pha|php|pla|plp|rol|ror|rti|rts|sbc|sec|sed|sei|sta|stx|sty|tax|tay|tsx|txa|txs|tya)\b/,alias:"keyword"},"hex-number":{pattern:/#?\$[\da-f]{1,4}\b/i,alias:"number"},"binary-number":{pattern:/#?%[01]+\b/,alias:"number"},"decimal-number":{pattern:/#?\b\d+\b/,alias:"number"},register:{pattern:/\b[xya]\b/i,alias:"variable"},punctuation:/[(),:]/}}k1.displayName="asmatmel";k1.aliases=[];function k1(e){e.languages.asmatmel={comment:{pattern:/;.*/,greedy:!0},string:{pattern:/(["'`])(?:\\.|(?!\1)[^\\\r\n])*\1/,greedy:!0},constant:/\b(?:PORT[A-Z]|DDR[A-Z]|(?:DD|P)[A-Z](?:\d|[0-2]\d|3[01]))\b/,directive:{pattern:/\.\w+(?= )/,alias:"property"},"r-register":{pattern:/\br(?:\d|[12]\d|3[01])\b/,alias:"variable"},"op-code":{pattern:/\b(?:ADC|ADD|ADIW|AND|ANDI|ASR|BCLR|BLD|BRBC|BRBS|BRCC|BRCS|BREAK|BREQ|BRGE|BRHC|BRHS|BRID|BRIE|BRLO|BRLT|BRMI|BRNE|BRPL|BRSH|BRTC|BRTS|BRVC|BRVS|BSET|BST|CALL|CBI|CBR|CLC|CLH|CLI|CLN|CLR|CLS|CLT|CLV|CLZ|COM|CP|CPC|CPI|CPSE|DEC|DES|EICALL|EIJMP|ELPM|EOR|FMUL|FMULS|FMULSU|ICALL|IJMP|IN|INC|JMP|LAC|LAS|LAT|LD|LD[A-Za-z0-9]|LPM|LSL|LSR|MOV|MOVW|MUL|MULS|MULSU|NEG|NOP|OR|ORI|OUT|POP|PUSH|RCALL|RET|RETI|RJMP|ROL|ROR|SBC|SBCI|SBI|SBIC|SBIS|SBIW|SBR|SBRC|SBRS|SEC|SEH|SEI|SEN|SER|SES|SET|SEV|SEZ|SLEEP|SPM|ST|ST[A-Z0-9]|SUB|SUBI|SWAP|TST|WDR|XCH|adc|add|adiw|and|andi|asr|bclr|bld|brbc|brbs|brcc|brcs|break|breq|brge|brhc|brhs|brid|brie|brlo|brlt|brmi|brne|brpl|brsh|brtc|brts|brvc|brvs|bset|bst|call|cbi|cbr|clc|clh|cli|cln|clr|cls|clt|clv|clz|com|cp|cpc|cpi|cpse|dec|des|eicall|eijmp|elpm|eor|fmul|fmuls|fmulsu|icall|ijmp|in|inc|jmp|lac|las|lat|ld|ld[a-z0-9]|lpm|lsl|lsr|mov|movw|mul|muls|mulsu|neg|nop|or|ori|out|pop|push|rcall|ret|reti|rjmp|rol|ror|sbc|sbci|sbi|sbic|sbis|sbiw|sbr|sbrc|sbrs|sec|seh|sei|sen|ser|ses|set|sev|sez|sleep|spm|st|st[a-zA-Z0-9]|sub|subi|swap|tst|wdr|xch)\b/,alias:"keyword"},"hex-number":{pattern:/#?\$[\da-f]{2,4}\b/i,alias:"number"},"binary-number":{pattern:/#?%[01]+\b/,alias:"number"},"decimal-number":{pattern:/#?\b\d+\b/,alias:"number"},register:{pattern:/\b[acznvshtixy]\b/i,alias:"variable"},operator:/>>=?|<<=?|&[&=]?|\|[\|=]?|[-+*/%^!=<>?]=?/,punctuation:/[(),:]/}}_1.displayName="autohotkey";_1.aliases=[];function _1(e){e.languages.autohotkey={comment:[{pattern:/(^|\s);.*/,lookbehind:!0},{pattern:/(^[\t ]*)\/\*(?:[\r\n](?![ \t]*\*\/)|[^\r\n])*(?:[\r\n][ \t]*\*\/)?/m,lookbehind:!0,greedy:!0}],tag:{pattern:/^([ \t]*)[^\s,`":]+(?=:[ \t]*$)/m,lookbehind:!0},string:/"(?:[^"\n\r]|"")*"/,variable:/%\w+%/,number:/\b0x[\dA-Fa-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:[Ee]-?\d+)?/,operator:/\?|\/\/?=?|:=|\|[=|]?|&[=&]?|\+[=+]?|-[=-]?|\*[=*]?|<(?:<=?|>|=)?|>>?=?|[.^!=~]=?|\b(?:AND|NOT|OR)\b/,boolean:/\b(?:false|true)\b/,command:{pattern:/\b(?:AutoTrim|BlockInput|Break|Click|ClipWait|Continue|Control|ControlClick|ControlFocus|ControlGet|ControlGetFocus|ControlGetPos|ControlGetText|ControlMove|ControlSend|ControlSendRaw|ControlSetText|CoordMode|Critical|DetectHiddenText|DetectHiddenWindows|Drive|DriveGet|DriveSpaceFree|EnvAdd|EnvDiv|EnvGet|EnvMult|EnvSet|EnvSub|EnvUpdate|Exit|ExitApp|FileAppend|FileCopy|FileCopyDir|FileCreateDir|FileCreateShortcut|FileDelete|FileEncoding|FileGetAttrib|FileGetShortcut|FileGetSize|FileGetTime|FileGetVersion|FileInstall|FileMove|FileMoveDir|FileRead|FileReadLine|FileRecycle|FileRecycleEmpty|FileRemoveDir|FileSelectFile|FileSelectFolder|FileSetAttrib|FileSetTime|FormatTime|GetKeyState|Gosub|Goto|GroupActivate|GroupAdd|GroupClose|GroupDeactivate|Gui|GuiControl|GuiControlGet|Hotkey|ImageSearch|IniDelete|IniRead|IniWrite|Input|InputBox|KeyWait|ListHotkeys|ListLines|ListVars|Loop|Menu|MouseClick|MouseClickDrag|MouseGetPos|MouseMove|MsgBox|OnExit|OutputDebug|Pause|PixelGetColor|PixelSearch|PostMessage|Process|Progress|Random|RegDelete|RegRead|RegWrite|Reload|Repeat|Return|Run|RunAs|RunWait|Send|SendEvent|SendInput|SendMessage|SendMode|SendPlay|SendRaw|SetBatchLines|SetCapslockState|SetControlDelay|SetDefaultMouseSpeed|SetEnv|SetFormat|SetKeyDelay|SetMouseDelay|SetNumlockState|SetRegView|SetScrollLockState|SetStoreCapslockMode|SetTimer|SetTitleMatchMode|SetWinDelay|SetWorkingDir|Shutdown|Sleep|Sort|SoundBeep|SoundGet|SoundGetWaveVolume|SoundPlay|SoundSet|SoundSetWaveVolume|SplashImage|SplashTextOff|SplashTextOn|SplitPath|StatusBarGetText|StatusBarWait|StringCaseSense|StringGetPos|StringLeft|StringLen|StringLower|StringMid|StringReplace|StringRight|StringSplit|StringTrimLeft|StringTrimRight|StringUpper|Suspend|SysGet|Thread|ToolTip|Transform|TrayTip|URLDownloadToFile|WinActivate|WinActivateBottom|WinClose|WinGet|WinGetActiveStats|WinGetActiveTitle|WinGetClass|WinGetPos|WinGetText|WinGetTitle|WinHide|WinKill|WinMaximize|WinMenuSelectItem|WinMinimize|WinMinimizeAll|WinMinimizeAllUndo|WinMove|WinRestore|WinSet|WinSetTitle|WinShow|WinWait|WinWaitActive|WinWaitClose|WinWaitNotActive)\b/i,alias:"selector"},constant:/\b(?:a_ahkpath|a_ahkversion|a_appdata|a_appdatacommon|a_autotrim|a_batchlines|a_caretx|a_carety|a_computername|a_controldelay|a_cursor|a_dd|a_ddd|a_dddd|a_defaultmousespeed|a_desktop|a_desktopcommon|a_detecthiddentext|a_detecthiddenwindows|a_endchar|a_eventinfo|a_exitreason|a_fileencoding|a_formatfloat|a_formatinteger|a_gui|a_guicontrol|a_guicontrolevent|a_guievent|a_guiheight|a_guiwidth|a_guix|a_guiy|a_hour|a_iconfile|a_iconhidden|a_iconnumber|a_icontip|a_index|a_ipaddress1|a_ipaddress2|a_ipaddress3|a_ipaddress4|a_is64bitos|a_isadmin|a_iscompiled|a_iscritical|a_ispaused|a_issuspended|a_isunicode|a_keydelay|a_language|a_lasterror|a_linefile|a_linenumber|a_loopfield|a_loopfileattrib|a_loopfiledir|a_loopfileext|a_loopfilefullpath|a_loopfilelongpath|a_loopfilename|a_loopfileshortname|a_loopfileshortpath|a_loopfilesize|a_loopfilesizekb|a_loopfilesizemb|a_loopfiletimeaccessed|a_loopfiletimecreated|a_loopfiletimemodified|a_loopreadline|a_loopregkey|a_loopregname|a_loopregsubkey|a_loopregtimemodified|a_loopregtype|a_mday|a_min|a_mm|a_mmm|a_mmmm|a_mon|a_mousedelay|a_msec|a_mydocuments|a_now|a_nowutc|a_numbatchlines|a_ostype|a_osversion|a_priorhotkey|a_priorkey|a_programfiles|a_programs|a_programscommon|a_ptrsize|a_regview|a_screendpi|a_screenheight|a_screenwidth|a_scriptdir|a_scriptfullpath|a_scripthwnd|a_scriptname|a_sec|a_space|a_startmenu|a_startmenucommon|a_startup|a_startupcommon|a_stringcasesense|a_tab|a_temp|a_thisfunc|a_thishotkey|a_thislabel|a_thismenu|a_thismenuitem|a_thismenuitempos|a_tickcount|a_timeidle|a_timeidlephysical|a_timesincepriorhotkey|a_timesincethishotkey|a_titlematchmode|a_titlematchmodespeed|a_username|a_wday|a_windelay|a_windir|a_workingdir|a_yday|a_year|a_yweek|a_yyyy|clipboard|clipboardall|comspec|errorlevel|programfiles)\b/i,builtin:/\b(?:abs|acos|asc|asin|atan|ceil|chr|class|comobjactive|comobjarray|comobjconnect|comobjcreate|comobjerror|comobjflags|comobjget|comobjquery|comobjtype|comobjvalue|cos|dllcall|exp|fileexist|Fileopen|floor|format|il_add|il_create|il_destroy|instr|isfunc|islabel|IsObject|ln|log|ltrim|lv_add|lv_delete|lv_deletecol|lv_getcount|lv_getnext|lv_gettext|lv_insert|lv_insertcol|lv_modify|lv_modifycol|lv_setimagelist|mod|numget|numput|onmessage|regexmatch|regexreplace|registercallback|round|rtrim|sb_seticon|sb_setparts|sb_settext|sin|sqrt|strlen|strreplace|strsplit|substr|tan|tv_add|tv_delete|tv_get|tv_getchild|tv_getcount|tv_getnext|tv_getparent|tv_getprev|tv_getselection|tv_gettext|tv_modify|varsetcapacity|winactive|winexist|__Call|__Get|__New|__Set)\b/i,symbol:/\b(?:alt|altdown|altup|appskey|backspace|browser_back|browser_favorites|browser_forward|browser_home|browser_refresh|browser_search|browser_stop|bs|capslock|ctrl|ctrlbreak|ctrldown|ctrlup|del|delete|down|end|enter|esc|escape|f1|f10|f11|f12|f13|f14|f15|f16|f17|f18|f19|f2|f20|f21|f22|f23|f24|f3|f4|f5|f6|f7|f8|f9|home|ins|insert|joy1|joy10|joy11|joy12|joy13|joy14|joy15|joy16|joy17|joy18|joy19|joy2|joy20|joy21|joy22|joy23|joy24|joy25|joy26|joy27|joy28|joy29|joy3|joy30|joy31|joy32|joy4|joy5|joy6|joy7|joy8|joy9|joyaxes|joybuttons|joyinfo|joyname|joypov|joyr|joyu|joyv|joyx|joyy|joyz|lalt|launch_app1|launch_app2|launch_mail|launch_media|lbutton|lcontrol|lctrl|left|lshift|lwin|lwindown|lwinup|mbutton|media_next|media_play_pause|media_prev|media_stop|numlock|numpad0|numpad1|numpad2|numpad3|numpad4|numpad5|numpad6|numpad7|numpad8|numpad9|numpadadd|numpadclear|numpaddel|numpaddiv|numpaddot|numpaddown|numpadend|numpadenter|numpadhome|numpadins|numpadleft|numpadmult|numpadpgdn|numpadpgup|numpadright|numpadsub|numpadup|pgdn|pgup|printscreen|ralt|rbutton|rcontrol|rctrl|right|rshift|rwin|rwindown|rwinup|scrolllock|shift|shiftdown|shiftup|space|tab|up|volume_down|volume_mute|volume_up|wheeldown|wheelleft|wheelright|wheelup|xbutton1|xbutton2)\b/i,directive:{pattern:/#[a-z]+\b/i,alias:"important"},keyword:/\b(?:Abort|AboveNormal|Add|ahk_class|ahk_exe|ahk_group|ahk_id|ahk_pid|All|Alnum|Alpha|AltSubmit|AltTab|AltTabAndMenu|AltTabMenu|AltTabMenuDismiss|AlwaysOnTop|AutoSize|Background|BackgroundTrans|BelowNormal|between|BitAnd|BitNot|BitOr|BitShiftLeft|BitShiftRight|BitXOr|Bold|Border|Button|ByRef|Catch|Checkbox|Checked|CheckedGray|Choose|ChooseString|Close|Color|ComboBox|Contains|ControlList|Count|Date|DateTime|Days|DDL|Default|DeleteAll|Delimiter|Deref|Destroy|Digit|Disable|Disabled|DropDownList|Edit|Eject|Else|Enable|Enabled|Error|Exist|Expand|ExStyle|FileSystem|Finally|First|Flash|Float|FloatFast|Focus|Font|for|global|Grid|Group|GroupBox|GuiClose|GuiContextMenu|GuiDropFiles|GuiEscape|GuiSize|Hdr|Hidden|Hide|High|HKCC|HKCR|HKCU|HKEY_CLASSES_ROOT|HKEY_CURRENT_CONFIG|HKEY_CURRENT_USER|HKEY_LOCAL_MACHINE|HKEY_USERS|HKLM|HKU|Hours|HScroll|Icon|IconSmall|ID|IDLast|If|IfEqual|IfExist|IfGreater|IfGreaterOrEqual|IfInString|IfLess|IfLessOrEqual|IfMsgBox|IfNotEqual|IfNotExist|IfNotInString|IfWinActive|IfWinExist|IfWinNotActive|IfWinNotExist|Ignore|ImageList|in|Integer|IntegerFast|Interrupt|is|italic|Join|Label|LastFound|LastFoundExist|Limit|Lines|List|ListBox|ListView|local|Lock|Logoff|Low|Lower|Lowercase|MainWindow|Margin|Maximize|MaximizeBox|MaxSize|Minimize|MinimizeBox|MinMax|MinSize|Minutes|MonthCal|Mouse|Move|Multi|NA|No|NoActivate|NoDefault|NoHide|NoIcon|NoMainWindow|norm|Normal|NoSort|NoSortHdr|NoStandard|Not|NoTab|NoTimers|Number|Off|Ok|On|OwnDialogs|Owner|Parse|Password|Picture|Pixel|Pos|Pow|Priority|ProcessName|Radio|Range|Read|ReadOnly|Realtime|Redraw|Region|REG_BINARY|REG_DWORD|REG_EXPAND_SZ|REG_MULTI_SZ|REG_SZ|Relative|Rename|Report|Resize|Restore|Retry|RGB|Screen|Seconds|Section|Serial|SetLabel|ShiftAltTab|Show|Single|Slider|SortDesc|Standard|static|Status|StatusBar|StatusCD|strike|Style|Submit|SysMenu|Tab2|TabStop|Text|Theme|Throw|Tile|ToggleCheck|ToggleEnable|ToolWindow|Top|Topmost|TransColor|Transparent|Tray|TreeView|Try|TryAgain|Type|UnCheck|underline|Unicode|Unlock|Until|UpDown|Upper|Uppercase|UseErrorLevel|Vis|VisFirst|Visible|VScroll|Wait|WaitClose|WantCtrlA|WantF2|WantReturn|While|Wrap|Xdigit|xm|xp|xs|Yes|ym|yp|ys)\b/i,function:/[^(); \t,\n+*\-=?>:\\\/<&%\[\]]+(?=\()/,punctuation:/[{}[\]():,]/}}T1.displayName="autoit";T1.aliases=[];function T1(e){e.languages.autoit={comment:[/;.*/,{pattern:/(^[\t ]*)#(?:comments-start|cs)[\s\S]*?^[ \t]*#(?:ce|comments-end)/m,lookbehind:!0}],url:{pattern:/(^[\t ]*#include\s+)(?:<[^\r\n>]+>|"[^\r\n"]+")/m,lookbehind:!0},string:{pattern:/(["'])(?:\1\1|(?!\1)[^\r\n])*\1/,greedy:!0,inside:{variable:/([%$@])\w+\1/}},directive:{pattern:/(^[\t ]*)#[\w-]+/m,lookbehind:!0,alias:"keyword"},function:/\b\w+(?=\()/,variable:/[$@]\w+/,keyword:/\b(?:Case|Const|Continue(?:Case|Loop)|Default|Dim|Do|Else(?:If)?|End(?:Func|If|Select|Switch|With)|Enum|Exit(?:Loop)?|For|Func|Global|If|In|Local|Next|Null|ReDim|Select|Static|Step|Switch|Then|To|Until|Volatile|WEnd|While|With)\b/i,number:/\b(?:0x[\da-f]+|\d+(?:\.\d+)?(?:e[+-]?\d+)?)\b/i,boolean:/\b(?:False|True)\b/i,operator:/<[=>]?|[-+*\/=&>]=?|[?^]|\b(?:And|Not|Or)\b/i,punctuation:/[\[\]().,:]/}}C1.displayName="avisynth";C1.aliases=["avs"];function C1(e){(function(t){function n(c,d){return c.replace(/<<(\d+)>>/g,function(p,h){return d[+h]})}function r(c,d,p){return RegExp(n(c,d),p)}var a=/bool|clip|float|int|string|val/.source,i=[/is(?:bool|clip|float|int|string)|defined|(?:(?:internal)?function|var)?exists?/.source,/apply|assert|default|eval|import|nop|select|undefined/.source,/opt_(?:allowfloataudio|avipadscanlines|dwchannelmask|enable_(?:b64a|planartopackedrgb|v210|y3_10_10|y3_10_16)|usewaveextensible|vdubplanarhack)|set(?:cachemode|maxcpu|memorymax|planarlegacyalignment|workingdir)/.source,/hex(?:value)?|value/.source,/abs|ceil|continued(?:denominator|numerator)?|exp|floor|fmod|frac|log(?:10)?|max|min|muldiv|pi|pow|rand|round|sign|spline|sqrt/.source,/a?sinh?|a?cosh?|a?tan[2h]?/.source,/(?:bit(?:and|not|x?or|[lr]?shift[aslu]?|sh[lr]|sa[lr]|[lr]rotatel?|ro[rl]|te?st|set(?:count)?|cl(?:ea)?r|ch(?:an)?ge?))/.source,/average(?:[bgr]|chroma[uv]|luma)|(?:[rgb]|chroma[uv]|luma|rgb|[yuv](?=difference(?:fromprevious|tonext)))difference(?:fromprevious|tonext)?|[yuvrgb]plane(?:median|min|max|minmaxdifference)/.source,/getprocessinfo|logmsg|script(?:dir(?:utf8)?|file(?:utf8)?|name(?:utf8)?)|setlogparams/.source,/chr|(?:fill|find|left|mid|replace|rev|right)str|format|[lu]case|ord|str(?:cmpi?|fromutf8|len|toutf8)|time|trim(?:all|left|right)/.source,/isversionorgreater|version(?:number|string)/.source,/buildpixeltype|colorspacenametopixeltype/.source,/addautoloaddir|on(?:cpu|cuda)|prefetch|setfiltermtmode/.source].join("|"),o=[/has(?:audio|video)/.source,/height|width/.source,/frame(?:count|rate)|framerate(?:denominator|numerator)/.source,/getparity|is(?:field|frame)based/.source,/bitspercomponent|componentsize|hasalpha|is(?:planar(?:rgba?)?|interleaved|rgb(?:24|32|48|64)?|y(?:8|u(?:va?|y2))?|yv(?:12|16|24|411)|420|422|444|packedrgb)|numcomponents|pixeltype/.source,/audio(?:bits|channels|duration|length(?:[fs]|hi|lo)?|rate)|isaudio(?:float|int)/.source].join("|"),l=[/avi(?:file)?source|directshowsource|image(?:reader|source|sourceanim)|opendmlsource|segmented(?:avisource|directshowsource)|wavsource/.source,/coloryuv|convertbacktoyuy2|convertto(?:RGB(?:24|32|48|64)|(?:planar)?RGBA?|Y8?|YV(?:12|16|24|411)|YUVA?(?:411|420|422|444)|YUY2)|fixluminance|gr[ae]yscale|invert|levels|limiter|mergea?rgb|merge(?:chroma|luma)|rgbadjust|show(?:alpha|blue|green|red)|swapuv|tweak|[uv]toy8?|ytouv/.source,/(?:colorkey|reset)mask|layer|mask(?:hs)?|merge|overlay|subtract/.source,/addborders|(?:bicubic|bilinear|blackman|gauss|lanczos4|lanczos|point|sinc|spline(?:16|36|64))resize|crop(?:bottom)?|flip(?:horizontal|vertical)|(?:horizontal|vertical)?reduceby2|letterbox|skewrows|turn(?:180|left|right)/.source,/blur|fixbrokenchromaupsampling|generalconvolution|(?:spatial|temporal)soften|sharpen/.source,/trim|(?:un)?alignedsplice|(?:assume|assumescaled|change|convert)FPS|(?:delete|duplicate)frame|dissolve|fade(?:in|io|out)[02]?|freezeframe|interleave|loop|reverse|select(?:even|odd|(?:range)?every)/.source,/assume[bt]ff|assume(?:field|frame)based|bob|complementparity|doubleweave|peculiarblend|pulldown|separate(?:columns|fields|rows)|swapfields|weave(?:columns|rows)?/.source,/amplify(?:db)?|assumesamplerate|audiodub(?:ex)?|audiotrim|convertaudioto(?:(?:8|16|24|32)bit|float)|converttomono|delayaudio|ensurevbrmp3sync|get(?:left|right)?channel|kill(?:audio|video)|mergechannels|mixaudio|monotostereo|normalize|resampleaudio|ssrc|supereq|timestretch/.source,/animate|applyrange|conditional(?:filter|reader|select)|frameevaluate|scriptclip|tcp(?:server|source)|writefile(?:end|if|start)?/.source,/imagewriter/.source,/blackness|blankclip|colorbars(?:hd)?|compare|dumpfiltergraph|echo|histogram|info|messageclip|preroll|setgraphanalysis|show(?:framenumber|smpte|time)|showfiveversions|stack(?:horizontal|vertical)|subtitle|tone|version/.source].join("|"),u=[i,o,l].join("|");t.languages.avisynth={comment:[{pattern:/(^|[^\\])\[\*(?:[^\[*]|\[(?!\*)|\*(?!\])|\[\*(?:[^\[*]|\[(?!\*)|\*(?!\]))*\*\])*\*\]/,lookbehind:!0,greedy:!0},{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0,greedy:!0},{pattern:/(^|[^\\$])#.*/,lookbehind:!0,greedy:!0}],argument:{pattern:r(/\b(?:<<0>>)\s+("?)\w+\1/.source,[a],"i"),inside:{keyword:/^\w+/}},"argument-label":{pattern:/([,(][\s\\]*)\w+\s*=(?!=)/,lookbehind:!0,inside:{"argument-name":{pattern:/^\w+/,alias:"punctuation"},punctuation:/=$/}},string:[{pattern:/"""[\s\S]*?"""/,greedy:!0},{pattern:/"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"/,greedy:!0,inside:{constant:{pattern:/\b(?:DEFAULT_MT_MODE|(?:MAINSCRIPT|PROGRAM|SCRIPT)DIR|(?:MACHINE|USER)_(?:CLASSIC|PLUS)_PLUGINS)\b/}}}],variable:/\b(?:last)\b/i,boolean:/\b(?:false|no|true|yes)\b/i,keyword:/\b(?:catch|else|for|function|global|if|return|try|while|__END__)\b/i,constant:/\bMT_(?:MULTI_INSTANCE|NICE_FILTER|SERIALIZED|SPECIAL_MT)\b/,"builtin-function":{pattern:r(/\b(?:<<0>>)\b/.source,[u],"i"),alias:"function"},"type-cast":{pattern:r(/\b(?:<<0>>)(?=\s*\()/.source,[a],"i"),alias:"keyword"},function:{pattern:/\b[a-z_]\w*(?=\s*\()|(\.)[a-z_]\w*\b/i,lookbehind:!0},"line-continuation":{pattern:/(^[ \t]*)\\|\\(?=[ \t]*$)/m,lookbehind:!0,alias:"punctuation"},number:/\B\$(?:[\da-f]{6}|[\da-f]{8})\b|(?:(?:\b|\B-)\d+(?:\.\d*)?\b|\B\.\d+\b)/i,operator:/\+\+?|[!=<>]=?|&&|\|\||[?:*/%-]/,punctuation:/[{}\[\]();,.]/},t.languages.avs=t.languages.avisynth})(e)}A1.displayName="avro-idl";A1.aliases=["avdl"];function A1(e){e.languages["avro-idl"]={comment:{pattern:/\/\/.*|\/\*[\s\S]*?\*\//,greedy:!0},string:{pattern:/(^|[^\\])"(?:[^\r\n"\\]|\\.)*"/,lookbehind:!0,greedy:!0},annotation:{pattern:/@(?:[$\w.-]|`[^\r\n`]+`)+/,greedy:!0,alias:"function"},"function-identifier":{pattern:/`[^\r\n`]+`(?=\s*\()/,greedy:!0,alias:"function"},identifier:{pattern:/`[^\r\n`]+`/,greedy:!0},"class-name":{pattern:/(\b(?:enum|error|protocol|record|throws)\b\s+)[$\w]+/,lookbehind:!0,greedy:!0},keyword:/\b(?:array|boolean|bytes|date|decimal|double|enum|error|false|fixed|float|idl|import|int|local_timestamp_ms|long|map|null|oneway|protocol|record|schema|string|throws|time_ms|timestamp_ms|true|union|uuid|void)\b/,function:/\b[a-z_]\w*(?=\s*\()/i,number:[{pattern:/(^|[^\w.])-?(?:(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?|0x(?:[a-f0-9]+(?:\.[a-f0-9]*)?|\.[a-f0-9]+)(?:p[+-]?\d+)?)[dfl]?(?![\w.])/i,lookbehind:!0},/-?\b(?:Infinity|NaN)\b/],operator:/=/,punctuation:/[()\[\]{}<>.:,;-]/},e.languages.avdl=e.languages["avro-idl"]}I1.displayName="awk";I1.aliases=["gawk"];function I1(e){e.languages.awk={hashbang:{pattern:/^#!.*/,greedy:!0,alias:"comment"},comment:{pattern:/#.*/,greedy:!0},string:{pattern:/(^|[^\\])"(?:[^\\"\r\n]|\\.)*"/,lookbehind:!0,greedy:!0},regex:{pattern:/((?:^|[^\w\s)])\s*)\/(?:[^\/\\\r\n]|\\.)*\//,lookbehind:!0,greedy:!0},variable:/\$\w+/,keyword:/\b(?:BEGIN|BEGINFILE|END|ENDFILE|break|case|continue|default|delete|do|else|exit|for|function|getline|if|in|next|nextfile|printf?|return|switch|while)\b|@(?:include|load)\b/,function:/\b[a-z_]\w*(?=\s*\()/i,number:/\b(?:\d+(?:\.\d+)?(?:e[+-]?\d+)?|0x[a-fA-F0-9]+)\b/,operator:/--|\+\+|!?~|>&|>>|<<|(?:\*\*|[<>!=+\-*/%^])=?|&&|\|[|&]|[?:]/,punctuation:/[()[\]{},;]/},e.languages.gawk=e.languages.awk}R1.displayName="batch";R1.aliases=[];function R1(e){(function(t){var n=/%%?[~:\w]+%?|!\S+!/,r={pattern:/\/[a-z?]+(?=[ :]|$):?|-[a-z]\b|--[a-z-]+\b/im,alias:"attr-name",inside:{punctuation:/:/}},a=/"(?:[\\"]"|[^"])*"(?!")/,i=/(?:\b|-)\d+\b/;t.languages.batch={comment:[/^::.*/m,{pattern:/((?:^|[&(])[ \t]*)rem\b(?:[^^&)\r\n]|\^(?:\r\n|[\s\S]))*/im,lookbehind:!0}],label:{pattern:/^:.*/m,alias:"property"},command:[{pattern:/((?:^|[&(])[ \t]*)for(?: \/[a-z?](?:[ :](?:"[^"]*"|[^\s"/]\S*))?)* \S+ in \([^)]+\) do/im,lookbehind:!0,inside:{keyword:/\b(?:do|in)\b|^for\b/i,string:a,parameter:r,variable:n,number:i,punctuation:/[()',]/}},{pattern:/((?:^|[&(])[ \t]*)if(?: \/[a-z?](?:[ :](?:"[^"]*"|[^\s"/]\S*))?)* (?:not )?(?:cmdextversion \d+|defined \w+|errorlevel \d+|exist \S+|(?:"[^"]*"|(?!")(?:(?!==)\S)+)?(?:==| (?:equ|geq|gtr|leq|lss|neq) )(?:"[^"]*"|[^\s"]\S*))/im,lookbehind:!0,inside:{keyword:/\b(?:cmdextversion|defined|errorlevel|exist|not)\b|^if\b/i,string:a,parameter:r,variable:n,number:i,operator:/\^|==|\b(?:equ|geq|gtr|leq|lss|neq)\b/i}},{pattern:/((?:^|[&()])[ \t]*)else\b/im,lookbehind:!0,inside:{keyword:/^else\b/i}},{pattern:/((?:^|[&(])[ \t]*)set(?: \/[a-z](?:[ :](?:"[^"]*"|[^\s"/]\S*))?)* (?:[^^&)\r\n]|\^(?:\r\n|[\s\S]))*/im,lookbehind:!0,inside:{keyword:/^set\b/i,string:a,parameter:r,variable:[n,/\w+(?=(?:[*\/%+\-&^|]|<<|>>)?=)/],number:i,operator:/[*\/%+\-&^|]=?|<<=?|>>=?|[!~_=]/,punctuation:/[()',]/}},{pattern:/((?:^|[&(])[ \t]*@?)\w+\b(?:"(?:[\\"]"|[^"])*"(?!")|[^"^&)\r\n]|\^(?:\r\n|[\s\S]))*/m,lookbehind:!0,inside:{keyword:/^\w+\b/,string:a,parameter:r,label:{pattern:/(^\s*):\S+/m,lookbehind:!0,alias:"property"},variable:n,number:i,operator:/\^/}}],operator:/[&@]/,punctuation:/[()']/}})(e)}D1.displayName="bbcode";D1.aliases=["shortcode"];function D1(e){e.languages.bbcode={tag:{pattern:/\[\/?[^\s=\]]+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'"\]=]+))?(?:\s+[^\s=\]]+\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'"\]=]+))*\s*\]/,inside:{tag:{pattern:/^\[\/?[^\s=\]]+/,inside:{punctuation:/^\[\/?/}},"attr-value":{pattern:/=\s*(?:"[^"]*"|'[^']*'|[^\s'"\]=]+)/,inside:{punctuation:[/^=/,{pattern:/^(\s*)["']|["']$/,lookbehind:!0}]}},punctuation:/\]/,"attr-name":/[^\s=\]]+/}}},e.languages.shortcode=e.languages.bbcode}O1.displayName="bbj";O1.aliases=[];function O1(e){(function(t){t.languages.bbj={comment:{pattern:/(^|[^\\:])rem\s+.*/i,lookbehind:!0,greedy:!0},string:{pattern:/(['"])(?:(?!\1|\\).|\\.)*\1/,greedy:!0},number:/(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:E[+-]?\d+)?/i,keyword:/\b(?:abstract|all|argc|begin|bye|callback|case|chn|class|classend|ctl|day|declare|delete|dim|dom|dread|dsz|else|end|endif|err|exitto|extends|fi|field|for|from|gosub|goto|if|implements|interface|interfaceend|iol|iolist|let|list|load|method|methodend|methodret|on|opts|pfx|print|private|process_events|protected|psz|public|read|read_resource|release|remove_callback|repeat|restore|return|rev|seterr|setesc|sqlchn|sqlunt|ssn|start|static|swend|switch|sys|then|tim|unt|until|use|void|wend|where|while)\b/i,function:/\b\w+(?=\()/,boolean:/\b(?:BBjAPI\.TRUE|BBjAPI\.FALSE)\b/i,operator:/<[=>]?|>=?|[+\-*\/^=&]|\b(?:and|not|or|xor)\b/i,punctuation:/[.,;:()]/}})(e)}L1.displayName="bicep";L1.aliases=[];function L1(e){e.languages.bicep={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],property:[{pattern:/([\r\n][ \t]*)[a-z_]\w*(?=[ \t]*:)/i,lookbehind:!0},{pattern:/([\r\n][ \t]*)'(?:\\.|\$(?!\{)|[^'\\\r\n$])*'(?=[ \t]*:)/,lookbehind:!0,greedy:!0}],string:[{pattern:/'''[^'][\s\S]*?'''/,greedy:!0},{pattern:/(^|[^\\'])'(?:\\.|\$(?!\{)|[^'\\\r\n$])*'/,lookbehind:!0,greedy:!0}],"interpolated-string":{pattern:/(^|[^\\'])'(?:\\.|\$(?:(?!\{)|\{[^{}\r\n]*\})|[^'\\\r\n$])*'/,lookbehind:!0,greedy:!0,inside:{interpolation:{pattern:/\$\{[^{}\r\n]*\}/,inside:{expression:{pattern:/(^\$\{)[\s\S]+(?=\}$)/,lookbehind:!0},punctuation:/^\$\{|\}$/}},string:/[\s\S]+/}},datatype:{pattern:/(\b(?:output|param)\b[ \t]+\w+[ \t]+)\w+\b/,lookbehind:!0,alias:"class-name"},boolean:/\b(?:false|true)\b/,keyword:/\b(?:existing|for|if|in|module|null|output|param|resource|targetScope|var)\b/,decorator:/@\w+\b/,function:/\b[a-z_]\w*(?=[ \t]*\()/i,number:/(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:E[+-]?\d+)?/i,operator:/--|\+\+|\*\*=?|=>|&&=?|\|\|=?|[!=]==|<<=?|>>>?=?|[-+*/%&|^!=<>]=?|\.{3}|\?\?=?|\?\.?|[~:]/,punctuation:/[{}[\];(),.:]/},e.languages.bicep["interpolated-string"].inside.interpolation.inside.expression.inside=e.languages.bicep}j1.displayName="birb";j1.aliases=[];function j1(e){e.register(at),e.languages.birb=e.languages.extend("clike",{string:{pattern:/r?("|')(?:\\.|(?!\1)[^\\])*\1/,greedy:!0},"class-name":[/\b[A-Z](?:[\d_]*[a-zA-Z]\w*)?\b/,/\b(?:[A-Z]\w*|(?!(?:var|void)\b)[a-z]\w*)(?=\s+\w+\s*[;,=()])/],keyword:/\b(?:assert|break|case|class|const|default|else|enum|final|follows|for|grab|if|nest|new|next|noSeeb|return|static|switch|throw|var|void|while)\b/,operator:/\+\+|--|&&|\|\||<<=?|>>=?|~(?:\/=?)?|[+\-*\/%&^|=!<>]=?|\?|:/,variable:/\b[a-z_]\w*\b/}),e.languages.insertBefore("birb","function",{metadata:{pattern:/<\w+>/,greedy:!0,alias:"symbol"}})}M1.displayName="bison";M1.aliases=[];function M1(e){e.register(pa),e.languages.bison=e.languages.extend("c",{}),e.languages.insertBefore("bison","comment",{bison:{pattern:/^(?:[^%]|%(?!%))*%%[\s\S]*?%%/,inside:{c:{pattern:/%\{[\s\S]*?%\}|\{(?:\{[^}]*\}|[^{}])*\}/,inside:{delimiter:{pattern:/^%?\{|%?\}$/,alias:"punctuation"},"bison-variable":{pattern:/[$@](?:<[^\s>]+>)?[\w$]+/,alias:"variable",inside:{punctuation:/<|>/}},rest:e.languages.c}},comment:e.languages.c.comment,string:e.languages.c.string,property:/\S+(?=:)/,keyword:/%\w+/,number:{pattern:/(^|[^@])\b(?:0x[\da-f]+|\d+)/i,lookbehind:!0},punctuation:/%[%?]|[|:;\[\]<>]/}}})}F1.displayName="bnf";F1.aliases=["rbnf"];function F1(e){e.languages.bnf={string:{pattern:/"[^\r\n"]*"|'[^\r\n']*'/},definition:{pattern:/<[^<>\r\n\t]+>(?=\s*::=)/,alias:["rule","keyword"],inside:{punctuation:/^<|>$/}},rule:{pattern:/<[^<>\r\n\t]+>/,inside:{punctuation:/^<|>$/}},operator:/::=|[|()[\]{}*+?]|\.{3}/},e.languages.rbnf=e.languages.bnf}P1.displayName="bqn";P1.aliases=[];function P1(e){e.languages.bqn={shebang:{pattern:/^#![ \t]*\/.*/,alias:"important",greedy:!0},comment:{pattern:/#.*/,greedy:!0},"string-literal":{pattern:/"(?:[^"]|"")*"/,greedy:!0,alias:"string"},"character-literal":{pattern:/'(?:[\s\S]|[\uD800-\uDBFF][\uDC00-\uDFFF])'/,greedy:!0,alias:"char"},function:/[\w.]+[\w.]*/,"dot-notation-on-brackets":{pattern:/\{(?=.*\}\.)|\}\./,alias:"namespace"},"special-name":{pattern:/(?:|||||||||||__|_)/,alias:"keyword"},"dot-notation-on-name":{pattern:/[A-Za-z_][\w]*\./,alias:"namespace"},"word-number-scientific":{pattern:/\d+(?:\.\d+)?[eE]?\d+/,alias:"number"},"word-name":{pattern:/[A-Za-z_][\w]*/,alias:"symbol"},"word-number":{pattern:/[]?(?:\d*\.?\b\d+(?:e[+]?\d+|E[+]?\d+)?|||)(?:j?(?:(?:\d+(?:\.\d+)?|\.\d+)(?:e[+]?\d+|E[+]?\d+)?|||))?/,alias:"number"},"null-literal":{pattern:/@/,alias:"char"},"primitive-functions":{pattern:/[-+|<>=/!]/,alias:"operator"},"primitive-1-operators":{pattern:/[`]/,alias:"operator"},"primitive-2-operators":{pattern:/[]/,alias:"operator"},punctuation:/[(){}[\],.;:?]/}}B1.displayName="brainfuck";B1.aliases=[];function B1(e){e.languages.brainfuck={pointer:{pattern:/<|>/,alias:"keyword"},increment:{pattern:/\+/,alias:"inserted"},decrement:{pattern:/-/,alias:"deleted"},branching:{pattern:/\[|\]/,alias:"important"},operator:/[.,]/,comment:/\S+/}}U1.displayName="brightscript";U1.aliases=[];function U1(e){e.languages.brightscript={comment:/(?:\brem|').*/i,"directive-statement":{pattern:/(^[\t ]*)#(?:const|else(?:[\t ]+if)?|end[\t ]+if|error|if).*/im,lookbehind:!0,alias:"property",inside:{"error-message":{pattern:/(^#error).+/,lookbehind:!0},directive:{pattern:/^#(?:const|else(?:[\t ]+if)?|end[\t ]+if|error|if)/,alias:"keyword"},expression:{pattern:/[\s\S]+/,inside:null}}},property:{pattern:/([\r\n{,][\t ]*)(?:(?!\d)\w+|"(?:[^"\r\n]|"")*"(?!"))(?=[ \t]*:)/,lookbehind:!0,greedy:!0},string:{pattern:/"(?:[^"\r\n]|"")*"(?!")/,greedy:!0},"class-name":{pattern:/(\bAs[\t ]+)\w+/i,lookbehind:!0},keyword:/\b(?:As|Dim|Each|Else|Elseif|End|Exit|For|Function|Goto|If|In|Print|Return|Step|Stop|Sub|Then|To|While)\b/i,boolean:/\b(?:false|true)\b/i,function:/\b(?!\d)\w+(?=[\t ]*\()/,number:/(?:\b\d+(?:\.\d+)?(?:[ed][+-]\d+)?|&h[a-f\d]+)\b[%&!#]?/i,operator:/--|\+\+|>>=?|<<=?|<>|[-+*/\\<>]=?|[:^=?]|\b(?:and|mod|not|or)\b/i,punctuation:/[.,;()[\]{}]/,constant:/\b(?:LINE_NUM)\b/i},e.languages.brightscript["directive-statement"].inside.expression.inside=e.languages.brightscript}$1.displayName="bro";$1.aliases=[];function $1(e){e.languages.bro={comment:{pattern:/(^|[^\\$])#.*/,lookbehind:!0,inside:{italic:/\b(?:FIXME|TODO|XXX)\b/}},string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},boolean:/\b[TF]\b/,function:{pattern:/(\b(?:event|function|hook)[ \t]+)\w+(?:::\w+)?/,lookbehind:!0},builtin:/(?:@(?:load(?:-(?:plugin|sigs))?|unload|prefixes|ifn?def|else|(?:end)?if|DIR|FILENAME))|(?:&?(?:add_func|create_expire|default|delete_func|encrypt|error_handler|expire_func|group|log|mergeable|optional|persistent|priority|raw_output|read_expire|redef|rotate_interval|rotate_size|synchronized|type_column|write_expire))/,constant:{pattern:/(\bconst[ \t]+)\w+/i,lookbehind:!0},keyword:/\b(?:add|addr|alarm|any|bool|break|const|continue|count|delete|double|else|enum|event|export|file|for|function|global|hook|if|in|int|interval|local|module|next|of|opaque|pattern|port|print|record|return|schedule|set|string|subnet|table|time|timeout|using|vector|when)\b/,operator:/--?|\+\+?|!=?=?|<=?|>=?|==?=?|&&|\|\|?|\?|\*|\/|~|\^|%/,number:/\b0x[\da-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?/i,punctuation:/[{}[\];(),.:]/}}H1.displayName="bsl";H1.aliases=["oscript"];function H1(e){e.languages.bsl={comment:/\/\/.*/,string:[{pattern:/"(?:[^"]|"")*"(?!")/,greedy:!0},{pattern:/'(?:[^'\r\n\\]|\\.)*'/}],keyword:[{pattern:/(^|[^\w\u0400-\u0484\u0487-\u052f\u1d2b\u1d78\u2de0-\u2dff\ua640-\ua69f\ufe2e\ufe2f])(?:|||||||||||||||||||||||||||||)(?![\w\u0400-\u0484\u0487-\u052f\u1d2b\u1d78\u2de0-\u2dff\ua640-\ua69f\ufe2e\ufe2f])/i,lookbehind:!0},{pattern:/\b(?:break|do|each|else|elseif|enddo|endfunction|endif|endprocedure|endtry|except|execute|export|false|for|function|if|in|new|null|procedure|raise|return|then|to|true|try|undefined|val|var|while)\b/i}],number:{pattern:/(^(?=\d)|[^\w\u0400-\u0484\u0487-\u052f\u1d2b\u1d78\u2de0-\u2dff\ua640-\ua69f\ufe2e\ufe2f])(?:\d+(?:\.\d*)?|\.\d+)(?:E[+-]?\d+)?/i,lookbehind:!0},operator:[/[<>+\-*/]=?|[%=]/,{pattern:/(^|[^\w\u0400-\u0484\u0487-\u052f\u1d2b\u1d78\u2de0-\u2dff\ua640-\ua69f\ufe2e\ufe2f])(?:||)(?![\w\u0400-\u0484\u0487-\u052f\u1d2b\u1d78\u2de0-\u2dff\ua640-\ua69f\ufe2e\ufe2f])/i,lookbehind:!0},{pattern:/\b(?:and|not|or)\b/i}],punctuation:/\(\.|\.\)|[()\[\]:;,.]/,directive:[{pattern:/^([ \t]*)&.*/m,lookbehind:!0,greedy:!0,alias:"important"},{pattern:/^([ \t]*)#.*/gm,lookbehind:!0,greedy:!0,alias:"important"}]},e.languages.oscript=e.languages.bsl}z1.displayName="cfscript";z1.aliases=["cfc"];function z1(e){e.register(at),e.languages.cfscript=e.languages.extend("clike",{comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0,inside:{annotation:{pattern:/(?:^|[^.])@[\w\.]+/,alias:"punctuation"}}},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],keyword:/\b(?:abstract|break|catch|component|continue|default|do|else|extends|final|finally|for|function|if|in|include|package|private|property|public|remote|required|rethrow|return|static|switch|throw|try|var|while|xml)\b(?!\s*=)/,operator:[/\+\+|--|&&|\|\||::|=>|[!=]==|[-+*/%&|^!=<>]=?|\?(?:\.|:)?|:/,/\b(?:and|contains|eq|equal|eqv|gt|gte|imp|is|lt|lte|mod|not|or|xor)\b/],scope:{pattern:/\b(?:application|arguments|cgi|client|cookie|local|session|super|this|variables)\b/,alias:"global"},type:{pattern:/\b(?:any|array|binary|boolean|date|guid|numeric|query|string|struct|uuid|void|xml)\b/,alias:"builtin"}}),e.languages.insertBefore("cfscript","keyword",{"function-variable":{pattern:/[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*[=:]\s*(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)\s*=>))/,alias:"function"}}),delete e.languages.cfscript["class-name"],e.languages.cfc=e.languages.cfscript}G1.displayName="chaiscript";G1.aliases=[];function G1(e){e.register(at),e.register(vo),e.languages.chaiscript=e.languages.extend("clike",{string:{pattern:/(^|[^\\])'(?:[^'\\]|\\[\s\S])*'/,lookbehind:!0,greedy:!0},"class-name":[{pattern:/(\bclass\s+)\w+/,lookbehind:!0},{pattern:/(\b(?:attr|def)\s+)\w+(?=\s*::)/,lookbehind:!0}],keyword:/\b(?:attr|auto|break|case|catch|class|continue|def|default|else|finally|for|fun|global|if|return|switch|this|try|var|while)\b/,number:[e.languages.cpp.number,/\b(?:Infinity|NaN)\b/],operator:/>>=?|<<=?|\|\||&&|:[:=]?|--|\+\+|[=!<>+\-*/%|&^]=?|[?~]|`[^`\r\n]{1,4}`/}),e.languages.insertBefore("chaiscript","operator",{"parameter-type":{pattern:/([,(]\s*)\w+(?=\s+\w)/,lookbehind:!0,alias:"class-name"}}),e.languages.insertBefore("chaiscript","string",{"string-interpolation":{pattern:/(^|[^\\])"(?:[^"$\\]|\\[\s\S]|\$(?!\{)|\$\{(?:[^{}]|\{(?:[^{}]|\{[^{}]*\})*\})*\})*"/,lookbehind:!0,greedy:!0,inside:{interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$\{(?:[^{}]|\{(?:[^{}]|\{[^{}]*\})*\})*\}/,lookbehind:!0,inside:{"interpolation-expression":{pattern:/(^\$\{)[\s\S]+(?=\}$)/,lookbehind:!0,inside:e.languages.chaiscript},"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"punctuation"}}},string:/[\s\S]+/}}})}q1.displayName="cil";q1.aliases=[];function q1(e){e.languages.cil={comment:/\/\/.*/,string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},directive:{pattern:/(^|\W)\.[a-z]+(?=\s)/,lookbehind:!0,alias:"class-name"},variable:/\[[\w\.]+\]/,keyword:/\b(?:abstract|ansi|assembly|auto|autochar|beforefieldinit|bool|bstr|byvalstr|catch|char|cil|class|currency|date|decimal|default|enum|error|explicit|extends|extern|famandassem|family|famorassem|final(?:ly)?|float32|float64|hidebysig|u?int(?:8|16|32|64)?|iant|idispatch|implements|import|initonly|instance|interface|iunknown|literal|lpstr|lpstruct|lptstr|lpwstr|managed|method|native(?:Type)?|nested|newslot|object(?:ref)?|pinvokeimpl|private|privatescope|public|reqsecobj|rtspecialname|runtime|sealed|sequential|serializable|specialname|static|string|struct|syschar|tbstr|unicode|unmanagedexp|unsigned|value(?:type)?|variant|virtual|void)\b/,function:/\b(?:(?:constrained|no|readonly|tail|unaligned|volatile)\.)?(?:conv\.(?:[iu][1248]?|ovf\.[iu][1248]?(?:\.un)?|r\.un|r4|r8)|ldc\.(?:i4(?:\.\d+|\.[mM]1|\.s)?|i8|r4|r8)|ldelem(?:\.[iu][1248]?|\.r[48]|\.ref|a)?|ldind\.(?:[iu][1248]?|r[48]|ref)|stelem\.?(?:i[1248]?|r[48]|ref)?|stind\.(?:i[1248]?|r[48]|ref)?|end(?:fault|filter|finally)|ldarg(?:\.[0-3s]|a(?:\.s)?)?|ldloc(?:\.\d+|\.s)?|sub(?:\.ovf(?:\.un)?)?|mul(?:\.ovf(?:\.un)?)?|add(?:\.ovf(?:\.un)?)?|stloc(?:\.[0-3s])?|refany(?:type|val)|blt(?:\.un)?(?:\.s)?|ble(?:\.un)?(?:\.s)?|bgt(?:\.un)?(?:\.s)?|bge(?:\.un)?(?:\.s)?|unbox(?:\.any)?|init(?:blk|obj)|call(?:i|virt)?|brfalse(?:\.s)?|bne\.un(?:\.s)?|ldloca(?:\.s)?|brzero(?:\.s)?|brtrue(?:\.s)?|brnull(?:\.s)?|brinst(?:\.s)?|starg(?:\.s)?|leave(?:\.s)?|shr(?:\.un)?|rem(?:\.un)?|div(?:\.un)?|clt(?:\.un)?|alignment|castclass|ldvirtftn|beq(?:\.s)?|ckfinite|ldsflda|ldtoken|localloc|mkrefany|rethrow|cgt\.un|arglist|switch|stsfld|sizeof|newobj|newarr|ldsfld|ldnull|ldflda|isinst|throw|stobj|stfld|ldstr|ldobj|ldlen|ldftn|ldfld|cpobj|cpblk|break|br\.s|xor|shl|ret|pop|not|nop|neg|jmp|dup|cgt|ceq|box|and|or|br)\b/,boolean:/\b(?:false|true)\b/,number:/\b-?(?:0x[0-9a-f]+|\d+)(?:\.[0-9a-f]+)?\b/i,punctuation:/[{}[\];(),:=]|IL_[0-9A-Za-z]+/}}V1.displayName="cilkc";V1.aliases=["cilk-c"];function V1(e){e.register(pa),e.languages.cilkc=e.languages.insertBefore("c","function",{"parallel-keyword":{pattern:/\bcilk_(?:for|reducer|s(?:cope|pawn|ync))\b/,alias:"keyword"}}),e.languages["cilk-c"]=e.languages.cilkc}W1.displayName="cilkcpp";W1.aliases=["cilk","cilk-cpp"];function W1(e){e.register(vo),e.languages.cilkcpp=e.languages.insertBefore("cpp","function",{"parallel-keyword":{pattern:/\bcilk_(?:for|reducer|s(?:cope|pawn|ync))\b/,alias:"keyword"}}),e.languages["cilk-cpp"]=e.languages.cilkcpp,e.languages.cilk=e.languages.cilkcpp}Y1.displayName="clojure";Y1.aliases=[];function Y1(e){e.languages.clojure={comment:{pattern:/;.*/,greedy:!0},string:{pattern:/"(?:[^"\\]|\\.)*"/,greedy:!0},char:/\\\w+/,symbol:{pattern:/(^|[\s()\[\]{},])::?[\w*+!?'<>=/.-]+/,lookbehind:!0},keyword:{pattern:/(\()(?:-|->|->>|\.|\.\.|\*|\/|\+|<|<=|=|==|>|>=|accessor|agent|agent-errors|aget|alength|all-ns|alter|and|append-child|apply|array-map|aset|aset-boolean|aset-byte|aset-char|aset-double|aset-float|aset-int|aset-long|aset-short|assert|assoc|await|await-for|bean|binding|bit-and|bit-not|bit-or|bit-shift-left|bit-shift-right|bit-xor|boolean|branch\?|butlast|byte|cast|char|children|class|clear-agent-errors|comment|commute|comp|comparator|complement|concat|cond|conj|cons|constantly|construct-proxy|contains\?|count|create-ns|create-struct|cycle|dec|declare|def|def-|definline|definterface|defmacro|defmethod|defmulti|defn|defn-|defonce|defproject|defprotocol|defrecord|defstruct|deftype|deref|difference|disj|dissoc|distinct|do|doall|doc|dorun|doseq|dosync|dotimes|doto|double|down|drop|drop-while|edit|end\?|ensure|eval|every\?|false\?|ffirst|file-seq|filter|find|find-doc|find-ns|find-var|first|float|flush|fn|fnseq|for|frest|gensym|get|get-proxy-class|hash-map|hash-set|identical\?|identity|if|if-let|if-not|import|in-ns|inc|index|insert-child|insert-left|insert-right|inspect-table|inspect-tree|instance\?|int|interleave|intersection|into|into-array|iterate|join|key|keys|keyword|keyword\?|last|lazy-cat|lazy-cons|left|lefts|let|line-seq|list|list\*|load|load-file|locking|long|loop|macroexpand|macroexpand-1|make-array|make-node|map|map-invert|map\?|mapcat|max|max-key|memfn|merge|merge-with|meta|min|min-key|monitor-enter|name|namespace|neg\?|new|newline|next|nil\?|node|not|not-any\?|not-every\?|not=|ns|ns-imports|ns-interns|ns-map|ns-name|ns-publics|ns-refers|ns-resolve|ns-unmap|nth|nthrest|or|parse|partial|path|peek|pop|pos\?|pr|pr-str|print|print-str|println|println-str|prn|prn-str|project|proxy|proxy-mappings|quot|quote|rand|rand-int|range|re-find|re-groups|re-matcher|re-matches|re-pattern|re-seq|read|read-line|recur|reduce|ref|ref-set|refer|rem|remove|remove-method|remove-ns|rename|rename-keys|repeat|replace|replicate|resolve|rest|resultset-seq|reverse|rfirst|right|rights|root|rrest|rseq|second|select|select-keys|send|send-off|seq|seq-zip|seq\?|set|set!|short|slurp|some|sort|sort-by|sorted-map|sorted-map-by|sorted-set|special-symbol\?|split-at|split-with|str|string\?|struct|struct-map|subs|subvec|symbol|symbol\?|sync|take|take-nth|take-while|test|throw|time|to-array|to-array-2d|tree-seq|true\?|try|union|up|update-proxy|val|vals|var|var-get|var-set|var\?|vector|vector-zip|vector\?|when|when-first|when-let|when-not|with-local-vars|with-meta|with-open|with-out-str|xml-seq|xml-zip|zero\?|zipmap|zipper)(?=[\s)]|$)/,lookbehind:!0},boolean:/\b(?:false|nil|true)\b/,number:{pattern:/(^|[^\w$@])(?:\d+(?:[/.]\d+)?(?:e[+-]?\d+)?|0x[a-f0-9]+|[1-9]\d?r[a-z0-9]+)[lmn]?(?![\w$@])/i,lookbehind:!0},function:{pattern:/((?:^|[^'])\()[\w*+!?'<>=/.-]+(?=[\s)]|$)/,lookbehind:!0},operator:/[#@^`~]/,punctuation:/[{}\[\](),]/}}K1.displayName="cmake";K1.aliases=[];function K1(e){e.languages.cmake={comment:/#.*/,string:{pattern:/"(?:[^\\"]|\\.)*"/,greedy:!0,inside:{interpolation:{pattern:/\$\{(?:[^{}$]|\$\{[^{}$]*\})*\}/,inside:{punctuation:/\$\{|\}/,variable:/\w+/}}}},variable:/\b(?:CMAKE_\w+|\w+_(?:(?:BINARY|SOURCE)_DIR|DESCRIPTION|HOMEPAGE_URL|ROOT|VERSION(?:_MAJOR|_MINOR|_PATCH|_TWEAK)?)|(?:ANDROID|APPLE|BORLAND|BUILD_SHARED_LIBS|CACHE|CPACK_(?:ABSOLUTE_DESTINATION_FILES|COMPONENT_INCLUDE_TOPLEVEL_DIRECTORY|ERROR_ON_ABSOLUTE_INSTALL_DESTINATION|INCLUDE_TOPLEVEL_DIRECTORY|INSTALL_DEFAULT_DIRECTORY_PERMISSIONS|INSTALL_SCRIPT|PACKAGING_INSTALL_PREFIX|SET_DESTDIR|WARN_ON_ABSOLUTE_INSTALL_DESTINATION)|CTEST_(?:BINARY_DIRECTORY|BUILD_COMMAND|BUILD_NAME|BZR_COMMAND|BZR_UPDATE_OPTIONS|CHANGE_ID|CHECKOUT_COMMAND|CONFIGURATION_TYPE|CONFIGURE_COMMAND|COVERAGE_COMMAND|COVERAGE_EXTRA_FLAGS|CURL_OPTIONS|CUSTOM_(?:COVERAGE_EXCLUDE|ERROR_EXCEPTION|ERROR_MATCH|ERROR_POST_CONTEXT|ERROR_PRE_CONTEXT|MAXIMUM_FAILED_TEST_OUTPUT_SIZE|MAXIMUM_NUMBER_OF_(?:ERRORS|WARNINGS)|MAXIMUM_PASSED_TEST_OUTPUT_SIZE|MEMCHECK_IGNORE|POST_MEMCHECK|POST_TEST|PRE_MEMCHECK|PRE_TEST|TESTS_IGNORE|WARNING_EXCEPTION|WARNING_MATCH)|CVS_CHECKOUT|CVS_COMMAND|CVS_UPDATE_OPTIONS|DROP_LOCATION|DROP_METHOD|DROP_SITE|DROP_SITE_CDASH|DROP_SITE_PASSWORD|DROP_SITE_USER|EXTRA_COVERAGE_GLOB|GIT_COMMAND|GIT_INIT_SUBMODULES|GIT_UPDATE_CUSTOM|GIT_UPDATE_OPTIONS|HG_COMMAND|HG_UPDATE_OPTIONS|LABELS_FOR_SUBPROJECTS|MEMORYCHECK_(?:COMMAND|COMMAND_OPTIONS|SANITIZER_OPTIONS|SUPPRESSIONS_FILE|TYPE)|NIGHTLY_START_TIME|P4_CLIENT|P4_COMMAND|P4_OPTIONS|P4_UPDATE_OPTIONS|RUN_CURRENT_SCRIPT|SCP_COMMAND|SITE|SOURCE_DIRECTORY|SUBMIT_URL|SVN_COMMAND|SVN_OPTIONS|SVN_UPDATE_OPTIONS|TEST_LOAD|TEST_TIMEOUT|TRIGGER_SITE|UPDATE_COMMAND|UPDATE_OPTIONS|UPDATE_VERSION_ONLY|USE_LAUNCHERS)|CYGWIN|ENV|EXECUTABLE_OUTPUT_PATH|GHS-MULTI|IOS|LIBRARY_OUTPUT_PATH|MINGW|MSVC(?:10|11|12|14|60|70|71|80|90|_IDE|_TOOLSET_VERSION|_VERSION)?|MSYS|PROJECT_NAME|UNIX|WIN32|WINCE|WINDOWS_PHONE|WINDOWS_STORE|XCODE))\b/,property:/\b(?:cxx_\w+|(?:ARCHIVE_OUTPUT_(?:DIRECTORY|NAME)|COMPILE_DEFINITIONS|COMPILE_PDB_NAME|COMPILE_PDB_OUTPUT_DIRECTORY|EXCLUDE_FROM_DEFAULT_BUILD|IMPORTED_(?:IMPLIB|LIBNAME|LINK_DEPENDENT_LIBRARIES|LINK_INTERFACE_LANGUAGES|LINK_INTERFACE_LIBRARIES|LINK_INTERFACE_MULTIPLICITY|LOCATION|NO_SONAME|OBJECTS|SONAME)|INTERPROCEDURAL_OPTIMIZATION|LIBRARY_OUTPUT_DIRECTORY|LIBRARY_OUTPUT_NAME|LINK_FLAGS|LINK_INTERFACE_LIBRARIES|LINK_INTERFACE_MULTIPLICITY|LOCATION|MAP_IMPORTED_CONFIG|OSX_ARCHITECTURES|OUTPUT_NAME|PDB_NAME|PDB_OUTPUT_DIRECTORY|RUNTIME_OUTPUT_DIRECTORY|RUNTIME_OUTPUT_NAME|STATIC_LIBRARY_FLAGS|VS_CSHARP|VS_DOTNET_REFERENCEPROP|VS_DOTNET_REFERENCE|VS_GLOBAL_SECTION_POST|VS_GLOBAL_SECTION_PRE|VS_GLOBAL|XCODE_ATTRIBUTE)_\w+|\w+_(?:CLANG_TIDY|COMPILER_LAUNCHER|CPPCHECK|CPPLINT|INCLUDE_WHAT_YOU_USE|OUTPUT_NAME|POSTFIX|VISIBILITY_PRESET)|ABSTRACT|ADDITIONAL_MAKE_CLEAN_FILES|ADVANCED|ALIASED_TARGET|ALLOW_DUPLICATE_CUSTOM_TARGETS|ANDROID_(?:ANT_ADDITIONAL_OPTIONS|API|API_MIN|ARCH|ASSETS_DIRECTORIES|GUI|JAR_DEPENDENCIES|NATIVE_LIB_DEPENDENCIES|NATIVE_LIB_DIRECTORIES|PROCESS_MAX|PROGUARD|PROGUARD_CONFIG_PATH|SECURE_PROPS_PATH|SKIP_ANT_STEP|STL_TYPE)|ARCHIVE_OUTPUT_DIRECTORY|ATTACHED_FILES|ATTACHED_FILES_ON_FAIL|AUTOGEN_(?:BUILD_DIR|ORIGIN_DEPENDS|PARALLEL|SOURCE_GROUP|TARGETS_FOLDER|TARGET_DEPENDS)|AUTOMOC|AUTOMOC_(?:COMPILER_PREDEFINES|DEPEND_FILTERS|EXECUTABLE|MACRO_NAMES|MOC_OPTIONS|SOURCE_GROUP|TARGETS_FOLDER)|AUTORCC|AUTORCC_EXECUTABLE|AUTORCC_OPTIONS|AUTORCC_SOURCE_GROUP|AUTOUIC|AUTOUIC_EXECUTABLE|AUTOUIC_OPTIONS|AUTOUIC_SEARCH_PATHS|BINARY_DIR|BUILDSYSTEM_TARGETS|BUILD_RPATH|BUILD_RPATH_USE_ORIGIN|BUILD_WITH_INSTALL_NAME_DIR|BUILD_WITH_INSTALL_RPATH|BUNDLE|BUNDLE_EXTENSION|CACHE_VARIABLES|CLEAN_NO_CUSTOM|COMMON_LANGUAGE_RUNTIME|COMPATIBLE_INTERFACE_(?:BOOL|NUMBER_MAX|NUMBER_MIN|STRING)|COMPILE_(?:DEFINITIONS|FEATURES|FLAGS|OPTIONS|PDB_NAME|PDB_OUTPUT_DIRECTORY)|COST|CPACK_DESKTOP_SHORTCUTS|CPACK_NEVER_OVERWRITE|CPACK_PERMANENT|CPACK_STARTUP_SHORTCUTS|CPACK_START_MENU_SHORTCUTS|CPACK_WIX_ACL|CROSSCOMPILING_EMULATOR|CUDA_EXTENSIONS|CUDA_PTX_COMPILATION|CUDA_RESOLVE_DEVICE_SYMBOLS|CUDA_SEPARABLE_COMPILATION|CUDA_STANDARD|CUDA_STANDARD_REQUIRED|CXX_EXTENSIONS|CXX_STANDARD|CXX_STANDARD_REQUIRED|C_EXTENSIONS|C_STANDARD|C_STANDARD_REQUIRED|DEBUG_CONFIGURATIONS|DEFINE_SYMBOL|DEFINITIONS|DEPENDS|DEPLOYMENT_ADDITIONAL_FILES|DEPLOYMENT_REMOTE_DIRECTORY|DISABLED|DISABLED_FEATURES|ECLIPSE_EXTRA_CPROJECT_CONTENTS|ECLIPSE_EXTRA_NATURES|ENABLED_FEATURES|ENABLED_LANGUAGES|ENABLE_EXPORTS|ENVIRONMENT|EXCLUDE_FROM_ALL|EXCLUDE_FROM_DEFAULT_BUILD|EXPORT_NAME|EXPORT_PROPERTIES|EXTERNAL_OBJECT|EchoString|FAIL_REGULAR_EXPRESSION|FIND_LIBRARY_USE_LIB32_PATHS|FIND_LIBRARY_USE_LIB64_PATHS|FIND_LIBRARY_USE_LIBX32_PATHS|FIND_LIBRARY_USE_OPENBSD_VERSIONING|FIXTURES_CLEANUP|FIXTURES_REQUIRED|FIXTURES_SETUP|FOLDER|FRAMEWORK|Fortran_FORMAT|Fortran_MODULE_DIRECTORY|GENERATED|GENERATOR_FILE_NAME|GENERATOR_IS_MULTI_CONFIG|GHS_INTEGRITY_APP|GHS_NO_SOURCE_GROUP_FILE|GLOBAL_DEPENDS_DEBUG_MODE|GLOBAL_DEPENDS_NO_CYCLES|GNUtoMS|HAS_CXX|HEADER_FILE_ONLY|HELPSTRING|IMPLICIT_DEPENDS_INCLUDE_TRANSFORM|IMPORTED|IMPORTED_(?:COMMON_LANGUAGE_RUNTIME|CONFIGURATIONS|GLOBAL|IMPLIB|LIBNAME|LINK_DEPENDENT_LIBRARIES|LINK_INTERFACE_(?:LANGUAGES|LIBRARIES|MULTIPLICITY)|LOCATION|NO_SONAME|OBJECTS|SONAME)|IMPORT_PREFIX|IMPORT_SUFFIX|INCLUDE_DIRECTORIES|INCLUDE_REGULAR_EXPRESSION|INSTALL_NAME_DIR|INSTALL_RPATH|INSTALL_RPATH_USE_LINK_PATH|INTERFACE_(?:AUTOUIC_OPTIONS|COMPILE_DEFINITIONS|COMPILE_FEATURES|COMPILE_OPTIONS|INCLUDE_DIRECTORIES|LINK_DEPENDS|LINK_DIRECTORIES|LINK_LIBRARIES|LINK_OPTIONS|POSITION_INDEPENDENT_CODE|SOURCES|SYSTEM_INCLUDE_DIRECTORIES)|INTERPROCEDURAL_OPTIMIZATION|IN_TRY_COMPILE|IOS_INSTALL_COMBINED|JOB_POOLS|JOB_POOL_COMPILE|JOB_POOL_LINK|KEEP_EXTENSION|LABELS|LANGUAGE|LIBRARY_OUTPUT_DIRECTORY|LINKER_LANGUAGE|LINK_(?:DEPENDS|DEPENDS_NO_SHARED|DIRECTORIES|FLAGS|INTERFACE_LIBRARIES|INTERFACE_MULTIPLICITY|LIBRARIES|OPTIONS|SEARCH_END_STATIC|SEARCH_START_STATIC|WHAT_YOU_USE)|LISTFILE_STACK|LOCATION|MACOSX_BUNDLE|MACOSX_BUNDLE_INFO_PLIST|MACOSX_FRAMEWORK_INFO_PLIST|MACOSX_PACKAGE_LOCATION|MACOSX_RPATH|MACROS|MANUALLY_ADDED_DEPENDENCIES|MEASUREMENT|MODIFIED|NAME|NO_SONAME|NO_SYSTEM_FROM_IMPORTED|OBJECT_DEPENDS|OBJECT_OUTPUTS|OSX_ARCHITECTURES|OUTPUT_NAME|PACKAGES_FOUND|PACKAGES_NOT_FOUND|PARENT_DIRECTORY|PASS_REGULAR_EXPRESSION|PDB_NAME|PDB_OUTPUT_DIRECTORY|POSITION_INDEPENDENT_CODE|POST_INSTALL_SCRIPT|PREDEFINED_TARGETS_FOLDER|PREFIX|PRE_INSTALL_SCRIPT|PRIVATE_HEADER|PROCESSORS|PROCESSOR_AFFINITY|PROJECT_LABEL|PUBLIC_HEADER|REPORT_UNDEFINED_PROPERTIES|REQUIRED_FILES|RESOURCE|RESOURCE_LOCK|RULE_LAUNCH_COMPILE|RULE_LAUNCH_CUSTOM|RULE_LAUNCH_LINK|RULE_MESSAGES|RUNTIME_OUTPUT_DIRECTORY|RUN_SERIAL|SKIP_AUTOGEN|SKIP_AUTOMOC|SKIP_AUTORCC|SKIP_AUTOUIC|SKIP_BUILD_RPATH|SKIP_RETURN_CODE|SOURCES|SOURCE_DIR|SOVERSION|STATIC_LIBRARY_FLAGS|STATIC_LIBRARY_OPTIONS|STRINGS|SUBDIRECTORIES|SUFFIX|SYMBOLIC|TARGET_ARCHIVES_MAY_BE_SHARED_LIBS|TARGET_MESSAGES|TARGET_SUPPORTS_SHARED_LIBS|TESTS|TEST_INCLUDE_FILE|TEST_INCLUDE_FILES|TIMEOUT|TIMEOUT_AFTER_MATCH|TYPE|USE_FOLDERS|VALUE|VARIABLES|VERSION|VISIBILITY_INLINES_HIDDEN|VS_(?:CONFIGURATION_TYPE|COPY_TO_OUT_DIR|DEBUGGER_(?:COMMAND|COMMAND_ARGUMENTS|ENVIRONMENT|WORKING_DIRECTORY)|DEPLOYMENT_CONTENT|DEPLOYMENT_LOCATION|DOTNET_REFERENCES|DOTNET_REFERENCES_COPY_LOCAL|INCLUDE_IN_VSIX|IOT_STARTUP_TASK|KEYWORD|RESOURCE_GENERATOR|SCC_AUXPATH|SCC_LOCALPATH|SCC_PROJECTNAME|SCC_PROVIDER|SDK_REFERENCES|SHADER_(?:DISABLE_OPTIMIZATIONS|ENABLE_DEBUG|ENTRYPOINT|FLAGS|MODEL|OBJECT_FILE_NAME|OUTPUT_HEADER_FILE|TYPE|VARIABLE_NAME)|STARTUP_PROJECT|TOOL_OVERRIDE|USER_PROPS|WINRT_COMPONENT|WINRT_EXTENSIONS|WINRT_REFERENCES|XAML_TYPE)|WILL_FAIL|WIN32_EXECUTABLE|WINDOWS_EXPORT_ALL_SYMBOLS|WORKING_DIRECTORY|WRAP_EXCLUDE|XCODE_(?:EMIT_EFFECTIVE_PLATFORM_NAME|EXPLICIT_FILE_TYPE|FILE_ATTRIBUTES|LAST_KNOWN_FILE_TYPE|PRODUCT_TYPE|SCHEME_(?:ADDRESS_SANITIZER|ADDRESS_SANITIZER_USE_AFTER_RETURN|ARGUMENTS|DISABLE_MAIN_THREAD_CHECKER|DYNAMIC_LIBRARY_LOADS|DYNAMIC_LINKER_API_USAGE|ENVIRONMENT|EXECUTABLE|GUARD_MALLOC|MAIN_THREAD_CHECKER_STOP|MALLOC_GUARD_EDGES|MALLOC_SCRIBBLE|MALLOC_STACK|THREAD_SANITIZER(?:_STOP)?|UNDEFINED_BEHAVIOUR_SANITIZER(?:_STOP)?|ZOMBIE_OBJECTS))|XCTEST)\b/,keyword:/\b(?:add_compile_definitions|add_compile_options|add_custom_command|add_custom_target|add_definitions|add_dependencies|add_executable|add_library|add_link_options|add_subdirectory|add_test|aux_source_directory|break|build_command|build_name|cmake_host_system_information|cmake_minimum_required|cmake_parse_arguments|cmake_policy|configure_file|continue|create_test_sourcelist|ctest_build|ctest_configure|ctest_coverage|ctest_empty_binary_directory|ctest_memcheck|ctest_read_custom_files|ctest_run_script|ctest_sleep|ctest_start|ctest_submit|ctest_test|ctest_update|ctest_upload|define_property|else|elseif|enable_language|enable_testing|endforeach|endfunction|endif|endmacro|endwhile|exec_program|execute_process|export|export_library_dependencies|file|find_file|find_library|find_package|find_path|find_program|fltk_wrap_ui|foreach|function|get_cmake_property|get_directory_property|get_filename_component|get_property|get_source_file_property|get_target_property|get_test_property|if|include|include_directories|include_external_msproject|include_guard|include_regular_expression|install|install_files|install_programs|install_targets|link_directories|link_libraries|list|load_cache|load_command|macro|make_directory|mark_as_advanced|math|message|option|output_required_files|project|qt_wrap_cpp|qt_wrap_ui|remove|remove_definitions|return|separate_arguments|set|set_directory_properties|set_property|set_source_files_properties|set_target_properties|set_tests_properties|site_name|source_group|string|subdir_depends|subdirs|target_compile_definitions|target_compile_features|target_compile_options|target_include_directories|target_link_directories|target_link_libraries|target_link_options|target_sources|try_compile|try_run|unset|use_mangled_mesa|utility_source|variable_requires|variable_watch|while|write_file)(?=\s*\()\b/,boolean:/\b(?:FALSE|OFF|ON|TRUE)\b/,namespace:/\b(?:INTERFACE|PRIVATE|PROPERTIES|PUBLIC|SHARED|STATIC|TARGET_OBJECTS)\b/,operator:/\b(?:AND|DEFINED|EQUAL|GREATER|LESS|MATCHES|NOT|OR|STREQUAL|STRGREATER|STRLESS|VERSION_EQUAL|VERSION_GREATER|VERSION_LESS)\b/,inserted:{pattern:/\b\w+::\w+\b/,alias:"class-name"},number:/\b\d+(?:\.\d+)*\b/,function:/\b[a-z_]\w*(?=\s*\()\b/i,punctuation:/[()>}]|\$[<{]/}}Z1.displayName="cobol";Z1.aliases=[];function Z1(e){e.languages.cobol={comment:{pattern:/\*>.*|(^[ \t]*)\*.*/m,lookbehind:!0,greedy:!0},string:{pattern:/[xzgn]?(?:"(?:[^\r\n"]|"")*"(?!")|'(?:[^\r\n']|'')*'(?!'))/i,greedy:!0},level:{pattern:/(^[ \t]*)\d+\b/m,lookbehind:!0,greedy:!0,alias:"number"},"class-name":{pattern:/(\bpic(?:ture)?\s+)(?:(?:[-\w$/,:*+<>]|\.(?!\s|$))(?:\(\d+\))?)+/i,lookbehind:!0,inside:{number:{pattern:/(\()\d+/,lookbehind:!0},punctuation:/[()]/}},keyword:{pattern:/(^|[^\w-])(?:ABORT|ACCEPT|ACCESS|ADD|ADDRESS|ADVANCING|AFTER|ALIGNED|ALL|ALPHABET|ALPHABETIC|ALPHABETIC-LOWER|ALPHABETIC-UPPER|ALPHANUMERIC|ALPHANUMERIC-EDITED|ALSO|ALTER|ALTERNATE|ANY|ARE|AREA|AREAS|AS|ASCENDING|ASCII|ASSIGN|ASSOCIATED-DATA|ASSOCIATED-DATA-LENGTH|AT|ATTRIBUTE|AUTHOR|AUTO|AUTO-SKIP|BACKGROUND-COLOR|BACKGROUND-COLOUR|BASIS|BEEP|BEFORE|BEGINNING|BELL|BINARY|BIT|BLANK|BLINK|BLOCK|BOTTOM|BOUNDS|BY|BYFUNCTION|BYTITLE|CALL|CANCEL|CAPABLE|CCSVERSION|CD|CF|CH|CHAINING|CHANGED|CHANNEL|CHARACTER|CHARACTERS|CLASS|CLASS-ID|CLOCK-UNITS|CLOSE|CLOSE-DISPOSITION|COBOL|CODE|CODE-SET|COL|COLLATING|COLUMN|COM-REG|COMMA|COMMITMENT|COMMON|COMMUNICATION|COMP|COMP-1|COMP-2|COMP-3|COMP-4|COMP-5|COMPUTATIONAL|COMPUTATIONAL-1|COMPUTATIONAL-2|COMPUTATIONAL-3|COMPUTATIONAL-4|COMPUTATIONAL-5|COMPUTE|CONFIGURATION|CONTAINS|CONTENT|CONTINUE|CONTROL|CONTROL-POINT|CONTROLS|CONVENTION|CONVERTING|COPY|CORR|CORRESPONDING|COUNT|CRUNCH|CURRENCY|CURSOR|DATA|DATA-BASE|DATE|DATE-COMPILED|DATE-WRITTEN|DAY|DAY-OF-WEEK|DBCS|DE|DEBUG-CONTENTS|DEBUG-ITEM|DEBUG-LINE|DEBUG-NAME|DEBUG-SUB-1|DEBUG-SUB-2|DEBUG-SUB-3|DEBUGGING|DECIMAL-POINT|DECLARATIVES|DEFAULT|DEFAULT-DISPLAY|DEFINITION|DELETE|DELIMITED|DELIMITER|DEPENDING|DESCENDING|DESTINATION|DETAIL|DFHRESP|DFHVALUE|DISABLE|DISK|DISPLAY|DISPLAY-1|DIVIDE|DIVISION|DONTCARE|DOUBLE|DOWN|DUPLICATES|DYNAMIC|EBCDIC|EGCS|EGI|ELSE|EMI|EMPTY-CHECK|ENABLE|END|END-ACCEPT|END-ADD|END-CALL|END-COMPUTE|END-DELETE|END-DIVIDE|END-EVALUATE|END-IF|END-MULTIPLY|END-OF-PAGE|END-PERFORM|END-READ|END-RECEIVE|END-RETURN|END-REWRITE|END-SEARCH|END-START|END-STRING|END-SUBTRACT|END-UNSTRING|END-WRITE|ENDING|ENTER|ENTRY|ENTRY-PROCEDURE|ENVIRONMENT|EOL|EOP|EOS|ERASE|ERROR|ESCAPE|ESI|EVALUATE|EVENT|EVERY|EXCEPTION|EXCLUSIVE|EXHIBIT|EXIT|EXPORT|EXTEND|EXTENDED|EXTERNAL|FD|FILE|FILE-CONTROL|FILLER|FINAL|FIRST|FOOTING|FOR|FOREGROUND-COLOR|FOREGROUND-COLOUR|FROM|FULL|FUNCTION|FUNCTION-POINTER|FUNCTIONNAME|GENERATE|GIVING|GLOBAL|GO|GOBACK|GRID|GROUP|HEADING|HIGH-VALUE|HIGH-VALUES|HIGHLIGHT|I-O|I-O-CONTROL|ID|IDENTIFICATION|IF|IMPLICIT|IMPORT|IN|INDEX|INDEXED|INDICATE|INITIAL|INITIALIZE|INITIATE|INPUT|INPUT-OUTPUT|INSPECT|INSTALLATION|INTEGER|INTO|INVALID|INVOKE|IS|JUST|JUSTIFIED|KANJI|KEPT|KEY|KEYBOARD|LABEL|LANGUAGE|LAST|LB|LD|LEADING|LEFT|LEFTLINE|LENGTH|LENGTH-CHECK|LIBACCESS|LIBPARAMETER|LIBRARY|LIMIT|LIMITS|LINAGE|LINAGE-COUNTER|LINE|LINE-COUNTER|LINES|LINKAGE|LIST|LOCAL|LOCAL-STORAGE|LOCK|LONG-DATE|LONG-TIME|LOW-VALUE|LOW-VALUES|LOWER|LOWLIGHT|MEMORY|MERGE|MESSAGE|MMDDYYYY|MODE|MODULES|MORE-LABELS|MOVE|MULTIPLE|MULTIPLY|NAMED|NATIONAL|NATIONAL-EDITED|NATIVE|NEGATIVE|NETWORK|NEXT|NO|NO-ECHO|NULL|NULLS|NUMBER|NUMERIC|NUMERIC-DATE|NUMERIC-EDITED|NUMERIC-TIME|OBJECT-COMPUTER|OCCURS|ODT|OF|OFF|OMITTED|ON|OPEN|OPTIONAL|ORDER|ORDERLY|ORGANIZATION|OTHER|OUTPUT|OVERFLOW|OVERLINE|OWN|PACKED-DECIMAL|PADDING|PAGE|PAGE-COUNTER|PASSWORD|PERFORM|PF|PH|PIC|PICTURE|PLUS|POINTER|PORT|POSITION|POSITIVE|PRINTER|PRINTING|PRIVATE|PROCEDURE|PROCEDURE-POINTER|PROCEDURES|PROCEED|PROCESS|PROGRAM|PROGRAM-ID|PROGRAM-LIBRARY|PROMPT|PURGE|QUEUE|QUOTE|QUOTES|RANDOM|RD|READ|READER|REAL|RECEIVE|RECEIVED|RECORD|RECORDING|RECORDS|RECURSIVE|REDEFINES|REEL|REF|REFERENCE|REFERENCES|RELATIVE|RELEASE|REMAINDER|REMARKS|REMOTE|REMOVAL|REMOVE|RENAMES|REPLACE|REPLACING|REPORT|REPORTING|REPORTS|REQUIRED|RERUN|RESERVE|RESET|RETURN|RETURN-CODE|RETURNING|REVERSE-VIDEO|REVERSED|REWIND|REWRITE|RF|RH|RIGHT|ROUNDED|RUN|SAME|SAVE|SCREEN|SD|SEARCH|SECTION|SECURE|SECURITY|SEGMENT|SEGMENT-LIMIT|SELECT|SEND|SENTENCE|SEPARATE|SEQUENCE|SEQUENTIAL|SET|SHARED|SHAREDBYALL|SHAREDBYRUNUNIT|SHARING|SHIFT-IN|SHIFT-OUT|SHORT-DATE|SIGN|SIZE|SORT|SORT-CONTROL|SORT-CORE-SIZE|SORT-FILE-SIZE|SORT-MERGE|SORT-MESSAGE|SORT-MODE-SIZE|SORT-RETURN|SOURCE|SOURCE-COMPUTER|SPACE|SPACES|SPECIAL-NAMES|STANDARD|STANDARD-1|STANDARD-2|START|STATUS|STOP|STRING|SUB-QUEUE-1|SUB-QUEUE-2|SUB-QUEUE-3|SUBTRACT|SUM|SUPPRESS|SYMBOL|SYMBOLIC|SYNC|SYNCHRONIZED|TABLE|TALLY|TALLYING|TAPE|TASK|TERMINAL|TERMINATE|TEST|TEXT|THEN|THREAD|THREAD-LOCAL|THROUGH|THRU|TIME|TIMER|TIMES|TITLE|TO|TODAYS-DATE|TODAYS-NAME|TOP|TRAILING|TRUNCATED|TYPE|TYPEDEF|UNDERLINE|UNIT|UNSTRING|UNTIL|UP|UPON|USAGE|USE|USING|VALUE|VALUES|VARYING|VIRTUAL|WAIT|WHEN|WHEN-COMPILED|WITH|WORDS|WORKING-STORAGE|WRITE|YEAR|YYYYDDD|YYYYMMDD|ZERO-FILL|ZEROES|ZEROS)(?![\w-])/i,lookbehind:!0},boolean:{pattern:/(^|[^\w-])(?:false|true)(?![\w-])/i,lookbehind:!0},number:{pattern:/(^|[^\w-])(?:[+-]?(?:(?:\d+(?:[.,]\d+)?|[.,]\d+)(?:e[+-]?\d+)?|zero))(?![\w-])/i,lookbehind:!0},operator:[/<>|[<>]=?|[=+*/&]/,{pattern:/(^|[^\w-])(?:-|and|equal|greater|less|not|or|than)(?![\w-])/i,lookbehind:!0}],punctuation:/[.:,()]/}}X1.displayName="coffeescript";X1.aliases=["coffee"];function X1(e){e.register(In),function(t){var n=/#(?!\{).+/,r={pattern:/#\{[^}]+\}/,alias:"variable"};t.languages.coffeescript=t.languages.extend("javascript",{comment:n,string:[{pattern:/'(?:\\[\s\S]|[^\\'])*'/,greedy:!0},{pattern:/"(?:\\[\s\S]|[^\\"])*"/,greedy:!0,inside:{interpolation:r}}],keyword:/\b(?:and|break|by|catch|class|continue|debugger|delete|do|each|else|extend|extends|false|finally|for|if|in|instanceof|is|isnt|let|loop|namespace|new|no|not|null|of|off|on|or|own|return|super|switch|then|this|throw|true|try|typeof|undefined|unless|until|when|while|window|with|yes|yield)\b/,"class-member":{pattern:/@(?!\d)\w+/,alias:"variable"}}),t.languages.insertBefore("coffeescript","comment",{"multiline-comment":{pattern:/###[\s\S]+?###/,alias:"comment"},"block-regex":{pattern:/\/{3}[\s\S]*?\/{3}/,alias:"regex",inside:{comment:n,interpolation:r}}}),t.languages.insertBefore("coffeescript","string",{"inline-javascript":{pattern:/`(?:\\[\s\S]|[^\\`])*`/,inside:{delimiter:{pattern:/^`|`$/,alias:"punctuation"},script:{pattern:/[\s\S]+/,alias:"language-javascript",inside:t.languages.javascript}}},"multiline-string":[{pattern:/'''[\s\S]*?'''/,greedy:!0,alias:"string"},{pattern:/"""[\s\S]*?"""/,greedy:!0,alias:"string",inside:{interpolation:r}}]}),t.languages.insertBefore("coffeescript","keyword",{property:/(?!\d)\w+(?=\s*:(?!:))/}),delete t.languages.coffeescript["template-string"],t.languages.coffee=t.languages.coffeescript}(e)}Q1.displayName="concurnas";Q1.aliases=["conc"];function Q1(e){e.languages.concurnas={comment:{pattern:/(^|[^\\])(?:\/\*[\s\S]*?(?:\*\/|$)|\/\/.*)/,lookbehind:!0,greedy:!0},langext:{pattern:/\b\w+\s*\|\|[\s\S]+?\|\|/,greedy:!0,inside:{"class-name":/^\w+/,string:{pattern:/(^\s*\|\|)[\s\S]+(?=\|\|$)/,lookbehind:!0},punctuation:/\|\|/}},function:{pattern:/((?:^|\s)def[ \t]+)[a-zA-Z_]\w*(?=\s*\()/,lookbehind:!0},keyword:/\b(?:abstract|actor|also|annotation|assert|async|await|bool|boolean|break|byte|case|catch|changed|char|class|closed|constant|continue|def|default|del|double|elif|else|enum|every|extends|false|finally|float|for|from|global|gpudef|gpukernel|if|import|in|init|inject|int|lambda|local|long|loop|match|new|nodefault|null|of|onchange|open|out|override|package|parfor|parforsync|post|pre|private|protected|provide|provider|public|return|shared|short|single|size_t|sizeof|super|sync|this|throw|trait|trans|transient|true|try|typedef|unchecked|using|val|var|void|while|with)\b/,boolean:/\b(?:false|true)\b/,number:/\b0b[01][01_]*L?\b|\b0x(?:[\da-f_]*\.)?[\da-f_p+-]+\b|(?:\b\d[\d_]*(?:\.[\d_]*)?|\B\.\d[\d_]*)(?:e[+-]?\d[\d_]*)?[dfls]?/i,punctuation:/[{}[\];(),.:]/,operator:/<==|>==|=>|->|<-|<>|&==|&<>|\?:?|\.\?|\+\+|--|[-+*/=<>]=?|[!^~]|\b(?:and|as|band|bor|bxor|comp|is|isnot|mod|or)\b=?/,annotation:{pattern:/@(?:\w+:)?(?:\w+|\[[^\]]+\])?/,alias:"builtin"}},e.languages.insertBefore("concurnas","langext",{"regex-literal":{pattern:/\br("|')(?:\\.|(?!\1)[^\\\r\n])*\1/,greedy:!0,inside:{interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}/,lookbehind:!0,inside:e.languages.concurnas},regex:/[\s\S]+/}},"string-literal":{pattern:/(?:\B|\bs)("|')(?:\\.|(?!\1)[^\\\r\n])*\1/,greedy:!0,inside:{interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}/,lookbehind:!0,inside:e.languages.concurnas},string:/[\s\S]+/}}}),e.languages.conc=e.languages.concurnas}J1.displayName="csp";J1.aliases=[];function J1(e){(function(t){function n(r){return RegExp(/([ \t])/.source+"(?:"+r+")"+/(?=[\s;]|$)/.source,"i")}t.languages.csp={directive:{pattern:/(^|[\s;])(?:base-uri|block-all-mixed-content|(?:child|connect|default|font|frame|img|manifest|media|object|prefetch|script|style|worker)-src|disown-opener|form-action|frame-(?:ancestors|options)|input-protection(?:-(?:clip|selectors))?|navigate-to|plugin-types|policy-uri|referrer|reflected-xss|report-(?:to|uri)|require-sri-for|sandbox|(?:script|style)-src-(?:attr|elem)|upgrade-insecure-requests)(?=[\s;]|$)/i,lookbehind:!0,alias:"property"},scheme:{pattern:n(/[a-z][a-z0-9.+-]*:/.source),lookbehind:!0},none:{pattern:n(/'none'/.source),lookbehind:!0,alias:"keyword"},nonce:{pattern:n(/'nonce-[-+/\w=]+'/.source),lookbehind:!0,alias:"number"},hash:{pattern:n(/'sha(?:256|384|512)-[-+/\w=]+'/.source),lookbehind:!0,alias:"number"},host:{pattern:n(/[a-z][a-z0-9.+-]*:\/\/[^\s;,']*/.source+"|"+/\*[^\s;,']*/.source+"|"+/[a-z0-9-]+(?:\.[a-z0-9-]+)+(?::[\d*]+)?(?:\/[^\s;,']*)?/.source),lookbehind:!0,alias:"url",inside:{important:/\*/}},keyword:[{pattern:n(/'unsafe-[a-z-]+'/.source),lookbehind:!0,alias:"unsafe"},{pattern:n(/'[a-z-]+'/.source),lookbehind:!0,alias:"safe"}],punctuation:/;/}})(e)}ev.displayName="cooklang";ev.aliases=[];function ev(e){(function(t){var n=/(?:(?!\s)[\d$+<=a-zA-Z\x80-\uFFFF])+/.source,r=/[^{}@#]+/.source,a=/\{[^}#@]*\}/.source,i=r+a,o=/(?:h|hours|hrs|m|min|minutes)/.source,l={pattern:/\{[^{}]*\}/,inside:{amount:{pattern:/([\{|])[^{}|*%]+/,lookbehind:!0,alias:"number"},unit:{pattern:/(%)[^}]+/,lookbehind:!0,alias:"symbol"},"servings-scaler":{pattern:/\*/,alias:"operator"},"servings-alternative-separator":{pattern:/\|/,alias:"operator"},"unit-separator":{pattern:/(?:%|(\*)%)/,lookbehind:!0,alias:"operator"},punctuation:/[{}]/}};t.languages.cooklang={comment:{pattern:/\[-[\s\S]*?-\]|--.*/,greedy:!0},meta:{pattern:/>>.*:.*/,inside:{property:{pattern:/(>>\s*)[^\s:](?:[^:]*[^\s:])?/,lookbehind:!0}}},"cookware-group":{pattern:new RegExp("#(?:"+i+"|"+n+")"),inside:{cookware:{pattern:new RegExp("(^#)(?:"+r+")"),lookbehind:!0,alias:"variable"},"cookware-keyword":{pattern:/^#/,alias:"keyword"},"quantity-group":{pattern:new RegExp(/\{[^{}@#]*\}/),inside:{quantity:{pattern:new RegExp(/(^\{)/.source+r),lookbehind:!0,alias:"number"},punctuation:/[{}]/}}}},"ingredient-group":{pattern:new RegExp("@(?:"+i+"|"+n+")"),inside:{ingredient:{pattern:new RegExp("(^@)(?:"+r+")"),lookbehind:!0,alias:"variable"},"ingredient-keyword":{pattern:/^@/,alias:"keyword"},"amount-group":l}},"timer-group":{pattern:/~(?!\s)[^@#~{}]*\{[^{}]*\}/,inside:{timer:{pattern:/(^~)[^{]+/,lookbehind:!0,alias:"variable"},"duration-group":{pattern:/\{[^{}]*\}/,inside:{punctuation:/[{}]/,unit:{pattern:new RegExp(/(%\s*)/.source+o+/\b/.source),lookbehind:!0,alias:"symbol"},operator:/%/,duration:{pattern:/\d+/,alias:"number"}}},"timer-keyword":{pattern:/^~/,alias:"keyword"}}}}})(e)}tv.displayName="coq";tv.aliases=[];function tv(e){(function(t){for(var n=/\(\*(?:[^(*]|\((?!\*)|\*(?!\))|<self>)*\*\)/.source,r=0;r<2;r++)n=n.replace(/<self>/g,function(){return n});n=n.replace(/<self>/g,"[]"),t.languages.coq={comment:RegExp(n),string:{pattern:/"(?:[^"]|"")*"(?!")/,greedy:!0},attribute:[{pattern:RegExp(/#\[(?:[^\[\]("]|"(?:[^"]|"")*"(?!")|\((?!\*)|<comment>)*\]/.source.replace(/<comment>/g,function(){return n})),greedy:!0,alias:"attr-name",inside:{comment:RegExp(n),string:{pattern:/"(?:[^"]|"")*"(?!")/,greedy:!0},operator:/=/,punctuation:/^#\[|\]$|[,()]/}},{pattern:/\b(?:Cumulative|Global|Local|Monomorphic|NonCumulative|Polymorphic|Private|Program)\b/,alias:"attr-name"}],keyword:/\b(?:Abort|About|Add|Admit|Admitted|All|Arguments|As|Assumptions|Axiom|Axioms|Back|BackTo|Backtrace|BinOp|BinOpSpec|BinRel|Bind|Blacklist|Canonical|Case|Cd|Check|Class|Classes|Close|CoFixpoint|CoInductive|Coercion|Coercions|Collection|Combined|Compute|Conjecture|Conjectures|Constant|Constants|Constraint|Constructors|Context|Corollary|Create|CstOp|Custom|Cut|Debug|Declare|Defined|Definition|Delimit|Dependencies|Dependent|Derive|Diffs|Drop|Elimination|End|Entry|Equality|Eval|Example|Existential|Existentials|Existing|Export|Extern|Extraction|Fact|Fail|Field|File|Firstorder|Fixpoint|Flags|Focus|From|Funclass|Function|Functional|GC|Generalizable|Goal|Grab|Grammar|Graph|Guarded|Haskell|Heap|Hide|Hint|HintDb|Hints|Hypotheses|Hypothesis|IF|Identity|Immediate|Implicit|Implicits|Import|Include|Induction|Inductive|Infix|Info|Initial|InjTyp|Inline|Inspect|Instance|Instances|Intro|Intros|Inversion|Inversion_clear|JSON|Language|Left|Lemma|Let|Lia|Libraries|Library|Load|LoadPath|Locate|Ltac|Ltac2|ML|Match|Method|Minimality|Module|Modules|Morphism|Next|NoInline|Notation|Number|OCaml|Obligation|Obligations|Opaque|Open|Optimize|Parameter|Parameters|Parametric|Path|Paths|Prenex|Preterm|Primitive|Print|Profile|Projections|Proof|Prop|PropBinOp|PropOp|PropUOp|Property|Proposition|Pwd|Qed|Quit|Rec|Record|Recursive|Redirect|Reduction|Register|Relation|Remark|Remove|Require|Reserved|Reset|Resolve|Restart|Rewrite|Right|Ring|Rings|SProp|Saturate|Save|Scheme|Scope|Scopes|Search|SearchHead|SearchPattern|SearchRewrite|Section|Separate|Set|Setoid|Show|Signatures|Solve|Solver|Sort|Sortclass|Sorted|Spec|Step|Strategies|Strategy|String|Structure|SubClass|Subgraph|SuchThat|Tactic|Term|TestCompile|Theorem|Time|Timeout|To|Transparent|Type|Typeclasses|Types|Typing|UnOp|UnOpSpec|Undelimit|Undo|Unfocus|Unfocused|Unfold|Universe|Universes|Unshelve|Variable|Variables|Variant|Verbose|View|Visibility|Zify|_|apply|as|at|by|cofix|else|end|exists|exists2|fix|for|forall|fun|if|in|let|match|measure|move|removed|return|struct|then|using|wf|where|with)\b/,number:/\b(?:0x[a-f0-9][a-f0-9_]*(?:\.[a-f0-9_]+)?(?:p[+-]?\d[\d_]*)?|\d[\d_]*(?:\.[\d_]+)?(?:e[+-]?\d[\d_]*)?)\b/i,punct:{pattern:/@\{|\{\||\[=|:>/,alias:"punctuation"},operator:/\/\\|\\\/|\.{2,3}|:{1,2}=|\*\*|[-=]>|<(?:->?|[+:=>]|<:)|>(?:=|->)|\|[-|]?|[-!%&*+/<=>?@^~']/,punctuation:/\.\(|`\(|@\{|`\{|\{\||\[=|:>|[:.,;(){}\[\]]/}})(e)}nv.displayName="crystal";nv.aliases=[];function nv(e){e.register(No),function(t){t.languages.crystal=t.languages.extend("ruby",{keyword:[/\b(?:__DIR__|__END_LINE__|__FILE__|__LINE__|abstract|alias|annotation|as|asm|begin|break|case|class|def|do|else|elsif|end|ensure|enum|extend|for|fun|if|ifdef|include|instance_sizeof|lib|macro|module|next|of|out|pointerof|private|protected|ptr|require|rescue|return|select|self|sizeof|struct|super|then|type|typeof|undef|uninitialized|union|unless|until|when|while|with|yield)\b/,{pattern:/(\.\s*)(?:is_a|responds_to)\?/,lookbehind:!0}],number:/\b(?:0b[01_]*[01]|0o[0-7_]*[0-7]|0x[\da-fA-F_]*[\da-fA-F]|(?:\d(?:[\d_]*\d)?)(?:\.[\d_]*\d)?(?:[eE][+-]?[\d_]*\d)?)(?:_(?:[uif](?:8|16|32|64))?)?\b/,operator:[/->/,t.languages.ruby.operator],punctuation:/[(){}[\].,;\\]/}),t.languages.insertBefore("crystal","string-literal",{attribute:{pattern:/@\[.*?\]/,inside:{delimiter:{pattern:/^@\[|\]$/,alias:"punctuation"},attribute:{pattern:/^(\s*)\w+/,lookbehind:!0,alias:"class-name"},args:{pattern:/\S(?:[\s\S]*\S)?/,inside:t.languages.crystal}}},expansion:{pattern:/\{(?:\{.*?\}|%.*?%)\}/,inside:{content:{pattern:/^(\{.)[\s\S]+(?=.\}$)/,lookbehind:!0,inside:t.languages.crystal},delimiter:{pattern:/^\{[\{%]|[\}%]\}$/,alias:"operator"}}},char:{pattern:/'(?:[^\\\r\n]{1,2}|\\(?:.|u(?:[A-Fa-f0-9]{1,4}|\{[A-Fa-f0-9]{1,6}\})))'/,greedy:!0}})}(e)}rv.displayName="css-extras";rv.aliases=[];function rv(e){e.register(wi),function(t){var n=/("|')(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,r;t.languages.css.selector={pattern:t.languages.css.selector.pattern,lookbehind:!0,inside:r={"pseudo-element":/:(?:after|before|first-letter|first-line|selection)|::[-\w]+/,"pseudo-class":/:[-\w]+/,class:/\.[-\w]+/,id:/#[-\w]+/,attribute:{pattern:RegExp(`\\[(?:[^[\\]"']|`+n.source+")*\\]"),greedy:!0,inside:{punctuation:/^\[|\]$/,"case-sensitivity":{pattern:/(\s)[si]$/i,lookbehind:!0,alias:"keyword"},namespace:{pattern:/^(\s*)(?:(?!\s)[-*\w\xA0-\uFFFF])*\|(?!=)/,lookbehind:!0,inside:{punctuation:/\|$/}},"attr-name":{pattern:/^(\s*)(?:(?!\s)[-\w\xA0-\uFFFF])+/,lookbehind:!0},"attr-value":[n,{pattern:/(=\s*)(?:(?!\s)[-\w\xA0-\uFFFF])+(?=\s*$)/,lookbehind:!0}],operator:/[|~*^$]?=/}},"n-th":[{pattern:/(\(\s*)[+-]?\d*[\dn](?:\s*[+-]\s*\d+)?(?=\s*\))/,lookbehind:!0,inside:{number:/[\dn]+/,operator:/[+-]/}},{pattern:/(\(\s*)(?:even|odd)(?=\s*\))/i,lookbehind:!0}],combinator:/>|\+|~|\|\|/,punctuation:/[(),]/}},t.languages.css.atrule.inside["selector-function-argument"].inside=r,t.languages.insertBefore("css","property",{variable:{pattern:/(^|[^-\w\xA0-\uFFFF])--(?!\s)[-_a-z\xA0-\uFFFF](?:(?!\s)[-\w\xA0-\uFFFF])*/i,lookbehind:!0}});var a={pattern:/(\b\d+)(?:%|[a-z]+(?![\w-]))/,lookbehind:!0},i={pattern:/(^|[^\w.-])-?(?:\d+(?:\.\d+)?|\.\d+)/,lookbehind:!0};t.languages.insertBefore("css","function",{operator:{pattern:/(\s)[+\-*\/](?=\s)/,lookbehind:!0},hexcode:{pattern:/\B#[\da-f]{3,8}\b/i,alias:"color"},color:[{pattern:/(^|[^\w-])(?:AliceBlue|AntiqueWhite|Aqua|Aquamarine|Azure|Beige|Bisque|Black|BlanchedAlmond|Blue|BlueViolet|Brown|BurlyWood|CadetBlue|Chartreuse|Chocolate|Coral|CornflowerBlue|Cornsilk|Crimson|Cyan|DarkBlue|DarkCyan|DarkGoldenRod|DarkGr[ae]y|DarkGreen|DarkKhaki|DarkMagenta|DarkOliveGreen|DarkOrange|DarkOrchid|DarkRed|DarkSalmon|DarkSeaGreen|DarkSlateBlue|DarkSlateGr[ae]y|DarkTurquoise|DarkViolet|DeepPink|DeepSkyBlue|DimGr[ae]y|DodgerBlue|FireBrick|FloralWhite|ForestGreen|Fuchsia|Gainsboro|GhostWhite|Gold|GoldenRod|Gr[ae]y|Green|GreenYellow|HoneyDew|HotPink|IndianRed|Indigo|Ivory|Khaki|Lavender|LavenderBlush|LawnGreen|LemonChiffon|LightBlue|LightCoral|LightCyan|LightGoldenRodYellow|LightGr[ae]y|LightGreen|LightPink|LightSalmon|LightSeaGreen|LightSkyBlue|LightSlateGr[ae]y|LightSteelBlue|LightYellow|Lime|LimeGreen|Linen|Magenta|Maroon|MediumAquaMarine|MediumBlue|MediumOrchid|MediumPurple|MediumSeaGreen|MediumSlateBlue|MediumSpringGreen|MediumTurquoise|MediumVioletRed|MidnightBlue|MintCream|MistyRose|Moccasin|NavajoWhite|Navy|OldLace|Olive|OliveDrab|Orange|OrangeRed|Orchid|PaleGoldenRod|PaleGreen|PaleTurquoise|PaleVioletRed|PapayaWhip|PeachPuff|Peru|Pink|Plum|PowderBlue|Purple|RebeccaPurple|Red|RosyBrown|RoyalBlue|SaddleBrown|Salmon|SandyBrown|SeaGreen|SeaShell|Sienna|Silver|SkyBlue|SlateBlue|SlateGr[ae]y|Snow|SpringGreen|SteelBlue|Tan|Teal|Thistle|Tomato|Transparent|Turquoise|Violet|Wheat|White|WhiteSmoke|Yellow|YellowGreen)(?![\w-])/i,lookbehind:!0},{pattern:/\b(?:hsl|rgb)\(\s*\d{1,3}\s*,\s*\d{1,3}%?\s*,\s*\d{1,3}%?\s*\)\B|\b(?:hsl|rgb)a\(\s*\d{1,3}\s*,\s*\d{1,3}%?\s*,\s*\d{1,3}%?\s*,\s*(?:0|0?\.\d+|1)\s*\)\B/i,inside:{unit:a,number:i,function:/[\w-]+(?=\()/,punctuation:/[(),]/}}],entity:/\\[\da-f]{1,8}/i,unit:a,number:i})}(e)}av.displayName="csv";av.aliases=[];function av(e){e.languages.csv={value:/[^\r\n,"]+|"(?:[^"]|"")*"(?!")/,punctuation:/,/}}sv.displayName="cue";sv.aliases=[];function sv(e){(function(t){var n=/\\(?:(?!\2)|\2(?:[^()\r\n]|\([^()]*\)))/.source,r=/"""(?:[^\\"]|"(?!""\2)|<esc>)*"""/.source+"|"+/'''(?:[^\\']|'(?!''\2)|<esc>)*'''/.source+"|"+/"(?:[^\\\r\n"]|"(?!\2)|<esc>)*"/.source+"|"+/'(?:[^\\\r\n']|'(?!\2)|<esc>)*'/.source,a="(?:"+r.replace(/<esc>/g,n)+")";t.languages.cue={comment:{pattern:/\/\/.*/,greedy:!0},"string-literal":{pattern:RegExp(/(^|[^#"'\\])(#*)/.source+a+/(?!["'])\2/.source),lookbehind:!0,greedy:!0,inside:{escape:{pattern:/(?=[\s\S]*["'](#*)$)\\\1(?:U[a-fA-F0-9]{1,8}|u[a-fA-F0-9]{1,4}|x[a-fA-F0-9]{1,2}|\d{2,3}|[^(])/,greedy:!0,alias:"string"},interpolation:{pattern:/(?=[\s\S]*["'](#*)$)\\\1\([^()]*\)/,greedy:!0,inside:{punctuation:/^\\#*\(|\)$/,expression:{pattern:/[\s\S]+/,inside:null}}},string:/[\s\S]+/}},keyword:{pattern:/(^|[^\w$])(?:for|if|import|in|let|null|package)(?![\w$])/,lookbehind:!0},boolean:{pattern:/(^|[^\w$])(?:false|true)(?![\w$])/,lookbehind:!0},builtin:{pattern:/(^|[^\w$])(?:bool|bytes|float|float(?:32|64)|u?int(?:8|16|32|64|128)?|number|rune|string)(?![\w$])/,lookbehind:!0},attribute:{pattern:/@[\w$]+(?=\s*\()/,alias:"function"},function:{pattern:/(^|[^\w$])[a-z_$][\w$]*(?=\s*\()/i,lookbehind:!0},number:{pattern:/(^|[^\w$.])(?:0b[01]+(?:_[01]+)*|0o[0-7]+(?:_[0-7]+)*|0[xX][0-9A-Fa-f]+(?:_[0-9A-Fa-f]+)*|(?:\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\.\d+(?:_\d+)*)(?:[eE][+-]?\d+(?:_\d+)*)?(?:[KMGTP]i?)?)(?![\w$])/,lookbehind:!0},operator:/\.{3}|_\|_|&&?|\|\|?|[=!]~|[<>=!]=?|[+\-*/?]/,punctuation:/[()[\]{},.:]/},t.languages.cue["string-literal"].inside.interpolation.inside.expression.inside=t.languages.cue})(e)}iv.displayName="cypher";iv.aliases=[];function iv(e){e.languages.cypher={comment:/\/\/.*/,string:{pattern:/"(?:[^"\\\r\n]|\\.)*"|'(?:[^'\\\r\n]|\\.)*'/,greedy:!0},"class-name":{pattern:/(:\s*)(?:\w+|`(?:[^`\\\r\n])*`)(?=\s*[{):])/,lookbehind:!0,greedy:!0},relationship:{pattern:/(-\[\s*(?:\w+\s*|`(?:[^`\\\r\n])*`\s*)?:\s*|\|\s*:\s*)(?:\w+|`(?:[^`\\\r\n])*`)/,lookbehind:!0,greedy:!0,alias:"property"},identifier:{pattern:/`(?:[^`\\\r\n])*`/,greedy:!0},variable:/\$\w+/,keyword:/\b(?:ADD|ALL|AND|AS|ASC|ASCENDING|ASSERT|BY|CALL|CASE|COMMIT|CONSTRAINT|CONTAINS|CREATE|CSV|DELETE|DESC|DESCENDING|DETACH|DISTINCT|DO|DROP|ELSE|END|ENDS|EXISTS|FOR|FOREACH|IN|INDEX|IS|JOIN|KEY|LIMIT|LOAD|MANDATORY|MATCH|MERGE|NODE|NOT|OF|ON|OPTIONAL|OR|ORDER(?=\s+BY)|PERIODIC|REMOVE|REQUIRE|RETURN|SCALAR|SCAN|SET|SKIP|START|STARTS|THEN|UNION|UNIQUE|UNWIND|USING|WHEN|WHERE|WITH|XOR|YIELD)\b/i,function:/\b\w+\b(?=\s*\()/,boolean:/\b(?:false|null|true)\b/i,number:/\b(?:0x[\da-fA-F]+|\d+(?:\.\d+)?(?:[eE][+-]?\d+)?)\b/,operator:/:|<--?|--?>?|<>|=~?|[<>]=?|[+*/%^|]|\.\.\.?/,punctuation:/[()[\]{},;.]/}}ov.displayName="d";ov.aliases=[];function ov(e){e.register(at),e.languages.d=e.languages.extend("clike",{comment:[{pattern:/^\s*#!.+/,greedy:!0},{pattern:RegExp(/(^|[^\\])/.source+"(?:"+[/\/\+(?:\/\+(?:[^+]|\+(?!\/))*\+\/|(?!\/\+)[\s\S])*?\+\//.source,/\/\/.*/.source,/\/\*[\s\S]*?\*\//.source].join("|")+")"),lookbehind:!0,greedy:!0}],string:[{pattern:RegExp([/\b[rx]"(?:\\[\s\S]|[^\\"])*"[cwd]?/.source,/\bq"(?:\[[\s\S]*?\]|\([\s\S]*?\)|<[\s\S]*?>|\{[\s\S]*?\})"/.source,/\bq"((?!\d)\w+)$[\s\S]*?^\1"/.source,/\bq"(.)[\s\S]*?\2"/.source,/(["`])(?:\\[\s\S]|(?!\3)[^\\])*\3[cwd]?/.source].join("|"),"m"),greedy:!0},{pattern:/\bq\{(?:\{[^{}]*\}|[^{}])*\}/,greedy:!0,alias:"token-string"}],keyword:/\$|\b(?:__(?:(?:DATE|EOF|FILE|FUNCTION|LINE|MODULE|PRETTY_FUNCTION|TIMESTAMP|TIME|VENDOR|VERSION)__|gshared|parameters|traits|vector)|abstract|alias|align|asm|assert|auto|body|bool|break|byte|case|cast|catch|cdouble|cent|cfloat|char|class|const|continue|creal|dchar|debug|default|delegate|delete|deprecated|do|double|dstring|else|enum|export|extern|false|final|finally|float|for|foreach|foreach_reverse|function|goto|idouble|if|ifloat|immutable|import|inout|int|interface|invariant|ireal|lazy|long|macro|mixin|module|new|nothrow|null|out|override|package|pragma|private|protected|ptrdiff_t|public|pure|real|ref|return|scope|shared|short|size_t|static|string|struct|super|switch|synchronized|template|this|throw|true|try|typedef|typeid|typeof|ubyte|ucent|uint|ulong|union|unittest|ushort|version|void|volatile|wchar|while|with|wstring)\b/,number:[/\b0x\.?[a-f\d_]+(?:(?!\.\.)\.[a-f\d_]*)?(?:p[+-]?[a-f\d_]+)?[ulfi]{0,4}/i,{pattern:/((?:\.\.)?)(?:\b0b\.?|\b|\.)\d[\d_]*(?:(?!\.\.)\.[\d_]*)?(?:e[+-]?\d[\d_]*)?[ulfi]{0,4}/i,lookbehind:!0}],operator:/\|[|=]?|&[&=]?|\+[+=]?|-[-=]?|\.?\.\.|=[>=]?|!(?:i[ns]\b|<>?=?|>=?|=)?|\bi[ns]\b|(?:<[<>]?|>>?>?|\^\^|[*\/%^~])=?/}),e.languages.insertBefore("d","string",{char:/'(?:\\(?:\W|\w+)|[^\\])'/}),e.languages.insertBefore("d","keyword",{property:/\B@\w*/}),e.languages.insertBefore("d","function",{register:{pattern:/\b(?:[ABCD][LHX]|E?(?:BP|DI|SI|SP)|[BS]PL|[ECSDGF]S|CR[0234]|[DS]IL|DR[012367]|E[ABCD]X|X?MM[0-7]|R(?:1[0-5]|[89])[BWD]?|R[ABCD]X|R[BS]P|R[DS]I|TR[3-7]|XMM(?:1[0-5]|[89])|YMM(?:1[0-5]|\d))\b|\bST(?:\([0-7]\)|\b)/,alias:"variable"}})}lv.displayName="dart";lv.aliases=[];function lv(e){e.register(at),function(t){var n=[/\b(?:async|sync|yield)\*/,/\b(?:abstract|assert|async|await|break|case|catch|class|const|continue|covariant|default|deferred|do|dynamic|else|enum|export|extends|extension|external|factory|final|finally|for|get|hide|if|implements|import|in|interface|library|mixin|new|null|on|operator|part|rethrow|return|set|show|static|super|switch|sync|this|throw|try|typedef|var|void|while|with|yield)\b/],r=/(^|[^\w.])(?:[a-z]\w*\s*\.\s*)*(?:[A-Z]\w*\s*\.\s*)*/.source,a={pattern:RegExp(r+/[A-Z](?:[\d_A-Z]*[a-z]\w*)?\b/.source),lookbehind:!0,inside:{namespace:{pattern:/^[a-z]\w*(?:\s*\.\s*[a-z]\w*)*(?:\s*\.)?/,inside:{punctuation:/\./}}}};t.languages.dart=t.languages.extend("clike",{"class-name":[a,{pattern:RegExp(r+/[A-Z]\w*(?=\s+\w+\s*[;,=()])/.source),lookbehind:!0,inside:a.inside}],keyword:n,operator:/\bis!|\b(?:as|is)\b|\+\+|--|&&|\|\||<<=?|>>=?|~(?:\/=?)?|[+\-*\/%&^|=!<>]=?|\?/}),t.languages.insertBefore("dart","string",{"string-literal":{pattern:/r?(?:("""|''')[\s\S]*?\1|(["'])(?:\\.|(?!\2)[^\\\r\n])*\2(?!\2))/,greedy:!0,inside:{interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$(?:\w+|\{(?:[^{}]|\{[^{}]*\})*\})/,lookbehind:!0,inside:{punctuation:/^\$\{?|\}$/,expression:{pattern:/[\s\S]+/,inside:t.languages.dart}}},string:/[\s\S]+/}},string:void 0}),t.languages.insertBefore("dart","class-name",{metadata:{pattern:/@\w+/,alias:"function"}}),t.languages.insertBefore("dart","class-name",{generics:{pattern:/<(?:[\w\s,.&?]|<(?:[\w\s,.&?]|<(?:[\w\s,.&?]|<[\w\s,.&?]*>)*>)*>)*>/,inside:{"class-name":a,keyword:n,punctuation:/[<>(),.:]/,operator:/[?&|]/}}})}(e)}uv.displayName="dataweave";uv.aliases=[];function uv(e){(function(t){t.languages.dataweave={url:/\b[A-Za-z]+:\/\/[\w/:.?=&-]+|\burn:[\w:.?=&-]+/,property:{pattern:/(?:\b\w+#)?(?:"(?:\\.|[^\\"\r\n])*"|\b\w+)(?=\s*[:@])/,greedy:!0},string:{pattern:/(["'`])(?:\\[\s\S]|(?!\1)[^\\])*\1/,greedy:!0},"mime-type":/\b(?:application|audio|image|multipart|text|video)\/[\w+-]+/,date:{pattern:/\|[\w:+-]+\|/,greedy:!0},comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],regex:{pattern:/\/(?:[^\\\/\r\n]|\\[^\r\n])+\//,greedy:!0},keyword:/\b(?:and|as|at|case|do|else|fun|if|input|is|match|not|ns|null|or|output|type|unless|update|using|var)\b/,function:/\b[A-Z_]\w*(?=\s*\()/i,number:/-?\b\d+(?:\.\d+)?(?:e[+-]?\d+)?\b/i,punctuation:/[{}[\];(),.:@]/,operator:/<<|>>|->|[<>~=]=?|!=|--?-?|\+\+?|!|\?/,boolean:/\b(?:false|true)\b/}})(e)}cv.displayName="dax";cv.aliases=[];function cv(e){e.languages.dax={comment:{pattern:/(^|[^\\])(?:\/\*[\s\S]*?\*\/|(?:--|\/\/).*)/,lookbehind:!0},"data-field":{pattern:/'(?:[^']|'')*'(?!')(?:\[[ \w\xA0-\uFFFF]+\])?|\w+\[[ \w\xA0-\uFFFF]+\]/,alias:"symbol"},measure:{pattern:/\[[ \w\xA0-\uFFFF]+\]/,alias:"constant"},string:{pattern:/"(?:[^"]|"")*"(?!")/,greedy:!0},function:/\b(?:ABS|ACOS|ACOSH|ACOT|ACOTH|ADDCOLUMNS|ADDMISSINGITEMS|ALL|ALLCROSSFILTERED|ALLEXCEPT|ALLNOBLANKROW|ALLSELECTED|AND|APPROXIMATEDISTINCTCOUNT|ASIN|ASINH|ATAN|ATANH|AVERAGE|AVERAGEA|AVERAGEX|BETA\.DIST|BETA\.INV|BLANK|CALCULATE|CALCULATETABLE|CALENDAR|CALENDARAUTO|CEILING|CHISQ\.DIST|CHISQ\.DIST\.RT|CHISQ\.INV|CHISQ\.INV\.RT|CLOSINGBALANCEMONTH|CLOSINGBALANCEQUARTER|CLOSINGBALANCEYEAR|COALESCE|COMBIN|COMBINA|COMBINEVALUES|CONCATENATE|CONCATENATEX|CONFIDENCE\.NORM|CONFIDENCE\.T|CONTAINS|CONTAINSROW|CONTAINSSTRING|CONTAINSSTRINGEXACT|CONVERT|COS|COSH|COT|COTH|COUNT|COUNTA|COUNTAX|COUNTBLANK|COUNTROWS|COUNTX|CROSSFILTER|CROSSJOIN|CURRENCY|CURRENTGROUP|CUSTOMDATA|DATATABLE|DATE|DATEADD|DATEDIFF|DATESBETWEEN|DATESINPERIOD|DATESMTD|DATESQTD|DATESYTD|DATEVALUE|DAY|DEGREES|DETAILROWS|DISTINCT|DISTINCTCOUNT|DISTINCTCOUNTNOBLANK|DIVIDE|EARLIER|EARLIEST|EDATE|ENDOFMONTH|ENDOFQUARTER|ENDOFYEAR|EOMONTH|ERROR|EVEN|EXACT|EXCEPT|EXP|EXPON\.DIST|FACT|FALSE|FILTER|FILTERS|FIND|FIRSTDATE|FIRSTNONBLANK|FIRSTNONBLANKVALUE|FIXED|FLOOR|FORMAT|GCD|GENERATE|GENERATEALL|GENERATESERIES|GEOMEAN|GEOMEANX|GROUPBY|HASONEFILTER|HASONEVALUE|HOUR|IF|IF\.EAGER|IFERROR|IGNORE|INT|INTERSECT|ISBLANK|ISCROSSFILTERED|ISEMPTY|ISERROR|ISEVEN|ISFILTERED|ISINSCOPE|ISLOGICAL|ISNONTEXT|ISNUMBER|ISO\.CEILING|ISODD|ISONORAFTER|ISSELECTEDMEASURE|ISSUBTOTAL|ISTEXT|KEEPFILTERS|KEYWORDMATCH|LASTDATE|LASTNONBLANK|LASTNONBLANKVALUE|LCM|LEFT|LEN|LN|LOG|LOG10|LOOKUPVALUE|LOWER|MAX|MAXA|MAXX|MEDIAN|MEDIANX|MID|MIN|MINA|MINUTE|MINX|MOD|MONTH|MROUND|NATURALINNERJOIN|NATURALLEFTOUTERJOIN|NEXTDAY|NEXTMONTH|NEXTQUARTER|NEXTYEAR|NONVISUAL|NORM\.DIST|NORM\.INV|NORM\.S\.DIST|NORM\.S\.INV|NOT|NOW|ODD|OPENINGBALANCEMONTH|OPENINGBALANCEQUARTER|OPENINGBALANCEYEAR|OR|PARALLELPERIOD|PATH|PATHCONTAINS|PATHITEM|PATHITEMREVERSE|PATHLENGTH|PERCENTILE\.EXC|PERCENTILE\.INC|PERCENTILEX\.EXC|PERCENTILEX\.INC|PERMUT|PI|POISSON\.DIST|POWER|PREVIOUSDAY|PREVIOUSMONTH|PREVIOUSQUARTER|PREVIOUSYEAR|PRODUCT|PRODUCTX|QUARTER|QUOTIENT|RADIANS|RAND|RANDBETWEEN|RANK\.EQ|RANKX|RELATED|RELATEDTABLE|REMOVEFILTERS|REPLACE|REPT|RIGHT|ROLLUP|ROLLUPADDISSUBTOTAL|ROLLUPGROUP|ROLLUPISSUBTOTAL|ROUND|ROUNDDOWN|ROUNDUP|ROW|SAMEPERIODLASTYEAR|SAMPLE|SEARCH|SECOND|SELECTCOLUMNS|SELECTEDMEASURE|SELECTEDMEASUREFORMATSTRING|SELECTEDMEASURENAME|SELECTEDVALUE|SIGN|SIN|SINH|SQRT|SQRTPI|STARTOFMONTH|STARTOFQUARTER|STARTOFYEAR|STDEV\.P|STDEV\.S|STDEVX\.P|STDEVX\.S|SUBSTITUTE|SUBSTITUTEWITHINDEX|SUM|SUMMARIZE|SUMMARIZECOLUMNS|SUMX|SWITCH|T\.DIST|T\.DIST\.2T|T\.DIST\.RT|T\.INV|T\.INV\.2T|TAN|TANH|TIME|TIMEVALUE|TODAY|TOPN|TOPNPERLEVEL|TOPNSKIP|TOTALMTD|TOTALQTD|TOTALYTD|TREATAS|TRIM|TRUE|TRUNC|UNICHAR|UNICODE|UNION|UPPER|USERELATIONSHIP|USERNAME|USEROBJECTID|USERPRINCIPALNAME|UTCNOW|UTCTODAY|VALUE|VALUES|VAR\.P|VAR\.S|VARX\.P|VARX\.S|WEEKDAY|WEEKNUM|XIRR|XNPV|YEAR|YEARFRAC)(?=\s*\()/i,keyword:/\b(?:DEFINE|EVALUATE|MEASURE|ORDER\s+BY|RETURN|VAR|START\s+AT|ASC|DESC)\b/i,boolean:{pattern:/\b(?:FALSE|NULL|TRUE)\b/i,alias:"constant"},number:/\b\d+(?:\.\d*)?|\B\.\d+\b/,operator:/:=|[-+*\/=^]|&&?|\|\||<(?:=>?|<|>)?|>[>=]?|\b(?:IN|NOT)\b/i,punctuation:/[;\[\](){}`,.]/}}dv.displayName="dhall";dv.aliases=[];function dv(e){e.languages.dhall={comment:/--.*|\{-(?:[^-{]|-(?!\})|\{(?!-)|\{-(?:[^-{]|-(?!\})|\{(?!-))*-\})*-\}/,string:{pattern:/"(?:[^"\\]|\\.)*"|''(?:[^']|'(?!')|'''|''\$\{)*''(?!'|\$)/,greedy:!0,inside:{interpolation:{pattern:/\$\{[^{}]*\}/,inside:{expression:{pattern:/(^\$\{)[\s\S]+(?=\}$)/,lookbehind:!0,alias:"language-dhall",inside:null},punctuation:/\$\{|\}/}}}},label:{pattern:/`[^`]*`/,greedy:!0},url:{pattern:/\bhttps?:\/\/[\w.:%!$&'*+;=@~-]+(?:\/[\w.:%!$&'*+;=@~-]*)*(?:\?[/?\w.:%!$&'*+;=@~-]*)?/,greedy:!0},env:{pattern:/\benv:(?:(?!\d)\w+|"(?:[^"\\=]|\\.)*")/,greedy:!0,inside:{function:/^env/,operator:/^:/,variable:/[\s\S]+/}},hash:{pattern:/\bsha256:[\da-fA-F]{64}\b/,inside:{function:/sha256/,operator:/:/,number:/[\da-fA-F]{64}/}},keyword:/\b(?:as|assert|else|forall|if|in|let|merge|missing|then|toMap|using|with)\b|\u2200/,builtin:/\b(?:None|Some)\b/,boolean:/\b(?:False|True)\b/,number:/\bNaN\b|-?\bInfinity\b|[+-]?\b(?:0x[\da-fA-F]+|\d+(?:\.\d+)?(?:e[+-]?\d+)?)\b/,operator:/\/\\|\/\/\\\\|&&|\|\||===|[!=]=|\/\/|->|\+\+|::|[+*#@=:?<>|\\\u2227\u2a53\u2261\u2afd\u03bb\u2192]/,punctuation:/\.\.|[{}\[\](),./]/,"class-name":/\b[A-Z]\w*\b/},e.languages.dhall.string.inside.interpolation.inside.expression.inside=e.languages.dhall}pv.displayName="django";pv.aliases=["jinja2"];function pv(e){e.register(Rn),function(t){t.languages.django={comment:/^\{#[\s\S]*?#\}$/,tag:{pattern:/(^\{%[+-]?\s*)\w+/,lookbehind:!0,alias:"keyword"},delimiter:{pattern:/^\{[{%][+-]?|[+-]?[}%]\}$/,alias:"punctuation"},string:{pattern:/("|')(?:\\.|(?!\1)[^\\\r\n])*\1/,greedy:!0},filter:{pattern:/(\|)\w+/,lookbehind:!0,alias:"function"},test:{pattern:/(\bis\s+(?:not\s+)?)(?!not\b)\w+/,lookbehind:!0,alias:"function"},function:/\b[a-z_]\w+(?=\s*\()/i,keyword:/\b(?:and|as|by|else|for|if|import|in|is|loop|not|or|recursive|with|without)\b/,operator:/[-+%=]=?|!=|\*\*?=?|\/\/?=?|<[<=>]?|>[=>]?|[&|^~]/,number:/\b\d+(?:\.\d+)?\b/,boolean:/[Ff]alse|[Nn]one|[Tt]rue/,variable:/\b\w+\b/,punctuation:/[{}[\](),.:;]/};var n=/\{\{[\s\S]*?\}\}|\{%[\s\S]*?%\}|\{#[\s\S]*?#\}/g,r=t.languages["markup-templating"];t.hooks.add("before-tokenize",function(a){r.buildPlaceholders(a,"django",n)}),t.hooks.add("after-tokenize",function(a){r.tokenizePlaceholders(a,"django")}),t.languages.jinja2=t.languages.django,t.hooks.add("before-tokenize",function(a){r.buildPlaceholders(a,"jinja2",n)}),t.hooks.add("after-tokenize",function(a){r.tokenizePlaceholders(a,"jinja2")})}(e)}hv.displayName="dns-zone-file";hv.aliases=["dns-zone"];function hv(e){e.languages["dns-zone-file"]={comment:/;.*/,string:{pattern:/"(?:\\.|[^"\\\r\n])*"/,greedy:!0},variable:[{pattern:/(^\$ORIGIN[ \t]+)\S+/m,lookbehind:!0},{pattern:/(^|\s)@(?=\s|$)/,lookbehind:!0}],keyword:/^\$(?:INCLUDE|ORIGIN|TTL)(?=\s|$)/m,class:{pattern:/(^|\s)(?:CH|CS|HS|IN)(?=\s|$)/,lookbehind:!0,alias:"keyword"},type:{pattern:/(^|\s)(?:A|A6|AAAA|AFSDB|APL|ATMA|CAA|CDNSKEY|CDS|CERT|CNAME|DHCID|DLV|DNAME|DNSKEY|DS|EID|GID|GPOS|HINFO|HIP|IPSECKEY|ISDN|KEY|KX|LOC|MAILA|MAILB|MB|MD|MF|MG|MINFO|MR|MX|NAPTR|NB|NBSTAT|NIMLOC|NINFO|NS|NSAP|NSAP-PTR|NSEC|NSEC3|NSEC3PARAM|NULL|NXT|OPENPGPKEY|PTR|PX|RKEY|RP|RRSIG|RT|SIG|SINK|SMIMEA|SOA|SPF|SRV|SSHFP|TA|TKEY|TLSA|TSIG|TXT|UID|UINFO|UNSPEC|URI|WKS|X25)(?=\s|$)/,lookbehind:!0,alias:"keyword"},punctuation:/[()]/},e.languages["dns-zone"]=e.languages["dns-zone-file"]}fv.displayName="docker";fv.aliases=["dockerfile"];function fv(e){(function(t){var n=/\\[\r\n](?:\s|\\[\r\n]|#.*(?!.))*(?![\s#]|\\[\r\n])/.source,r=/(?:[ \t]+(?![ \t])(?:<SP_BS>)?|<SP_BS>)/.source.replace(/<SP_BS>/g,function(){return n}),a=/"(?:[^"\\\r\n]|\\(?:\r\n|[\s\S]))*"|'(?:[^'\\\r\n]|\\(?:\r\n|[\s\S]))*'/.source,i=/--[\w-]+=(?:<STR>|(?!["'])(?:[^\s\\]|\\.)+)/.source.replace(/<STR>/g,function(){return a}),o={pattern:RegExp(a),greedy:!0},l={pattern:/(^[ \t]*)#.*/m,lookbehind:!0,greedy:!0};function u(c,d){return c=c.replace(/<OPT>/g,function(){return i}).replace(/<SP>/g,function(){return r}),RegExp(c,d)}t.languages.docker={instruction:{pattern:/(^[ \t]*)(?:ADD|ARG|CMD|COPY|ENTRYPOINT|ENV|EXPOSE|FROM|HEALTHCHECK|LABEL|MAINTAINER|ONBUILD|RUN|SHELL|STOPSIGNAL|USER|VOLUME|WORKDIR)(?=\s)(?:\\.|[^\r\n\\])*(?:\\$(?:\s|#.*$)*(?![\s#])(?:\\.|[^\r\n\\])*)*/im,lookbehind:!0,greedy:!0,inside:{options:{pattern:u(/(^(?:ONBUILD<SP>)?\w+<SP>)<OPT>(?:<SP><OPT>)*/.source,"i"),lookbehind:!0,greedy:!0,inside:{property:{pattern:/(^|\s)--[\w-]+/,lookbehind:!0},string:[o,{pattern:/(=)(?!["'])(?:[^\s\\]|\\.)+/,lookbehind:!0}],operator:/\\$/m,punctuation:/=/}},keyword:[{pattern:u(/(^(?:ONBUILD<SP>)?HEALTHCHECK<SP>(?:<OPT><SP>)*)(?:CMD|NONE)\b/.source,"i"),lookbehind:!0,greedy:!0},{pattern:u(/(^(?:ONBUILD<SP>)?FROM<SP>(?:<OPT><SP>)*(?!--)[^ \t\\]+<SP>)AS/.source,"i"),lookbehind:!0,greedy:!0},{pattern:u(/(^ONBUILD<SP>)\w+/.source,"i"),lookbehind:!0,greedy:!0},{pattern:/^\w+/,greedy:!0}],comment:l,string:o,variable:/\$(?:\w+|\{[^{}"'\\]*\})/,operator:/\\$/m}},comment:l},t.languages.dockerfile=t.languages.docker})(e)}mv.displayName="dot";mv.aliases=["gv"];function mv(e){(function(t){var n="(?:"+[/[a-zA-Z_\x80-\uFFFF][\w\x80-\uFFFF]*/.source,/-?(?:\.\d+|\d+(?:\.\d*)?)/.source,/"[^"\\]*(?:\\[\s\S][^"\\]*)*"/.source,/<(?:[^<>]|(?!<!--)<(?:[^<>"']|"[^"]*"|'[^']*')+>|<!--(?:[^-]|-(?!->))*-->)*>/.source].join("|")+")",r={markup:{pattern:/(^<)[\s\S]+(?=>$)/,lookbehind:!0,alias:["language-markup","language-html","language-xml"],inside:t.languages.markup}};function a(i,o){return RegExp(i.replace(/<ID>/g,function(){return n}),o)}t.languages.dot={comment:{pattern:/\/\/.*|\/\*[\s\S]*?\*\/|^#.*/m,greedy:!0},"graph-name":{pattern:a(/(\b(?:digraph|graph|subgraph)[ \t\r\n]+)<ID>/.source,"i"),lookbehind:!0,greedy:!0,alias:"class-name",inside:r},"attr-value":{pattern:a(/(=[ \t\r\n]*)<ID>/.source),lookbehind:!0,greedy:!0,inside:r},"attr-name":{pattern:a(/([\[;, \t\r\n])<ID>(?=[ \t\r\n]*=)/.source),lookbehind:!0,greedy:!0,inside:r},keyword:/\b(?:digraph|edge|graph|node|strict|subgraph)\b/i,"compass-point":{pattern:/(:[ \t\r\n]*)(?:[ewc_]|[ns][ew]?)(?![\w\x80-\uFFFF])/,lookbehind:!0,alias:"builtin"},node:{pattern:a(/(^|[^-.\w\x80-\uFFFF\\])<ID>/.source),lookbehind:!0,greedy:!0,inside:r},operator:/[=:]|-[->]/,punctuation:/[\[\]{};,]/},t.languages.gv=t.languages.dot})(e)}gv.displayName="ebnf";gv.aliases=[];function gv(e){e.languages.ebnf={comment:/\(\*[\s\S]*?\*\)/,string:{pattern:/"[^"\r\n]*"|'[^'\r\n]*'/,greedy:!0},special:{pattern:/\?[^?\r\n]*\?/,greedy:!0,alias:"class-name"},definition:{pattern:/^([\t ]*)[a-z]\w*(?:[ \t]+[a-z]\w*)*(?=\s*=)/im,lookbehind:!0,alias:["rule","keyword"]},rule:/\b[a-z]\w*(?:[ \t]+[a-z]\w*)*\b/i,punctuation:/\([:/]|[:/]\)|[.,;()[\]{}]/,operator:/[-=|*/!]/}}bv.displayName="editorconfig";bv.aliases=[];function bv(e){e.languages.editorconfig={comment:/[;#].*/,section:{pattern:/(^[ \t]*)\[.+\]/m,lookbehind:!0,alias:"selector",inside:{regex:/\\\\[\[\]{},!?.*]/,operator:/[!?]|\.\.|\*{1,2}/,punctuation:/[\[\]{},]/}},key:{pattern:/(^[ \t]*)[^\s=]+(?=[ \t]*=)/m,lookbehind:!0,alias:"attr-name"},value:{pattern:/=.*/,alias:"attr-value",inside:{punctuation:/^=/}}}}yv.displayName="eiffel";yv.aliases=[];function yv(e){e.languages.eiffel={comment:/--.*/,string:[{pattern:/"([^[]*)\[[\s\S]*?\]\1"/,greedy:!0},{pattern:/"([^{]*)\{[\s\S]*?\}\1"/,greedy:!0},{pattern:/"(?:%(?:(?!\n)\s)*\n\s*%|%\S|[^%"\r\n])*"/,greedy:!0}],char:/'(?:%.|[^%'\r\n])+'/,keyword:/\b(?:across|agent|alias|all|and|as|assign|attached|attribute|check|class|convert|create|Current|debug|deferred|detachable|do|else|elseif|end|ensure|expanded|export|external|feature|from|frozen|if|implies|inherit|inspect|invariant|like|local|loop|not|note|obsolete|old|once|or|Precursor|redefine|rename|require|rescue|Result|retry|select|separate|some|then|undefine|until|variant|Void|when|xor)\b/i,boolean:/\b(?:False|True)\b/i,"class-name":/\b[A-Z][\dA-Z_]*\b/,number:[/\b0[xcb][\da-f](?:_*[\da-f])*\b/i,/(?:\b\d(?:_*\d)*)?\.(?:(?:\d(?:_*\d)*)?e[+-]?)?\d(?:_*\d)*\b|\b\d(?:_*\d)*\b\.?/i],punctuation:/:=|<<|>>|\(\||\|\)|->|\.(?=\w)|[{}[\];(),:?]/,operator:/\\\\|\|\.\.\||\.\.|\/[~\/=]?|[><]=?|[-+*^=~]/}}xv.displayName="ejs";xv.aliases=["eta"];function xv(e){e.register(In),e.register(Rn),function(t){t.languages.ejs={delimiter:{pattern:/^<%[-_=]?|[-_]?%>$/,alias:"punctuation"},comment:/^#[\s\S]*/,"language-javascript":{pattern:/[\s\S]+/,inside:t.languages.javascript}},t.hooks.add("before-tokenize",function(n){var r=/<%(?!%)[\s\S]+?%>/g;t.languages["markup-templating"].buildPlaceholders(n,"ejs",r)}),t.hooks.add("after-tokenize",function(n){t.languages["markup-templating"].tokenizePlaceholders(n,"ejs")}),t.languages.eta=t.languages.ejs}(e)}vv.displayName="elixir";vv.aliases=[];function vv(e){e.languages.elixir={doc:{pattern:/@(?:doc|moduledoc)\s+(?:("""|''')[\s\S]*?\1|("|')(?:\\(?:\r\n|[\s\S])|(?!\2)[^\\\r\n])*\2)/,inside:{attribute:/^@\w+/,string:/['"][\s\S]+/}},comment:{pattern:/#.*/,greedy:!0},regex:{pattern:/~[rR](?:("""|''')(?:\\[\s\S]|(?!\1)[^\\])+\1|([\/|"'])(?:\\.|(?!\2)[^\\\r\n])+\2|\((?:\\.|[^\\)\r\n])+\)|\[(?:\\.|[^\\\]\r\n])+\]|\{(?:\\.|[^\\}\r\n])+\}|<(?:\\.|[^\\>\r\n])+>)[uismxfr]*/,greedy:!0},string:[{pattern:/~[cCsSwW](?:("""|''')(?:\\[\s\S]|(?!\1)[^\\])+\1|([\/|"'])(?:\\.|(?!\2)[^\\\r\n])+\2|\((?:\\.|[^\\)\r\n])+\)|\[(?:\\.|[^\\\]\r\n])+\]|\{(?:\\.|#\{[^}]+\}|#(?!\{)|[^#\\}\r\n])+\}|<(?:\\.|[^\\>\r\n])+>)[csa]?/,greedy:!0,inside:{}},{pattern:/("""|''')[\s\S]*?\1/,greedy:!0,inside:{}},{pattern:/("|')(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0,inside:{}}],atom:{pattern:/(^|[^:]):\w+/,lookbehind:!0,alias:"symbol"},module:{pattern:/\b[A-Z]\w*\b/,alias:"class-name"},"attr-name":/\b\w+\??:(?!:)/,argument:{pattern:/(^|[^&])&\d+/,lookbehind:!0,alias:"variable"},attribute:{pattern:/@\w+/,alias:"variable"},function:/\b[_a-zA-Z]\w*[?!]?(?:(?=\s*(?:\.\s*)?\()|(?=\/\d))/,number:/\b(?:0[box][a-f\d_]+|\d[\d_]*)(?:\.[\d_]+)?(?:e[+-]?[\d_]+)?\b/i,keyword:/\b(?:after|alias|and|case|catch|cond|def(?:callback|delegate|exception|impl|macro|module|n|np|p|protocol|struct)?|do|else|end|fn|for|if|import|not|or|quote|raise|require|rescue|try|unless|unquote|use|when)\b/,boolean:/\b(?:false|nil|true)\b/,operator:[/\bin\b|&&?|\|[|>]?|\\\\|::|\.\.\.?|\+\+?|-[->]?|<[-=>]|>=|!==?|\B!|=(?:==?|[>~])?|[*\/^]/,{pattern:/([^<])<(?!<)/,lookbehind:!0},{pattern:/([^>])>(?!>)/,lookbehind:!0}],punctuation:/<<|>>|[.,%\[\]{}()]/},e.languages.elixir.string.forEach(function(t){t.inside={interpolation:{pattern:/#\{[^}]+\}/,inside:{delimiter:{pattern:/^#\{|\}$/,alias:"punctuation"},rest:e.languages.elixir}}}})}Ev.displayName="elm";Ev.aliases=[];function Ev(e){e.languages.elm={comment:/--.*|\{-[\s\S]*?-\}/,char:{pattern:/'(?:[^\\'\r\n]|\\(?:[abfnrtv\\']|\d+|x[0-9a-fA-F]+|u\{[0-9a-fA-F]+\}))'/,greedy:!0},string:[{pattern:/"""[\s\S]*?"""/,greedy:!0},{pattern:/"(?:[^\\"\r\n]|\\.)*"/,greedy:!0}],"import-statement":{pattern:/(^[\t ]*)import\s+[A-Z]\w*(?:\.[A-Z]\w*)*(?:\s+as\s+(?:[A-Z]\w*)(?:\.[A-Z]\w*)*)?(?:\s+exposing\s+)?/m,lookbehind:!0,inside:{keyword:/\b(?:as|exposing|import)\b/}},keyword:/\b(?:alias|as|case|else|exposing|if|in|infixl|infixr|let|module|of|then|type)\b/,builtin:/\b(?:abs|acos|always|asin|atan|atan2|ceiling|clamp|compare|cos|curry|degrees|e|flip|floor|fromPolar|identity|isInfinite|isNaN|logBase|max|min|negate|never|not|pi|radians|rem|round|sin|sqrt|tan|toFloat|toPolar|toString|truncate|turns|uncurry|xor)\b/,number:/\b(?:\d+(?:\.\d+)?(?:e[+-]?\d+)?|0x[0-9a-f]+)\b/i,operator:/\s\.\s|[+\-/*=.$<>:&|^?%#@~!]{2,}|[+\-/*=$<>:&|^?%#@~!]/,hvariable:/\b(?:[A-Z]\w*\.)*[a-z]\w*\b/,constant:/\b(?:[A-Z]\w*\.)*[A-Z]\w*\b/,punctuation:/[{}[\]|(),.:]/}}wv.displayName="etlua";wv.aliases=[];function wv(e){e.register($d),e.register(Rn),function(t){t.languages.etlua={delimiter:{pattern:/^<%[-=]?|-?%>$/,alias:"punctuation"},"language-lua":{pattern:/[\s\S]+/,inside:t.languages.lua}},t.hooks.add("before-tokenize",function(n){var r=/<%[\s\S]+?%>/g;t.languages["markup-templating"].buildPlaceholders(n,"etlua",r)}),t.hooks.add("after-tokenize",function(n){t.languages["markup-templating"].tokenizePlaceholders(n,"etlua")})}(e)}Sv.displayName="erb";Sv.aliases=[];function Sv(e){e.register(Rn),e.register(No),function(t){t.languages.erb={delimiter:{pattern:/^(\s*)<%=?|%>(?=\s*$)/,lookbehind:!0,alias:"punctuation"},ruby:{pattern:/\s*\S[\s\S]*/,alias:"language-ruby",inside:t.languages.ruby}},t.hooks.add("before-tokenize",function(n){var r=/<%=?(?:[^\r\n]|[\r\n](?!=begin)|[\r\n]=begin\s(?:[^\r\n]|[\r\n](?!=end))*[\r\n]=end)+?%>/g;t.languages["markup-templating"].buildPlaceholders(n,"erb",r)}),t.hooks.add("after-tokenize",function(n){t.languages["markup-templating"].tokenizePlaceholders(n,"erb")})}(e)}Nv.displayName="erlang";Nv.aliases=[];function Nv(e){e.languages.erlang={comment:/%.+/,string:{pattern:/"(?:\\.|[^\\"\r\n])*"/,greedy:!0},"quoted-function":{pattern:/'(?:\\.|[^\\'\r\n])+'(?=\()/,alias:"function"},"quoted-atom":{pattern:/'(?:\\.|[^\\'\r\n])+'/,alias:"atom"},boolean:/\b(?:false|true)\b/,keyword:/\b(?:after|begin|case|catch|end|fun|if|of|receive|try|when)\b/,number:[/\$\\?./,/\b\d+#[a-z0-9]+/i,/(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?/i],function:/\b[a-z][\w@]*(?=\()/,variable:{pattern:/(^|[^@])(?:\b|\?)[A-Z_][\w@]*/,lookbehind:!0},operator:[/[=\/<>:]=|=[:\/]=|\+\+?|--?|[=*\/!]|\b(?:and|andalso|band|bnot|bor|bsl|bsr|bxor|div|not|or|orelse|rem|xor)\b/,{pattern:/(^|[^<])<(?!<)/,lookbehind:!0},{pattern:/(^|[^>])>(?!>)/,lookbehind:!0}],atom:/\b[a-z][\w@]*/,punctuation:/[()[\]{}:;,.#|]|<<|>>/}}kv.displayName="excel-formula";kv.aliases=["xls","xlsx"];function kv(e){e.languages["excel-formula"]={comment:{pattern:/(\bN\(\s*)"(?:[^"]|"")*"(?=\s*\))/i,lookbehind:!0,greedy:!0},string:{pattern:/"(?:[^"]|"")*"(?!")/,greedy:!0},reference:{pattern:/(?:'[^']*'|(?:[^\s()[\]{}<>*?"';,$&]*\[[^^\s()[\]{}<>*?"']+\])?\w+)!/,greedy:!0,alias:"string",inside:{operator:/!$/,punctuation:/'/,sheet:{pattern:/[^[\]]+$/,alias:"function"},file:{pattern:/\[[^[\]]+\]$/,inside:{punctuation:/[[\]]/}},path:/[\s\S]+/}},"function-name":{pattern:/\b[A-Z]\w*(?=\()/i,alias:"builtin"},range:{pattern:/\$?\b(?:[A-Z]+\$?\d+:\$?[A-Z]+\$?\d+|[A-Z]+:\$?[A-Z]+|\d+:\$?\d+)\b/i,alias:"selector",inside:{operator:/:/,cell:/\$?[A-Z]+\$?\d+/i,column:/\$?[A-Z]+/i,row:/\$?\d+/}},cell:{pattern:/\b[A-Z]+\d+\b|\$[A-Za-z]+\$?\d+\b|\b[A-Za-z]+\$\d+\b/,alias:"selector"},number:/(?:\b\d+(?:\.\d+)?|\B\.\d+)(?:e[+-]?\d+)?\b/i,boolean:/\b(?:FALSE|TRUE)\b/i,operator:/[-+*/^%=&,]|<[=>]?|>=?/,punctuation:/[[\]();{}|]/},e.languages.xlsx=e.languages.xls=e.languages["excel-formula"]}_v.displayName="fsharp";_v.aliases=[];function _v(e){e.register(at),e.languages.fsharp=e.languages.extend("clike",{comment:[{pattern:/(^|[^\\])\(\*(?!\))[\s\S]*?\*\)/,lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(?:"""[\s\S]*?"""|@"(?:""|[^"])*"|"(?:\\[\s\S]|[^\\"])*")B?/,greedy:!0},"class-name":{pattern:/(\b(?:exception|inherit|interface|new|of|type)\s+|\w\s*:\s*|\s:\??>\s*)[.\w]+\b(?:\s*(?:->|\*)\s*[.\w]+\b)*(?!\s*[:.])/,lookbehind:!0,inside:{operator:/->|\*/,punctuation:/\./}},keyword:/\b(?:let|return|use|yield)(?:!\B|\b)|\b(?:abstract|and|as|asr|assert|atomic|base|begin|break|checked|class|component|const|constraint|constructor|continue|default|delegate|do|done|downcast|downto|eager|elif|else|end|event|exception|extern|external|false|finally|fixed|for|fun|function|functor|global|if|in|include|inherit|inline|interface|internal|land|lazy|lor|lsl|lsr|lxor|match|member|method|mixin|mod|module|mutable|namespace|new|not|null|object|of|open|or|override|parallel|private|process|protected|public|pure|rec|sealed|select|sig|static|struct|tailcall|then|to|trait|true|try|type|upcast|val|virtual|void|volatile|when|while|with)\b/,number:[/\b0x[\da-fA-F]+(?:LF|lf|un)?\b/,/\b0b[01]+(?:uy|y)?\b/,/(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:[fm]|e[+-]?\d+)?\b/i,/\b\d+(?:[IlLsy]|UL|u[lsy]?)?\b/],operator:/([<>~&^])\1\1|([*.:<>&])\2|<-|->|[!=:]=|<?\|{1,3}>?|\??(?:<=|>=|<>|[-+*/%=<>])\??|[!?^&]|~[+~-]|:>|:\?>?/}),e.languages.insertBefore("fsharp","keyword",{preprocessor:{pattern:/(^[\t ]*)#.*/m,lookbehind:!0,alias:"property",inside:{directive:{pattern:/(^#)\b(?:else|endif|if|light|line|nowarn)\b/,lookbehind:!0,alias:"keyword"}}}}),e.languages.insertBefore("fsharp","punctuation",{"computation-expression":{pattern:/\b[_a-z]\w*(?=\s*\{)/i,alias:"keyword"}}),e.languages.insertBefore("fsharp","string",{annotation:{pattern:/\[<.+?>\]/,greedy:!0,inside:{punctuation:/^\[<|>\]$/,"class-name":{pattern:/^\w+$|(^|;\s*)[A-Z]\w*(?=\()/,lookbehind:!0},"annotation-content":{pattern:/[\s\S]+/,inside:e.languages.fsharp}}},char:{pattern:/'(?:[^\\']|\\(?:.|\d{3}|x[a-fA-F\d]{2}|u[a-fA-F\d]{4}|U[a-fA-F\d]{8}))'B?/,greedy:!0}})}Tv.displayName="factor";Tv.aliases=[];function Tv(e){(function(t){var n={function:/\b(?:BUGS?|FIX(?:MES?)?|NOTES?|TODOS?|XX+|HACKS?|WARN(?:ING)?|\?{2,}|!{2,})\b/},r={number:/\\[^\s']|%\w/},a={comment:[{pattern:/(^|\s)(?:! .*|!$)/,lookbehind:!0,inside:n},{pattern:/(^|\s)\/\*\s[\s\S]*?\*\/(?=\s|$)/,lookbehind:!0,greedy:!0,inside:n},{pattern:/(^|\s)!\[(={0,6})\[\s[\s\S]*?\]\2\](?=\s|$)/,lookbehind:!0,greedy:!0,inside:n}],number:[{pattern:/(^|\s)[+-]?\d+(?=\s|$)/,lookbehind:!0},{pattern:/(^|\s)[+-]?0(?:b[01]+|o[0-7]+|d\d+|x[\dA-F]+)(?=\s|$)/i,lookbehind:!0},{pattern:/(^|\s)[+-]?\d+\/\d+\.?(?=\s|$)/,lookbehind:!0},{pattern:/(^|\s)\+?\d+\+\d+\/\d+(?=\s|$)/,lookbehind:!0},{pattern:/(^|\s)-\d+-\d+\/\d+(?=\s|$)/,lookbehind:!0},{pattern:/(^|\s)[+-]?(?:\d*\.\d+|\d+\.\d*|\d+)(?:e[+-]?\d+)?(?=\s|$)/i,lookbehind:!0},{pattern:/(^|\s)NAN:\s+[\da-fA-F]+(?=\s|$)/,lookbehind:!0},{pattern:/(^|\s)[+-]?0(?:b1\.[01]*|o1\.[0-7]*|d1\.\d*|x1\.[\dA-F]*)p\d+(?=\s|$)/i,lookbehind:!0}],regexp:{pattern:/(^|\s)R\/\s(?:\\\S|[^\\/])*\/(?:[idmsr]*|[idmsr]+-[idmsr]+)(?=\s|$)/,lookbehind:!0,alias:"number",inside:{variable:/\\\S/,keyword:/[+?*\[\]^$(){}.|]/,operator:{pattern:/(\/)[idmsr]+(?:-[idmsr]+)?/,lookbehind:!0}}},boolean:{pattern:/(^|\s)[tf](?=\s|$)/,lookbehind:!0},"custom-string":{pattern:/(^|\s)[A-Z0-9\-]+"\s(?:\\\S|[^"\\])*"/,lookbehind:!0,greedy:!0,alias:"string",inside:{number:/\\\S|%\w|\//}},"multiline-string":[{pattern:/(^|\s)STRING:\s+\S+(?:\n|\r\n).*(?:\n|\r\n)\s*;(?=\s|$)/,lookbehind:!0,greedy:!0,alias:"string",inside:{number:r.number,"semicolon-or-setlocal":{pattern:/([\r\n][ \t]*);(?=\s|$)/,lookbehind:!0,alias:"function"}}},{pattern:/(^|\s)HEREDOC:\s+\S+(?:\n|\r\n).*(?:\n|\r\n)\s*\S+(?=\s|$)/,lookbehind:!0,greedy:!0,alias:"string",inside:r},{pattern:/(^|\s)\[(={0,6})\[\s[\s\S]*?\]\2\](?=\s|$)/,lookbehind:!0,greedy:!0,alias:"string",inside:r}],"special-using":{pattern:/(^|\s)USING:(?:\s\S+)*(?=\s+;(?:\s|$))/,lookbehind:!0,alias:"function",inside:{string:{pattern:/(\s)[^:\s]+/,lookbehind:!0}}},"stack-effect-delimiter":[{pattern:/(^|\s)(?:call|eval|execute)?\((?=\s)/,lookbehind:!0,alias:"operator"},{pattern:/(\s)--(?=\s)/,lookbehind:!0,alias:"operator"},{pattern:/(\s)\)(?=\s|$)/,lookbehind:!0,alias:"operator"}],combinators:{pattern:null,lookbehind:!0,alias:"keyword"},"kernel-builtin":{pattern:null,lookbehind:!0,alias:"variable"},"sequences-builtin":{pattern:null,lookbehind:!0,alias:"variable"},"math-builtin":{pattern:null,lookbehind:!0,alias:"variable"},"constructor-word":{pattern:/(^|\s)<(?!=+>|-+>)\S+>(?=\s|$)/,lookbehind:!0,alias:"keyword"},"other-builtin-syntax":{pattern:null,lookbehind:!0,alias:"operator"},"conventionally-named-word":{pattern:/(^|\s)(?!")(?:(?:change|new|set|with)-\S+|\$\S+|>[^>\s]+|[^:>\s]+>|[^>\s]+>[^>\s]+|\+[^+\s]+\+|[^?\s]+\?|\?[^?\s]+|[^>\s]+>>|>>[^>\s]+|[^<\s]+<<|\([^()\s]+\)|[^!\s]+!|[^*\s]\S*\*|[^.\s]\S*\.)(?=\s|$)/,lookbehind:!0,alias:"keyword"},"colon-syntax":{pattern:/(^|\s)(?:[A-Z0-9\-]+#?)?:{1,2}\s+(?:;\S+|(?!;)\S+)(?=\s|$)/,lookbehind:!0,greedy:!0,alias:"function"},"semicolon-or-setlocal":{pattern:/(\s)(?:;|:>)(?=\s|$)/,lookbehind:!0,alias:"function"},"curly-brace-literal-delimiter":[{pattern:/(^|\s)[a-z]*\{(?=\s)/i,lookbehind:!0,alias:"operator"},{pattern:/(\s)\}(?=\s|$)/,lookbehind:!0,alias:"operator"}],"quotation-delimiter":[{pattern:/(^|\s)\[(?=\s)/,lookbehind:!0,alias:"operator"},{pattern:/(\s)\](?=\s|$)/,lookbehind:!0,alias:"operator"}],"normal-word":{pattern:/(^|\s)[^"\s]\S*(?=\s|$)/,lookbehind:!0},string:{pattern:/"(?:\\\S|[^"\\])*"/,greedy:!0,inside:r}},i=function(c){return(c+"").replace(/([.?*+\^$\[\]\\(){}|\-])/g,"\\$1")},o=function(c){return new RegExp("(^|\\s)(?:"+c.map(i).join("|")+")(?=\\s|$)")},l={"kernel-builtin":["or","2nipd","4drop","tuck","wrapper","nip","wrapper?","callstack>array","die","dupd","callstack","callstack?","3dup","hashcode","pick","4nip","build",">boolean","nipd","clone","5nip","eq?","?","=","swapd","2over","clear","2dup","get-retainstack","not","tuple?","dup","3nipd","call","-rotd","object","drop","assert=","assert?","-rot","execute","boa","get-callstack","curried?","3drop","pickd","overd","over","roll","3nip","swap","and","2nip","rotd","throw","(clone)","hashcode*","spin","reach","4dup","equal?","get-datastack","assert","2drop","<wrapper>","boolean?","identity-hashcode","identity-tuple?","null","composed?","new","5drop","rot","-roll","xor","identity-tuple","boolean"],"other-builtin-syntax":["=======","recursive","flushable",">>","<<<<<<","M\\","B","PRIVATE>","\\","======","final","inline","delimiter","deprecated","<PRIVATE",">>>>>>","<<<<<<<","parse-complex","malformed-complex","read-only",">>>>>>>","call-next-method","<<","foldable","$","$[","${"],"sequences-builtin":["member-eq?","mismatch","append","assert-sequence=","longer","repetition","clone-like","3sequence","assert-sequence?","last-index-from","reversed","index-from","cut*","pad-tail","join-as","remove-eq!","concat-as","but-last","snip","nths","nth","sequence","longest","slice?","<slice>","remove-nth","tail-slice","empty?","tail*","member?","virtual-sequence?","set-length","drop-prefix","iota","unclip","bounds-error?","unclip-last-slice","non-negative-integer-expected","non-negative-integer-expected?","midpoint@","longer?","?set-nth","?first","rest-slice","prepend-as","prepend","fourth","sift","subseq-start","new-sequence","?last","like","first4","1sequence","reverse","slice","virtual@","repetition?","set-last","index","4sequence","max-length","set-second","immutable-sequence","first2","first3","supremum","unclip-slice","suffix!","insert-nth","tail","3append","short","suffix","concat","flip","immutable?","reverse!","2sequence","sum","delete-all","indices","snip-slice","<iota>","check-slice","sequence?","head","append-as","halves","sequence=","collapse-slice","?second","slice-error?","product","bounds-check?","bounds-check","immutable","virtual-exemplar","harvest","remove","pad-head","last","set-fourth","cartesian-product","remove-eq","shorten","shorter","reversed?","shorter?","shortest","head-slice","pop*","tail-slice*","but-last-slice","iota?","append!","cut-slice","new-resizable","head-slice*","sequence-hashcode","pop","set-nth","?nth","second","join","immutable-sequence?","<reversed>","3append-as","virtual-sequence","subseq?","remove-nth!","length","last-index","lengthen","assert-sequence","copy","move","third","first","tail?","set-first","prefix","bounds-error","<repetition>","exchange","surround","cut","min-length","set-third","push-all","head?","subseq-start-from","delete-slice","rest","sum-lengths","head*","infimum","remove!","glue","slice-error","subseq","push","replace-slice","subseq-as","unclip-last"],"math-builtin":["number=","next-power-of-2","?1+","fp-special?","imaginary-part","float>bits","number?","fp-infinity?","bignum?","fp-snan?","denominator","gcd","*","+","fp-bitwise=","-","u>=","/",">=","bitand","power-of-2?","log2-expects-positive","neg?","<","log2",">","integer?","number","bits>double","2/","zero?","bits>float","float?","shift","ratio?","rect>","even?","ratio","fp-sign","bitnot",">fixnum","complex?","/i","integer>fixnum","/f","sgn",">bignum","next-float","u<","u>","mod","recip","rational",">float","2^","integer","fixnum?","neg","fixnum","sq","bignum",">rect","bit?","fp-qnan?","simple-gcd","complex","<fp-nan>","real",">fraction","double>bits","bitor","rem","fp-nan-payload","real-part","log2-expects-positive?","prev-float","align","unordered?","float","fp-nan?","abs","bitxor","integer>fixnum-strict","u<=","odd?","<=","/mod",">integer","real?","rational?","numerator"]};Object.keys(l).forEach(function(c){a[c].pattern=o(l[c])});var u=["2bi","while","2tri","bi*","4dip","both?","same?","tri@","curry","prepose","3bi","?if","tri*","2keep","3keep","curried","2keepd","when","2bi*","2tri*","4keep","bi@","keepdd","do","unless*","tri-curry","if*","loop","bi-curry*","when*","2bi@","2tri@","with","2with","either?","bi","until","3dip","3curry","tri-curry*","tri-curry@","bi-curry","keepd","compose","2dip","if","3tri","unless","tuple","keep","2curry","tri","most","while*","dip","composed","bi-curry@","find-last-from","trim-head-slice","map-as","each-from","none?","trim-tail","partition","if-empty","accumulate*","reject!","find-from","accumulate-as","collector-for-as","reject","map","map-sum","accumulate!","2each-from","follow","supremum-by","map!","unless-empty","collector","padding","reduce-index","replicate-as","infimum-by","trim-tail-slice","count","find-index","filter","accumulate*!","reject-as","map-integers","map-find","reduce","selector","interleave","2map","filter-as","binary-reduce","map-index-as","find","produce","filter!","replicate","cartesian-map","cartesian-each","find-index-from","map-find-last","3map-as","3map","find-last","selector-as","2map-as","2map-reduce","accumulate","each","each-index","accumulate*-as","when-empty","all?","collector-as","push-either","new-like","collector-for","2selector","push-if","2all?","map-reduce","3each","any?","trim-slice","2reduce","change-nth","produce-as","2each","trim","trim-head","cartesian-find","map-index","if-zero","each-integer","unless-zero","(find-integer)","when-zero","find-last-integer","(all-integers?)","times","(each-integer)","find-integer","all-integers?","unless-negative","if-positive","when-positive","when-negative","unless-positive","if-negative","case","2cleave","cond>quot","case>quot","3cleave","wrong-values","to-fixed-point","alist>quot","cond","cleave","call-effect","recursive-hashcode","spread","deep-spread>quot","2||","0||","n||","0&&","2&&","3||","1||","1&&","n&&","3&&","smart-unless*","keep-inputs","reduce-outputs","smart-when*","cleave>array","smart-with","smart-apply","smart-if","inputs/outputs","output>sequence-n","map-outputs","map-reduce-outputs","dropping","output>array","smart-map-reduce","smart-2map-reduce","output>array-n","nullary","input<sequence","append-outputs","drop-inputs","inputs","smart-2reduce","drop-outputs","smart-reduce","preserving","smart-when","outputs","append-outputs-as","smart-unless","smart-if*","sum-outputs","input<sequence-unsafe","output>sequence"];a.combinators.pattern=o(u),t.languages.factor=a})(e)}Cv.displayName="false";Cv.aliases=[];function Cv(e){(function(t){t.languages.false={comment:{pattern:/\{[^}]*\}/},string:{pattern:/"[^"]*"/,greedy:!0},"character-code":{pattern:/'(?:[^\r]|\r\n?)/,alias:"number"},"assembler-code":{pattern:/\d+`/,alias:"important"},number:/\d+/,operator:/[-!#$%&'*+,./:;=>?@\\^_`|~]/,punctuation:/\[|\]/,variable:/[a-z]/,"non-standard":{pattern:/[()<BDO]/,alias:"bold"}}})(e)}Av.displayName="firestore-security-rules";Av.aliases=[];function Av(e){e.register(at),e.languages["firestore-security-rules"]=e.languages.extend("clike",{comment:/\/\/.*/,keyword:/\b(?:allow|function|if|match|null|return|rules_version|service)\b/,operator:/&&|\|\||[<>!=]=?|[-+*/%]|\b(?:in|is)\b/}),delete e.languages["firestore-security-rules"]["class-name"],e.languages.insertBefore("firestore-security-rules","keyword",{path:{pattern:/(^|[\s(),])(?:\/(?:[\w\xA0-\uFFFF]+|\{[\w\xA0-\uFFFF]+(?:=\*\*)?\}|\$\([\w\xA0-\uFFFF.]+\)))+/,lookbehind:!0,greedy:!0,inside:{variable:{pattern:/\{[\w\xA0-\uFFFF]+(?:=\*\*)?\}|\$\([\w\xA0-\uFFFF.]+\)/,inside:{operator:/=/,keyword:/\*\*/,punctuation:/[.$(){}]/}},punctuation:/\//}},method:{pattern:/(\ballow\s+)[a-z]+(?:\s*,\s*[a-z]+)*(?=\s*[:;])/,lookbehind:!0,alias:"builtin",inside:{punctuation:/,/}}})}Iv.displayName="flow";Iv.aliases=[];function Iv(e){e.register(In),function(t){t.languages.flow=t.languages.extend("javascript",{}),t.languages.insertBefore("flow","keyword",{type:[{pattern:/\b(?:[Bb]oolean|Function|[Nn]umber|[Ss]tring|[Ss]ymbol|any|mixed|null|void)\b/,alias:"class-name"}]}),t.languages.flow["function-variable"].pattern=/(?!\s)[_$a-z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*=\s*(?:function\b|(?:\([^()]*\)(?:\s*:\s*\w+)?|(?!\s)[_$a-z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)\s*=>))/i,delete t.languages.flow.parameter,t.languages.insertBefore("flow","operator",{"flow-punctuation":{pattern:/\{\||\|\}/,alias:"punctuation"}}),Array.isArray(t.languages.flow.keyword)||(t.languages.flow.keyword=[t.languages.flow.keyword]),t.languages.flow.keyword.unshift({pattern:/(^|[^$]\b)(?:Class|declare|opaque|type)\b(?!\$)/,lookbehind:!0},{pattern:/(^|[^$]\B)\$(?:Diff|Enum|Exact|Keys|ObjMap|PropertyType|Record|Shape|Subtype|Supertype|await)\b(?!\$)/,lookbehind:!0})}(e)}Rv.displayName="fortran";Rv.aliases=[];function Rv(e){e.languages.fortran={"quoted-number":{pattern:/[BOZ](['"])[A-F0-9]+\1/i,alias:"number"},string:{pattern:/(?:\b\w+_)?(['"])(?:\1\1|&(?:\r\n?|\n)(?:[ \t]*!.*(?:\r\n?|\n)|(?![ \t]*!))|(?!\1).)*(?:\1|&)/,inside:{comment:{pattern:/(&(?:\r\n?|\n)\s*)!.*/,lookbehind:!0}}},comment:{pattern:/!.*/,greedy:!0},boolean:/\.(?:FALSE|TRUE)\.(?:_\w+)?/i,number:/(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:[ED][+-]?\d+)?(?:_\w+)?/i,keyword:[/\b(?:CHARACTER|COMPLEX|DOUBLE ?PRECISION|INTEGER|LOGICAL|REAL)\b/i,/\b(?:END ?)?(?:BLOCK ?DATA|DO|FILE|FORALL|FUNCTION|IF|INTERFACE|MODULE(?! PROCEDURE)|PROGRAM|SELECT|SUBROUTINE|TYPE|WHERE)\b/i,/\b(?:ALLOCATABLE|ALLOCATE|BACKSPACE|CALL|CASE|CLOSE|COMMON|CONTAINS|CONTINUE|CYCLE|DATA|DEALLOCATE|DIMENSION|DO|END|EQUIVALENCE|EXIT|EXTERNAL|FORMAT|GO ?TO|IMPLICIT(?: NONE)?|INQUIRE|INTENT|INTRINSIC|MODULE PROCEDURE|NAMELIST|NULLIFY|OPEN|OPTIONAL|PARAMETER|POINTER|PRINT|PRIVATE|PUBLIC|READ|RETURN|REWIND|SAVE|SELECT|STOP|TARGET|WHILE|WRITE)\b/i,/\b(?:ASSIGNMENT|DEFAULT|ELEMENTAL|ELSE|ELSEIF|ELSEWHERE|ENTRY|IN|INCLUDE|INOUT|KIND|NULL|ONLY|OPERATOR|OUT|PURE|RECURSIVE|RESULT|SEQUENCE|STAT|THEN|USE)\b/i],operator:[/\*\*|\/\/|=>|[=\/]=|[<>]=?|::|[+\-*=%]|\.[A-Z]+\./i,{pattern:/(^|(?!\().)\/(?!\))/,lookbehind:!0}],punctuation:/\(\/|\/\)|[(),;:&]/}}Dv.displayName="ftl";Dv.aliases=[];function Dv(e){e.register(Rn),function(t){for(var n=/[^<()"']|\((?:<expr>)*\)|<(?!#--)|<#--(?:[^-]|-(?!->))*-->|"(?:[^\\"]|\\.)*"|'(?:[^\\']|\\.)*'/.source,r=0;r<2;r++)n=n.replace(/<expr>/g,function(){return n});n=n.replace(/<expr>/g,/[^\s\S]/.source);var a={comment:/<#--[\s\S]*?-->/,string:[{pattern:/\br("|')(?:(?!\1)[^\\]|\\.)*\1/,greedy:!0},{pattern:RegExp(/("|')(?:(?!\1|\$\{)[^\\]|\\.|\$\{(?:(?!\})(?:<expr>))*\})*\1/.source.replace(/<expr>/g,function(){return n})),greedy:!0,inside:{interpolation:{pattern:RegExp(/((?:^|[^\\])(?:\\\\)*)\$\{(?:(?!\})(?:<expr>))*\}/.source.replace(/<expr>/g,function(){return n})),lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"punctuation"},rest:null}}}}],keyword:/\b(?:as)\b/,boolean:/\b(?:false|true)\b/,"builtin-function":{pattern:/((?:^|[^?])\?\s*)\w+/,lookbehind:!0,alias:"function"},function:/\b\w+(?=\s*\()/,number:/\b\d+(?:\.\d+)?\b/,operator:/\.\.[<*!]?|->|--|\+\+|&&|\|\||\?{1,2}|[-+*/%!=<>]=?|\b(?:gt|gte|lt|lte)\b/,punctuation:/[,;.:()[\]{}]/};a.string[1].inside.interpolation.inside.rest=a,t.languages.ftl={"ftl-comment":{pattern:/^<#--[\s\S]*/,alias:"comment"},"ftl-directive":{pattern:/^<[\s\S]+>$/,inside:{directive:{pattern:/(^<\/?)[#@][a-z]\w*/i,lookbehind:!0,alias:"keyword"},punctuation:/^<\/?|\/?>$/,content:{pattern:/\s*\S[\s\S]*/,alias:"ftl",inside:a}}},"ftl-interpolation":{pattern:/^\$\{[\s\S]*\}$/,inside:{punctuation:/^\$\{|\}$/,content:{pattern:/\s*\S[\s\S]*/,alias:"ftl",inside:a}}}},t.hooks.add("before-tokenize",function(i){var o=RegExp(/<#--[\s\S]*?-->|<\/?[#@][a-zA-Z](?:<expr>)*?>|\$\{(?:<expr>)*?\}/.source.replace(/<expr>/g,function(){return n}),"gi");t.languages["markup-templating"].buildPlaceholders(i,"ftl",o)}),t.hooks.add("after-tokenize",function(i){t.languages["markup-templating"].tokenizePlaceholders(i,"ftl")})}(e)}Ov.displayName="gml";Ov.aliases=["gamemakerlanguage"];function Ov(e){e.register(at),e.languages.gamemakerlanguage=e.languages.gml=e.languages.extend("clike",{keyword:/\b(?:break|case|continue|default|do|else|enum|exit|for|globalvar|if|repeat|return|switch|until|var|while)\b/,number:/(?:\b0x[\da-f]+|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?)[ulf]{0,4}/i,operator:/--|\+\+|[-+%/=]=?|!=|\*\*?=?|<[<=>]?|>[=>]?|&&?|\^\^?|\|\|?|~|\b(?:and|at|not|or|with|xor)\b/,constant:/\b(?:GM_build_date|GM_version|action_(?:continue|restart|reverse|stop)|all|gamespeed_(?:fps|microseconds)|global|local|noone|other|pi|pointer_(?:invalid|null)|self|timezone_(?:local|utc)|undefined|ev_(?:create|destroy|step|alarm|keyboard|mouse|collision|other|draw|draw_(?:begin|end|post|pre)|keypress|keyrelease|trigger|(?:left|middle|no|right)_button|(?:left|middle|right)_press|(?:left|middle|right)_release|mouse_(?:enter|leave|wheel_down|wheel_up)|global_(?:left|middle|right)_button|global_(?:left|middle|right)_press|global_(?:left|middle|right)_release|joystick(?:1|2)_(?:button1|button2|button3|button4|button5|button6|button7|button8|down|left|right|up)|outside|boundary|game_start|game_end|room_start|room_end|no_more_lives|animation_end|end_of_path|no_more_health|user\d|gui|gui_begin|gui_end|step_(?:begin|end|normal))|vk_(?:alt|anykey|backspace|control|delete|down|end|enter|escape|home|insert|left|nokey|pagedown|pageup|pause|printscreen|return|right|shift|space|tab|up|f\d|numpad\d|add|decimal|divide|lalt|lcontrol|lshift|multiply|ralt|rcontrol|rshift|subtract)|achievement_(?:filter_(?:all_players|favorites_only|friends_only)|friends_info|info|leaderboard_info|our_info|pic_loaded|show_(?:achievement|bank|friend_picker|leaderboard|profile|purchase_prompt|ui)|type_challenge|type_score_challenge)|asset_(?:font|object|path|room|script|shader|sound|sprite|tiles|timeline|unknown)|audio_(?:3d|falloff_(?:exponent_distance|exponent_distance_clamped|inverse_distance|inverse_distance_clamped|linear_distance|linear_distance_clamped|none)|mono|new_system|old_system|stereo)|bm_(?:add|complex|dest_alpha|dest_color|dest_colour|inv_dest_alpha|inv_dest_color|inv_dest_colour|inv_src_alpha|inv_src_color|inv_src_colour|max|normal|one|src_alpha|src_alpha_sat|src_color|src_colour|subtract|zero)|browser_(?:chrome|firefox|ie|ie_mobile|not_a_browser|opera|safari|safari_mobile|tizen|unknown|windows_store)|buffer_(?:bool|f16|f32|f64|fast|fixed|generalerror|grow|invalidtype|network|outofbounds|outofspace|s16|s32|s8|seek_end|seek_relative|seek_start|string|text|u16|u32|u64|u8|vbuffer|wrap)|c_(?:aqua|black|blue|dkgray|fuchsia|gray|green|lime|ltgray|maroon|navy|olive|orange|purple|red|silver|teal|white|yellow)|cmpfunc_(?:always|equal|greater|greaterequal|less|lessequal|never|notequal)|cr_(?:appstart|arrow|beam|cross|default|drag|handpoint|hourglass|none|size_all|size_nesw|size_ns|size_nwse|size_we|uparrow)|cull_(?:clockwise|counterclockwise|noculling)|device_(?:emulator|tablet)|device_ios_(?:ipad|ipad_retina|iphone|iphone5|iphone6|iphone6plus|iphone_retina|unknown)|display_(?:landscape|landscape_flipped|portrait|portrait_flipped)|dll_(?:cdecl|cdel|stdcall)|ds_type_(?:grid|list|map|priority|queue|stack)|ef_(?:cloud|ellipse|explosion|firework|flare|rain|ring|smoke|smokeup|snow|spark|star)|fa_(?:archive|bottom|center|directory|hidden|left|middle|readonly|right|sysfile|top|volumeid)|fb_login_(?:default|fallback_to_webview|forcing_safari|forcing_webview|no_fallback_to_webview|use_system_account)|iap_(?:available|canceled|ev_consume|ev_product|ev_purchase|ev_restore|ev_storeload|failed|purchased|refunded|status_available|status_loading|status_processing|status_restoring|status_unavailable|status_uninitialised|storeload_failed|storeload_ok|unavailable)|leaderboard_type_(?:number|time_mins_secs)|lighttype_(?:dir|point)|matrix_(?:projection|view|world)|mb_(?:any|left|middle|none|right)|network_(?:config_(?:connect_timeout|disable_reliable_udp|enable_reliable_udp|use_non_blocking_socket)|socket_(?:bluetooth|tcp|udp)|type_(?:connect|data|disconnect|non_blocking_connect))|of_challenge_(?:lose|tie|win)|os_(?:android|ios|linux|macosx|ps3|ps4|psvita|unknown|uwp|win32|win8native|windows|winphone|xboxone)|phy_debug_render_(?:aabb|collision_pairs|coms|core_shapes|joints|obb|shapes)|phy_joint_(?:anchor_1_x|anchor_1_y|anchor_2_x|anchor_2_y|angle|angle_limits|damping_ratio|frequency|length_1|length_2|lower_angle_limit|max_force|max_length|max_motor_force|max_motor_torque|max_torque|motor_force|motor_speed|motor_torque|reaction_force_x|reaction_force_y|reaction_torque|speed|translation|upper_angle_limit)|phy_particle_data_flag_(?:category|color|colour|position|typeflags|velocity)|phy_particle_flag_(?:colormixing|colourmixing|elastic|powder|spring|tensile|viscous|wall|water|zombie)|phy_particle_group_flag_(?:rigid|solid)|pr_(?:linelist|linestrip|pointlist|trianglefan|trianglelist|trianglestrip)|ps_(?:distr|shape)_(?:diamond|ellipse|gaussian|invgaussian|line|linear|rectangle)|pt_shape_(?:circle|cloud|disk|explosion|flare|line|pixel|ring|smoke|snow|spark|sphere|square|star)|ty_(?:real|string)|gp_(?:face\d|axislh|axislv|axisrh|axisrv|padd|padl|padr|padu|select|shoulderl|shoulderlb|shoulderr|shoulderrb|start|stickl|stickr)|lb_disp_(?:none|numeric|time_ms|time_sec)|lb_sort_(?:ascending|descending|none)|ov_(?:achievements|community|friends|gamegroup|players|settings)|ugc_(?:filetype_(?:community|microtrans)|list_(?:Favorited|Followed|Published|Subscribed|UsedOrPlayed|VotedDown|VotedOn|VotedUp|WillVoteLater)|match_(?:AllGuides|Artwork|Collections|ControllerBindings|IntegratedGuides|Items|Items_Mtx|Items_ReadyToUse|Screenshots|UsableInGame|Videos|WebGuides)|query_(?:AcceptedForGameRankedByAcceptanceDate|CreatedByFriendsRankedByPublicationDate|FavoritedByFriendsRankedByPublicationDate|NotYetRated)|query_RankedBy(?:NumTimesReported|PublicationDate|TextSearch|TotalVotesAsc|Trend|Vote|VotesUp)|result_success|sortorder_CreationOrder(?:Asc|Desc)|sortorder_(?:ForModeration|LastUpdatedDesc|SubscriptionDateDesc|TitleAsc|VoteScoreDesc)|visibility_(?:friends_only|private|public))|vertex_usage_(?:binormal|blendindices|blendweight|color|colour|depth|fog|normal|position|psize|sample|tangent|texcoord|textcoord)|vertex_type_(?:float\d|color|colour|ubyte4)|input_type|layerelementtype_(?:background|instance|oldtilemap|particlesystem|sprite|tile|tilemap|undefined)|se_(?:chorus|compressor|echo|equalizer|flanger|gargle|none|reverb)|text_type|tile_(?:flip|index_mask|mirror|rotate)|(?:obj|rm|scr|spr)\w+)\b/,variable:/\b(?:alarm|application_surface|async_load|background_(?:alpha|blend|color|colour|foreground|height|hspeed|htiled|index|showcolor|showcolour|visible|vspeed|vtiled|width|x|xscale|y|yscale)|bbox_(?:bottom|left|right|top)|browser_(?:height|width)|caption_(?:health|lives|score)|current_(?:day|hour|minute|month|second|time|weekday|year)|cursor_sprite|debug_mode|delta_time|direction|display_aa|error_(?:last|occurred)|event_(?:action|number|object|type)|fps|fps_real|friction|game_(?:display|project|save)_(?:id|name)|gamemaker_(?:pro|registered|version)|gravity|gravity_direction|(?:h|v)speed|health|iap_data|id|image_(?:alpha|angle|blend|depth|index|number|speed|xscale|yscale)|instance_(?:count|id)|keyboard_(?:key|lastchar|lastkey|string)|layer|lives|mask_index|mouse_(?:button|lastbutton|x|y)|object_index|os_(?:browser|device|type|version)|path_(?:endaction|index|orientation|position|positionprevious|scale|speed)|persistent|phy_(?:rotation|(?:col_normal|collision|com|linear_velocity|position|speed)_(?:x|y)|angular_(?:damping|velocity)|position_(?:x|y)previous|speed|linear_damping|bullet|fixed_rotation|active|mass|inertia|dynamic|kinematic|sleeping|collision_points)|pointer_(?:invalid|null)|room|room_(?:caption|first|height|last|persistent|speed|width)|score|secure_mode|show_(?:health|lives|score)|solid|speed|sprite_(?:height|index|width|xoffset|yoffset)|temp_directory|timeline_(?:index|loop|position|running|speed)|transition_(?:color|kind|steps)|undefined|view_(?:angle|current|enabled|(?:h|v)(?:border|speed)|(?:h|w|x|y)port|(?:h|w|x|y)view|object|surface_id|visible)|visible|webgl_enabled|working_directory|(?:x|y)(?:previous|start)|x|y|argument(?:_relitive|_count|\d)|argument|global|local|other|self)\b/})}Lv.displayName="gap";Lv.aliases=[];function Lv(e){e.languages.gap={shell:{pattern:/^gap>[\s\S]*?(?=^gap>|$(?![\s\S]))/m,greedy:!0,inside:{gap:{pattern:/^(gap>).+(?:(?:\r(?:\n|(?!\n))|\n)>.*)*/,lookbehind:!0,inside:null},punctuation:/^gap>/}},comment:{pattern:/#.*/,greedy:!0},string:{pattern:/(^|[^\\'"])(?:'(?:[^\r\n\\']|\\.){1,10}'|"(?:[^\r\n\\"]|\\.)*"(?!")|"""[\s\S]*?""")/,lookbehind:!0,greedy:!0,inside:{continuation:{pattern:/([\r\n])>/,lookbehind:!0,alias:"punctuation"}}},keyword:/\b(?:Assert|Info|IsBound|QUIT|TryNextMethod|Unbind|and|atomic|break|continue|do|elif|else|end|fi|for|function|if|in|local|mod|not|od|or|quit|readonly|readwrite|rec|repeat|return|then|until|while)\b/,boolean:/\b(?:false|true)\b/,function:/\b[a-z_]\w*(?=\s*\()/i,number:{pattern:/(^|[^\w.]|\.\.)(?:\d+(?:\.\d*)?|\.\d+)(?:[eE][+-]?\d+)?(?:_[a-z]?)?(?=$|[^\w.]|\.\.)/,lookbehind:!0},continuation:{pattern:/([\r\n])>/,lookbehind:!0,alias:"punctuation"},operator:/->|[-+*/^~=!]|<>|[<>]=?|:=|\.\./,punctuation:/[()[\]{},;.:]/},e.languages.gap.shell.inside.gap.inside=e.languages.gap}jv.displayName="gcode";jv.aliases=[];function jv(e){e.languages.gcode={comment:/;.*|\B\(.*?\)\B/,string:{pattern:/"(?:""|[^"])*"/,greedy:!0},keyword:/\b[GM]\d+(?:\.\d+)?\b/,property:/\b[A-Z]/,checksum:{pattern:/(\*)\d+/,lookbehind:!0,alias:"number"},punctuation:/[:*]/}}Mv.displayName="gdscript";Mv.aliases=[];function Mv(e){e.languages.gdscript={comment:/#.*/,string:{pattern:/@?(?:("|')(?:(?!\1)[^\n\\]|\\[\s\S])*\1(?!"|')|"""(?:[^\\]|\\[\s\S])*?""")/,greedy:!0},"class-name":{pattern:/(^(?:class|class_name|extends)[ \t]+|^export\([ \t]*|\bas[ \t]+|(?:\b(?:const|var)[ \t]|[,(])[ \t]*\w+[ \t]*:[ \t]*|->[ \t]*)[a-zA-Z_]\w*/m,lookbehind:!0},keyword:/\b(?:and|as|assert|break|breakpoint|class|class_name|const|continue|elif|else|enum|export|extends|for|func|if|in|is|master|mastersync|match|not|null|onready|or|pass|preload|puppet|puppetsync|remote|remotesync|return|self|setget|signal|static|tool|var|while|yield)\b/,function:/\b[a-z_]\w*(?=[ \t]*\()/i,variable:/\$\w+/,number:[/\b0b[01_]+\b|\b0x[\da-fA-F_]+\b|(?:\b\d[\d_]*(?:\.[\d_]*)?|\B\.[\d_]+)(?:e[+-]?[\d_]+)?\b/,/\b(?:INF|NAN|PI|TAU)\b/],constant:/\b[A-Z][A-Z_\d]*\b/,boolean:/\b(?:false|true)\b/,operator:/->|:=|&&|\|\||<<|>>|[-+*/%&|!<>=]=?|[~^]/,punctuation:/[.:,;()[\]{}]/}}Fv.displayName="gedcom";Fv.aliases=[];function Fv(e){e.languages.gedcom={"line-value":{pattern:/(^[\t ]*\d+ +(?:@\w[\w!"$%&'()*+,\-./:;<=>?[\\\]^`{|}~\x80-\xfe #]*@ +)?\w+ ).+/m,lookbehind:!0,inside:{pointer:{pattern:/^@\w[\w!"$%&'()*+,\-./:;<=>?[\\\]^`{|}~\x80-\xfe #]*@$/,alias:"variable"}}},record:{pattern:/(^[\t ]*\d+ +(?:@\w[\w!"$%&'()*+,\-./:;<=>?[\\\]^`{|}~\x80-\xfe #]*@ +)?)\w+/m,lookbehind:!0,alias:"tag"},level:{pattern:/(^[\t ]*)\d+/m,lookbehind:!0,alias:"number"},pointer:{pattern:/@\w[\w!"$%&'()*+,\-./:;<=>?[\\\]^`{|}~\x80-\xfe #]*@/,alias:"variable"}}}Pv.displayName="gettext";Pv.aliases=["po"];function Pv(e){e.languages.gettext={comment:[{pattern:/# .*/,greedy:!0,alias:"translator-comment"},{pattern:/#\..*/,greedy:!0,alias:"extracted-comment"},{pattern:/#:.*/,greedy:!0,alias:"reference-comment"},{pattern:/#,.*/,greedy:!0,alias:"flag-comment"},{pattern:/#\|.*/,greedy:!0,alias:"previously-untranslated-comment"},{pattern:/#.*/,greedy:!0}],string:{pattern:/(^|[^\\])"(?:[^"\\]|\\.)*"/,lookbehind:!0,greedy:!0},keyword:/^msg(?:ctxt|id|id_plural|str)\b/m,number:/\b\d+\b/,punctuation:/[\[\]]/},e.languages.po=e.languages.gettext}Bv.displayName="gherkin";Bv.aliases=[];function Bv(e){(function(t){var n=/(?:\r?\n|\r)[ \t]*\|.+\|(?:(?!\|).)*/.source;t.languages.gherkin={pystring:{pattern:/("""|''')[\s\S]+?\1/,alias:"string"},comment:{pattern:/(^[ \t]*)#.*/m,lookbehind:!0},tag:{pattern:/(^[ \t]*)@\S*/m,lookbehind:!0},feature:{pattern:/((?:^|\r?\n|\r)[ \t]*)(?:Ability|Ahoy matey!|Arwedd|Aspekt|Besigheid Behoefte|Business Need|Caracteristica|Caracterstica|Egenskab|Egenskap|Eiginleiki|Feature|Fa|Fitur|Fonctionnalit|Fonksyonalite|Funcionalidade|Funcionalitat|Functionalitate|Funcionalitate|Funcionalitate|Functionaliteit|Fungsi|Funkcia|Funkcija|Funkcionalitte|Funkcionalnost|Funkcja|Funksie|Funktionalitt|Funktionalitit|Funzionalit|Hwaet|Hwt|Jellemz|Karakteristik|Lastnost|Mak|Mogucnost|laH|Mogunost|Moznosti|Monosti|OH HAI|Omadus|Ominaisuus|Osobina|zellik|Potrzeba biznesowa|perbogh|poQbogh malja'|Poadavek|Poiadavka|Pretty much|Qap|Qu'meH 'ut|Savyb|Tnh nng|Trajto|Vermo|Vlastnos|Waciwo|Znailnost||||||||||||||||  || || ||||||||||):(?:[^:\r\n]+(?:\r?\n|\r|$))*/,lookbehind:!0,inside:{important:{pattern:/(:)[^\r\n]+/,lookbehind:!0},keyword:/[^:\r\n]+:/}},scenario:{pattern:/(^[ \t]*)(?:Abstract Scenario|Abstrakt Scenario|Achtergrond|Aer|r|Agtergrond|All y'all|Antecedentes|Antecedents|Atburars|Atburarsir|Awww, look mate|B4|Background|Baggrund|Bakgrund|Bakgrunn|Bakgrunnur|Beispiele|Beispiller|Bi cnh|Cefndir|Cenario|Cenrio|Cenario de Fundo|Cenrio de Fundo|Cenarios|Cenrios|Contesto|Context|Contexte|Contexto|Conto|Contoh|Contone|Dmi|Dasar|Dead men tell no tales|Delineacao do Cenario|Delineao do Cenrio|Dis is what went down|D liu|Dyagram Senaryo|Dyagram senaryo|Egzanp|Ejemplos|Eksempler|Ekzemploj|Enghreifftiau|Esbozo do escenario|Escenari|Escenario|Esempi|Esquema de l'escenari|Esquema del escenario|Esquema do Cenario|Esquema do Cenrio|EXAMPLZ|Examples|Exempel|Exemple|Exemples|Exemplos|First off|Fono|Forgatknyv|Forgatknyv vzlat|Fundo|Gemi|Grundlage|Hannergrond|ghantoH|Httr|Heave to|Istorik|Juhtumid|Keadaan|Khung kch bn|Khung tnh hung|Kch bn|Koncept|Konsep skenario|Kontks|Kontekst|Kontekstas|Konteksts|Kontext|Konturo de la scenaro|Latar Belakang|lut chovnatlh|lut|lutmey|Lsing Atburarsar|Lsing Dma|MISHUN SRSLY|MISHUN|Menggariskan Senario|mo'|Nrt Scenra|Nrt Scne|Nrt Scenru|Oris scenarija|rnekler|Osnova|Osnova Scenra|Osnova scne|Osnutek|Ozadje|Paraugs|Pavyzdiai|Pldk|Piemri|Plan du scnario|Plan du Scnario|Plan Senaryo|Plan senaryo|Plang vum Szenario|Pozad|Pozadie|Pozadina|Prklady|Pklady|Primer|Primeri|Primjeri|Przykady|Raamstsenaarium|Reckon it's like|Rerefons|Scenr|Scn|Scenarie|Scenarij|Scenarijai|Scenarijaus ablonas|Scenariji|Scenrijs|Scenrijs pc parauga|Scenarijus|Scenario|Scnario|Scenario Amlinellol|Scenario Outline|Scenario Template|Scenariomal|Scenariomall|Scenarios|Scenariu|Scenariusz|Scenaro|Schema dello scenario|Se e|Se the|Se e|Senario|Senaryo Deskripsyon|Senaryo deskripsyon|Senaryo|Senaryo tasla|Shiver me timbers|Situcija|Situai|Situasie Uiteensetting|Situasie|Skenario konsep|Skenario|Skica|Structura scenariu|Structur scenariu|Struktura scenarija|Stsenaarium|Swa hwaer swa|Swa|Swa hwr swa|Szablon scenariusza|Szenario|Szenariogrundriss|Tapaukset|Tapaus|Tapausaihio|Taust|Tausta|Template Keadaan|Template Senario|Template Situai|The thing of it is|Tnh hung|Variantai|Voorbeelde|Voorbeelden|Wharrimean is|Yo-ho-ho|You'll wanna|Zaoenia|| ||||||||||||||||||  || | | || | |||||||| ||| || |||| ||   || ||| |||| |  |||||||||||||||||| ||||||||||||||||||):[^:\r\n]*/m,lookbehind:!0,inside:{important:{pattern:/(:)[^\r\n]*/,lookbehind:!0},keyword:/[^:\r\n]+:/}},"table-body":{pattern:RegExp("("+n+")(?:"+n+")+"),lookbehind:!0,inside:{outline:{pattern:/<[^>]+>/,alias:"variable"},td:{pattern:/\s*[^\s|][^|]*/,alias:"string"},punctuation:/\|/}},"table-head":{pattern:RegExp(n),inside:{th:{pattern:/\s*[^\s|][^|]*/,alias:"variable"},punctuation:/\|/}},atrule:{pattern:/(^[ \t]+)(?:'a|'ach|'ej|7|a|A tak|A taktie|A tie|A zrove|Aber|Ac|Adott|Akkor|Ak|Aleshores|Ale|Ali|Allora|Alors|Als|Ama|Amennyiben|Amikor|Ampak|an|AN|Ananging|And y'all|And|Angenommen|Anrhegedig a|An|Apabila|Ats|Atesa|Atunci|Avast!|Aye|A|awer|Bagi|Banjur|Bet|Bit|Blimey!|Buh|But at the end of the day I reckon|But y'all|But|BUT|Cal|Cnd|Cand|Cando|Ce|Cuando|e|a e|a|Dadas|Dada|Dados|Dado|DaH ghu' bejlu'|dann|Dann|Dano|Dan|Dar|Dat fiind|Data|Date fiind|Date|Dati fiind|Dati|Dai fiind|Dai fiind|DEN|Dato|De|Den youse gotta|Dengan|Diberi|Diyelim ki|Donada|Donat|Donitao|Do|Dun|Duota|urh|Eeldades|Ef|Eer ki|Entao|Ento|Entn|E|En|Entonces|Epi|s|Etant donne|Etant donn|Et|tant donnes|tant donne|tant donn|Etant donnes|Etant donns|tant donns|Fakat|Gangway!|Gdy|Gegeben seien|Gegeben sei|Gegeven|Gegewe|ghu' noblu'|Gitt|Given y'all|Given|Givet|Givun|Ha|Cho|I CAN HAZ|In|Ir|It's just unbelievable|I|Ja|Jeli|Jeeli|Kad|Kada|Kadar|Kai|Kaj|Kdy|Ke|Kemudian|Ketika|Khi|Kiedy|Ko|Kuid|Kui|Kun|Lan|latlh|Le sa a|Let go and haul|Le|L sa a|L|Logo|Lorsqu'<|Lorsque|m|Maar|Mais|Majc|Ma|Majd|Maka|Manawa|Mas|Men|Menawa|Mutta|Nalika|Nalikaning|Nanging|Nr|Nr|Nato|Nhng|Niin|Njuk|O zaman|Och|Og|Oletetaan|Ond|Onda|Oraz|Pak|Pero|Per|Podano|Pokia|Pokud|Potem|Potom|Privzeto|Pryd|Quan|Quand|Quando|qaSDI'|S|Sed|Se|Siis|Sipoze ke|Sipoze Ke|Sipoze|Si|i|i|Soit|Stel|Tada|Tad|Takrat|Tak|Tapi|Ter|Tetapi|Tha the|Tha|Then y'all|Then|Th|Thurh|Toda|Too right|Un|Und|ugeholl|V|vaj|Vendar|Ve|wann|Wanneer|WEN|Wenn|When y'all|When|Wtedy|Wun|Y'know|Yeah nah|Yna|Youse know like when|Youse know when youse got|Y|Za predpokladu|Za pedpokladu|Zadan|Zadani|Zadano|Zadate|Zadato|Zakadajc|Zaradi|Zatati|a e|a||egar|urh|||||| |||||||||||||||||||||  ||||||||||||, |||||||||||||||||||||| |||||||| |||||||||||||||||||| ||||| ||||||||||||||<|<|<|<|<|<|<|<|<|<|<|<|<|<|<|<|<|<|<|<|<|<|<|<|<|<|<|<|<)(?=[ \t])/m,lookbehind:!0},string:{pattern:/"(?:\\.|[^"\\\r\n])*"|'(?:\\.|[^'\\\r\n])*'/,inside:{outline:{pattern:/<[^>]+>/,alias:"variable"}}},outline:{pattern:/<[^>]+>/,alias:"variable"}}})(e)}Uv.displayName="git";Uv.aliases=[];function Uv(e){e.languages.git={comment:/^#.*/m,deleted:/^[-].*/m,inserted:/^\+.*/m,string:/("|')(?:\\.|(?!\1)[^\\\r\n])*\1/,command:{pattern:/^.*\$ git .*$/m,inside:{parameter:/\s--?\w+/}},coord:/^@@.*@@$/m,"commit-sha1":/^commit \w{40}$/m}}$v.displayName="glsl";$v.aliases=[];function $v(e){e.register(pa),e.languages.glsl=e.languages.extend("c",{keyword:/\b(?:active|asm|atomic_uint|attribute|[ibdu]?vec[234]|bool|break|buffer|case|cast|centroid|class|coherent|common|const|continue|d?mat[234](?:x[234])?|default|discard|do|double|else|enum|extern|external|false|filter|fixed|flat|float|for|fvec[234]|goto|half|highp|hvec[234]|[iu]?sampler2DMS(?:Array)?|[iu]?sampler2DRect|[iu]?samplerBuffer|[iu]?samplerCube|[iu]?samplerCubeArray|[iu]?sampler[123]D|[iu]?sampler[12]DArray|[iu]?image2DMS(?:Array)?|[iu]?image2DRect|[iu]?imageBuffer|[iu]?imageCube|[iu]?imageCubeArray|[iu]?image[123]D|[iu]?image[12]DArray|if|in|inline|inout|input|int|interface|invariant|layout|long|lowp|mediump|namespace|noinline|noperspective|out|output|partition|patch|precise|precision|public|readonly|resource|restrict|return|sample|sampler[12]DArrayShadow|sampler[12]DShadow|sampler2DRectShadow|sampler3DRect|samplerCubeArrayShadow|samplerCubeShadow|shared|short|sizeof|smooth|static|struct|subroutine|superp|switch|template|this|true|typedef|uint|uniform|union|unsigned|using|varying|void|volatile|while|writeonly)\b/})}Hv.displayName="gn";Hv.aliases=["gni"];function Hv(e){e.languages.gn={comment:{pattern:/#.*/,greedy:!0},"string-literal":{pattern:/(^|[^\\"])"(?:[^\r\n"\\]|\\.)*"/,lookbehind:!0,greedy:!0,inside:{interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$(?:\{[\s\S]*?\}|[a-zA-Z_]\w*|0x[a-fA-F0-9]{2})/,lookbehind:!0,inside:{number:/^\$0x[\s\S]{2}$/,variable:/^\$\w+$/,"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"punctuation"},expression:{pattern:/[\s\S]+/,inside:null}}},string:/[\s\S]+/}},keyword:/\b(?:else|if)\b/,boolean:/\b(?:false|true)\b/,"builtin-function":{pattern:/\b(?:assert|defined|foreach|import|pool|print|template|tool|toolchain)(?=\s*\()/i,alias:"keyword"},function:/\b[a-z_]\w*(?=\s*\()/i,constant:/\b(?:current_cpu|current_os|current_toolchain|default_toolchain|host_cpu|host_os|root_build_dir|root_gen_dir|root_out_dir|target_cpu|target_gen_dir|target_os|target_out_dir)\b/,number:/-?\b\d+\b/,operator:/[-+!=<>]=?|&&|\|\|/,punctuation:/[(){}[\],.]/},e.languages.gn["string-literal"].inside.interpolation.inside.expression.inside=e.languages.gn,e.languages.gni=e.languages.gn}zv.displayName="linker-script";zv.aliases=["ld"];function zv(e){e.languages["linker-script"]={comment:{pattern:/(^|\s)\/\*[\s\S]*?(?:$|\*\/)/,lookbehind:!0,greedy:!0},identifier:{pattern:/"[^"\r\n]*"/,greedy:!0},"location-counter":{pattern:/\B\.\B/,alias:"important"},section:{pattern:/(^|[^\w*])\.\w+\b/,lookbehind:!0,alias:"keyword"},function:/\b[A-Z][A-Z_]*(?=\s*\()/,number:/\b(?:0[xX][a-fA-F0-9]+|\d+)[KM]?\b/,operator:/>>=?|<<=?|->|\+\+|--|&&|\|\||::|[?:~]|[-+*/%&|^!=<>]=?/,punctuation:/[(){},;]/},e.languages.ld=e.languages["linker-script"]}Gv.displayName="go-module";Gv.aliases=["go-mod"];function Gv(e){e.languages["go-mod"]=e.languages["go-module"]={comment:{pattern:/\/\/.*/,greedy:!0},version:{pattern:/(^|[\s()[\],])v\d+\.\d+\.\d+(?:[+-][-+.\w]*)?(?![^\s()[\],])/,lookbehind:!0,alias:"number"},"go-version":{pattern:/((?:^|\s)go\s+)\d+(?:\.\d+){1,2}/,lookbehind:!0,alias:"number"},keyword:{pattern:/^([ \t]*)(?:exclude|go|module|replace|require|retract)\b/m,lookbehind:!0},operator:/=>/,punctuation:/[()[\],]/}}qv.displayName="gradle";qv.aliases=[];function qv(e){e.register(at),function(t){var n={pattern:/((?:^|[^\\$])(?:\\{2})*)\$(?:\w+|\{[^{}]*\})/,lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^\$\{?|\}$/,alias:"punctuation"},expression:{pattern:/[\s\S]+/,inside:null}}};t.languages.gradle=t.languages.extend("clike",{string:{pattern:/'''(?:[^\\]|\\[\s\S])*?'''|'(?:\\.|[^\\'\r\n])*'/,greedy:!0},keyword:/\b(?:apply|def|dependencies|else|if|implementation|import|plugin|plugins|project|repositories|repository|sourceSets|tasks|val)\b/,number:/\b(?:0b[01_]+|0x[\da-f_]+(?:\.[\da-f_p\-]+)?|[\d_]+(?:\.[\d_]+)?(?:e[+-]?\d+)?)[glidf]?\b/i,operator:{pattern:/(^|[^.])(?:~|==?~?|\?[.:]?|\*(?:[.=]|\*=?)?|\.[@&]|\.\.<|\.\.(?!\.)|-[-=>]?|\+[+=]?|!=?|<(?:<=?|=>?)?|>(?:>>?=?|=)?|&[&=]?|\|[|=]?|\/=?|\^=?|%=?)/,lookbehind:!0},punctuation:/\.+|[{}[\];(),:$]/}),t.languages.insertBefore("gradle","string",{shebang:{pattern:/#!.+/,alias:"comment",greedy:!0},"interpolation-string":{pattern:/"""(?:[^\\]|\\[\s\S])*?"""|(["/])(?:\\.|(?!\1)[^\\\r\n])*\1|\$\/(?:[^/$]|\$(?:[/$]|(?![/$]))|\/(?!\$))*\/\$/,greedy:!0,inside:{interpolation:n,string:/[\s\S]+/}}}),t.languages.insertBefore("gradle","punctuation",{"spock-block":/\b(?:and|cleanup|expect|given|setup|then|when|where):/}),t.languages.insertBefore("gradle","function",{annotation:{pattern:/(^|[^.])@\w+/,lookbehind:!0,alias:"punctuation"}}),n.inside.expression.inside=t.languages.gradle}(e)}Vv.displayName="graphql";Vv.aliases=[];function Vv(e){e.languages.graphql={comment:/#.*/,description:{pattern:/(?:"""(?:[^"]|(?!""")")*"""|"(?:\\.|[^\\"\r\n])*")(?=\s*[a-z_])/i,greedy:!0,alias:"string",inside:{"language-markdown":{pattern:/(^"(?:"")?)(?!\1)[\s\S]+(?=\1$)/,lookbehind:!0,inside:e.languages.markdown}}},string:{pattern:/"""(?:[^"]|(?!""")")*"""|"(?:\\.|[^\\"\r\n])*"/,greedy:!0},number:/(?:\B-|\b)\d+(?:\.\d+)?(?:e[+-]?\d+)?\b/i,boolean:/\b(?:false|true)\b/,variable:/\$[a-z_]\w*/i,directive:{pattern:/@[a-z_]\w*/i,alias:"function"},"attr-name":{pattern:/\b[a-z_]\w*(?=\s*(?:\((?:[^()"]|"(?:\\.|[^\\"\r\n])*")*\))?:)/i,greedy:!0},"atom-input":{pattern:/\b[A-Z]\w*Input\b/,alias:"class-name"},scalar:/\b(?:Boolean|Float|ID|Int|String)\b/,constant:/\b[A-Z][A-Z_\d]*\b/,"class-name":{pattern:/(\b(?:enum|implements|interface|on|scalar|type|union)\s+|&\s*|:\s*|\[)[A-Z_]\w*/,lookbehind:!0},fragment:{pattern:/(\bfragment\s+|\.{3}\s*(?!on\b))[a-zA-Z_]\w*/,lookbehind:!0,alias:"function"},"definition-mutation":{pattern:/(\bmutation\s+)[a-zA-Z_]\w*/,lookbehind:!0,alias:"function"},"definition-query":{pattern:/(\bquery\s+)[a-zA-Z_]\w*/,lookbehind:!0,alias:"function"},keyword:/\b(?:directive|enum|extend|fragment|implements|input|interface|mutation|on|query|repeatable|scalar|schema|subscription|type|union)\b/,operator:/[!=|&]|\.{3}/,"property-query":/\w+(?=\s*\()/,object:/\w+(?=\s*\{)/,punctuation:/[!(){}\[\]:=,]/,property:/\w+/},e.hooks.add("after-tokenize",function(n){if(n.language!=="graphql")return;var r=n.tokens.filter(function(y){return typeof y!="string"&&y.type!=="comment"&&y.type!=="scalar"}),a=0;function i(y){return r[a+y]}function o(y,g){g=g||0;for(var x=0;x<y.length;x++){var w=i(x+g);if(!w||w.type!==y[x])return!1}return!0}function l(y,g){for(var x=1,w=a;w<r.length;w++){var k=r[w],S=k.content;if(k.type==="punctuation"&&typeof S=="string"){if(y.test(S))x++;else if(g.test(S)&&(x--,x===0))return w}}return-1}function u(y,g){var x=y.alias;x?Array.isArray(x)||(y.alias=x=[x]):y.alias=x=[],x.push(g)}for(;a<r.length;){var c=r[a++];if(c.type==="keyword"&&c.content==="mutation"){var d=[];if(o(["definition-mutation","punctuation"])&&i(1).content==="("){a+=2;var p=l(/^\($/,/^\)$/);if(p===-1)continue;for(;a<p;a++){var h=i(0);h.type==="variable"&&(u(h,"variable-input"),d.push(h.content))}a=p+1}if(o(["punctuation","property-query"])&&i(0).content==="{"&&(a++,u(i(0),"property-mutation"),d.length>0)){var f=l(/^\{$/,/^\}$/);if(f===-1)continue;for(var m=a;m<f;m++){var v=r[m];v.type==="variable"&&d.indexOf(v.content)>=0&&u(v,"variable-input")}}}}})}Wv.displayName="groovy";Wv.aliases=[];function Wv(e){e.register(at),function(t){var n={pattern:/((?:^|[^\\$])(?:\\{2})*)\$(?:\w+|\{[^{}]*\})/,lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^\$\{?|\}$/,alias:"punctuation"},expression:{pattern:/[\s\S]+/,inside:null}}};t.languages.groovy=t.languages.extend("clike",{string:{pattern:/'''(?:[^\\]|\\[\s\S])*?'''|'(?:\\.|[^\\'\r\n])*'/,greedy:!0},keyword:/\b(?:abstract|as|assert|boolean|break|byte|case|catch|char|class|const|continue|def|default|do|double|else|enum|extends|final|finally|float|for|goto|if|implements|import|in|instanceof|int|interface|long|native|new|package|private|protected|public|return|short|static|strictfp|super|switch|synchronized|this|throw|throws|trait|transient|try|void|volatile|while)\b/,number:/\b(?:0b[01_]+|0x[\da-f_]+(?:\.[\da-f_p\-]+)?|[\d_]+(?:\.[\d_]+)?(?:e[+-]?\d+)?)[glidf]?\b/i,operator:{pattern:/(^|[^.])(?:~|==?~?|\?[.:]?|\*(?:[.=]|\*=?)?|\.[@&]|\.\.<|\.\.(?!\.)|-[-=>]?|\+[+=]?|!=?|<(?:<=?|=>?)?|>(?:>>?=?|=)?|&[&=]?|\|[|=]?|\/=?|\^=?|%=?)/,lookbehind:!0},punctuation:/\.+|[{}[\];(),:$]/}),t.languages.insertBefore("groovy","string",{shebang:{pattern:/#!.+/,alias:"comment",greedy:!0},"interpolation-string":{pattern:/"""(?:[^\\]|\\[\s\S])*?"""|(["/])(?:\\.|(?!\1)[^\\\r\n])*\1|\$\/(?:[^/$]|\$(?:[/$]|(?![/$]))|\/(?!\$))*\/\$/,greedy:!0,inside:{interpolation:n,string:/[\s\S]+/}}}),t.languages.insertBefore("groovy","punctuation",{"spock-block":/\b(?:and|cleanup|expect|given|setup|then|when|where):/}),t.languages.insertBefore("groovy","function",{annotation:{pattern:/(^|[^.])@\w+/,lookbehind:!0,alias:"punctuation"}}),n.inside.expression.inside=t.languages.groovy}(e)}Yv.displayName="textile";Yv.aliases=[];function Yv(e){e.register(wn),function(t){var n=/\([^|()\n]+\)|\[[^\]\n]+\]|\{[^}\n]+\}/.source,r=/\)|\((?![^|()\n]+\))/.source;function a(p,h){return RegExp(p.replace(/<MOD>/g,function(){return"(?:"+n+")"}).replace(/<PAR>/g,function(){return"(?:"+r+")"}),h||"")}var i={css:{pattern:/\{[^{}]+\}/,inside:{rest:t.languages.css}},"class-id":{pattern:/(\()[^()]+(?=\))/,lookbehind:!0,alias:"attr-value"},lang:{pattern:/(\[)[^\[\]]+(?=\])/,lookbehind:!0,alias:"attr-value"},punctuation:/[\\\/]\d+|\S/},o=t.languages.textile=t.languages.extend("markup",{phrase:{pattern:/(^|\r|\n)\S[\s\S]*?(?=$|\r?\n\r?\n|\r\r)/,lookbehind:!0,inside:{"block-tag":{pattern:a(/^[a-z]\w*(?:<MOD>|<PAR>|[<>=])*\./.source),inside:{modifier:{pattern:a(/(^[a-z]\w*)(?:<MOD>|<PAR>|[<>=])+(?=\.)/.source),lookbehind:!0,inside:i},tag:/^[a-z]\w*/,punctuation:/\.$/}},list:{pattern:a(/^[*#]+<MOD>*\s+\S.*/.source,"m"),inside:{modifier:{pattern:a(/(^[*#]+)<MOD>+/.source),lookbehind:!0,inside:i},punctuation:/^[*#]+/}},table:{pattern:a(/^(?:(?:<MOD>|<PAR>|[<>=^~])+\.\s*)?(?:\|(?:(?:<MOD>|<PAR>|[<>=^~_]|[\\/]\d+)+\.|(?!(?:<MOD>|<PAR>|[<>=^~_]|[\\/]\d+)+\.))[^|]*)+\|/.source,"m"),inside:{modifier:{pattern:a(/(^|\|(?:\r?\n|\r)?)(?:<MOD>|<PAR>|[<>=^~_]|[\\/]\d+)+(?=\.)/.source),lookbehind:!0,inside:i},punctuation:/\||^\./}},inline:{pattern:a(/(^|[^a-zA-Z\d])(\*\*|__|\?\?|[*_%@+\-^~])<MOD>*.+?\2(?![a-zA-Z\d])/.source),lookbehind:!0,inside:{bold:{pattern:a(/(^(\*\*?)<MOD>*).+?(?=\2)/.source),lookbehind:!0},italic:{pattern:a(/(^(__?)<MOD>*).+?(?=\2)/.source),lookbehind:!0},cite:{pattern:a(/(^\?\?<MOD>*).+?(?=\?\?)/.source),lookbehind:!0,alias:"string"},code:{pattern:a(/(^@<MOD>*).+?(?=@)/.source),lookbehind:!0,alias:"keyword"},inserted:{pattern:a(/(^\+<MOD>*).+?(?=\+)/.source),lookbehind:!0},deleted:{pattern:a(/(^-<MOD>*).+?(?=-)/.source),lookbehind:!0},span:{pattern:a(/(^%<MOD>*).+?(?=%)/.source),lookbehind:!0},modifier:{pattern:a(/(^\*\*|__|\?\?|[*_%@+\-^~])<MOD>+/.source),lookbehind:!0,inside:i},punctuation:/[*_%?@+\-^~]+/}},"link-ref":{pattern:/^\[[^\]]+\]\S+$/m,inside:{string:{pattern:/(^\[)[^\]]+(?=\])/,lookbehind:!0},url:{pattern:/(^\])\S+$/,lookbehind:!0},punctuation:/[\[\]]/}},link:{pattern:a(/"<MOD>*[^"]+":.+?(?=[^\w/]?(?:\s|$))/.source),inside:{text:{pattern:a(/(^"<MOD>*)[^"]+(?=")/.source),lookbehind:!0},modifier:{pattern:a(/(^")<MOD>+/.source),lookbehind:!0,inside:i},url:{pattern:/(:).+/,lookbehind:!0},punctuation:/[":]/}},image:{pattern:a(/!(?:<MOD>|<PAR>|[<>=])*(?![<>=])[^!\s()]+(?:\([^)]+\))?!(?::.+?(?=[^\w/]?(?:\s|$)))?/.source),inside:{source:{pattern:a(/(^!(?:<MOD>|<PAR>|[<>=])*)(?![<>=])[^!\s()]+(?:\([^)]+\))?(?=!)/.source),lookbehind:!0,alias:"url"},modifier:{pattern:a(/(^!)(?:<MOD>|<PAR>|[<>=])+/.source),lookbehind:!0,inside:i},url:{pattern:/(:).+/,lookbehind:!0},punctuation:/[!:]/}},footnote:{pattern:/\b\[\d+\]/,alias:"comment",inside:{punctuation:/\[|\]/}},acronym:{pattern:/\b[A-Z\d]+\([^)]+\)/,inside:{comment:{pattern:/(\()[^()]+(?=\))/,lookbehind:!0},punctuation:/[()]/}},mark:{pattern:/\b\((?:C|R|TM)\)/,alias:"comment",inside:{punctuation:/[()]/}}}}}),l=o.phrase.inside,u={inline:l.inline,link:l.link,image:l.image,footnote:l.footnote,acronym:l.acronym,mark:l.mark};o.tag.pattern=/<\/?(?!\d)[a-z0-9]+(?:\s+[^\s>\/=]+(?:=(?:("|')(?:\\[\s\S]|(?!\1)[^\\])*\1|[^\s'">=]+))?)*\s*\/?>/i;var c=l.inline.inside;c.bold.inside=u,c.italic.inside=u,c.inserted.inside=u,c.deleted.inside=u,c.span.inside=u;var d=l.table.inside;d.inline=u.inline,d.link=u.link,d.image=u.image,d.footnote=u.footnote,d.acronym=u.acronym,d.mark=u.mark}(e)}Kv.displayName="haml";Kv.aliases=[];function Kv(e){e.register(No),function(t){t.languages.haml={"multiline-comment":{pattern:/((?:^|\r?\n|\r)([\t ]*))(?:\/|-#).*(?:(?:\r?\n|\r)\2[\t ].+)*/,lookbehind:!0,alias:"comment"},"multiline-code":[{pattern:/((?:^|\r?\n|\r)([\t ]*)(?:[~-]|[&!]?=)).*,[\t ]*(?:(?:\r?\n|\r)\2[\t ].*,[\t ]*)*(?:(?:\r?\n|\r)\2[\t ].+)/,lookbehind:!0,inside:t.languages.ruby},{pattern:/((?:^|\r?\n|\r)([\t ]*)(?:[~-]|[&!]?=)).*\|[\t ]*(?:(?:\r?\n|\r)\2[\t ].*\|[\t ]*)*/,lookbehind:!0,inside:t.languages.ruby}],filter:{pattern:/((?:^|\r?\n|\r)([\t ]*)):[\w-]+(?:(?:\r?\n|\r)(?:\2[\t ].+|\s*?(?=\r?\n|\r)))+/,lookbehind:!0,inside:{"filter-name":{pattern:/^:[\w-]+/,alias:"symbol"}}},markup:{pattern:/((?:^|\r?\n|\r)[\t ]*)<.+/,lookbehind:!0,inside:t.languages.markup},doctype:{pattern:/((?:^|\r?\n|\r)[\t ]*)!!!(?: .+)?/,lookbehind:!0},tag:{pattern:/((?:^|\r?\n|\r)[\t ]*)[%.#][\w\-#.]*[\w\-](?:\([^)]+\)|\{(?:\{[^}]+\}|[^{}])+\}|\[[^\]]+\])*[\/<>]*/,lookbehind:!0,inside:{attributes:[{pattern:/(^|[^#])\{(?:\{[^}]+\}|[^{}])+\}/,lookbehind:!0,inside:t.languages.ruby},{pattern:/\([^)]+\)/,inside:{"attr-value":{pattern:/(=\s*)(?:"(?:\\.|[^\\"\r\n])*"|[^)\s]+)/,lookbehind:!0},"attr-name":/[\w:-]+(?=\s*!?=|\s*[,)])/,punctuation:/[=(),]/}},{pattern:/\[[^\]]+\]/,inside:t.languages.ruby}],punctuation:/[<>]/}},code:{pattern:/((?:^|\r?\n|\r)[\t ]*(?:[~-]|[&!]?=)).+/,lookbehind:!0,inside:t.languages.ruby},interpolation:{pattern:/#\{[^}]+\}/,inside:{delimiter:{pattern:/^#\{|\}$/,alias:"punctuation"},ruby:{pattern:/[\s\S]+/,inside:t.languages.ruby}}},punctuation:{pattern:/((?:^|\r?\n|\r)[\t ]*)[~=\-&!]+/,lookbehind:!0}};for(var n="((?:^|\\r?\\n|\\r)([\\t ]*)):{{filter_name}}(?:(?:\\r?\\n|\\r)(?:\\2[\\t ].+|\\s*?(?=\\r?\\n|\\r)))+",r=["css",{filter:"coffee",language:"coffeescript"},"erb","javascript","less","markdown","ruby","scss","textile"],a={},i=0,o=r.length;i<o;i++){var l=r[i];l=typeof l=="string"?{filter:l,language:l}:l,t.languages[l.language]&&(a["filter-"+l.filter]={pattern:RegExp(n.replace("{{filter_name}}",function(){return l.filter})),lookbehind:!0,inside:{"filter-name":{pattern:/^:[\w-]+/,alias:"symbol"},text:{pattern:/[\s\S]+/,alias:[l.language,"language-"+l.language],inside:t.languages[l.language]}}})}t.languages.insertBefore("haml","filter",a)}(e)}Zv.displayName="handlebars";Zv.aliases=["hbs","mustache"];function Zv(e){e.register(Rn),function(t){t.languages.handlebars={comment:/\{\{![\s\S]*?\}\}/,delimiter:{pattern:/^\{\{\{?|\}\}\}?$/,alias:"punctuation"},string:/(["'])(?:\\.|(?!\1)[^\\\r\n])*\1/,number:/\b0x[\dA-Fa-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:[Ee][+-]?\d+)?/,boolean:/\b(?:false|true)\b/,block:{pattern:/^(\s*(?:~\s*)?)[#\/]\S+?(?=\s*(?:~\s*)?$|\s)/,lookbehind:!0,alias:"keyword"},brackets:{pattern:/\[[^\]]+\]/,inside:{punctuation:/\[|\]/,variable:/[\s\S]+/}},punctuation:/[!"#%&':()*+,.\/;<=>@\[\\\]^`{|}~]/,variable:/[^!"#%&'()*+,\/;<=>@\[\\\]^`{|}~\s]+/},t.hooks.add("before-tokenize",function(n){var r=/\{\{\{[\s\S]+?\}\}\}|\{\{[\s\S]+?\}\}/g;t.languages["markup-templating"].buildPlaceholders(n,"handlebars",r)}),t.hooks.add("after-tokenize",function(n){t.languages["markup-templating"].tokenizePlaceholders(n,"handlebars")}),t.languages.hbs=t.languages.handlebars,t.languages.mustache=t.languages.handlebars}(e)}Vd.displayName="haskell";Vd.aliases=["hs"];function Vd(e){e.languages.haskell={comment:{pattern:/(^|[^-!#$%*+=?&@|~.:<>^\\\/])(?:--(?:(?=.)[^-!#$%*+=?&@|~.:<>^\\\/].*|$)|\{-[\s\S]*?-\})/m,lookbehind:!0},char:{pattern:/'(?:[^\\']|\\(?:[abfnrtv\\"'&]|\^[A-Z@[\]^_]|ACK|BEL|BS|CAN|CR|DC1|DC2|DC3|DC4|DEL|DLE|EM|ENQ|EOT|ESC|ETB|ETX|FF|FS|GS|HT|LF|NAK|NUL|RS|SI|SO|SOH|SP|STX|SUB|SYN|US|VT|\d+|o[0-7]+|x[0-9a-fA-F]+))'/,alias:"string"},string:{pattern:/"(?:[^\\"]|\\(?:\S|\s+\\))*"/,greedy:!0},keyword:/\b(?:case|class|data|deriving|do|else|if|in|infixl|infixr|instance|let|module|newtype|of|primitive|then|type|where)\b/,"import-statement":{pattern:/(^[\t ]*)import\s+(?:qualified\s+)?(?:[A-Z][\w']*)(?:\.[A-Z][\w']*)*(?:\s+as\s+(?:[A-Z][\w']*)(?:\.[A-Z][\w']*)*)?(?:\s+hiding\b)?/m,lookbehind:!0,inside:{keyword:/\b(?:as|hiding|import|qualified)\b/,punctuation:/\./}},builtin:/\b(?:abs|acos|acosh|all|and|any|appendFile|approxRational|asTypeOf|asin|asinh|atan|atan2|atanh|basicIORun|break|catch|ceiling|chr|compare|concat|concatMap|const|cos|cosh|curry|cycle|decodeFloat|denominator|digitToInt|div|divMod|drop|dropWhile|either|elem|encodeFloat|enumFrom|enumFromThen|enumFromThenTo|enumFromTo|error|even|exp|exponent|fail|filter|flip|floatDigits|floatRadix|floatRange|floor|fmap|foldl|foldl1|foldr|foldr1|fromDouble|fromEnum|fromInt|fromInteger|fromIntegral|fromRational|fst|gcd|getChar|getContents|getLine|group|head|id|inRange|index|init|intToDigit|interact|ioError|isAlpha|isAlphaNum|isAscii|isControl|isDenormalized|isDigit|isHexDigit|isIEEE|isInfinite|isLower|isNaN|isNegativeZero|isOctDigit|isPrint|isSpace|isUpper|iterate|last|lcm|length|lex|lexDigits|lexLitChar|lines|log|logBase|lookup|map|mapM|mapM_|max|maxBound|maximum|maybe|min|minBound|minimum|mod|negate|not|notElem|null|numerator|odd|or|ord|otherwise|pack|pi|pred|primExitWith|print|product|properFraction|putChar|putStr|putStrLn|quot|quotRem|range|rangeSize|read|readDec|readFile|readFloat|readHex|readIO|readInt|readList|readLitChar|readLn|readOct|readParen|readSigned|reads|readsPrec|realToFrac|recip|rem|repeat|replicate|return|reverse|round|scaleFloat|scanl|scanl1|scanr|scanr1|seq|sequence|sequence_|show|showChar|showInt|showList|showLitChar|showParen|showSigned|showString|shows|showsPrec|significand|signum|sin|sinh|snd|sort|span|splitAt|sqrt|subtract|succ|sum|tail|take|takeWhile|tan|tanh|threadToIOResult|toEnum|toInt|toInteger|toLower|toRational|toUpper|truncate|uncurry|undefined|unlines|until|unwords|unzip|unzip3|userError|words|writeFile|zip|zip3|zipWith|zipWith3)\b/,number:/\b(?:\d+(?:\.\d+)?(?:e[+-]?\d+)?|0o[0-7]+|0x[0-9a-f]+)\b/i,operator:[{pattern:/`(?:[A-Z][\w']*\.)*[_a-z][\w']*`/,greedy:!0},{pattern:/(\s)\.(?=\s)/,lookbehind:!0},/[-!#$%*+=?&@|~:<>^\\\/][-!#$%*+=?&@|~.:<>^\\\/]*|\.[-!#$%*+=?&@|~.:<>^\\\/]+/],hvariable:{pattern:/\b(?:[A-Z][\w']*\.)*[_a-z][\w']*/,inside:{punctuation:/\./}},constant:{pattern:/\b(?:[A-Z][\w']*\.)*[A-Z][\w']*/,inside:{punctuation:/\./}},punctuation:/[{}[\];(),.:]/},e.languages.hs=e.languages.haskell}Xv.displayName="haxe";Xv.aliases=[];function Xv(e){e.register(at),e.languages.haxe=e.languages.extend("clike",{string:{pattern:/"(?:[^"\\]|\\[\s\S])*"/,greedy:!0},"class-name":[{pattern:/(\b(?:abstract|class|enum|extends|implements|interface|new|typedef)\s+)[A-Z_]\w*/,lookbehind:!0},/\b[A-Z]\w*/],keyword:/\bthis\b|\b(?:abstract|as|break|case|cast|catch|class|continue|default|do|dynamic|else|enum|extends|extern|final|for|from|function|if|implements|import|in|inline|interface|macro|new|null|operator|overload|override|package|private|public|return|static|super|switch|throw|to|try|typedef|untyped|using|var|while)(?!\.)\b/,function:{pattern:/\b[a-z_]\w*(?=\s*(?:<[^<>]*>\s*)?\()/i,greedy:!0},operator:/\.{3}|\+\+|--|&&|\|\||->|=>|(?:<<?|>{1,3}|[-+*/%!=&|^])=?|[?:~]/}),e.languages.insertBefore("haxe","string",{"string-interpolation":{pattern:/'(?:[^'\\]|\\[\s\S])*'/,greedy:!0,inside:{interpolation:{pattern:/(^|[^\\])\$(?:\w+|\{[^{}]+\})/,lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^\$\{?|\}$/,alias:"punctuation"},expression:{pattern:/[\s\S]+/,inside:e.languages.haxe}}},string:/[\s\S]+/}}}),e.languages.insertBefore("haxe","class-name",{regex:{pattern:/~\/(?:[^\/\\\r\n]|\\.)+\/[a-z]*/,greedy:!0,inside:{"regex-flags":/\b[a-z]+$/,"regex-source":{pattern:/^(~\/)[\s\S]+(?=\/$)/,lookbehind:!0,alias:"language-regex",inside:e.languages.regex},"regex-delimiter":/^~\/|\/$/}}}),e.languages.insertBefore("haxe","keyword",{preprocessor:{pattern:/#(?:else|elseif|end|if)\b.*/,alias:"property"},metadata:{pattern:/@:?[\w.]+/,alias:"symbol"},reification:{pattern:/\$(?:\w+|(?=\{))/,alias:"important"}})}Qv.displayName="hcl";Qv.aliases=[];function Qv(e){e.languages.hcl={comment:/(?:\/\/|#).*|\/\*[\s\S]*?(?:\*\/|$)/,heredoc:{pattern:/<<-?(\w+\b)[\s\S]*?^[ \t]*\1/m,greedy:!0,alias:"string"},keyword:[{pattern:/(?:data|resource)\s+(?:"(?:\\[\s\S]|[^\\"])*")(?=\s+"[\w-]+"\s+\{)/i,inside:{type:{pattern:/(resource|data|\s+)(?:"(?:\\[\s\S]|[^\\"])*")/i,lookbehind:!0,alias:"variable"}}},{pattern:/(?:backend|module|output|provider|provisioner|variable)\s+(?:[\w-]+|"(?:\\[\s\S]|[^\\"])*")\s+(?=\{)/i,inside:{type:{pattern:/(backend|module|output|provider|provisioner|variable)\s+(?:[\w-]+|"(?:\\[\s\S]|[^\\"])*")\s+/i,lookbehind:!0,alias:"variable"}}},/[\w-]+(?=\s+\{)/],property:[/[-\w\.]+(?=\s*=(?!=))/,/"(?:\\[\s\S]|[^\\"])+"(?=\s*[:=])/],string:{pattern:/"(?:[^\\$"]|\\[\s\S]|\$(?:(?=")|\$+(?!\$)|[^"${])|\$\{(?:[^{}"]|"(?:[^\\"]|\\[\s\S])*")*\})*"/,greedy:!0,inside:{interpolation:{pattern:/(^|[^$])\$\{(?:[^{}"]|"(?:[^\\"]|\\[\s\S])*")*\}/,lookbehind:!0,inside:{type:{pattern:/(\b(?:count|data|local|module|path|self|terraform|var)\b\.)[\w\*]+/i,lookbehind:!0,alias:"variable"},keyword:/\b(?:count|data|local|module|path|self|terraform|var)\b/i,function:/\w+(?=\()/,string:{pattern:/"(?:\\[\s\S]|[^\\"])*"/,greedy:!0},number:/\b0x[\da-f]+\b|\b\d+(?:\.\d*)?(?:e[+-]?\d+)?/i,punctuation:/[!\$#%&'()*+,.\/;<=>@\[\\\]^`{|}~?:]/}}}},number:/\b0x[\da-f]+\b|\b\d+(?:\.\d*)?(?:e[+-]?\d+)?/i,boolean:/\b(?:false|true)\b/i,punctuation:/[=\[\]{}]/}}Jv.displayName="hlsl";Jv.aliases=[];function Jv(e){e.register(pa),e.languages.hlsl=e.languages.extend("c",{"class-name":[e.languages.c["class-name"],/\b(?:AppendStructuredBuffer|BlendState|Buffer|ByteAddressBuffer|CompileShader|ComputeShader|ConsumeStructuredBuffer|DepthStencilState|DepthStencilView|DomainShader|GeometryShader|Hullshader|InputPatch|LineStream|OutputPatch|PixelShader|PointStream|RWBuffer|RWByteAddressBuffer|RWStructuredBuffer|RWTexture(?:1D|1DArray|2D|2DArray|3D)|RasterizerState|RenderTargetView|SamplerComparisonState|SamplerState|StructuredBuffer|Texture(?:1D|1DArray|2D|2DArray|2DMS|2DMSArray|3D|Cube|CubeArray)|TriangleStream|VertexShader)\b/],keyword:[/\b(?:asm|asm_fragment|auto|break|case|catch|cbuffer|centroid|char|class|column_major|compile|compile_fragment|const|const_cast|continue|default|delete|discard|do|dynamic_cast|else|enum|explicit|export|extern|for|friend|fxgroup|goto|groupshared|if|in|inline|inout|interface|line|lineadj|linear|long|matrix|mutable|namespace|new|nointerpolation|noperspective|operator|out|packoffset|pass|pixelfragment|point|precise|private|protected|public|register|reinterpret_cast|return|row_major|sample|sampler|shared|short|signed|sizeof|snorm|stateblock|stateblock_state|static|static_cast|string|struct|switch|tbuffer|technique|technique10|technique11|template|texture|this|throw|triangle|triangleadj|try|typedef|typename|uniform|union|unorm|unsigned|using|vector|vertexfragment|virtual|void|volatile|while)\b/,/\b(?:bool|double|dword|float|half|int|min(?:10float|12int|16(?:float|int|uint))|uint)(?:[1-4](?:x[1-4])?)?\b/],number:/(?:(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:[eE][+-]?\d+)?|\b0x[\da-fA-F]+)[fFhHlLuU]?\b/,boolean:/\b(?:false|true)\b/})}eE.displayName="hoon";eE.aliases=[];function eE(e){e.languages.hoon={comment:{pattern:/::.*/,greedy:!0},string:{pattern:/"(?:[^"\\]|\\.)*"|'(?:[^'\\]|\\.)*'/,greedy:!0},constant:/%(?:\.[ny]|[\w-]+)/,"class-name":/@(?:[a-z0-9-]*[a-z0-9])?|\*/i,function:/(?:\+[-+] {2})?(?:[a-z](?:[a-z0-9-]*[a-z0-9])?)/,keyword:/\.[\^\+\*=\?]|![><:\.=\?!]|=[>|:,\.\-\^<+;/~\*\?]|\?[>|:\.\-\^<\+&~=@!]|\|[\$_%:\.\-\^~\*=@\?]|\+[|\$\+\*]|:[_\-\^\+~\*]|%[_:\.\-\^\+~\*=]|\^[|:\.\-\+&~\*=\?]|\$[|_%:<>\-\^&~@=\?]|;[:<\+;\/~\*=]|~[>|\$_%<\+\/&=\?!]|--|==/}}tE.displayName="hpkp";tE.aliases=[];function tE(e){e.languages.hpkp={directive:{pattern:/\b(?:includeSubDomains|max-age|pin-sha256|preload|report-to|report-uri|strict)(?=[\s;=]|$)/i,alias:"property"},operator:/=/,punctuation:/;/}}nE.displayName="hsts";nE.aliases=[];function nE(e){e.languages.hsts={directive:{pattern:/\b(?:includeSubDomains|max-age|preload)(?=[\s;=]|$)/i,alias:"property"},operator:/=/,punctuation:/;/}}rE.displayName="uri";rE.aliases=["url"];function rE(e){e.languages.uri={scheme:{pattern:/^[a-z][a-z0-9+.-]*:/im,greedy:!0,inside:{"scheme-delimiter":/:$/}},fragment:{pattern:/#[\w\-.~!$&'()*+,;=%:@/?]*/,inside:{"fragment-delimiter":/^#/}},query:{pattern:/\?[\w\-.~!$&'()*+,;=%:@/?]*/,inside:{"query-delimiter":{pattern:/^\?/,greedy:!0},"pair-delimiter":/[&;]/,pair:{pattern:/^[^=][\s\S]*/,inside:{key:/^[^=]+/,value:{pattern:/(^=)[\s\S]+/,lookbehind:!0}}}}},authority:{pattern:RegExp(/^\/\//.source+/(?:[\w\-.~!$&'()*+,;=%:]*@)?/.source+("(?:"+/\[(?:[0-9a-fA-F:.]{2,48}|v[0-9a-fA-F]+\.[\w\-.~!$&'()*+,;=]+)\]/.source+"|"+/[\w\-.~!$&'()*+,;=%]*/.source+")")+/(?::\d*)?/.source,"m"),inside:{"authority-delimiter":/^\/\//,"user-info-segment":{pattern:/^[\w\-.~!$&'()*+,;=%:]*@/,inside:{"user-info-delimiter":/@$/,"user-info":/^[\w\-.~!$&'()*+,;=%:]+/}},"port-segment":{pattern:/:\d*$/,inside:{"port-delimiter":/^:/,port:/^\d+/}},host:{pattern:/[\s\S]+/,inside:{"ip-literal":{pattern:/^\[[\s\S]+\]$/,inside:{"ip-literal-delimiter":/^\[|\]$/,"ipv-future":/^v[\s\S]+/,"ipv6-address":/^[\s\S]+/}},"ipv4-address":/^(?:(?:[03-9]\d?|[12]\d{0,2})\.){3}(?:[03-9]\d?|[12]\d{0,2})$/}}}},path:{pattern:/^[\w\-.~!$&'()*+,;=%:@/]+/m,inside:{"path-separator":/\//}}},e.languages.url=e.languages.uri}aE.displayName="http";aE.aliases=[];function aE(e){(function(t){function n(d){return RegExp("(^(?:"+d+"):[ 	]*(?![ 	]))[^]+","i")}t.languages.http={"request-line":{pattern:/^(?:CONNECT|DELETE|GET|HEAD|OPTIONS|PATCH|POST|PRI|PUT|SEARCH|TRACE)\s(?:https?:\/\/|\/)\S*\sHTTP\/[\d.]+/m,inside:{method:{pattern:/^[A-Z]+\b/,alias:"property"},"request-target":{pattern:/^(\s)(?:https?:\/\/|\/)\S*(?=\s)/,lookbehind:!0,alias:"url",inside:t.languages.uri},"http-version":{pattern:/^(\s)HTTP\/[\d.]+/,lookbehind:!0,alias:"property"}}},"response-status":{pattern:/^HTTP\/[\d.]+ \d+ .+/m,inside:{"http-version":{pattern:/^HTTP\/[\d.]+/,alias:"property"},"status-code":{pattern:/^(\s)\d+(?=\s)/,lookbehind:!0,alias:"number"},"reason-phrase":{pattern:/^(\s).+/,lookbehind:!0,alias:"string"}}},header:{pattern:/^[\w-]+:.+(?:(?:\r\n?|\n)[ \t].+)*/m,inside:{"header-value":[{pattern:n(/Content-Security-Policy/.source),lookbehind:!0,alias:["csp","languages-csp"],inside:t.languages.csp},{pattern:n(/Public-Key-Pins(?:-Report-Only)?/.source),lookbehind:!0,alias:["hpkp","languages-hpkp"],inside:t.languages.hpkp},{pattern:n(/Strict-Transport-Security/.source),lookbehind:!0,alias:["hsts","languages-hsts"],inside:t.languages.hsts},{pattern:n(/[^:]+/.source),lookbehind:!0}],"header-name":{pattern:/^[^:]+/,alias:"keyword"},punctuation:/^:/}}};var r=t.languages,a={"application/javascript":r.javascript,"application/json":r.json||r.javascript,"application/xml":r.xml,"text/xml":r.xml,"text/html":r.html,"text/css":r.css,"text/plain":r.plain},i={"application/json":!0,"application/xml":!0};function o(d){var p=d.replace(/^[a-z]+\//,""),h="\\w+/(?:[\\w.-]+\\+)+"+p+"(?![+\\w.-])";return"(?:"+d+"|"+h+")"}var l;for(var u in a)if(a[u]){l=l||{};var c=i[u]?o(u):u;l[u.replace(/\//g,"-")]={pattern:RegExp("("+/content-type:\s*/.source+c+/(?:(?:\r\n?|\n)[\w-].*)*(?:\r(?:\n|(?!\n))|\n)/.source+")"+/[^ \t\w-][\s\S]*/.source,"i"),lookbehind:!0,inside:a[u]}}l&&t.languages.insertBefore("http","header",l)})(e)}sE.displayName="ichigojam";sE.aliases=[];function sE(e){e.languages.ichigojam={comment:/(?:\B'|REM)(?:[^\n\r]*)/i,string:{pattern:/"(?:""|[!#$%&'()*,\/:;<=>?^\w +\-.])*"/,greedy:!0},number:/\B#[0-9A-F]+|\B`[01]+|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:E[+-]?\d+)?/i,keyword:/\b(?:BEEP|BPS|CASE|CLEAR|CLK|CLO|CLP|CLS|CLT|CLV|CONT|COPY|ELSE|END|FILE|FILES|FOR|GOSUB|GOTO|GSB|IF|INPUT|KBD|LED|LET|LIST|LOAD|LOCATE|LRUN|NEW|NEXT|OUT|PLAY|POKE|PRINT|PWM|REM|RENUM|RESET|RETURN|RIGHT|RTN|RUN|SAVE|SCROLL|SLEEP|SRND|STEP|STOP|SUB|TEMPO|THEN|TO|UART|VIDEO|WAIT)(?:\$|\b)/i,function:/\b(?:ABS|ANA|ASC|BIN|BTN|DEC|END|FREE|HELP|HEX|I2CR|I2CW|IN|INKEY|LEN|LINE|PEEK|RND|SCR|SOUND|STR|TICK|USR|VER|VPEEK|ZER)(?:\$|\b)/i,label:/(?:\B@\S+)/,operator:/<[=>]?|>=?|\|\||&&|[+\-*\/=|&^~!]|\b(?:AND|NOT|OR)\b/i,punctuation:/[\[,;:()\]]/}}iE.displayName="icon";iE.aliases=[];function iE(e){e.languages.icon={comment:/#.*/,string:{pattern:/(["'])(?:(?!\1)[^\\\r\n_]|\\.|_(?!\1)(?:\r\n|[\s\S]))*\1/,greedy:!0},number:/\b(?:\d+r[a-z\d]+|\d+(?:\.\d+)?(?:e[+-]?\d+)?)\b|\.\d+\b/i,"builtin-keyword":{pattern:/&(?:allocated|ascii|clock|collections|cset|current|date|dateline|digits|dump|e|error(?:number|text|value)?|errout|fail|features|file|host|input|lcase|letters|level|line|main|null|output|phi|pi|pos|progname|random|regions|source|storage|subject|time|trace|ucase|version)\b/,alias:"variable"},directive:{pattern:/\$\w+/,alias:"builtin"},keyword:/\b(?:break|by|case|create|default|do|else|end|every|fail|global|if|initial|invocable|link|local|next|not|of|procedure|record|repeat|return|static|suspend|then|to|until|while)\b/,function:/\b(?!\d)\w+(?=\s*[({]|\s*!\s*\[)/,operator:/[+-]:(?!=)|(?:[\/?@^%&]|\+\+?|--?|==?=?|~==?=?|\*\*?|\|\|\|?|<(?:->?|<?=?)|>>?=?)(?::=)?|:(?:=:?)?|[!.\\|~]/,punctuation:/[\[\](){},;]/}}oE.displayName="icu-message-format";oE.aliases=[];function oE(e){(function(t){function n(u,c){return c<=0?/[]/.source:u.replace(/<SELF>/g,function(){return n(u,c-1)})}var r=/'[{}:=,](?:[^']|'')*'(?!')/,a={pattern:/''/,greedy:!0,alias:"operator"},i={pattern:r,greedy:!0,inside:{escape:a}},o=n(/\{(?:[^{}']|'(?![{},'])|''|<STR>|<SELF>)*\}/.source.replace(/<STR>/g,function(){return r.source}),8),l={pattern:RegExp(o),inside:{message:{pattern:/^(\{)[\s\S]+(?=\}$)/,lookbehind:!0,inside:null},"message-delimiter":{pattern:/./,alias:"punctuation"}}};t.languages["icu-message-format"]={argument:{pattern:RegExp(o),greedy:!0,inside:{content:{pattern:/^(\{)[\s\S]+(?=\}$)/,lookbehind:!0,inside:{"argument-name":{pattern:/^(\s*)[^{}:=,\s]+/,lookbehind:!0},"choice-style":{pattern:/^(\s*,\s*choice\s*,\s*)\S(?:[\s\S]*\S)?/,lookbehind:!0,inside:{punctuation:/\|/,range:{pattern:/^(\s*)[+-]?(?:\d+(?:\.\d*)?|\u221e)\s*[<#\u2264]/,lookbehind:!0,inside:{operator:/[<#\u2264]/,number:/\S+/}},rest:null}},"plural-style":{pattern:/^(\s*,\s*(?:plural|selectordinal)\s*,\s*)\S(?:[\s\S]*\S)?/,lookbehind:!0,inside:{offset:/^offset:\s*\d+/,"nested-message":l,selector:{pattern:/=\d+|[^{}:=,\s]+/,inside:{keyword:/^(?:few|many|one|other|two|zero)$/}}}},"select-style":{pattern:/^(\s*,\s*select\s*,\s*)\S(?:[\s\S]*\S)?/,lookbehind:!0,inside:{"nested-message":l,selector:{pattern:/[^{}:=,\s]+/,inside:{keyword:/^other$/}}}},keyword:/\b(?:choice|plural|select|selectordinal)\b/,"arg-type":{pattern:/\b(?:date|duration|number|ordinal|spellout|time)\b/,alias:"keyword"},"arg-skeleton":{pattern:/(,\s*)::[^{}:=,\s]+/,lookbehind:!0},"arg-style":{pattern:/(,\s*)(?:currency|full|integer|long|medium|percent|short)(?=\s*$)/,lookbehind:!0},"arg-style-text":{pattern:RegExp(/(^\s*,\s*(?=\S))/.source+n(/(?:[^{}']|'[^']*'|\{(?:<SELF>)?\})+/.source,8)+"$"),lookbehind:!0,alias:"string"},punctuation:/,/}},"argument-delimiter":{pattern:/./,alias:"operator"}}},escape:a,string:i},l.inside.message.inside=t.languages["icu-message-format"],t.languages["icu-message-format"].argument.inside.content.inside["choice-style"].inside.rest=t.languages["icu-message-format"]})(e)}lE.displayName="idris";lE.aliases=["idr"];function lE(e){e.register(Vd),e.languages.idris=e.languages.extend("haskell",{comment:{pattern:/(?:(?:--|\|\|\|).*$|\{-[\s\S]*?-\})/m},keyword:/\b(?:Type|case|class|codata|constructor|corecord|data|do|dsl|else|export|if|implementation|implicit|import|impossible|in|infix|infixl|infixr|instance|interface|let|module|mutual|namespace|of|parameters|partial|postulate|private|proof|public|quoteGoal|record|rewrite|syntax|then|total|using|where|with)\b/,builtin:void 0}),e.languages.insertBefore("idris","keyword",{"import-statement":{pattern:/(^\s*import\s+)(?:[A-Z][\w']*)(?:\.[A-Z][\w']*)*/m,lookbehind:!0,inside:{punctuation:/\./}}}),e.languages.idr=e.languages.idris}uE.displayName="ignore";uE.aliases=["gitignore","hgignore","npmignore"];function uE(e){(function(t){t.languages.ignore={comment:/^#.*/m,entry:{pattern:/\S(?:.*(?:(?:\\ )|\S))?/,alias:"string",inside:{operator:/^!|\*\*?|\?/,regex:{pattern:/(^|[^\\])\[[^\[\]]*\]/,lookbehind:!0},punctuation:/\//}}},t.languages.gitignore=t.languages.ignore,t.languages.hgignore=t.languages.ignore,t.languages.npmignore=t.languages.ignore})(e)}cE.displayName="inform7";cE.aliases=[];function cE(e){e.languages.inform7={string:{pattern:/"[^"]*"/,inside:{substitution:{pattern:/\[[^\[\]]+\]/,inside:{delimiter:{pattern:/\[|\]/,alias:"punctuation"}}}}},comment:{pattern:/\[[^\[\]]+\]/,greedy:!0},title:{pattern:/^[ \t]*(?:book|chapter|part(?! of)|section|table|volume)\b.+/im,alias:"important"},number:{pattern:/(^|[^-])(?:\b\d+(?:\.\d+)?(?:\^\d+)?(?:(?!\d)\w+)?|\b(?:eight|eleven|five|four|nine|one|seven|six|ten|three|twelve|two))\b(?!-)/i,lookbehind:!0},verb:{pattern:/(^|[^-])\b(?:answering|applying to|are|asking|attacking|be(?:ing)?|burning|buying|called|carries|carry(?! out)|carrying|climbing|closing|conceal(?:ing|s)?|consulting|contain(?:ing|s)?|cutting|drinking|dropping|eating|enclos(?:es?|ing)|entering|examining|exiting|getting|giving|going|ha(?:s|ve|ving)|hold(?:ing|s)?|impl(?:ies|y)|incorporat(?:es?|ing)|inserting|is|jumping|kissing|listening|locking|looking|mean(?:ing|s)?|opening|provid(?:es?|ing)|pulling|pushing|putting|relat(?:es?|ing)|removing|searching|see(?:ing|s)?|setting|showing|singing|sleeping|smelling|squeezing|support(?:ing|s)?|swearing|switching|taking|tasting|telling|thinking|throwing|touching|turning|tying|unlock(?:ing|s)?|var(?:ies|y|ying)|waiting|waking|waving|wear(?:ing|s)?)\b(?!-)/i,lookbehind:!0,alias:"operator"},keyword:{pattern:/(^|[^-])\b(?:after|before|carry out|check|continue the action|definition(?= *:)|do nothing|else|end (?:if|the story|unless)|every turn|if|include|instead(?: of)?|let|move|no|now|otherwise|repeat|report|resume the story|rule for|running through|say(?:ing)?|stop the action|test|try(?:ing)?|understand|unless|use|when|while|yes)\b(?!-)/i,lookbehind:!0},property:{pattern:/(^|[^-])\b(?:adjacent(?! to)|carried|closed|concealed|contained|dark|described|edible|empty|enclosed|enterable|even|female|fixed in place|full|handled|held|improper-named|incorporated|inedible|invisible|lighted|lit|lock(?:able|ed)|male|marked for listing|mentioned|negative|neuter|non-(?:empty|full|recurring)|odd|opaque|open(?:able)?|plural-named|portable|positive|privately-named|proper-named|provided|publically-named|pushable between rooms|recurring|related|rubbing|scenery|seen|singular-named|supported|swinging|switch(?:able|ed(?: off| on)?)|touch(?:able|ed)|transparent|unconcealed|undescribed|unlit|unlocked|unmarked for listing|unmentioned|unopenable|untouchable|unvisited|variable|visible|visited|wearable|worn)\b(?!-)/i,lookbehind:!0,alias:"symbol"},position:{pattern:/(^|[^-])\b(?:above|adjacent to|back side of|below|between|down|east|everywhere|front side|here|in|inside(?: from)?|north(?:east|west)?|nowhere|on(?: top of)?|other side|outside(?: from)?|parts? of|regionally in|south(?:east|west)?|through|up|west|within)\b(?!-)/i,lookbehind:!0,alias:"keyword"},type:{pattern:/(^|[^-])\b(?:actions?|activit(?:ies|y)|actors?|animals?|backdrops?|containers?|devices?|directions?|doors?|holders?|kinds?|lists?|m[ae]n|nobody|nothing|nouns?|numbers?|objects?|people|persons?|player(?:'s holdall)?|regions?|relations?|rooms?|rule(?:book)?s?|scenes?|someone|something|supporters?|tables?|texts?|things?|time|vehicles?|wom[ae]n)\b(?!-)/i,lookbehind:!0,alias:"variable"},punctuation:/[.,:;(){}]/},e.languages.inform7.string.inside.substitution.inside.rest=e.languages.inform7,e.languages.inform7.string.inside.substitution.inside.rest.text={pattern:/\S(?:\s*\S)*/,alias:"comment"}}dE.displayName="io";dE.aliases=[];function dE(e){e.languages.io={comment:{pattern:/(^|[^\\])(?:\/\*[\s\S]*?(?:\*\/|$)|\/\/.*|#.*)/,lookbehind:!0,greedy:!0},"triple-quoted-string":{pattern:/"""(?:\\[\s\S]|(?!""")[^\\])*"""/,greedy:!0,alias:"string"},string:{pattern:/"(?:\\.|[^\\\r\n"])*"/,greedy:!0},keyword:/\b(?:activate|activeCoroCount|asString|block|break|call|catch|clone|collectGarbage|compileString|continue|do|doFile|doMessage|doString|else|elseif|exit|for|foreach|forward|getEnvironmentVariable|getSlot|hasSlot|if|ifFalse|ifNil|ifNilEval|ifTrue|isActive|isNil|isResumable|list|message|method|parent|pass|pause|perform|performWithArgList|print|println|proto|raise|raiseResumable|removeSlot|resend|resume|schedulerSleepSeconds|self|sender|setSchedulerSleepSeconds|setSlot|shallowCopy|slotNames|super|system|then|thisBlock|thisContext|try|type|uniqueId|updateSlot|wait|while|write|yield)\b/,builtin:/\b(?:Array|AudioDevice|AudioMixer|BigNum|Block|Box|Buffer|CFunction|CGI|Color|Curses|DBM|DNSResolver|DOConnection|DOProxy|DOServer|Date|Directory|Duration|DynLib|Error|Exception|FFT|File|Fnmatch|Font|Future|GL|GLE|GLScissor|GLU|GLUCylinder|GLUQuadric|GLUSphere|GLUT|Host|Image|Importer|LinkList|List|Lobby|Locals|MD5|MP3Decoder|MP3Encoder|Map|Message|Movie|Notification|Number|Object|OpenGL|Point|Protos|Random|Regex|SGML|SGMLElement|SGMLParser|SQLite|Sequence|Server|ShowMessage|SleepyCat|SleepyCatCursor|Socket|SocketManager|Sound|Soup|Store|String|Tree|UDPSender|UPDReceiver|URL|User|Warning|WeakLink)\b/,boolean:/\b(?:false|nil|true)\b/,number:/\b0x[\da-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e-?\d+)?/i,operator:/[=!*/%+\-^&|]=|>>?=?|<<?=?|:?:?=|\+\+?|--?|\*\*?|\/\/?|%|\|\|?|&&?|\b(?:and|not|or|return)\b|@@?|\?\??|\.\./,punctuation:/[{}[\];(),.:]/}}pE.displayName="j";pE.aliases=[];function pE(e){e.languages.j={comment:{pattern:/\bNB\..*/,greedy:!0},string:{pattern:/'(?:''|[^'\r\n])*'/,greedy:!0},keyword:/\b(?:(?:CR|LF|adverb|conjunction|def|define|dyad|monad|noun|verb)\b|(?:assert|break|case|catch[dt]?|continue|do|else|elseif|end|fcase|for|for_\w+|goto_\w+|if|label_\w+|return|select|throw|try|while|whilst)\.)/,verb:{pattern:/(?!\^:|;\.|[=!][.:])(?:\{(?:\.|::?)?|p(?:\.\.?|:)|[=!\]]|[<>+*\-%$|,#][.:]?|[?^]\.?|[;\[]:?|[~}"i][.:]|[ACeEIjLor]\.|(?:[_\/\\qsux]|_?\d):)/,alias:"keyword"},number:/\b_?(?:(?!\d:)\d+(?:\.\d+)?(?:(?:ad|ar|[ejpx])_?\d+(?:\.\d+)?)*(?:b_?[\da-z]+(?:\.[\da-z]+)?)?|_\b(?!\.))/,adverb:{pattern:/[~}]|[\/\\]\.?|[bfM]\.|t[.:]/,alias:"builtin"},operator:/[=a][.:]|_\./,conjunction:{pattern:/&(?:\.:?|:)?|[.:@][.:]?|[!D][.:]|[;dHT]\.|`:?|[\^LS]:|"/,alias:"variable"},punctuation:/[()]/}}xu.displayName="javadoclike";xu.aliases=[];function xu(e){(function(t){var n=t.languages.javadoclike={parameter:{pattern:/(^[\t ]*(?:\/{3}|\*|\/\*\*)\s*@(?:arg|arguments|param)\s+)\w+/m,lookbehind:!0},keyword:{pattern:/(^[\t ]*(?:\/{3}|\*|\/\*\*)\s*|\{)@[a-z][a-zA-Z-]+\b/m,lookbehind:!0},punctuation:/[{}]/};function r(i,o){var l="doc-comment",u=t.languages[i];if(u){var c=u[l];if(!c){var d={};d[l]={pattern:/(^|[^\\])\/\*\*[^/][\s\S]*?(?:\*\/|$)/,lookbehind:!0,alias:"comment"},u=t.languages.insertBefore(i,"comment",d),c=u[l]}if(c instanceof RegExp&&(c=u[l]={pattern:c}),Array.isArray(c))for(var p=0,h=c.length;p<h;p++)c[p]instanceof RegExp&&(c[p]={pattern:c[p]}),o(c[p]);else o(c)}}function a(i,o){typeof i=="string"&&(i=[i]),i.forEach(function(l){r(l,function(u){u.inside||(u.inside={}),u.inside.rest=o})})}Object.defineProperty(n,"addSupport",{value:a}),n.addSupport(["java","javascript","php"],n)})(e)}hE.displayName="scala";hE.aliases=[];function hE(e){e.register(wo),e.languages.scala=e.languages.extend("java",{"triple-quoted-string":{pattern:/"""[\s\S]*?"""/,greedy:!0,alias:"string"},string:{pattern:/("|')(?:\\.|(?!\1)[^\\\r\n])*\1/,greedy:!0},keyword:/<-|=>|\b(?:abstract|case|catch|class|def|derives|do|else|enum|extends|extension|final|finally|for|forSome|given|if|implicit|import|infix|inline|lazy|match|new|null|object|opaque|open|override|package|private|protected|return|sealed|self|super|this|throw|trait|transparent|try|type|using|val|var|while|with|yield)\b/,number:/\b0x(?:[\da-f]*\.)?[\da-f]+|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e\d+)?[dfl]?/i,builtin:/\b(?:Any|AnyRef|AnyVal|Boolean|Byte|Char|Double|Float|Int|Long|Nothing|Short|String|Unit)\b/,symbol:/'[^\d\s\\]\w*/}),e.languages.insertBefore("scala","triple-quoted-string",{"string-interpolation":{pattern:/\b[a-z]\w*(?:"""(?:[^$]|\$(?:[^{]|\{(?:[^{}]|\{[^{}]*\})*\}))*?"""|"(?:[^$"\r\n]|\$(?:[^{]|\{(?:[^{}]|\{[^{}]*\})*\}))*")/i,greedy:!0,inside:{id:{pattern:/^\w+/,greedy:!0,alias:"function"},escape:{pattern:/\\\$"|\$[$"]/,greedy:!0,alias:"symbol"},interpolation:{pattern:/\$(?:\w+|\{(?:[^{}]|\{[^{}]*\})*\})/,greedy:!0,inside:{punctuation:/^\$\{?|\}$/,expression:{pattern:/[\s\S]+/,inside:e.languages.scala}}},string:/[\s\S]+/}}}),delete e.languages.scala["class-name"],delete e.languages.scala.function,delete e.languages.scala.constant}fE.displayName="javadoc";fE.aliases=[];function fE(e){e.register(wo),e.register(xu),e.register(wn),function(t){var n=/(^(?:[\t ]*(?:\*\s*)*))[^*\s].*$/m,r=/#\s*\w+(?:\s*\([^()]*\))?/.source,a=/(?:\b[a-zA-Z]\w+\s*\.\s*)*\b[A-Z]\w*(?:\s*<mem>)?|<mem>/.source.replace(/<mem>/g,function(){return r});t.languages.javadoc=t.languages.extend("javadoclike",{}),t.languages.insertBefore("javadoc","keyword",{reference:{pattern:RegExp(/(@(?:exception|link|linkplain|see|throws|value)\s+(?:\*\s*)?)/.source+"(?:"+a+")"),lookbehind:!0,inside:{function:{pattern:/(#\s*)\w+(?=\s*\()/,lookbehind:!0},field:{pattern:/(#\s*)\w+/,lookbehind:!0},namespace:{pattern:/\b(?:[a-z]\w*\s*\.\s*)+/,inside:{punctuation:/\./}},"class-name":/\b[A-Z]\w*/,keyword:t.languages.java.keyword,punctuation:/[#()[\],.]/}},"class-name":{pattern:/(@param\s+)<[A-Z]\w*>/,lookbehind:!0,inside:{punctuation:/[.<>]/}},"code-section":[{pattern:/(\{@code\s+(?!\s))(?:[^\s{}]|\s+(?![\s}])|\{(?:[^{}]|\{(?:[^{}]|\{(?:[^{}]|\{[^{}]*\})*\})*\})*\})+(?=\s*\})/,lookbehind:!0,inside:{code:{pattern:n,lookbehind:!0,inside:t.languages.java,alias:"language-java"}}},{pattern:/(<(code|pre|tt)>(?!<code>)\s*)\S(?:\S|\s+\S)*?(?=\s*<\/\2>)/,lookbehind:!0,inside:{line:{pattern:n,lookbehind:!0,inside:{tag:t.languages.markup.tag,entity:t.languages.markup.entity,code:{pattern:/.+/,inside:t.languages.java,alias:"language-java"}}}}}],tag:t.languages.markup.tag,entity:t.languages.markup.entity}),t.languages.javadoclike.addSupport("java",t.languages.javadoc)}(e)}mE.displayName="javastacktrace";mE.aliases=[];function mE(e){e.languages.javastacktrace={summary:{pattern:/^([\t ]*)(?:(?:Caused by:|Suppressed:|Exception in thread "[^"]*")[\t ]+)?[\w$.]+(?::.*)?$/m,lookbehind:!0,inside:{keyword:{pattern:/^([\t ]*)(?:(?:Caused by|Suppressed)(?=:)|Exception in thread)/m,lookbehind:!0},string:{pattern:/^(\s*)"[^"]*"/,lookbehind:!0},exceptions:{pattern:/^(:?\s*)[\w$.]+(?=:|$)/,lookbehind:!0,inside:{"class-name":/[\w$]+$/,namespace:/\b[a-z]\w*\b/,punctuation:/\./}},message:{pattern:/(:\s*)\S.*/,lookbehind:!0,alias:"string"},punctuation:/:/}},"stack-frame":{pattern:/^([\t ]*)at (?:[\w$./]|@[\w$.+-]*\/)+(?:<init>)?\([^()]*\)/m,lookbehind:!0,inside:{keyword:{pattern:/^(\s*)at(?= )/,lookbehind:!0},source:[{pattern:/(\()\w+\.\w+:\d+(?=\))/,lookbehind:!0,inside:{file:/^\w+\.\w+/,punctuation:/:/,"line-number":{pattern:/\b\d+\b/,alias:"number"}}},{pattern:/(\()[^()]*(?=\))/,lookbehind:!0,inside:{keyword:/^(?:Native Method|Unknown Source)$/}}],"class-name":/[\w$]+(?=\.(?:<init>|[\w$]+)\()/,function:/(?:<init>|[\w$]+)(?=\()/,"class-loader":{pattern:/(\s)[a-z]\w*(?:\.[a-z]\w*)*(?=\/[\w@$.]*\/)/,lookbehind:!0,alias:"namespace",inside:{punctuation:/\./}},module:{pattern:/([\s/])[a-z]\w*(?:\.[a-z]\w*)*(?:@[\w$.+-]*)?(?=\/)/,lookbehind:!0,inside:{version:{pattern:/(@)[\s\S]+/,lookbehind:!0,alias:"number"},punctuation:/[@.]/}},namespace:{pattern:/(?:\b[a-z]\w*\.)+/,inside:{punctuation:/\./}},punctuation:/[()/.]/}},more:{pattern:/^([\t ]*)\.{3} \d+ [a-z]+(?: [a-z]+)*/m,lookbehind:!0,inside:{punctuation:/\.{3}/,number:/\d+/,keyword:/\b[a-z]+(?: [a-z]+)*\b/}}}}gE.displayName="jexl";gE.aliases=[];function gE(e){e.languages.jexl={string:/(["'])(?:\\[\s\S]|(?!\1)[^\\])*\1/,transform:{pattern:/(\|\s*)[a-zA-Z--_\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u00FF$][\w--\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u00FF$]*/,alias:"function",lookbehind:!0},function:/[a-zA-Z--_\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u00FF$][\w--\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u00FF$]*\s*(?=\()/,number:/\b\d+(?:\.\d+)?\b|\B\.\d+\b/,operator:/[<>!]=?|-|\+|&&|==|\|\|?|\/\/?|[?:*^%]/,boolean:/\b(?:false|true)\b/,keyword:/\bin\b/,punctuation:/[{}[\](),.]/}}bE.displayName="jolie";bE.aliases=[];function bE(e){e.register(at),e.languages.jolie=e.languages.extend("clike",{string:{pattern:/(^|[^\\])"(?:\\[\s\S]|[^"\\])*"/,lookbehind:!0,greedy:!0},"class-name":{pattern:/((?:\b(?:as|courier|embed|in|inputPort|outputPort|service)\b|@)[ \t]*)\w+/,lookbehind:!0},keyword:/\b(?:as|cH|comp|concurrent|constants|courier|cset|csets|default|define|else|embed|embedded|execution|exit|extender|for|foreach|forward|from|global|if|import|in|include|init|inputPort|install|instanceof|interface|is_defined|linkIn|linkOut|main|new|nullProcess|outputPort|over|private|provide|public|scope|sequential|service|single|spawn|synchronized|this|throw|throws|type|undef|until|while|with)\b/,function:/\b[a-z_]\w*(?=[ \t]*[@(])/i,number:/(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?l?/i,operator:/-[-=>]?|\+[+=]?|<[<=]?|[>=*!]=?|&&|\|\||[?\/%^@|]/,punctuation:/[()[\]{},;.:]/,builtin:/\b(?:Byte|any|bool|char|double|enum|float|int|length|long|ranges|regex|string|undefined|void)\b/}),e.languages.insertBefore("jolie","keyword",{aggregates:{pattern:/(\bAggregates\s*:\s*)(?:\w+(?:\s+with\s+\w+)?\s*,\s*)*\w+(?:\s+with\s+\w+)?/,lookbehind:!0,inside:{keyword:/\bwith\b/,"class-name":/\w+/,punctuation:/,/}},redirects:{pattern:/(\bRedirects\s*:\s*)(?:\w+\s*=>\s*\w+\s*,\s*)*(?:\w+\s*=>\s*\w+)/,lookbehind:!0,inside:{punctuation:/,/,"class-name":/\w+/,operator:/=>/}},property:{pattern:/\b(?:Aggregates|[Ii]nterfaces|Java|Javascript|Jolie|[Ll]ocation|OneWay|[Pp]rotocol|Redirects|RequestResponse)\b(?=[ \t]*:)/}})}yE.displayName="jq";yE.aliases=[];function yE(e){(function(t){var n=/\\\((?:[^()]|\([^()]*\))*\)/.source,r=RegExp(/(^|[^\\])"(?:[^"\r\n\\]|\\[^\r\n(]|__)*"/.source.replace(/__/g,function(){return n})),a={interpolation:{pattern:RegExp(/((?:^|[^\\])(?:\\{2})*)/.source+n),lookbehind:!0,inside:{content:{pattern:/^(\\\()[\s\S]+(?=\)$)/,lookbehind:!0,inside:null},punctuation:/^\\\(|\)$/}}},i=t.languages.jq={comment:/#.*/,property:{pattern:RegExp(r.source+/(?=\s*:(?!:))/.source),lookbehind:!0,greedy:!0,inside:a},string:{pattern:r,lookbehind:!0,greedy:!0,inside:a},function:{pattern:/(\bdef\s+)[a-z_]\w+/i,lookbehind:!0},variable:/\B\$\w+/,"property-literal":{pattern:/\b[a-z_]\w*(?=\s*:(?!:))/i,alias:"property"},keyword:/\b(?:as|break|catch|def|elif|else|end|foreach|if|import|include|label|module|modulemeta|null|reduce|then|try|while)\b/,boolean:/\b(?:false|true)\b/,number:/(?:\b\d+\.|\B\.)?\b\d+(?:[eE][+-]?\d+)?\b/,operator:[{pattern:/\|=?/,alias:"pipe"},/\.\.|[!=<>]?=|\?\/\/|\/\/=?|[-+*/%]=?|[<>?]|\b(?:and|not|or)\b/],"c-style-function":{pattern:/\b[a-z_]\w*(?=\s*\()/i,alias:"function"},punctuation:/::|[()\[\]{},:;]|\.(?=\s*[\[\w$])/,dot:{pattern:/\./,alias:"important"}};a.interpolation.inside.content.inside=i})(e)}xE.displayName="js-templates";xE.aliases=[];function xE(e){e.register(In),function(t){var n=t.languages.javascript["template-string"],r=n.pattern.source,a=n.inside.interpolation,i=a.inside["interpolation-punctuation"],o=a.pattern.source;function l(m,v){if(t.languages[m])return{pattern:RegExp("((?:"+v+")\\s*)"+r),lookbehind:!0,greedy:!0,inside:{"template-punctuation":{pattern:/^`|`$/,alias:"string"},"embedded-code":{pattern:/[\s\S]+/,alias:m}}}}t.languages.javascript["template-string"]=[l("css",/\b(?:styled(?:\([^)]*\))?(?:\s*\.\s*\w+(?:\([^)]*\))*)*|css(?:\s*\.\s*(?:global|resolve))?|createGlobalStyle|keyframes)/.source),l("html",/\bhtml|\.\s*(?:inner|outer)HTML\s*\+?=/.source),l("svg",/\bsvg/.source),l("markdown",/\b(?:markdown|md)/.source),l("graphql",/\b(?:gql|graphql(?:\s*\.\s*experimental)?)/.source),l("sql",/\bsql/.source),n].filter(Boolean);function u(m,v){return"___"+v.toUpperCase()+"_"+m+"___"}function c(m,v,y){var g={code:m,grammar:v,language:y};return t.hooks.run("before-tokenize",g),g.tokens=t.tokenize(g.code,g.grammar),t.hooks.run("after-tokenize",g),g.tokens}function d(m){var v={};v["interpolation-punctuation"]=i;var y=t.tokenize(m,v);if(y.length===3){var g=[1,1];g.push.apply(g,c(y[1],t.languages.javascript,"javascript")),y.splice.apply(y,g)}return new t.Token("interpolation",y,a.alias,m)}function p(m,v,y){var g=t.tokenize(m,{interpolation:{pattern:RegExp(o),lookbehind:!0}}),x=0,w={},k=g.map(function(I){if(typeof I=="string")return I;for(var C=I.content,N;m.indexOf(N=u(x++,y))!==-1;);return w[N]=C,N}).join(""),S=c(k,v,y),T=Object.keys(w);x=0;function A(I){for(var C=0;C<I.length;C++){if(x>=T.length)return;var N=I[C];if(typeof N=="string"||typeof N.content=="string"){var O=T[x],D=typeof N=="string"?N:N.content,B=D.indexOf(O);if(B!==-1){++x;var j=D.substring(0,B),P=d(w[O]),Y=D.substring(B+O.length),K=[];if(j&&K.push(j),K.push(P),Y){var $=[Y];A($),K.push.apply(K,$)}typeof N=="string"?(I.splice.apply(I,[C,1].concat(K)),C+=K.length-1):N.content=K}}else{var z=N.content;Array.isArray(z)?A(z):A([z])}}}return A(S),new t.Token(y,S,"language-"+y,m)}var h={javascript:!0,js:!0,typescript:!0,ts:!0,jsx:!0,tsx:!0};t.hooks.add("after-tokenize",function(m){if(!(m.language in h))return;function v(y){for(var g=0,x=y.length;g<x;g++){var w=y[g];if(typeof w!="string"){var k=w.content;if(!Array.isArray(k)){typeof k!="string"&&v([k]);continue}if(w.type==="template-string"){var S=k[1];if(k.length===3&&typeof S!="string"&&S.type==="embedded-code"){var T=f(S),A=S.alias,I=Array.isArray(A)?A[0]:A,C=t.languages[I];if(!C)continue;k[1]=p(T,C,I)}}else v(k)}}}v(m.tokens)});function f(m){return typeof m=="string"?m:Array.isArray(m)?m.map(f).join(""):f(m.content)}}(e)}vE.displayName="jsdoc";vE.aliases=[];function vE(e){e.register(xu),e.register(In),e.register(bu),function(t){var n=t.languages.javascript,r=/\{(?:[^{}]|\{(?:[^{}]|\{[^{}]*\})*\})+\}/.source,a="(@(?:arg|argument|param|property)\\s+(?:"+r+"\\s+)?)";t.languages.jsdoc=t.languages.extend("javadoclike",{parameter:{pattern:RegExp(a+/(?:(?!\s)[$\w\xA0-\uFFFF.])+(?=\s|$)/.source),lookbehind:!0,inside:{punctuation:/\./}}}),t.languages.insertBefore("jsdoc","keyword",{"optional-parameter":{pattern:RegExp(a+/\[(?:(?!\s)[$\w\xA0-\uFFFF.])+(?:=[^[\]]+)?\](?=\s|$)/.source),lookbehind:!0,inside:{parameter:{pattern:/(^\[)[$\w\xA0-\uFFFF\.]+/,lookbehind:!0,inside:{punctuation:/\./}},code:{pattern:/(=)[\s\S]*(?=\]$)/,lookbehind:!0,inside:n,alias:"language-javascript"},punctuation:/[=[\]]/}},"class-name":[{pattern:RegExp(/(@(?:augments|class|extends|interface|memberof!?|template|this|typedef)\s+(?:<TYPE>\s+)?)[A-Z]\w*(?:\.[A-Z]\w*)*/.source.replace(/<TYPE>/g,function(){return r})),lookbehind:!0,inside:{punctuation:/\./}},{pattern:RegExp("(@[a-z]+\\s+)"+r),lookbehind:!0,inside:{string:n.string,number:n.number,boolean:n.boolean,keyword:t.languages.typescript.keyword,operator:/=>|\.\.\.|[&|?:*]/,punctuation:/[.,;=<>{}()[\]]/}}],example:{pattern:/(@example\s+(?!\s))(?:[^@\s]|\s+(?!\s))+?(?=\s*(?:\*\s*)?(?:@\w|\*\/))/,lookbehind:!0,inside:{code:{pattern:/^([\t ]*(?:\*\s*)?)\S.*$/m,lookbehind:!0,inside:n,alias:"language-javascript"}}}}),t.languages.javadoclike.addSupport("javascript",t.languages.jsdoc)}(e)}EE.displayName="n4js";EE.aliases=["n4jsd"];function EE(e){e.register(In),e.languages.n4js=e.languages.extend("javascript",{keyword:/\b(?:Array|any|boolean|break|case|catch|class|const|constructor|continue|debugger|declare|default|delete|do|else|enum|export|extends|false|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|module|new|null|number|package|private|protected|public|return|set|static|string|super|switch|this|throw|true|try|typeof|var|void|while|with|yield)\b/}),e.languages.insertBefore("n4js","constant",{annotation:{pattern:/@+\w+/,alias:"operator"}}),e.languages.n4jsd=e.languages.n4js}wE.displayName="js-extras";wE.aliases=[];function wE(e){e.register(In),function(t){t.languages.insertBefore("javascript","function-variable",{"method-variable":{pattern:RegExp("(\\.\\s*)"+t.languages.javascript["function-variable"].pattern.source),lookbehind:!0,alias:["function-variable","method","function","property-access"]}}),t.languages.insertBefore("javascript","function",{method:{pattern:RegExp("(\\.\\s*)"+t.languages.javascript.function.source),lookbehind:!0,alias:["function","property-access"]}}),t.languages.insertBefore("javascript","constant",{"known-class-name":[{pattern:/\b(?:(?:Float(?:32|64)|(?:Int|Uint)(?:8|16|32)|Uint8Clamped)?Array|ArrayBuffer|BigInt|Boolean|DataView|Date|Error|Function|Intl|JSON|(?:Weak)?(?:Map|Set)|Math|Number|Object|Promise|Proxy|Reflect|RegExp|String|Symbol|WebAssembly)\b/,alias:"class-name"},{pattern:/\b(?:[A-Z]\w*)Error\b/,alias:"class-name"}]});function n(u,c){return RegExp(u.replace(/<ID>/g,function(){return/(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*/.source}),c)}t.languages.insertBefore("javascript","keyword",{imports:{pattern:n(/(\bimport\b\s*)(?:<ID>(?:\s*,\s*(?:\*\s*as\s+<ID>|\{[^{}]*\}))?|\*\s*as\s+<ID>|\{[^{}]*\})(?=\s*\bfrom\b)/.source),lookbehind:!0,inside:t.languages.javascript},exports:{pattern:n(/(\bexport\b\s*)(?:\*(?:\s*as\s+<ID>)?(?=\s*\bfrom\b)|\{[^{}]*\})/.source),lookbehind:!0,inside:t.languages.javascript}}),t.languages.javascript.keyword.unshift({pattern:/\b(?:as|default|export|from|import)\b/,alias:"module"},{pattern:/\b(?:await|break|catch|continue|do|else|finally|for|if|return|switch|throw|try|while|yield)\b/,alias:"control-flow"},{pattern:/\bnull\b/,alias:["null","nil"]},{pattern:/\bundefined\b/,alias:"nil"}),t.languages.insertBefore("javascript","operator",{spread:{pattern:/\.{3}/,alias:"operator"},arrow:{pattern:/=>/,alias:"operator"}}),t.languages.insertBefore("javascript","punctuation",{"property-access":{pattern:n(/(\.\s*)#?<ID>/.source),lookbehind:!0},"maybe-class-name":{pattern:/(^|[^$\w\xA0-\uFFFF])[A-Z][$\w\xA0-\uFFFF]+/,lookbehind:!0},dom:{pattern:/\b(?:document|(?:local|session)Storage|location|navigator|performance|window)\b/,alias:"variable"},console:{pattern:/\bconsole(?=\s*\.)/,alias:"class-name"}});for(var r=["function","function-variable","method","method-variable","property-access"],a=0;a<r.length;a++){var i=r[a],o=t.languages.javascript[i];t.util.type(o)==="RegExp"&&(o=t.languages.javascript[i]={pattern:o});var l=o.inside||{};o.inside=l,l["maybe-class-name"]=/^[A-Z][\s\S]*/}}(e)}SE.displayName="json5";SE.aliases=[];function SE(e){e.register(mu),function(t){var n=/("|')(?:\\(?:\r\n?|\n|.)|(?!\1)[^\\\r\n])*\1/;t.languages.json5=t.languages.extend("json",{property:[{pattern:RegExp(n.source+"(?=\\s*:)"),greedy:!0},{pattern:/(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*:)/,alias:"unquoted"}],string:{pattern:n,greedy:!0},number:/[+-]?\b(?:NaN|Infinity|0x[a-fA-F\d]+)\b|[+-]?(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:[eE][+-]?\d+\b)?/})}(e)}NE.displayName="jsonp";NE.aliases=[];function NE(e){e.register(mu),e.languages.jsonp=e.languages.extend("json",{punctuation:/[{}[\]();,.]/}),e.languages.insertBefore("jsonp","punctuation",{function:/(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*\()/})}kE.displayName="jsstacktrace";kE.aliases=[];function kE(e){e.languages.jsstacktrace={"error-message":{pattern:/^\S.*/m,alias:"string"},"stack-frame":{pattern:/(^[ \t]+)at[ \t].*/m,lookbehind:!0,inside:{"not-my-code":{pattern:/^at[ \t]+(?!\s)(?:node\.js|<unknown>|.*(?:node_modules|\(<anonymous>\)|\(<unknown>|<anonymous>$|\(internal\/|\(node\.js)).*/m,alias:"comment"},filename:{pattern:/(\bat\s+(?!\s)|\()(?:[a-zA-Z]:)?[^():]+(?=:)/,lookbehind:!0,alias:"url"},function:{pattern:/(\bat\s+(?:new\s+)?)(?!\s)[_$a-zA-Z\xA0-\uFFFF<][.$\w\xA0-\uFFFF<>]*/,lookbehind:!0,inside:{punctuation:/\./}},punctuation:/[()]/,keyword:/\b(?:at|new)\b/,alias:{pattern:/\[(?:as\s+)?(?!\s)[_$a-zA-Z\xA0-\uFFFF][$\w\xA0-\uFFFF]*\]/,alias:"variable"},"line-number":{pattern:/:\d+(?::\d+)?\b/,alias:"number",inside:{punctuation:/:/}}}}}}_E.displayName="julia";_E.aliases=[];function _E(e){e.languages.julia={comment:{pattern:/(^|[^\\])(?:#=(?:[^#=]|=(?!#)|#(?!=)|#=(?:[^#=]|=(?!#)|#(?!=))*=#)*=#|#.*)/,lookbehind:!0},regex:{pattern:/r"(?:\\.|[^"\\\r\n])*"[imsx]{0,4}/,greedy:!0},string:{pattern:/"""[\s\S]+?"""|(?:\b\w+)?"(?:\\.|[^"\\\r\n])*"|`(?:[^\\`\r\n]|\\.)*`/,greedy:!0},char:{pattern:/(^|[^\w'])'(?:\\[^\r\n][^'\r\n]*|[^\\\r\n])'/,lookbehind:!0,greedy:!0},keyword:/\b(?:abstract|baremodule|begin|bitstype|break|catch|ccall|const|continue|do|else|elseif|end|export|finally|for|function|global|if|immutable|import|importall|in|let|local|macro|module|print|println|quote|return|struct|try|type|typealias|using|while)\b/,boolean:/\b(?:false|true)\b/,number:/(?:\b(?=\d)|\B(?=\.))(?:0[box])?(?:[\da-f]+(?:_[\da-f]+)*(?:\.(?:\d+(?:_\d+)*)?)?|\.\d+(?:_\d+)*)(?:[efp][+-]?\d+(?:_\d+)*)?j?/i,operator:/&&|\|\||[-+*^%&$\\]=?|\/[\/=]?|!=?=?|\|[=>]?|<(?:<=?|[=:|])?|>(?:=|>>?=?)?|==?=?|[~']/,punctuation:/::?|[{}[\]();,.?]/,constant:/\b(?:(?:Inf|NaN)(?:16|32|64)?|im|pi)\b|[]/}}TE.displayName="keepalived";TE.aliases=[];function TE(e){e.languages.keepalived={comment:{pattern:/[#!].*/,greedy:!0},string:{pattern:/(^|[^\\])(?:"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n])*')/,lookbehind:!0,greedy:!0},ip:{pattern:RegExp(/\b(?:(?:(?:[\da-f]{1,4}:){7}[\da-f]{1,4}|(?:[\da-f]{1,4}:){6}:[\da-f]{1,4}|(?:[\da-f]{1,4}:){5}:(?:[\da-f]{1,4}:)?[\da-f]{1,4}|(?:[\da-f]{1,4}:){4}:(?:[\da-f]{1,4}:){0,2}[\da-f]{1,4}|(?:[\da-f]{1,4}:){3}:(?:[\da-f]{1,4}:){0,3}[\da-f]{1,4}|(?:[\da-f]{1,4}:){2}:(?:[\da-f]{1,4}:){0,4}[\da-f]{1,4}|(?:[\da-f]{1,4}:){6}<ipv4>|(?:[\da-f]{1,4}:){0,5}:<ipv4>|::(?:[\da-f]{1,4}:){0,5}<ipv4>|[\da-f]{1,4}::(?:[\da-f]{1,4}:){0,5}[\da-f]{1,4}|::(?:[\da-f]{1,4}:){0,6}[\da-f]{1,4}|(?:[\da-f]{1,4}:){1,7}:)(?:\/\d{1,3})?|<ipv4>(?:\/\d{1,2})?)\b/.source.replace(/<ipv4>/g,function(){return/(?:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]\d|\d)\.){3}(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]\d|\d))/.source}),"i"),alias:"number"},path:{pattern:/(\s)\/(?:[^\/\s]+\/)*[^\/\s]*|\b[a-zA-Z]:\\(?:[^\\\s]+\\)*[^\\\s]*/,lookbehind:!0,alias:"string"},variable:/\$\{?\w+\}?/,email:{pattern:/[\w-]+@[\w-]+(?:\.[\w-]{2,3}){1,2}/,alias:"string"},"conditional-configuration":{pattern:/@\^?[\w-]+/,alias:"variable"},operator:/=/,property:/\b(?:BFD_CHECK|DNS_CHECK|FILE_CHECK|HTTP_GET|MISC_CHECK|NAME|PING_CHECK|SCRIPTS|SMTP_CHECK|SSL|SSL_GET|TCP_CHECK|UDP_CHECK|accept|advert_int|alpha|auth_pass|auth_type|authentication|bfd_cpu_affinity|bfd_instance|bfd_no_swap|bfd_priority|bfd_process_name|bfd_rlimit_rttime|bfd_rt_priority|bind_if|bind_port|bindto|ca|certificate|check_unicast_src|checker|checker_cpu_affinity|checker_log_all_failures|checker_no_swap|checker_priority|checker_rlimit_rttime|checker_rt_priority|child_wait_time|connect_ip|connect_port|connect_timeout|dbus_service_name|debug|default_interface|delay|delay_before_retry|delay_loop|digest|dont_track_primary|dynamic|dynamic_interfaces|enable_(?:dbus|script_security|sni|snmp_checker|snmp_rfc|snmp_rfcv2|snmp_rfcv3|snmp_vrrp|traps)|end|fall|fast_recovery|file|flag-[123]|fork_delay|full_command|fwmark|garp_group|garp_interval|garp_lower_prio_delay|garp_lower_prio_repeat|garp_master_delay|garp_master_refresh|garp_master_refresh_repeat|garp_master_repeat|global_defs|global_tracking|gna_interval|group|ha_suspend|hashed|helo_name|higher_prio_send_advert|hoplimit|http_protocol|hysteresis|idle_tx|include|inhibit_on_failure|init_fail|init_file|instance|interface|interfaces|interval|ip_family|ipvs_process_name|keepalived.conf|kernel_rx_buf_size|key|linkbeat_interfaces|linkbeat_use_polling|log_all_failures|log_unknown_vrids|lower_prio_no_advert|lthreshold|lvs_flush|lvs_flush_onstop|lvs_method|lvs_netlink_cmd_rcv_bufs|lvs_netlink_cmd_rcv_bufs_force|lvs_netlink_monitor_rcv_bufs|lvs_netlink_monitor_rcv_bufs_force|lvs_notify_fifo|lvs_notify_fifo_script|lvs_sched|lvs_sync_daemon|max_auto_priority|max_hops|mcast_src_ip|mh-fallback|mh-port|min_auto_priority_delay|min_rx|min_tx|misc_dynamic|misc_path|misc_timeout|multiplier|name|namespace_with_ipsets|native_ipv6|neighbor_ip|net_namespace|net_namespace_ipvs|nftables|nftables_counters|nftables_ifindex|nftables_priority|no_accept|no_checker_emails|no_email_faults|nopreempt|notification_email|notification_email_from|notify|notify_backup|notify_deleted|notify_down|notify_fault|notify_fifo|notify_fifo_script|notify_master|notify_master_rx_lower_pri|notify_priority_changes|notify_stop|notify_up|old_unicast_checksum|omega|ops|param_match|passive|password|path|persistence_engine|persistence_granularity|persistence_timeout|preempt|preempt_delay|priority|process|process_monitor_rcv_bufs|process_monitor_rcv_bufs_force|process_name|process_names|promote_secondaries|protocol|proxy_arp|proxy_arp_pvlan|quorum|quorum_down|quorum_max|quorum_up|random_seed|real_server|regex|regex_max_offset|regex_min_offset|regex_no_match|regex_options|regex_stack|reload_repeat|reload_time_file|require_reply|retry|rise|router_id|rs_init_notifies|script|script_user|sh-fallback|sh-port|shutdown_script|shutdown_script_timeout|skip_check_adv_addr|smtp_alert|smtp_alert_checker|smtp_alert_vrrp|smtp_connect_timeout|smtp_helo_name|smtp_server|snmp_socket|sorry_server|sorry_server_inhibit|sorry_server_lvs_method|source_ip|start|startup_script|startup_script_timeout|state|static_ipaddress|static_routes|static_rules|status_code|step|strict_mode|sync_group_tracking_weight|terminate_delay|timeout|track_bfd|track_file|track_group|track_interface|track_process|track_script|track_src_ip|ttl|type|umask|unicast_peer|unicast_src_ip|unicast_ttl|url|use_ipvlan|use_pid_dir|use_vmac|user|uthreshold|val[123]|version|virtual_ipaddress|virtual_ipaddress_excluded|virtual_router_id|virtual_routes|virtual_rules|virtual_server|virtual_server_group|virtualhost|vmac_xmit_base|vrrp|vrrp_(?:check_unicast_src|cpu_affinity|garp_interval|garp_lower_prio_delay|garp_lower_prio_repeat|garp_master_delay|garp_master_refresh|garp_master_refresh_repeat|garp_master_repeat|gna_interval|higher_prio_send_advert|instance|ipsets|iptables|lower_prio_no_advert|mcast_group4|mcast_group6|min_garp|netlink_cmd_rcv_bufs|netlink_cmd_rcv_bufs_force|netlink_monitor_rcv_bufs|netlink_monitor_rcv_bufs_force|no_swap|notify_fifo|notify_fifo_script|notify_priority_changes|priority|process_name|rlimit_rttime|rt_priority|rx_bufs_multiplier|rx_bufs_policy|script|skip_check_adv_addr|startup_delay|strict|sync_group|track_process|version)|warmup|weight)\b/,constant:/\b(?:A|AAAA|AH|BACKUP|CNAME|DR|MASTER|MX|NAT|NS|PASS|SCTP|SOA|TCP|TUN|TXT|UDP|dh|fo|lblc|lblcr|lc|mh|nq|ovf|rr|sed|sh|wlc|wrr)\b/,number:{pattern:/(^|[^\w.-])-?\d+(?:\.\d+)?/,lookbehind:!0},boolean:/\b(?:false|no|off|on|true|yes)\b/,punctuation:/[\{\}]/}}CE.displayName="keyman";CE.aliases=[];function CE(e){e.languages.keyman={comment:{pattern:/\bc .*/i,greedy:!0},string:{pattern:/"[^"\r\n]*"|'[^'\r\n]*'/,greedy:!0},"virtual-key":{pattern:/\[\s*(?:(?:ALT|CAPS|CTRL|LALT|LCTRL|NCAPS|RALT|RCTRL|SHIFT)\s+)*(?:[TKU]_[\w?]+|[A-E]\d\d?|"[^"\r\n]*"|'[^'\r\n]*')\s*\]/i,greedy:!0,alias:"function"},"header-keyword":{pattern:/&\w+/,alias:"bold"},"header-statement":{pattern:/\b(?:bitmap|bitmaps|caps always off|caps on only|copyright|hotkey|language|layout|message|name|shift frees caps|version)\b/i,alias:"bold"},"rule-keyword":{pattern:/\b(?:any|baselayout|beep|call|context|deadkey|dk|if|index|layer|notany|nul|outs|platform|reset|return|save|set|store|use)\b/i,alias:"keyword"},"structural-keyword":{pattern:/\b(?:ansi|begin|group|match|newcontext|nomatch|postkeystroke|readonly|unicode|using keys)\b/i,alias:"keyword"},"compile-target":{pattern:/\$(?:keyman|keymanonly|keymanweb|kmfl|weaver):/i,alias:"property"},number:/\b(?:U\+[\dA-F]+|d\d+|x[\da-f]+|\d+)\b/i,operator:/[+>\\$]|\.\./,punctuation:/[()=,]/}}AE.displayName="kumir";AE.aliases=["kum"];function AE(e){(function(t){var n=/\s\x00-\x1f\x22-\x2f\x3a-\x3f\x5b-\x5e\x60\x7b-\x7e/.source;function r(a,i){return RegExp(a.replace(/<nonId>/g,n),i)}t.languages.kumir={comment:{pattern:/\|.*/},prolog:{pattern:/#.*/,greedy:!0},string:{pattern:/"[^\n\r"]*"|'[^\n\r']*'/,greedy:!0},boolean:{pattern:r(/(^|[<nonId>])(?:|)(?=[<nonId>]|$)/.source),lookbehind:!0},"operator-word":{pattern:r(/(^|[<nonId>])(?:||)(?=[<nonId>]|$)/.source),lookbehind:!0,alias:"keyword"},"system-variable":{pattern:r(/(^|[<nonId>])(?=[<nonId>]|$)/.source),lookbehind:!0,alias:"keyword"},type:[{pattern:r(/(^|[<nonId>])(?:||||)(?:\x20*)?(?=[<nonId>]|$)/.source),lookbehind:!0,alias:"builtin"},{pattern:r(/(^|[<nonId>])(?:|||)(?=[<nonId>]|$)/.source),lookbehind:!0,alias:"important"}],keyword:{pattern:r(/(^|[<nonId>])(?:|(?:\x20*)?|||[]||||||||||||(?:(?:\x20+|_))?|(?:(?:\x20+|_))?|||||||||?||||||)(?=[<nonId>]|$)/.source),lookbehind:!0},name:{pattern:r(/(^|[<nonId>])[^\d<nonId>][^<nonId>]*(?:\x20+[^<nonId>]+)*(?=[<nonId>]|$)/.source),lookbehind:!0},number:{pattern:r(/(^|[<nonId>])(?:\B\$[\da-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?)(?=[<nonId>]|$)/.source,"i"),lookbehind:!0},punctuation:/:=|[(),:;\[\]]/,"operator-char":{pattern:/\*\*?|<[=>]?|>=?|[-+/=]/,alias:"operator"}},t.languages.kum=t.languages.kumir})(e)}IE.displayName="kusto";IE.aliases=[];function IE(e){e.languages.kusto={comment:{pattern:/\/\/.*/,greedy:!0},string:{pattern:/```[\s\S]*?```|[hH]?(?:"(?:[^\r\n\\"]|\\.)*"|'(?:[^\r\n\\']|\\.)*'|@(?:"[^\r\n"]*"|'[^\r\n']*'))/,greedy:!0},verb:{pattern:/(\|\s*)[a-z][\w-]*/i,lookbehind:!0,alias:"keyword"},command:{pattern:/\.[a-z][a-z\d-]*\b/,alias:"keyword"},"class-name":/\b(?:bool|datetime|decimal|dynamic|guid|int|long|real|string|timespan)\b/,keyword:/\b(?:access|alias|and|anti|as|asc|auto|between|by|(?:contains|(?:ends|starts)with|has(?:perfix|suffix)?)(?:_cs)?|database|declare|desc|external|from|fullouter|has_all|in|ingestion|inline|inner|innerunique|into|(?:left|right)(?:anti(?:semi)?|inner|outer|semi)?|let|like|local|not|of|on|or|pattern|print|query_parameters|range|restrict|schema|set|step|table|tables|to|view|where|with|matches\s+regex|nulls\s+(?:first|last))(?![\w-])/,boolean:/\b(?:false|null|true)\b/,function:/\b[a-z_]\w*(?=\s*\()/,datetime:[{pattern:/\b(?:(?:Fri|Friday|Mon|Monday|Sat|Saturday|Sun|Sunday|Thu|Thursday|Tue|Tuesday|Wed|Wednesday)\s*,\s*)?\d{1,2}(?:\s+|-)(?:Apr|Aug|Dec|Feb|Jan|Jul|Jun|Mar|May|Nov|Oct|Sep)(?:\s+|-)\d{2}\s+\d{2}:\d{2}(?::\d{2})?(?:\s*(?:\b(?:[A-Z]|(?:[ECMT][DS]|GM|U)T)|[+-]\d{4}))?\b/,alias:"number"},{pattern:/[+-]?\b(?:\d{4}-\d{2}-\d{2}(?:[ T]\d{2}:\d{2}(?::\d{2}(?:\.\d+)?)?)?|\d{2}:\d{2}(?::\d{2}(?:\.\d+)?)?)Z?/,alias:"number"}],number:/\b(?:0x[0-9A-Fa-f]+|\d+(?:\.\d+)?(?:[Ee][+-]?\d+)?)(?:(?:min|sec|[mn]s|[dhms]|microsecond|tick)\b)?|[+-]?\binf\b/,operator:/=>|[!=]~|[!=<>]=?|[-+*/%|]|\.\./,punctuation:/[()\[\]{},;.:]/}}RE.displayName="latex";RE.aliases=["context","tex"];function RE(e){(function(t){var n=/\\(?:[^a-z()[\]]|[a-z*]+)/i,r={"equation-command":{pattern:n,alias:"regex"}};t.languages.latex={comment:/%.*/,cdata:{pattern:/(\\begin\{((?:lstlisting|verbatim)\*?)\})[\s\S]*?(?=\\end\{\2\})/,lookbehind:!0},equation:[{pattern:/\$\$(?:\\[\s\S]|[^\\$])+\$\$|\$(?:\\[\s\S]|[^\\$])+\$|\\\([\s\S]*?\\\)|\\\[[\s\S]*?\\\]/,inside:r,alias:"string"},{pattern:/(\\begin\{((?:align|eqnarray|equation|gather|math|multline)\*?)\})[\s\S]*?(?=\\end\{\2\})/,lookbehind:!0,inside:r,alias:"string"}],keyword:{pattern:/(\\(?:begin|cite|documentclass|end|label|ref|usepackage)(?:\[[^\]]+\])?\{)[^}]+(?=\})/,lookbehind:!0},url:{pattern:/(\\url\{)[^}]+(?=\})/,lookbehind:!0},headline:{pattern:/(\\(?:chapter|frametitle|paragraph|part|section|subparagraph|subsection|subsubparagraph|subsubsection|subsubsubparagraph)\*?(?:\[[^\]]+\])?\{)[^}]+(?=\})/,lookbehind:!0,alias:"class-name"},function:{pattern:n,alias:"selector"},punctuation:/[[\]{}&]/},t.languages.tex=t.languages.latex,t.languages.context=t.languages.latex})(e)}DE.displayName="latte";DE.aliases=[];function DE(e){e.register(at),e.register(Rn),e.register(So),function(t){t.languages.latte={comment:/^\{\*[\s\S]*/,"latte-tag":{pattern:/(^\{(?:\/(?=[a-z]))?)(?:[=_]|[a-z]\w*\b(?!\())/i,lookbehind:!0,alias:"important"},delimiter:{pattern:/^\{\/?|\}$/,alias:"punctuation"},php:{pattern:/\S(?:[\s\S]*\S)?/,alias:"language-php",inside:t.languages.php}};var n=t.languages.extend("markup",{});t.languages.insertBefore("inside","attr-value",{"n-attr":{pattern:/n:[\w-]+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+))?/,inside:{"attr-name":{pattern:/^[^\s=]+/,alias:"important"},"attr-value":{pattern:/=[\s\S]+/,inside:{punctuation:[/^=/,{pattern:/^(\s*)["']|["']$/,lookbehind:!0}],php:{pattern:/\S(?:[\s\S]*\S)?/,inside:t.languages.php}}}}}},n.tag),t.hooks.add("before-tokenize",function(r){if(r.language==="latte"){var a=/\{\*[\s\S]*?\*\}|\{[^'"\s{}*](?:[^"'/{}]|\/(?![*/])|("|')(?:\\[\s\S]|(?!\1)[^\\])*\1|\/\*(?:[^*]|\*(?!\/))*\*\/)*\}/g;t.languages["markup-templating"].buildPlaceholders(r,"latte",a),r.grammar=n}}),t.hooks.add("after-tokenize",function(r){t.languages["markup-templating"].tokenizePlaceholders(r,"latte")})}(e)}Wd.displayName="scheme";Wd.aliases=[];function Wd(e){(function(t){t.languages.scheme={comment:/;.*|#;\s*(?:\((?:[^()]|\([^()]*\))*\)|\[(?:[^\[\]]|\[[^\[\]]*\])*\])|#\|(?:[^#|]|#(?!\|)|\|(?!#)|#\|(?:[^#|]|#(?!\|)|\|(?!#))*\|#)*\|#/,string:{pattern:/"(?:[^"\\]|\\.)*"/,greedy:!0},symbol:{pattern:/'[^()\[\]#'\s]+/,greedy:!0},char:{pattern:/#\\(?:[ux][a-fA-F\d]+\b|[-a-zA-Z]+\b|[\uD800-\uDBFF][\uDC00-\uDFFF]|\S)/,greedy:!0},"lambda-parameter":[{pattern:/((?:^|[^'`#])[(\[]lambda\s+)(?:[^|()\[\]'\s]+|\|(?:[^\\|]|\\.)*\|)/,lookbehind:!0},{pattern:/((?:^|[^'`#])[(\[]lambda\s+[(\[])[^()\[\]']+/,lookbehind:!0}],keyword:{pattern:/((?:^|[^'`#])[(\[])(?:begin|case(?:-lambda)?|cond(?:-expand)?|define(?:-library|-macro|-record-type|-syntax|-values)?|defmacro|delay(?:-force)?|do|else|except|export|guard|if|import|include(?:-ci|-library-declarations)?|lambda|let(?:rec)?(?:-syntax|-values|\*)?|let\*-values|only|parameterize|prefix|(?:quasi-?)?quote|rename|set!|syntax-(?:case|rules)|unless|unquote(?:-splicing)?|when)(?=[()\[\]\s]|$)/,lookbehind:!0},builtin:{pattern:/((?:^|[^'`#])[(\[])(?:abs|and|append|apply|assoc|ass[qv]|binary-port\?|boolean=?\?|bytevector(?:-append|-copy|-copy!|-length|-u8-ref|-u8-set!|\?)?|caar|cadr|call-with-(?:current-continuation|port|values)|call\/cc|car|cdar|cddr|cdr|ceiling|char(?:->integer|-ready\?|\?|<\?|<=\?|=\?|>\?|>=\?)|close-(?:input-port|output-port|port)|complex\?|cons|current-(?:error|input|output)-port|denominator|dynamic-wind|eof-object\??|eq\?|equal\?|eqv\?|error|error-object(?:-irritants|-message|\?)|eval|even\?|exact(?:-integer-sqrt|-integer\?|\?)?|expt|features|file-error\?|floor(?:-quotient|-remainder|\/)?|flush-output-port|for-each|gcd|get-output-(?:bytevector|string)|inexact\??|input-port(?:-open\?|\?)|integer(?:->char|\?)|lcm|length|list(?:->string|->vector|-copy|-ref|-set!|-tail|\?)?|make-(?:bytevector|list|parameter|string|vector)|map|max|member|memq|memv|min|modulo|negative\?|newline|not|null\?|number(?:->string|\?)|numerator|odd\?|open-(?:input|output)-(?:bytevector|string)|or|output-port(?:-open\?|\?)|pair\?|peek-char|peek-u8|port\?|positive\?|procedure\?|quotient|raise|raise-continuable|rational\?|rationalize|read-(?:bytevector|bytevector!|char|error\?|line|string|u8)|real\?|remainder|reverse|round|set-c[ad]r!|square|string(?:->list|->number|->symbol|->utf8|->vector|-append|-copy|-copy!|-fill!|-for-each|-length|-map|-ref|-set!|\?|<\?|<=\?|=\?|>\?|>=\?)?|substring|symbol(?:->string|\?|=\?)|syntax-error|textual-port\?|truncate(?:-quotient|-remainder|\/)?|u8-ready\?|utf8->string|values|vector(?:->list|->string|-append|-copy|-copy!|-fill!|-for-each|-length|-map|-ref|-set!|\?)?|with-exception-handler|write-(?:bytevector|char|string|u8)|zero\?)(?=[()\[\]\s]|$)/,lookbehind:!0},operator:{pattern:/((?:^|[^'`#])[(\[])(?:[-+*%/]|[<>]=?|=>?)(?=[()\[\]\s]|$)/,lookbehind:!0},number:{pattern:RegExp(n({"<ureal dec>":/\d+(?:\/\d+)|(?:\d+(?:\.\d*)?|\.\d+)(?:[esfdl][+-]?\d+)?/.source,"<real dec>":/[+-]?<ureal dec>|[+-](?:inf|nan)\.0/.source,"<imaginary dec>":/[+-](?:<ureal dec>|(?:inf|nan)\.0)?i/.source,"<complex dec>":/<real dec>(?:@<real dec>|<imaginary dec>)?|<imaginary dec>/.source,"<num dec>":/(?:#d(?:#[ei])?|#[ei](?:#d)?)?<complex dec>/.source,"<ureal box>":/[0-9a-f]+(?:\/[0-9a-f]+)?/.source,"<real box>":/[+-]?<ureal box>|[+-](?:inf|nan)\.0/.source,"<imaginary box>":/[+-](?:<ureal box>|(?:inf|nan)\.0)?i/.source,"<complex box>":/<real box>(?:@<real box>|<imaginary box>)?|<imaginary box>/.source,"<num box>":/#[box](?:#[ei])?|(?:#[ei])?#[box]<complex box>/.source,"<number>":/(^|[()\[\]\s])(?:<num dec>|<num box>)(?=[()\[\]\s]|$)/.source}),"i"),lookbehind:!0},boolean:{pattern:/(^|[()\[\]\s])#(?:[ft]|false|true)(?=[()\[\]\s]|$)/,lookbehind:!0},function:{pattern:/((?:^|[^'`#])[(\[])(?:[^|()\[\]'\s]+|\|(?:[^\\|]|\\.)*\|)(?=[()\[\]\s]|$)/,lookbehind:!0},identifier:{pattern:/(^|[()\[\]\s])\|(?:[^\\|]|\\.)*\|(?=[()\[\]\s]|$)/,lookbehind:!0,greedy:!0},punctuation:/[()\[\]']/};function n(r){for(var a in r)r[a]=r[a].replace(/<[\w\s]+>/g,function(i){return"(?:"+r[i].trim()+")"});return r[a]}})(e)}OE.displayName="lilypond";OE.aliases=["ly"];function OE(e){e.register(Wd),function(t){for(var n=/\((?:[^();"#\\]|\\[\s\S]|;.*(?!.)|"(?:[^"\\]|\\.)*"|#(?:\{(?:(?!#\})[\s\S])*#\}|[^{])|<expr>)*\)/.source,r=5,a=0;a<r;a++)n=n.replace(/<expr>/g,function(){return n});n=n.replace(/<expr>/g,/[^\s\S]/.source);var i=t.languages.lilypond={comment:/%(?:(?!\{).*|\{[\s\S]*?%\})/,"embedded-scheme":{pattern:RegExp(/(^|[=\s])#(?:"(?:[^"\\]|\\.)*"|[^\s()"]*(?:[^\s()]|<expr>))/.source.replace(/<expr>/g,function(){return n}),"m"),lookbehind:!0,greedy:!0,inside:{scheme:{pattern:/^(#)[\s\S]+$/,lookbehind:!0,alias:"language-scheme",inside:{"embedded-lilypond":{pattern:/#\{[\s\S]*?#\}/,greedy:!0,inside:{punctuation:/^#\{|#\}$/,lilypond:{pattern:/[\s\S]+/,alias:"language-lilypond",inside:null}}},rest:t.languages.scheme}},punctuation:/#/}},string:{pattern:/"(?:[^"\\]|\\.)*"/,greedy:!0},"class-name":{pattern:/(\\new\s+)[\w-]+/,lookbehind:!0},keyword:{pattern:/\\[a-z][-\w]*/i,inside:{punctuation:/^\\/}},operator:/[=|]|<<|>>/,punctuation:{pattern:/(^|[a-z\d])(?:'+|,+|[_^]?-[_^]?(?:[-+^!>._]|(?=\d))|[_^]\.?|[.!])|[{}()[\]<>^~]|\\[()[\]<>\\!]|--|__/,lookbehind:!0},number:/\b\d+(?:\/\d+)?\b/};i["embedded-scheme"].inside.scheme.inside["embedded-lilypond"].inside.lilypond.inside=i,t.languages.ly=i}(e)}LE.displayName="liquid";LE.aliases=[];function LE(e){e.register(Rn),e.languages.liquid={comment:{pattern:/(^\{%\s*comment\s*%\})[\s\S]+(?=\{%\s*endcomment\s*%\}$)/,lookbehind:!0},delimiter:{pattern:/^\{(?:\{\{|[%\{])-?|-?(?:\}\}|[%\}])\}$/,alias:"punctuation"},string:{pattern:/"[^"]*"|'[^']*'/,greedy:!0},keyword:/\b(?:as|assign|break|(?:end)?(?:capture|case|comment|for|form|if|paginate|raw|style|tablerow|unless)|continue|cycle|decrement|echo|else|elsif|in|include|increment|limit|liquid|offset|range|render|reversed|section|when|with)\b/,object:/\b(?:address|all_country_option_tags|article|block|blog|cart|checkout|collection|color|country|country_option_tags|currency|current_page|current_tags|customer|customer_address|date|discount_allocation|discount_application|external_video|filter|filter_value|font|forloop|fulfillment|generic_file|gift_card|group|handle|image|line_item|link|linklist|localization|location|measurement|media|metafield|model|model_source|order|page|page_description|page_image|page_title|part|policy|product|product_option|recommendations|request|robots|routes|rule|script|search|selling_plan|selling_plan_allocation|selling_plan_group|shipping_method|shop|shop_locale|sitemap|store_availability|tax_line|template|theme|transaction|unit_price_measurement|user_agent|variant|video|video_source)\b/,function:[{pattern:/(\|\s*)\w+/,lookbehind:!0,alias:"filter"},{pattern:/(\.\s*)(?:first|last|size)/,lookbehind:!0}],boolean:/\b(?:false|nil|true)\b/,range:{pattern:/\.\./,alias:"operator"},number:/\b\d+(?:\.\d+)?\b/,operator:/[!=]=|<>|[<>]=?|[|?:=-]|\b(?:and|contains(?=\s)|or)\b/,punctuation:/[.,\[\]()]/,empty:{pattern:/\bempty\b/,alias:"keyword"}},e.hooks.add("before-tokenize",function(t){var n=/\{%\s*comment\s*%\}[\s\S]*?\{%\s*endcomment\s*%\}|\{(?:%[\s\S]*?%|\{\{[\s\S]*?\}\}|\{[\s\S]*?\})\}/g,r=!1;e.languages["markup-templating"].buildPlaceholders(t,"liquid",n,function(a){var i=/^\{%-?\s*(\w+)/.exec(a);if(i){var o=i[1];if(o==="raw"&&!r)return r=!0,!0;if(o==="endraw")return r=!1,!0}return!r})}),e.hooks.add("after-tokenize",function(t){e.languages["markup-templating"].tokenizePlaceholders(t,"liquid")})}jE.displayName="lisp";jE.aliases=["elisp","emacs","emacs-lisp"];function jE(e){(function(t){function n(m){return RegExp(/(\()/.source+"(?:"+m+")"+/(?=[\s\)])/.source)}function r(m){return RegExp(/([\s([])/.source+"(?:"+m+")"+/(?=[\s)])/.source)}var a=/(?!\d)[-+*/~!@$%^=<>{}\w]+/.source,i="&"+a,o="(\\()",l="(?=\\))",u="(?=\\s)",c=/(?:[^()]|\((?:[^()]|\((?:[^()]|\((?:[^()]|\((?:[^()]|\([^()]*\))*\))*\))*\))*\))*/.source,d={heading:{pattern:/;;;.*/,alias:["comment","title"]},comment:/;.*/,string:{pattern:/"(?:[^"\\]|\\.)*"/,greedy:!0,inside:{argument:/[-A-Z]+(?=[.,\s])/,symbol:RegExp("`"+a+"'")}},"quoted-symbol":{pattern:RegExp("#?'"+a),alias:["variable","symbol"]},"lisp-property":{pattern:RegExp(":"+a),alias:"property"},splice:{pattern:RegExp(",@?"+a),alias:["symbol","variable"]},keyword:[{pattern:RegExp(o+"(?:and|(?:cl-)?letf|cl-loop|cond|cons|error|if|(?:lexical-)?let\\*?|message|not|null|or|provide|require|setq|unless|use-package|when|while)"+u),lookbehind:!0},{pattern:RegExp(o+"(?:append|by|collect|concat|do|finally|for|in|return)"+u),lookbehind:!0}],declare:{pattern:n(/declare/.source),lookbehind:!0,alias:"keyword"},interactive:{pattern:n(/interactive/.source),lookbehind:!0,alias:"keyword"},boolean:{pattern:r(/nil|t/.source),lookbehind:!0},number:{pattern:r(/[-+]?\d+(?:\.\d*)?/.source),lookbehind:!0},defvar:{pattern:RegExp(o+"def(?:const|custom|group|var)\\s+"+a),lookbehind:!0,inside:{keyword:/^def[a-z]+/,variable:RegExp(a)}},defun:{pattern:RegExp(o+/(?:cl-)?(?:defmacro|defun\*?)\s+/.source+a+/\s+\(/.source+c+/\)/.source),lookbehind:!0,greedy:!0,inside:{keyword:/^(?:cl-)?def\S+/,arguments:null,function:{pattern:RegExp("(^\\s)"+a),lookbehind:!0},punctuation:/[()]/}},lambda:{pattern:RegExp(o+"lambda\\s+\\(\\s*(?:&?"+a+"(?:\\s+&?"+a+")*\\s*)?\\)"),lookbehind:!0,greedy:!0,inside:{keyword:/^lambda/,arguments:null,punctuation:/[()]/}},car:{pattern:RegExp(o+a),lookbehind:!0},punctuation:[/(?:['`,]?\(|[)\[\]])/,{pattern:/(\s)\.(?=\s)/,lookbehind:!0}]},p={"lisp-marker":RegExp(i),varform:{pattern:RegExp(/\(/.source+a+/\s+(?=\S)/.source+c+/\)/.source),inside:d},argument:{pattern:RegExp(/(^|[\s(])/.source+a),lookbehind:!0,alias:"variable"},rest:d},h="\\S+(?:\\s+\\S+)*",f={pattern:RegExp(o+c+l),lookbehind:!0,inside:{"rest-vars":{pattern:RegExp("&(?:body|rest)\\s+"+h),inside:p},"other-marker-vars":{pattern:RegExp("&(?:aux|optional)\\s+"+h),inside:p},keys:{pattern:RegExp("&key\\s+"+h+"(?:\\s+&allow-other-keys)?"),inside:p},argument:{pattern:RegExp(a),alias:"variable"},punctuation:/[()]/}};d.lambda.inside.arguments=f,d.defun.inside.arguments=t.util.clone(f),d.defun.inside.arguments.inside.sublist=f,t.languages.lisp=d,t.languages.elisp=d,t.languages.emacs=d,t.languages["emacs-lisp"]=d})(e)}ME.displayName="livescript";ME.aliases=[];function ME(e){e.languages.livescript={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?\*\//,lookbehind:!0},{pattern:/(^|[^\\])#.*/,lookbehind:!0}],"interpolated-string":{pattern:/(^|[^"])("""|")(?:\\[\s\S]|(?!\2)[^\\])*\2(?!")/,lookbehind:!0,greedy:!0,inside:{variable:{pattern:/(^|[^\\])#[a-z_](?:-?[a-z]|[\d_])*/m,lookbehind:!0},interpolation:{pattern:/(^|[^\\])#\{[^}]+\}/m,lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^#\{|\}$/,alias:"variable"}}},string:/[\s\S]+/}},string:[{pattern:/('''|')(?:\\[\s\S]|(?!\1)[^\\])*\1/,greedy:!0},{pattern:/<\[[\s\S]*?\]>/,greedy:!0},/\\[^\s,;\])}]+/],regex:[{pattern:/\/\/(?:\[[^\r\n\]]*\]|\\.|(?!\/\/)[^\\\[])+\/\/[gimyu]{0,5}/,greedy:!0,inside:{comment:{pattern:/(^|[^\\])#.*/,lookbehind:!0}}},{pattern:/\/(?:\[[^\r\n\]]*\]|\\.|[^/\\\r\n\[])+\/[gimyu]{0,5}/,greedy:!0}],keyword:{pattern:/(^|(?!-).)\b(?:break|case|catch|class|const|continue|default|do|else|extends|fallthrough|finally|for(?: ever)?|function|if|implements|it|let|loop|new|null|otherwise|own|return|super|switch|that|then|this|throw|try|unless|until|var|void|when|while|yield)(?!-)\b/m,lookbehind:!0},"keyword-operator":{pattern:/(^|[^-])\b(?:(?:delete|require|typeof)!|(?:and|by|delete|export|from|import(?: all)?|in|instanceof|is(?: not|nt)?|not|of|or|til|to|typeof|with|xor)(?!-)\b)/m,lookbehind:!0,alias:"operator"},boolean:{pattern:/(^|[^-])\b(?:false|no|off|on|true|yes)(?!-)\b/m,lookbehind:!0},argument:{pattern:/(^|(?!\.&\.)[^&])&(?!&)\d*/m,lookbehind:!0,alias:"variable"},number:/\b(?:\d+~[\da-z]+|\d[\d_]*(?:\.\d[\d_]*)?(?:[a-z]\w*)?)/i,identifier:/[a-z_](?:-?[a-z]|[\d_])*/i,operator:[{pattern:/( )\.(?= )/,lookbehind:!0},/\.(?:[=~]|\.\.?)|\.(?:[&|^]|<<|>>>?)\.|:(?:=|:=?)|&&|\|[|>]|<(?:<<?<?|--?!?|~~?!?|[|=?])?|>[>=?]?|-(?:->?|>)?|\+\+?|@@?|%%?|\*\*?|!(?:~?=|--?>|~?~>)?|~(?:~?>|=)?|==?|\^\^?|[\/?]/],punctuation:/[(){}\[\]|.,:;`]/},e.languages.livescript["interpolated-string"].inside.interpolation.inside.rest=e.languages.livescript}FE.displayName="llvm";FE.aliases=[];function FE(e){(function(t){t.languages.llvm={comment:/;.*/,string:{pattern:/"[^"]*"/,greedy:!0},boolean:/\b(?:false|true)\b/,variable:/[%@!#](?:(?!\d)(?:[-$.\w]|\\[a-f\d]{2})+|\d+)/i,label:/(?!\d)(?:[-$.\w]|\\[a-f\d]{2})+:/i,type:{pattern:/\b(?:double|float|fp128|half|i[1-9]\d*|label|metadata|ppc_fp128|token|void|x86_fp80|x86_mmx)\b/,alias:"class-name"},keyword:/\b[a-z_][a-z_0-9]*\b/,number:/[+-]?\b\d+(?:\.\d+)?(?:[eE][+-]?\d+)?\b|\b0x[\dA-Fa-f]+\b|\b0xK[\dA-Fa-f]{20}\b|\b0x[ML][\dA-Fa-f]{32}\b|\b0xH[\dA-Fa-f]{4}\b/,punctuation:/[{}[\];(),.!*=<>]/}})(e)}PE.displayName="log";PE.aliases=[];function PE(e){e.languages.log={string:{pattern:/"(?:[^"\\\r\n]|\\.)*"|'(?![st] | \w)(?:[^'\\\r\n]|\\.)*'/,greedy:!0},exception:{pattern:/(^|[^\w.])[a-z][\w.]*(?:Error|Exception):.*(?:(?:\r\n?|\n)[ \t]*(?:at[ \t].+|\.{3}.*|Caused by:.*))+(?:(?:\r\n?|\n)[ \t]*\.\.\. .*)?/,lookbehind:!0,greedy:!0,alias:["javastacktrace","language-javastacktrace"],inside:e.languages.javastacktrace||{keyword:/\bat\b/,function:/[a-z_][\w$]*(?=\()/,punctuation:/[.:()]/}},level:[{pattern:/\b(?:ALERT|CRIT|CRITICAL|EMERG|EMERGENCY|ERR|ERROR|FAILURE|FATAL|SEVERE)\b/,alias:["error","important"]},{pattern:/\b(?:WARN|WARNING|WRN)\b/,alias:["warning","important"]},{pattern:/\b(?:DISPLAY|INF|INFO|NOTICE|STATUS)\b/,alias:["info","keyword"]},{pattern:/\b(?:DBG|DEBUG|FINE)\b/,alias:["debug","keyword"]},{pattern:/\b(?:FINER|FINEST|TRACE|TRC|VERBOSE|VRB)\b/,alias:["trace","comment"]}],property:{pattern:/((?:^|[\]|])[ \t]*)[a-z_](?:[\w-]|\b\/\b)*(?:[. ]\(?\w(?:[\w-]|\b\/\b)*\)?)*:(?=\s)/im,lookbehind:!0},separator:{pattern:/(^|[^-+])-{3,}|={3,}|\*{3,}|- - /m,lookbehind:!0,alias:"comment"},url:/\b(?:file|ftp|https?):\/\/[^\s|,;'"]*[^\s|,;'">.]/,email:{pattern:/(^|\s)[-\w+.]+@[a-z][a-z0-9-]*(?:\.[a-z][a-z0-9-]*)+(?=\s)/,lookbehind:!0,alias:"url"},"ip-address":{pattern:/\b(?:\d{1,3}(?:\.\d{1,3}){3})\b/,alias:"constant"},"mac-address":{pattern:/\b[a-f0-9]{2}(?::[a-f0-9]{2}){5}\b/i,alias:"constant"},domain:{pattern:/(^|\s)[a-z][a-z0-9-]*(?:\.[a-z][a-z0-9-]*)*\.[a-z][a-z0-9-]+(?=\s)/,lookbehind:!0,alias:"constant"},uuid:{pattern:/\b[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}\b/i,alias:"constant"},hash:{pattern:/\b(?:[a-f0-9]{32}){1,2}\b/i,alias:"constant"},"file-path":{pattern:/\b[a-z]:[\\/][^\s|,;:(){}\[\]"']+|(^|[\s:\[\](>|])\.{0,2}\/\w[^\s|,;:(){}\[\]"']*/i,lookbehind:!0,greedy:!0,alias:"string"},date:{pattern:RegExp(/\b\d{4}[-/]\d{2}[-/]\d{2}(?:T(?=\d{1,2}:)|(?=\s\d{1,2}:))/.source+"|"+/\b\d{1,4}[-/ ](?:\d{1,2}|Apr|Aug|Dec|Feb|Jan|Jul|Jun|Mar|May|Nov|Oct|Sep)[-/ ]\d{2,4}T?\b/.source+"|"+/\b(?:(?:Fri|Mon|Sat|Sun|Thu|Tue|Wed)(?:\s{1,2}(?:Apr|Aug|Dec|Feb|Jan|Jul|Jun|Mar|May|Nov|Oct|Sep))?|Apr|Aug|Dec|Feb|Jan|Jul|Jun|Mar|May|Nov|Oct|Sep)\s{1,2}\d{1,2}\b/.source,"i"),alias:"number"},time:{pattern:/\b\d{1,2}:\d{1,2}:\d{1,2}(?:[.,:]\d+)?(?:\s?[+-]\d{2}:?\d{2}|Z)?\b/,alias:"number"},boolean:/\b(?:false|null|true)\b/i,number:{pattern:/(^|[^.\w])(?:0x[a-f0-9]+|0o[0-7]+|0b[01]+|v?\d[\da-f]*(?:\.\d+)*(?:e[+-]?\d+)?[a-z]{0,3}\b)\b(?!\.\w)/i,lookbehind:!0},operator:/[;:?<=>~/@!$%&+\-|^(){}*#]/,punctuation:/[\[\].,]/}}BE.displayName="lolcode";BE.aliases=[];function BE(e){e.languages.lolcode={comment:[/\bOBTW\s[\s\S]*?\sTLDR\b/,/\bBTW.+/],string:{pattern:/"(?::.|[^":])*"/,inside:{variable:/:\{[^}]+\}/,symbol:[/:\([a-f\d]+\)/i,/:\[[^\]]+\]/,/:[)>o":]/]},greedy:!0},number:/(?:\B-)?(?:\b\d+(?:\.\d*)?|\B\.\d+)/,symbol:{pattern:/(^|\s)(?:A )?(?:BUKKIT|NOOB|NUMBAR|NUMBR|TROOF|YARN)(?=\s|,|$)/,lookbehind:!0,inside:{keyword:/A(?=\s)/}},label:{pattern:/((?:^|\s)(?:IM IN YR|IM OUTTA YR) )[a-zA-Z]\w*/,lookbehind:!0,alias:"string"},function:{pattern:/((?:^|\s)(?:HOW IZ I|I IZ|IZ) )[a-zA-Z]\w*/,lookbehind:!0},keyword:[{pattern:/(^|\s)(?:AN|FOUND YR|GIMMEH|GTFO|HAI|HAS A|HOW IZ I|I HAS A|I IZ|IF U SAY SO|IM IN YR|IM OUTTA YR|IS NOW(?: A)?|ITZ(?: A)?|IZ|KTHX|KTHXBYE|LIEK(?: A)?|MAEK|MEBBE|MKAY|NERFIN|NO WAI|O HAI IM|O RLY\?|OIC|OMG|OMGWTF|R|SMOOSH|SRS|TIL|UPPIN|VISIBLE|WILE|WTF\?|YA RLY|YR)(?=\s|,|$)/,lookbehind:!0},/'Z(?=\s|,|$)/],boolean:{pattern:/(^|\s)(?:FAIL|WIN)(?=\s|,|$)/,lookbehind:!0},variable:{pattern:/(^|\s)IT(?=\s|,|$)/,lookbehind:!0},operator:{pattern:/(^|\s)(?:NOT|BOTH SAEM|DIFFRINT|(?:ALL|ANY|BIGGR|BOTH|DIFF|EITHER|MOD|PRODUKT|QUOSHUNT|SMALLR|SUM|WON) OF)(?=\s|,|$)/,lookbehind:!0},punctuation:/\.{3}||,|!/}}UE.displayName="magma";UE.aliases=[];function UE(e){e.languages.magma={output:{pattern:/^(>.*(?:\r(?:\n|(?!\n))|\n))(?!>)(?:.+|(?:\r(?:\n|(?!\n))|\n)(?!>).*)(?:(?:\r(?:\n|(?!\n))|\n)(?!>).*)*/m,lookbehind:!0,greedy:!0},comment:{pattern:/\/\/.*|\/\*[\s\S]*?\*\//,greedy:!0},string:{pattern:/(^|[^\\"])"(?:[^\r\n\\"]|\\.)*"/,lookbehind:!0,greedy:!0},keyword:/\b(?:_|adj|and|assert|assert2|assert3|assigned|break|by|case|cat|catch|clear|cmpeq|cmpne|continue|declare|default|delete|diff|div|do|elif|else|end|eq|error|eval|exists|exit|for|forall|forward|fprintf|freeze|function|ge|gt|if|iload|import|in|intrinsic|is|join|le|load|local|lt|meet|mod|ne|not|notadj|notin|notsubset|or|print|printf|procedure|quit|random|read|readi|repeat|require|requirege|requirerange|restore|return|save|sdiff|select|subset|then|time|to|try|until|vprint|vprintf|vtime|when|where|while|xor)\b/,boolean:/\b(?:false|true)\b/,generator:{pattern:/\b[a-z_]\w*(?=\s*<)/i,alias:"class-name"},function:/\b[a-z_]\w*(?=\s*\()/i,number:{pattern:/(^|[^\w.]|\.\.)(?:\d+(?:\.\d*)?|\.\d+)(?:[eE][+-]?\d+)?(?:_[a-z]?)?(?=$|[^\w.]|\.\.)/,lookbehind:!0},operator:/->|[-+*/^~!|#=]|:=|\.\./,punctuation:/[()[\]{}<>,;.:]/}}vm.displayName="mata";vm.aliases=[];function vm(e){(function(t){var n=/\b(?:(?:col|row)?vector|matrix|scalar)\b/.source,r=/\bvoid\b|<org>|\b(?:complex|numeric|pointer(?:\s*\([^()]*\))?|real|string|(?:class|struct)\s+\w+|transmorphic)(?:\s*<org>)?/.source.replace(/<org>/g,n);t.languages.mata={comment:{pattern:/\/\/.*|\/\*(?:[^*/]|\*(?!\/)|\/(?!\*)|\/\*(?:[^*]|\*(?!\/))*\*\/)*\*\//,greedy:!0},string:{pattern:/"[^"\r\n]*"|[`']".*?"[`']/,greedy:!0},"class-name":{pattern:/(\b(?:class|extends|struct)\s+)\w+(?=\s*(?:\{|\bextends\b))/,lookbehind:!0},type:{pattern:RegExp(r),alias:"class-name",inside:{punctuation:/[()]/,keyword:/\b(?:class|function|struct|void)\b/}},keyword:/\b(?:break|class|continue|do|else|end|extends|external|final|for|function|goto|if|pragma|private|protected|public|return|static|struct|unset|unused|version|virtual|while)\b/,constant:/\bNULL\b/,number:{pattern:/(^|[^\w.])(?:\d+(?:\.\d+)?(?:e[+-]?\d+)?|\d[a-f0-9]*(?:\.[a-f0-9]+)?x[+-]?\d+)i?(?![\w.])/i,lookbehind:!0},missing:{pattern:/(^|[^\w.])(?:\.[a-z]?)(?![\w.])/,lookbehind:!0,alias:"symbol"},function:/\b[a-z_]\w*(?=\s*\()/i,operator:/\.\.|\+\+|--|&&|\|\||:?(?:[!=<>]=|[+\-*/^<>&|:])|[!?=\\#`']/,punctuation:/[()[\]{},;.]/}})(e)}$E.displayName="matlab";$E.aliases=[];function $E(e){e.languages.matlab={comment:[/%\{[\s\S]*?\}%/,/%.+/],string:{pattern:/\B'(?:''|[^'\r\n])*'/,greedy:!0},number:/(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:[eE][+-]?\d+)?(?:[ij])?|\b[ij]\b/,keyword:/\b(?:NaN|break|case|catch|continue|else|elseif|end|for|function|if|inf|otherwise|parfor|pause|pi|return|switch|try|while)\b/,function:/\b(?!\d)\w+(?=\s*\()/,operator:/\.?[*^\/\\']|[+\-:@]|[<>=~]=?|&&?|\|\|?/,punctuation:/\.{3}|[.,;\[\](){}!]/}}HE.displayName="maxscript";HE.aliases=[];function HE(e){(function(t){var n=/\b(?:about|and|animate|as|at|attributes|by|case|catch|collect|continue|coordsys|do|else|exit|fn|for|from|function|global|if|in|local|macroscript|mapped|max|not|of|off|on|or|parameters|persistent|plugin|rcmenu|return|rollout|set|struct|then|throw|to|tool|try|undo|utility|when|where|while|with)\b/i;t.languages.maxscript={comment:{pattern:/\/\*[\s\S]*?(?:\*\/|$)|--.*/,greedy:!0},string:{pattern:/(^|[^"\\@])(?:"(?:[^"\\]|\\[\s\S])*"|@"[^"]*")/,lookbehind:!0,greedy:!0},path:{pattern:/\$(?:[\w/\\.*?]|'[^']*')*/,greedy:!0,alias:"string"},"function-call":{pattern:RegExp("((?:"+(/^/.source+"|"+/[;=<>+\-*/^({\[]/.source+"|"+/\b(?:and|by|case|catch|collect|do|else|if|in|not|or|return|then|to|try|where|while|with)\b/.source)+")[ 	]*)(?!"+n.source+")"+/[a-z_]\w*\b/.source+"(?=[ 	]*(?:"+("(?!"+n.source+")"+/[a-z_]/.source+"|"+/\d|-\.?\d/.source+"|"+/[({'"$@#?]/.source)+"))","im"),lookbehind:!0,greedy:!0,alias:"function"},"function-definition":{pattern:/(\b(?:fn|function)\s+)\w+\b/i,lookbehind:!0,alias:"function"},argument:{pattern:/\b[a-z_]\w*(?=:)/i,alias:"attr-name"},keyword:n,boolean:/\b(?:false|true)\b/,time:{pattern:/(^|[^\w.])(?:(?:(?:\d+(?:\.\d*)?|\.\d+)(?:[eEdD][+-]\d+|[LP])?[msft])+|\d+:\d+(?:\.\d*)?)(?![\w.:])/,lookbehind:!0,alias:"number"},number:[{pattern:/(^|[^\w.])(?:(?:\d+(?:\.\d*)?|\.\d+)(?:[eEdD][+-]\d+|[LP])?|0x[a-fA-F0-9]+)(?![\w.:])/,lookbehind:!0},/\b(?:e|pi)\b/],constant:/\b(?:dontcollect|ok|silentValue|undefined|unsupplied)\b/,color:{pattern:/\b(?:black|blue|brown|gray|green|orange|red|white|yellow)\b/i,alias:"constant"},operator:/[-+*/<>=!]=?|[&^?]|#(?!\()/,punctuation:/[()\[\]{}.:,;]|#(?=\()|\\$/m}})(e)}zE.displayName="mel";zE.aliases=[];function zE(e){e.languages.mel={comment:{pattern:/\/\/.*|\/\*[\s\S]*?\*\//,greedy:!0},code:{pattern:/`(?:\\.|[^\\`])*`/,greedy:!0,alias:"italic",inside:{delimiter:{pattern:/^`|`$/,alias:"punctuation"},statement:{pattern:/[\s\S]+/,inside:null}}},string:{pattern:/"(?:\\.|[^\\"\r\n])*"/,greedy:!0},variable:/\$\w+/,number:/\b0x[\da-fA-F]+\b|\b\d+(?:\.\d*)?|\B\.\d+/,flag:{pattern:/-[^\d\W]\w*/,alias:"operator"},keyword:/\b(?:break|case|continue|default|do|else|float|for|global|if|in|int|matrix|proc|return|string|switch|vector|while)\b/,function:{pattern:/((?:^|[{;])[ \t]*)[a-z_]\w*\b(?!\s*(?:\.(?!\.)|[[{=]))|\b[a-z_]\w*(?=[ \t]*\()/im,lookbehind:!0,greedy:!0},"tensor-punctuation":{pattern:/<<|>>/,alias:"punctuation"},operator:/\+[+=]?|-[-=]?|&&|\|\||[<>]=?|[*\/!=]=?|[%^]/,punctuation:/[.,:;?\[\](){}]/},e.languages.mel.code.inside.statement.inside=e.languages.mel}GE.displayName="mermaid";GE.aliases=[];function GE(e){e.languages.mermaid={comment:{pattern:/%%.*/,greedy:!0},style:{pattern:/^([ \t]*(?:classDef|linkStyle|style)[ \t]+[\w$-]+[ \t]+)\w.*[^\s;]/m,lookbehind:!0,inside:{property:/\b\w[\w-]*(?=[ \t]*:)/,operator:/:/,punctuation:/,/}},"inter-arrow-label":{pattern:/([^<>ox.=-])(?:-[-.]|==)(?![<>ox.=-])[ \t]*(?:"[^"\r\n]*"|[^\s".=-](?:[^\r\n.=-]*[^\s.=-])?)[ \t]*(?:\.+->?|--+[->]|==+[=>])(?![<>ox.=-])/,lookbehind:!0,greedy:!0,inside:{arrow:{pattern:/(?:\.+->?|--+[->]|==+[=>])$/,alias:"operator"},label:{pattern:/^([\s\S]{2}[ \t]*)\S(?:[\s\S]*\S)?/,lookbehind:!0,alias:"property"},"arrow-head":{pattern:/^\S+/,alias:["arrow","operator"]}}},arrow:[{pattern:/(^|[^{}|o.-])[|}][|o](?:--|\.\.)[|o][|{](?![{}|o.-])/,lookbehind:!0,alias:"operator"},{pattern:/(^|[^<>ox.=-])(?:[<ox](?:==+|--+|-\.*-)[>ox]?|(?:==+|--+|-\.*-)[>ox]|===+|---+|-\.+-)(?![<>ox.=-])/,lookbehind:!0,alias:"operator"},{pattern:/(^|[^<>()x-])(?:--?(?:>>|[x>)])(?![<>()x])|(?:<<|[x<(])--?(?!-))/,lookbehind:!0,alias:"operator"},{pattern:/(^|[^<>|*o.-])(?:[*o]--|--[*o]|<\|?(?:--|\.\.)|(?:--|\.\.)\|?>|--|\.\.)(?![<>|*o.-])/,lookbehind:!0,alias:"operator"}],label:{pattern:/(^|[^|<])\|(?:[^\r\n"|]|"[^"\r\n]*")+\|/,lookbehind:!0,greedy:!0,alias:"property"},text:{pattern:/(?:[(\[{]+|\b>)(?:[^\r\n"()\[\]{}]|"[^"\r\n]*")+(?:[)\]}]+|>)/,alias:"string"},string:{pattern:/"[^"\r\n]*"/,greedy:!0},annotation:{pattern:/<<(?:abstract|choice|enumeration|fork|interface|join|service)>>|\[\[(?:choice|fork|join)\]\]/i,alias:"important"},keyword:[{pattern:/(^[ \t]*)(?:action|callback|class|classDef|classDiagram|click|direction|erDiagram|flowchart|gantt|gitGraph|graph|journey|link|linkStyle|pie|requirementDiagram|sequenceDiagram|stateDiagram|stateDiagram-v2|style|subgraph)(?![\w$-])/m,lookbehind:!0,greedy:!0},{pattern:/(^[ \t]*)(?:activate|alt|and|as|autonumber|deactivate|else|end(?:[ \t]+note)?|loop|opt|par|participant|rect|state|note[ \t]+(?:over|(?:left|right)[ \t]+of))(?![\w$-])/im,lookbehind:!0,greedy:!0}],entity:/#[a-z0-9]+;/,operator:{pattern:/(\w[ \t]*)&(?=[ \t]*\w)|:::|:/,lookbehind:!0},punctuation:/[(){};]/}}qE.displayName="metafont";qE.aliases=[];function qE(e){e.languages.metafont={comment:{pattern:/%.*/,greedy:!0},string:{pattern:/"[^\r\n"]*"/,greedy:!0},number:/\d*\.?\d+/,boolean:/\b(?:false|true)\b/,punctuation:[/[,;()]/,{pattern:/(^|[^{}])(?:\{|\})(?![{}])/,lookbehind:!0},{pattern:/(^|[^[])\[(?!\[)/,lookbehind:!0},{pattern:/(^|[^\]])\](?!\])/,lookbehind:!0}],constant:[{pattern:/(^|[^!?])\?\?\?(?![!?])/,lookbehind:!0},{pattern:/(^|[^/*\\])(?:\\|\\\\)(?![/*\\])/,lookbehind:!0},/\b(?:_|blankpicture|bp|cc|cm|dd|ditto|down|eps|epsilon|fullcircle|halfcircle|identity|in|infinity|left|mm|nullpen|nullpicture|origin|pc|penrazor|penspeck|pensquare|penstroke|proof|pt|quartercircle|relax|right|smoke|unitpixel|unitsquare|up)\b/],quantity:{pattern:/\b(?:autorounding|blacker|boundarychar|charcode|chardp|chardx|chardy|charext|charht|charic|charwd|currentwindow|day|designsize|displaying|fillin|fontmaking|granularity|hppp|join_radius|month|o_correction|pausing|pen_(?:bot|lft|rt|top)|pixels_per_inch|proofing|showstopping|smoothing|time|tolerance|tracingcapsules|tracingchoices|tracingcommands|tracingedges|tracingequations|tracingmacros|tracingonline|tracingoutput|tracingpens|tracingrestores|tracingspecs|tracingstats|tracingtitles|turningcheck|vppp|warningcheck|xoffset|year|yoffset)\b/,alias:"keyword"},command:{pattern:/\b(?:addto|batchmode|charlist|cull|display|errhelp|errmessage|errorstopmode|everyjob|extensible|fontdimen|headerbyte|inner|interim|let|ligtable|message|newinternal|nonstopmode|numspecial|openwindow|outer|randomseed|save|scrollmode|shipout|show|showdependencies|showstats|showtoken|showvariable|special)\b/,alias:"builtin"},operator:[{pattern:/(^|[^>=<:|])(?:<|<=|=|=:|\|=:|\|=:>|=:\|>|=:\||\|=:\||\|=:\|>|\|=:\|>>|>|>=|:|:=|<>|::|\|\|:)(?![>=<:|])/,lookbehind:!0},{pattern:/(^|[^+-])(?:\+|\+\+|-{1,3}|\+-\+)(?![+-])/,lookbehind:!0},{pattern:/(^|[^/*\\])(?:\*|\*\*|\/)(?![/*\\])/,lookbehind:!0},{pattern:/(^|[^.])(?:\.{2,3})(?!\.)/,lookbehind:!0},{pattern:/(^|[^@#&$])&(?![@#&$])/,lookbehind:!0},/\b(?:and|not|or)\b/],macro:{pattern:/\b(?:abs|beginchar|bot|byte|capsule_def|ceiling|change_width|clear_pen_memory|clearit|clearpen|clearxy|counterclockwise|cullit|cutdraw|cutoff|decr|define_blacker_pixels|define_corrected_pixels|define_good_x_pixels|define_good_y_pixels|define_horizontal_corrected_pixels|define_pixels|define_whole_blacker_pixels|define_whole_pixels|define_whole_vertical_blacker_pixels|define_whole_vertical_pixels|dir|direction|directionpoint|div|dotprod|downto|draw|drawdot|endchar|erase|fill|filldraw|fix_units|flex|font_coding_scheme|font_extra_space|font_identifier|font_normal_shrink|font_normal_space|font_normal_stretch|font_quad|font_size|font_slant|font_x_height|gfcorners|gobble|gobbled|good\.(?:bot|lft|rt|top|x|y)|grayfont|hide|hround|imagerules|incr|interact|interpath|intersectionpoint|inverse|italcorr|killtext|labelfont|labels|lft|loggingall|lowres_fix|makegrid|makelabel(?:\.(?:bot|lft|rt|top)(?:\.nodot)?)?|max|min|mod|mode_def|mode_setup|nodisplays|notransforms|numtok|openit|penlabels|penpos|pickup|proofoffset|proofrule|proofrulethickness|range|reflectedabout|rotatedabout|rotatedaround|round|rt|savepen|screenchars|screenrule|screenstrokes|shipit|showit|slantfont|softjoin|solve|stop|superellipse|tensepath|thru|titlefont|top|tracingall|tracingnone|undraw|undrawdot|unfill|unfilldraw|upto|vround)\b/,alias:"function"},builtin:/\b(?:ASCII|angle|char|cosd|decimal|directiontime|floor|hex|intersectiontimes|jobname|known|length|makepath|makepen|mexp|mlog|normaldeviate|oct|odd|pencircle|penoffset|point|postcontrol|precontrol|reverse|rotated|sind|sqrt|str|subpath|substring|totalweight|turningnumber|uniformdeviate|unknown|xpart|xxpart|xypart|ypart|yxpart|yypart)\b/,keyword:/\b(?:also|at|atleast|begingroup|charexists|contour|controls|curl|cycle|def|delimiters|doublepath|dropping|dump|else|elseif|end|enddef|endfor|endgroup|endinput|exitif|exitunless|expandafter|fi|for|forever|forsuffixes|from|if|input|inwindow|keeping|kern|of|primarydef|quote|readstring|scaled|scantokens|secondarydef|shifted|skipto|slanted|step|tension|tertiarydef|to|transformed|until|vardef|withpen|withweight|xscaled|yscaled|zscaled)\b/,type:{pattern:/\b(?:boolean|expr|numeric|pair|path|pen|picture|primary|secondary|string|suffix|tertiary|text|transform)\b/,alias:"property"},variable:{pattern:/(^|[^@#&$])(?:@#|#@|#|@)(?![@#&$])|\b(?:aspect_ratio|currentpen|currentpicture|currenttransform|d|extra_beginchar|extra_endchar|extra_setup|h|localfont|mag|mode|screen_cols|screen_rows|w|whatever|x|y|z)\b/,lookbehind:!0}}}VE.displayName="mizar";VE.aliases=[];function VE(e){e.languages.mizar={comment:/::.+/,keyword:/@proof\b|\b(?:according|aggregate|all|and|antonym|are|as|associativity|assume|asymmetry|attr|be|begin|being|by|canceled|case|cases|clusters?|coherence|commutativity|compatibility|connectedness|consider|consistency|constructors|contradiction|correctness|def|deffunc|define|definitions?|defpred|do|does|end|environ|equals|ex|exactly|existence|for|from|func|given|hence|hereby|holds|idempotence|identity|iff?|implies|involutiveness|irreflexivity|is|it|let|means|mode|non|not|notations?|now|of|or|otherwise|over|per|pred|prefix|projectivity|proof|provided|qua|reconsider|redefine|reduce|reducibility|reflexivity|registrations?|requirements|reserve|sch|schemes?|section|selector|set|sethood|st|struct|such|suppose|symmetry|synonym|take|that|the|then|theorems?|thesis|thus|to|transitivity|uniqueness|vocabular(?:ies|y)|when|where|with|wrt)\b/,parameter:{pattern:/\$(?:10|\d)/,alias:"variable"},variable:/\b\w+(?=:)/,number:/(?:\b|-)\d+\b/,operator:/\.\.\.|->|&|\.?=/,punctuation:/\(#|#\)|[,:;\[\](){}]/}}WE.displayName="mongodb";WE.aliases=[];function WE(e){e.register(In),function(t){var n=["$eq","$gt","$gte","$in","$lt","$lte","$ne","$nin","$and","$not","$nor","$or","$exists","$type","$expr","$jsonSchema","$mod","$regex","$text","$where","$geoIntersects","$geoWithin","$near","$nearSphere","$all","$elemMatch","$size","$bitsAllClear","$bitsAllSet","$bitsAnyClear","$bitsAnySet","$comment","$elemMatch","$meta","$slice","$currentDate","$inc","$min","$max","$mul","$rename","$set","$setOnInsert","$unset","$addToSet","$pop","$pull","$push","$pullAll","$each","$position","$slice","$sort","$bit","$addFields","$bucket","$bucketAuto","$collStats","$count","$currentOp","$facet","$geoNear","$graphLookup","$group","$indexStats","$limit","$listLocalSessions","$listSessions","$lookup","$match","$merge","$out","$planCacheStats","$project","$redact","$replaceRoot","$replaceWith","$sample","$set","$skip","$sort","$sortByCount","$unionWith","$unset","$unwind","$setWindowFields","$abs","$accumulator","$acos","$acosh","$add","$addToSet","$allElementsTrue","$and","$anyElementTrue","$arrayElemAt","$arrayToObject","$asin","$asinh","$atan","$atan2","$atanh","$avg","$binarySize","$bsonSize","$ceil","$cmp","$concat","$concatArrays","$cond","$convert","$cos","$dateFromParts","$dateToParts","$dateFromString","$dateToString","$dayOfMonth","$dayOfWeek","$dayOfYear","$degreesToRadians","$divide","$eq","$exp","$filter","$first","$floor","$function","$gt","$gte","$hour","$ifNull","$in","$indexOfArray","$indexOfBytes","$indexOfCP","$isArray","$isNumber","$isoDayOfWeek","$isoWeek","$isoWeekYear","$last","$last","$let","$literal","$ln","$log","$log10","$lt","$lte","$ltrim","$map","$max","$mergeObjects","$meta","$min","$millisecond","$minute","$mod","$month","$multiply","$ne","$not","$objectToArray","$or","$pow","$push","$radiansToDegrees","$range","$reduce","$regexFind","$regexFindAll","$regexMatch","$replaceOne","$replaceAll","$reverseArray","$round","$rtrim","$second","$setDifference","$setEquals","$setIntersection","$setIsSubset","$setUnion","$size","$sin","$slice","$split","$sqrt","$stdDevPop","$stdDevSamp","$strcasecmp","$strLenBytes","$strLenCP","$substr","$substrBytes","$substrCP","$subtract","$sum","$switch","$tan","$toBool","$toDate","$toDecimal","$toDouble","$toInt","$toLong","$toObjectId","$toString","$toLower","$toUpper","$trim","$trunc","$type","$week","$year","$zip","$count","$dateAdd","$dateDiff","$dateSubtract","$dateTrunc","$getField","$rand","$sampleRate","$setField","$unsetField","$comment","$explain","$hint","$max","$maxTimeMS","$min","$orderby","$query","$returnKey","$showDiskLoc","$natural"],r=["ObjectId","Code","BinData","DBRef","Timestamp","NumberLong","NumberDecimal","MaxKey","MinKey","RegExp","ISODate","UUID"];n=n.map(function(i){return i.replace("$","\\$")});var a="(?:"+n.join("|")+")\\b";t.languages.mongodb=t.languages.extend("javascript",{}),t.languages.insertBefore("mongodb","string",{property:{pattern:/(?:(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1|(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)(?=\s*:)/,greedy:!0,inside:{keyword:RegExp(`^(['"])?`+a+"(?:\\1)?$")}}}),t.languages.mongodb.string.inside={url:{pattern:/https?:\/\/[-\w@:%.+~#=]{1,256}\.[a-z0-9()]{1,6}\b[-\w()@:%+.~#?&/=]*/i,greedy:!0},entity:{pattern:/\b(?:(?:[01]?\d\d?|2[0-4]\d|25[0-5])\.){3}(?:[01]?\d\d?|2[0-4]\d|25[0-5])\b/,greedy:!0}},t.languages.insertBefore("mongodb","constant",{builtin:{pattern:RegExp("\\b(?:"+r.join("|")+")\\b"),alias:"keyword"}})}(e)}YE.displayName="monkey";YE.aliases=[];function YE(e){e.languages.monkey={comment:{pattern:/^#Rem\s[\s\S]*?^#End|'.+/im,greedy:!0},string:{pattern:/"[^"\r\n]*"/,greedy:!0},preprocessor:{pattern:/(^[ \t]*)#.+/m,lookbehind:!0,greedy:!0,alias:"property"},function:/\b\w+(?=\()/,"type-char":{pattern:/\b[?%#$]/,alias:"class-name"},number:{pattern:/((?:\.\.)?)(?:(?:\b|\B-\.?|\B\.)\d+(?:(?!\.\.)\.\d*)?|\$[\da-f]+)/i,lookbehind:!0},keyword:/\b(?:Abstract|Array|Bool|Case|Catch|Class|Const|Continue|Default|Eachin|Else|ElseIf|End|EndIf|Exit|Extends|Extern|False|Field|Final|Float|For|Forever|Function|Global|If|Implements|Import|Inline|Int|Interface|Local|Method|Module|New|Next|Null|Object|Private|Property|Public|Repeat|Return|Select|Self|Step|Strict|String|Super|Then|Throw|To|True|Try|Until|Void|Wend|While)\b/i,operator:/\.\.|<[=>]?|>=?|:?=|(?:[+\-*\/&~|]|\b(?:Mod|Shl|Shr)\b)=?|\b(?:And|Not|Or)\b/i,punctuation:/[.,:;()\[\]]/}}KE.displayName="moonscript";KE.aliases=["moon"];function KE(e){e.languages.moonscript={comment:/--.*/,string:[{pattern:/'[^']*'|\[(=*)\[[\s\S]*?\]\1\]/,greedy:!0},{pattern:/"[^"]*"/,greedy:!0,inside:{interpolation:{pattern:/#\{[^{}]*\}/,inside:{moonscript:{pattern:/(^#\{)[\s\S]+(?=\})/,lookbehind:!0,inside:null},"interpolation-punctuation":{pattern:/#\{|\}/,alias:"punctuation"}}}}}],"class-name":[{pattern:/(\b(?:class|extends)[ \t]+)\w+/,lookbehind:!0},/\b[A-Z]\w*/],keyword:/\b(?:class|continue|do|else|elseif|export|extends|for|from|if|import|in|local|nil|return|self|super|switch|then|unless|using|when|while|with)\b/,variable:/@@?\w*/,property:{pattern:/\b(?!\d)\w+(?=:)|(:)(?!\d)\w+/,lookbehind:!0},function:{pattern:/\b(?:_G|_VERSION|assert|collectgarbage|coroutine\.(?:create|resume|running|status|wrap|yield)|debug\.(?:debug|getfenv|gethook|getinfo|getlocal|getmetatable|getregistry|getupvalue|setfenv|sethook|setlocal|setmetatable|setupvalue|traceback)|dofile|error|getfenv|getmetatable|io\.(?:close|flush|input|lines|open|output|popen|read|stderr|stdin|stdout|tmpfile|type|write)|ipairs|load|loadfile|loadstring|math\.(?:abs|acos|asin|atan|atan2|ceil|cos|cosh|deg|exp|floor|fmod|frexp|ldexp|log|log10|max|min|modf|pi|pow|rad|random|randomseed|sin|sinh|sqrt|tan|tanh)|module|next|os\.(?:clock|date|difftime|execute|exit|getenv|remove|rename|setlocale|time|tmpname)|package\.(?:cpath|loaded|loadlib|path|preload|seeall)|pairs|pcall|print|rawequal|rawget|rawset|require|select|setfenv|setmetatable|string\.(?:byte|char|dump|find|format|gmatch|gsub|len|lower|match|rep|reverse|sub|upper)|table\.(?:concat|insert|maxn|remove|sort)|tonumber|tostring|type|unpack|xpcall)\b/,inside:{punctuation:/\./}},boolean:/\b(?:false|true)\b/,number:/(?:\B\.\d+|\b\d+\.\d+|\b\d+(?=[eE]))(?:[eE][-+]?\d+)?\b|\b(?:0x[a-fA-F\d]+|\d+)(?:U?LL)?\b/,operator:/\.{3}|[-=]>|~=|(?:[-+*/%<>!=]|\.\.)=?|[:#^]|\b(?:and|or)\b=?|\b(?:not)\b/,punctuation:/[.,()[\]{}\\]/},e.languages.moonscript.string[1].inside.interpolation.inside.moonscript.inside=e.languages.moonscript,e.languages.moon=e.languages.moonscript}ZE.displayName="n1ql";ZE.aliases=[];function ZE(e){e.languages.n1ql={comment:{pattern:/\/\*[\s\S]*?(?:$|\*\/)|--.*/,greedy:!0},string:{pattern:/(["'])(?:\\[\s\S]|(?!\1)[^\\]|\1\1)*\1/,greedy:!0},identifier:{pattern:/`(?:\\[\s\S]|[^\\`]|``)*`/,greedy:!0},parameter:/\$[\w.]+/,keyword:/\b(?:ADVISE|ALL|ALTER|ANALYZE|AS|ASC|AT|BEGIN|BINARY|BOOLEAN|BREAK|BUCKET|BUILD|BY|CALL|CAST|CLUSTER|COLLATE|COLLECTION|COMMIT|COMMITTED|CONNECT|CONTINUE|CORRELATE|CORRELATED|COVER|CREATE|CURRENT|DATABASE|DATASET|DATASTORE|DECLARE|DECREMENT|DELETE|DERIVED|DESC|DESCRIBE|DISTINCT|DO|DROP|EACH|ELEMENT|EXCEPT|EXCLUDE|EXECUTE|EXPLAIN|FETCH|FILTER|FLATTEN|FLUSH|FOLLOWING|FOR|FORCE|FROM|FTS|FUNCTION|GOLANG|GRANT|GROUP|GROUPS|GSI|HASH|HAVING|IF|IGNORE|ILIKE|INCLUDE|INCREMENT|INDEX|INFER|INLINE|INNER|INSERT|INTERSECT|INTO|IS|ISOLATION|JAVASCRIPT|JOIN|KEY|KEYS|KEYSPACE|KNOWN|LANGUAGE|LAST|LEFT|LET|LETTING|LEVEL|LIMIT|LSM|MAP|MAPPING|MATCHED|MATERIALIZED|MERGE|MINUS|MISSING|NAMESPACE|NEST|NL|NO|NTH_VALUE|NULL|NULLS|NUMBER|OBJECT|OFFSET|ON|OPTION|OPTIONS|ORDER|OTHERS|OUTER|OVER|PARSE|PARTITION|PASSWORD|PATH|POOL|PRECEDING|PREPARE|PRIMARY|PRIVATE|PRIVILEGE|PROBE|PROCEDURE|PUBLIC|RANGE|RAW|REALM|REDUCE|RENAME|RESPECT|RETURN|RETURNING|REVOKE|RIGHT|ROLE|ROLLBACK|ROW|ROWS|SATISFIES|SAVEPOINT|SCHEMA|SCOPE|SELECT|SELF|SEMI|SET|SHOW|SOME|START|STATISTICS|STRING|SYSTEM|TIES|TO|TRAN|TRANSACTION|TRIGGER|TRUNCATE|UNBOUNDED|UNDER|UNION|UNIQUE|UNKNOWN|UNNEST|UNSET|UPDATE|UPSERT|USE|USER|USING|VALIDATE|VALUE|VALUES|VIA|VIEW|WHERE|WHILE|WINDOW|WITH|WORK|XOR)\b/i,function:/\b[a-z_]\w*(?=\s*\()/i,boolean:/\b(?:FALSE|TRUE)\b/i,number:/(?:\b\d+\.|\B\.)\d+e[+\-]?\d+\b|\b\d+(?:\.\d*)?|\B\.\d+\b/i,operator:/[-+*\/%]|!=|==?|\|\||<[>=]?|>=?|\b(?:AND|ANY|ARRAY|BETWEEN|CASE|ELSE|END|EVERY|EXISTS|FIRST|IN|LIKE|NOT|OR|THEN|VALUED|WHEN|WITHIN)\b/i,punctuation:/[;[\](),.{}:]/}}XE.displayName="nand2tetris-hdl";XE.aliases=[];function XE(e){e.languages["nand2tetris-hdl"]={comment:/\/\/.*|\/\*[\s\S]*?(?:\*\/|$)/,keyword:/\b(?:BUILTIN|CHIP|CLOCKED|IN|OUT|PARTS)\b/,boolean:/\b(?:false|true)\b/,function:/\b[A-Za-z][A-Za-z0-9]*(?=\()/,number:/\b\d+\b/,operator:/=|\.\./,punctuation:/[{}[\];(),:]/}}QE.displayName="naniscript";QE.aliases=["nani"];function QE(e){(function(t){var n=/\{[^\r\n\[\]{}]*\}/,r={"quoted-string":{pattern:/"(?:[^"\\]|\\.)*"/,alias:"operator"},"command-param-id":{pattern:/(\s)\w+:/,lookbehind:!0,alias:"property"},"command-param-value":[{pattern:n,alias:"selector"},{pattern:/([\t ])\S+/,lookbehind:!0,greedy:!0,alias:"operator"},{pattern:/\S(?:.*\S)?/,alias:"operator"}]};t.languages.naniscript={comment:{pattern:/^([\t ]*);.*/m,lookbehind:!0},define:{pattern:/^>.+/m,alias:"tag",inside:{value:{pattern:/(^>\w+[\t ]+)(?!\s)[^{}\r\n]+/,lookbehind:!0,alias:"operator"},key:{pattern:/(^>)\w+/,lookbehind:!0}}},label:{pattern:/^([\t ]*)#[\t ]*\w+[\t ]*$/m,lookbehind:!0,alias:"regex"},command:{pattern:/^([\t ]*)@\w+(?=[\t ]|$).*/m,lookbehind:!0,alias:"function",inside:{"command-name":/^@\w+/,expression:{pattern:n,greedy:!0,alias:"selector"},"command-params":{pattern:/\s*\S[\s\S]*/,inside:r}}},"generic-text":{pattern:/(^[ \t]*)[^#@>;\s].*/m,lookbehind:!0,alias:"punctuation",inside:{"escaped-char":/\\[{}\[\]"]/,expression:{pattern:n,greedy:!0,alias:"selector"},"inline-command":{pattern:/\[[\t ]*\w[^\r\n\[\]]*\]/,greedy:!0,alias:"function",inside:{"command-params":{pattern:/(^\[[\t ]*\w+\b)[\s\S]+(?=\]$)/,lookbehind:!0,inside:r},"command-param-name":{pattern:/^(\[[\t ]*)\w+/,lookbehind:!0,alias:"name"},"start-stop-char":/[\[\]]/}}}}},t.languages.nani=t.languages.naniscript,t.hooks.add("after-tokenize",function(o){var l=o.tokens;l.forEach(function(u){if(typeof u!="string"&&u.type==="generic-text"){var c=i(u);a(c)||(u.type="bad-line",u.content=c)}})});function a(o){for(var l="[]{}",u=[],c=0;c<o.length;c++){var d=o[c],p=l.indexOf(d);if(p!==-1){if(p%2===0)u.push(p+1);else if(u.pop()!==p)return!1}}return u.length===0}function i(o){return typeof o=="string"?o:Array.isArray(o)?o.map(i).join(""):i(o.content)}})(e)}JE.displayName="nasm";JE.aliases=[];function JE(e){e.languages.nasm={comment:/;.*$/m,string:/(["'`])(?:\\.|(?!\1)[^\\\r\n])*\1/,label:{pattern:/(^\s*)[A-Za-z._?$][\w.?$@~#]*:/m,lookbehind:!0,alias:"function"},keyword:[/\[?BITS (?:16|32|64)\]?/,{pattern:/(^\s*)section\s*[a-z.]+:?/im,lookbehind:!0},/(?:extern|global)[^;\r\n]*/i,/(?:CPU|DEFAULT|FLOAT).*$/m],register:{pattern:/\b(?:st\d|[xyz]mm\d\d?|[cdt]r\d|r\d\d?[bwd]?|[er]?[abcd]x|[abcd][hl]|[er]?(?:bp|di|si|sp)|[cdefgs]s)\b/i,alias:"variable"},number:/(?:\b|(?=\$))(?:0[hx](?:\.[\da-f]+|[\da-f]+(?:\.[\da-f]+)?)(?:p[+-]?\d+)?|\d[\da-f]+[hx]|\$\d[\da-f]*|0[oq][0-7]+|[0-7]+[oq]|0[by][01]+|[01]+[by]|0[dt]\d+|(?:\d+(?:\.\d+)?|\.\d+)(?:\.?e[+-]?\d+)?[dt]?)\b/i,operator:/[\[\]*+\-\/%<>=&|$!]/}}ew.displayName="neon";ew.aliases=[];function ew(e){e.languages.neon={comment:{pattern:/#.*/,greedy:!0},datetime:{pattern:/(^|[[{(=:,\s])\d\d\d\d-\d\d?-\d\d?(?:(?:[Tt]| +)\d\d?:\d\d:\d\d(?:\.\d*)? *(?:Z|[-+]\d\d?(?::?\d\d)?)?)?(?=$|[\]}),\s])/,lookbehind:!0,alias:"number"},key:{pattern:/(^|[[{(,\s])[^,:=[\]{}()'"\s]+(?=\s*:(?:$|[\]}),\s])|\s*=)/,lookbehind:!0,alias:"property"},number:{pattern:/(^|[[{(=:,\s])[+-]?(?:0x[\da-fA-F]+|0o[0-7]+|0b[01]+|(?:\d+(?:\.\d*)?|\.?\d+)(?:[eE][+-]?\d+)?)(?=$|[\]}),:=\s])/,lookbehind:!0},boolean:{pattern:/(^|[[{(=:,\s])(?:false|no|true|yes)(?=$|[\]}),:=\s])/i,lookbehind:!0},null:{pattern:/(^|[[{(=:,\s])(?:null)(?=$|[\]}),:=\s])/i,lookbehind:!0,alias:"keyword"},string:{pattern:/(^|[[{(=:,\s])(?:('''|""")\r?\n(?:(?:[^\r\n]|\r?\n(?![\t ]*\2))*\r?\n)?[\t ]*\2|'[^'\r\n]*'|"(?:\\.|[^\\"\r\n])*")/,lookbehind:!0,greedy:!0},literal:{pattern:/(^|[[{(=:,\s])(?:[^#"',:=[\]{}()\s`-]|[:-][^"',=[\]{}()\s])(?:[^,:=\]})(\s]|:(?![\s,\]})]|$)|[ \t]+[^#,:=\]})(\s])*/,lookbehind:!0,alias:"string"},punctuation:/[,:=[\]{}()-]/}}tw.displayName="nevod";tw.aliases=[];function tw(e){e.languages.nevod={comment:/\/\/.*|(?:\/\*[\s\S]*?(?:\*\/|$))/,string:{pattern:/(?:"(?:""|[^"])*"(?!")|'(?:''|[^'])*'(?!'))!?\*?/,greedy:!0,inside:{"string-attrs":/!$|!\*$|\*$/}},namespace:{pattern:/(@namespace\s+)[a-zA-Z0-9\-.]+(?=\s*\{)/,lookbehind:!0},pattern:{pattern:/(@pattern\s+)?#?[a-zA-Z0-9\-.]+(?:\s*\(\s*(?:~\s*)?[a-zA-Z0-9\-.]+\s*(?:,\s*(?:~\s*)?[a-zA-Z0-9\-.]*)*\))?(?=\s*=)/,lookbehind:!0,inside:{"pattern-name":{pattern:/^#?[a-zA-Z0-9\-.]+/,alias:"class-name"},fields:{pattern:/\(.*\)/,inside:{"field-name":{pattern:/[a-zA-Z0-9\-.]+/,alias:"variable"},punctuation:/[,()]/,operator:{pattern:/~/,alias:"field-hidden-mark"}}}}},search:{pattern:/(@search\s+|#)[a-zA-Z0-9\-.]+(?:\.\*)?(?=\s*;)/,alias:"function",lookbehind:!0},keyword:/@(?:having|inside|namespace|outside|pattern|require|search|where)\b/,"standard-pattern":{pattern:/\b(?:Alpha|AlphaNum|Any|Blank|End|LineBreak|Num|NumAlpha|Punct|Space|Start|Symbol|Word|WordBreak)\b(?:\([a-zA-Z0-9\-.,\s+]*\))?/,inside:{"standard-pattern-name":{pattern:/^[a-zA-Z0-9\-.]+/,alias:"builtin"},quantifier:{pattern:/\b\d+(?:\s*\+|\s*-\s*\d+)?(?!\w)/,alias:"number"},"standard-pattern-attr":{pattern:/[a-zA-Z0-9\-.]+/,alias:"builtin"},punctuation:/[,()]/}},quantifier:{pattern:/\b\d+(?:\s*\+|\s*-\s*\d+)?(?!\w)/,alias:"number"},operator:[{pattern:/=/,alias:"pattern-def"},{pattern:/&/,alias:"conjunction"},{pattern:/~/,alias:"exception"},{pattern:/\?/,alias:"optionality"},{pattern:/[[\]]/,alias:"repetition"},{pattern:/[{}]/,alias:"variation"},{pattern:/[+_]/,alias:"sequence"},{pattern:/\.{2,3}/,alias:"span"}],"field-capture":[{pattern:/([a-zA-Z0-9\-.]+\s*\()\s*[a-zA-Z0-9\-.]+\s*:\s*[a-zA-Z0-9\-.]+(?:\s*,\s*[a-zA-Z0-9\-.]+\s*:\s*[a-zA-Z0-9\-.]+)*(?=\s*\))/,lookbehind:!0,inside:{"field-name":{pattern:/[a-zA-Z0-9\-.]+/,alias:"variable"},colon:/:/}},{pattern:/[a-zA-Z0-9\-.]+\s*:/,inside:{"field-name":{pattern:/[a-zA-Z0-9\-.]+/,alias:"variable"},colon:/:/}}],punctuation:/[:;,()]/,name:/[a-zA-Z0-9\-.]+/}}nw.displayName="nginx";nw.aliases=[];function nw(e){(function(t){var n=/\$(?:\w[a-z\d]*(?:_[^\x00-\x1F\s"'\\()$]*)?|\{[^}\s"'\\]+\})/i;t.languages.nginx={comment:{pattern:/(^|[\s{};])#.*/,lookbehind:!0,greedy:!0},directive:{pattern:/(^|\s)\w(?:[^;{}"'\\\s]|\\.|"(?:[^"\\]|\\.)*"|'(?:[^'\\]|\\.)*'|\s+(?:#.*(?!.)|(?![#\s])))*?(?=\s*[;{])/,lookbehind:!0,greedy:!0,inside:{string:{pattern:/((?:^|[^\\])(?:\\\\)*)(?:"(?:[^"\\]|\\.)*"|'(?:[^'\\]|\\.)*')/,lookbehind:!0,greedy:!0,inside:{escape:{pattern:/\\["'\\nrt]/,alias:"entity"},variable:n}},comment:{pattern:/(\s)#.*/,lookbehind:!0,greedy:!0},keyword:{pattern:/^\S+/,greedy:!0},boolean:{pattern:/(\s)(?:off|on)(?!\S)/,lookbehind:!0},number:{pattern:/(\s)\d+[a-z]*(?!\S)/i,lookbehind:!0},variable:n}},punctuation:/[{};]/}})(e)}rw.displayName="nim";rw.aliases=[];function rw(e){e.languages.nim={comment:{pattern:/#.*/,greedy:!0},string:{pattern:/(?:\b(?!\d)(?:\w|\\x[89a-fA-F][0-9a-fA-F])+)?(?:"""[\s\S]*?"""(?!")|"(?:\\[\s\S]|""|[^"\\])*")/,greedy:!0},char:{pattern:/'(?:\\(?:\d+|x[\da-fA-F]{0,2}|.)|[^'])'/,greedy:!0},function:{pattern:/(?:(?!\d)(?:\w|\\x[89a-fA-F][0-9a-fA-F])+|`[^`\r\n]+`)\*?(?:\[[^\]]+\])?(?=\s*\()/,greedy:!0,inside:{operator:/\*$/}},identifier:{pattern:/`[^`\r\n]+`/,greedy:!0,inside:{punctuation:/`/}},number:/\b(?:0[xXoObB][\da-fA-F_]+|\d[\d_]*(?:(?!\.\.)\.[\d_]*)?(?:[eE][+-]?\d[\d_]*)?)(?:'?[iuf]\d*)?/,keyword:/\b(?:addr|as|asm|atomic|bind|block|break|case|cast|concept|const|continue|converter|defer|discard|distinct|do|elif|else|end|enum|except|export|finally|for|from|func|generic|if|import|include|interface|iterator|let|macro|method|mixin|nil|object|out|proc|ptr|raise|ref|return|static|template|try|tuple|type|using|var|when|while|with|without|yield)\b/,operator:{pattern:/(^|[({\[](?=\.\.)|(?![({\[]\.).)(?:(?:[=+\-*\/<>@$~&%|!?^:\\]|\.\.|\.(?![)}\]]))+|\b(?:and|div|in|is|isnot|mod|not|notin|of|or|shl|shr|xor)\b)/m,lookbehind:!0},punctuation:/[({\[]\.|\.[)}\]]|[`(){}\[\],:]/}}aw.displayName="nix";aw.aliases=[];function aw(e){e.languages.nix={comment:{pattern:/\/\*[\s\S]*?\*\/|#.*/,greedy:!0},string:{pattern:/"(?:[^"\\]|\\[\s\S])*"|''(?:(?!'')[\s\S]|''(?:'|\\|\$\{))*''/,greedy:!0,inside:{interpolation:{pattern:/(^|(?:^|(?!'').)[^\\])\$\{(?:[^{}]|\{[^}]*\})*\}/,lookbehind:!0,inside:null}}},url:[/\b(?:[a-z]{3,7}:\/\/)[\w\-+%~\/.:#=?&]+/,{pattern:/([^\/])(?:[\w\-+%~.:#=?&]*(?!\/\/)[\w\-+%~\/.:#=?&])?(?!\/\/)\/[\w\-+%~\/.:#=?&]*/,lookbehind:!0}],antiquotation:{pattern:/\$(?=\{)/,alias:"important"},number:/\b\d+\b/,keyword:/\b(?:assert|builtins|else|if|in|inherit|let|null|or|then|with)\b/,function:/\b(?:abort|add|all|any|attrNames|attrValues|baseNameOf|compareVersions|concatLists|currentSystem|deepSeq|derivation|dirOf|div|elem(?:At)?|fetch(?:Tarball|url)|filter(?:Source)?|fromJSON|genList|getAttr|getEnv|hasAttr|hashString|head|import|intersectAttrs|is(?:Attrs|Bool|Function|Int|List|Null|String)|length|lessThan|listToAttrs|map|mul|parseDrvName|pathExists|read(?:Dir|File)|removeAttrs|replaceStrings|seq|sort|stringLength|sub(?:string)?|tail|throw|to(?:File|JSON|Path|String|XML)|trace|typeOf)\b|\bfoldl'\B/,boolean:/\b(?:false|true)\b/,operator:/[=!<>]=?|\+\+?|\|\||&&|\/\/|->?|[?@]/,punctuation:/[{}()[\].,:;]/},e.languages.nix.string.inside.interpolation.inside=e.languages.nix}sw.displayName="nsis";sw.aliases=[];function sw(e){e.languages.nsis={comment:{pattern:/(^|[^\\])(?:\/\*[\s\S]*?\*\/|[#;].*)/,lookbehind:!0,greedy:!0},string:{pattern:/("|')(?:\\.|(?!\1)[^\\\r\n])*\1/,greedy:!0},keyword:{pattern:/(^[\t ]*)(?:Abort|Add(?:BrandingImage|Size)|AdvSplash|Allow(?:RootDirInstall|SkipFiles)|AutoCloseWindow|BG(?:Font|Gradient|Image)|Banner|BrandingText|BringToFront|CRCCheck|Call(?:InstDLL)?|Caption|ChangeUI|CheckBitmap|ClearErrors|CompletedText|ComponentText|CopyFiles|Create(?:Directory|Font|ShortCut)|Delete(?:INISec|INIStr|RegKey|RegValue)?|Detail(?:Print|sButtonText)|Dialer|Dir(?:Text|Var|Verify)|EnableWindow|Enum(?:RegKey|RegValue)|Exch|Exec(?:Shell(?:Wait)?|Wait)?|ExpandEnvStrings|File(?:BufSize|Close|ErrorText|Open|Read|ReadByte|ReadUTF16LE|ReadWord|Seek|Write|WriteByte|WriteUTF16LE|WriteWord)?|Find(?:Close|First|Next|Window)|FlushINI|Get(?:CurInstType|CurrentAddress|DLLVersion(?:Local)?|DlgItem|ErrorLevel|FileTime(?:Local)?|FullPathName|Function(?:Address|End)?|InstDirError|KnownFolderPath|LabelAddress|TempFileName|WinVer)|Goto|HideWindow|Icon|If(?:Abort|Errors|FileExists|RebootFlag|RtlLanguage|ShellVarContextAll|Silent)|InitPluginsDir|InstProgressFlags|Inst(?:Type(?:GetText|SetText)?)|Install(?:ButtonText|Colors|Dir(?:RegKey)?)|Int(?:64|Ptr)?CmpU?|Int(?:64)?Fmt|Int(?:Ptr)?Op|IsWindow|Lang(?:DLL|String)|License(?:BkColor|Data|ForceSelection|LangString|Text)|LoadLanguageFile|LockWindow|Log(?:Set|Text)|Manifest(?:DPIAware|SupportedOS)|Math|MessageBox|MiscButtonText|NSISdl|Name|Nop|OutFile|PE(?:DllCharacteristics|SubsysVer)|Page(?:Callbacks)?|Pop|Push|Quit|RMDir|Read(?:EnvStr|INIStr|RegDWORD|RegStr)|Reboot|RegDLL|Rename|RequestExecutionLevel|ReserveFile|Return|SearchPath|Section(?:End|GetFlags|GetInstTypes|GetSize|GetText|Group|In|SetFlags|SetInstTypes|SetSize|SetText)?|SendMessage|Set(?:AutoClose|BrandingImage|Compress|Compressor(?:DictSize)?|CtlColors|CurInstType|DatablockOptimize|DateSave|Details(?:Print|View)|ErrorLevel|Errors|FileAttributes|Font|OutPath|Overwrite|PluginUnload|RebootFlag|RegView|ShellVarContext|Silent)|Show(?:InstDetails|UninstDetails|Window)|Silent(?:Install|UnInstall)|Sleep|SpaceTexts|Splash|StartMenu|Str(?:CmpS?|Cpy|Len)|SubCaption|System|Target|UnRegDLL|Unicode|UninstPage|Uninstall(?:ButtonText|Caption|Icon|SubCaption|Text)|UserInfo|VI(?:AddVersionKey|FileVersion|ProductVersion)|VPatch|Var|WindowIcon|Write(?:INIStr|Reg(?:Bin|DWORD|ExpandStr|MultiStr|None|Str)|Uninstaller)|XPStyle|ns(?:Dialogs|Exec))\b/m,lookbehind:!0},property:/\b(?:ARCHIVE|FILE_(?:ATTRIBUTE_ARCHIVE|ATTRIBUTE_NORMAL|ATTRIBUTE_OFFLINE|ATTRIBUTE_READONLY|ATTRIBUTE_SYSTEM|ATTRIBUTE_TEMPORARY)|HK(?:(?:CR|CU|LM)(?:32|64)?|DD|PD|U)|HKEY_(?:CLASSES_ROOT|CURRENT_CONFIG|CURRENT_USER|DYN_DATA|LOCAL_MACHINE|PERFORMANCE_DATA|USERS)|ID(?:ABORT|CANCEL|IGNORE|NO|OK|RETRY|YES)|MB_(?:ABORTRETRYIGNORE|DEFBUTTON1|DEFBUTTON2|DEFBUTTON3|DEFBUTTON4|ICONEXCLAMATION|ICONINFORMATION|ICONQUESTION|ICONSTOP|OK|OKCANCEL|RETRYCANCEL|RIGHT|RTLREADING|SETFOREGROUND|TOPMOST|USERICON|YESNO)|NORMAL|OFFLINE|READONLY|SHCTX|SHELL_CONTEXT|SYSTEM|TEMPORARY|admin|all|auto|both|colored|false|force|hide|highest|lastused|leave|listonly|none|normal|notset|off|on|open|print|show|silent|silentlog|smooth|textonly|true|user)\b/,constant:/\$\{[!\w\.:\^-]+\}|\$\([!\w\.:\^-]+\)/,variable:/\$\w[\w\.]*/,number:/\b0x[\dA-Fa-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:[Ee]-?\d+)?/,operator:/--?|\+\+?|<=?|>=?|==?=?|&&?|\|\|?|[?*\/~^%]/,punctuation:/[{}[\];(),.:]/,important:{pattern:/(^[\t ]*)!(?:addincludedir|addplugindir|appendfile|cd|define|delfile|echo|else|endif|error|execute|finalize|getdllversion|gettlbversion|if|ifdef|ifmacrodef|ifmacrondef|ifndef|include|insertmacro|macro|macroend|makensis|packhdr|pragma|searchparse|searchreplace|system|tempfile|undef|verbose|warning)\b/im,lookbehind:!0}}}iw.displayName="ocaml";iw.aliases=[];function iw(e){e.languages.ocaml={comment:{pattern:/\(\*[\s\S]*?\*\)/,greedy:!0},char:{pattern:/'(?:[^\\\r\n']|\\(?:.|[ox]?[0-9a-f]{1,3}))'/i,greedy:!0},string:[{pattern:/"(?:\\(?:[\s\S]|\r\n)|[^\\\r\n"])*"/,greedy:!0},{pattern:/\{([a-z_]*)\|[\s\S]*?\|\1\}/,greedy:!0}],number:[/\b(?:0b[01][01_]*|0o[0-7][0-7_]*)\b/i,/\b0x[a-f0-9][a-f0-9_]*(?:\.[a-f0-9_]*)?(?:p[+-]?\d[\d_]*)?(?!\w)/i,/\b\d[\d_]*(?:\.[\d_]*)?(?:e[+-]?\d[\d_]*)?(?!\w)/i],directive:{pattern:/\B#\w+/,alias:"property"},label:{pattern:/\B~\w+/,alias:"property"},"type-variable":{pattern:/\B'\w+/,alias:"function"},variant:{pattern:/`\w+/,alias:"symbol"},keyword:/\b(?:as|assert|begin|class|constraint|do|done|downto|else|end|exception|external|for|fun|function|functor|if|in|include|inherit|initializer|lazy|let|match|method|module|mutable|new|nonrec|object|of|open|private|rec|sig|struct|then|to|try|type|val|value|virtual|when|where|while|with)\b/,boolean:/\b(?:false|true)\b/,"operator-like-punctuation":{pattern:/\[[<>|]|[>|]\]|\{<|>\}/,alias:"punctuation"},operator:/\.[.~]|:[=>]|[=<>@^|&+\-*\/$%!?~][!$%&*+\-.\/:<=>?@^|~]*|\b(?:and|asr|land|lor|lsl|lsr|lxor|mod|or)\b/,punctuation:/;;|::|[(){}\[\].,:;#]|\b_\b/}}ow.displayName="odin";ow.aliases=[];function ow(e){(function(t){var n=/\\(?:["'\\abefnrtv]|0[0-7]{2}|U[\dA-Fa-f]{6}|u[\dA-Fa-f]{4}|x[\dA-Fa-f]{2})/;t.languages.odin={comment:[{pattern:/\/\*(?:[^/*]|\/(?!\*)|\*(?!\/)|\/\*(?:\*(?!\/)|[^*])*(?:\*\/|$))*(?:\*\/|$)/,greedy:!0},{pattern:/#![^\n\r]*/,greedy:!0},{pattern:/\/\/[^\n\r]*/,greedy:!0}],char:{pattern:/'(?:\\(?:.|[0Uux][0-9A-Fa-f]{1,6})|[^\n\r'\\])'/,greedy:!0,inside:{symbol:n}},string:[{pattern:/`[^`]*`/,greedy:!0},{pattern:/"(?:\\.|[^\n\r"\\])*"/,greedy:!0,inside:{symbol:n}}],directive:{pattern:/#\w+/,alias:"property"},number:/\b0(?:b[01_]+|d[\d_]+|h_*(?:(?:(?:[\dA-Fa-f]_*){8}){1,2}|(?:[\dA-Fa-f]_*){4})|o[0-7_]+|x[\dA-F_a-f]+|z[\dAB_ab]+)\b|(?:\b\d+(?:\.(?!\.)\d*)?|\B\.\d+)(?:[Ee][+-]?\d*)?[ijk]?(?!\w)/,discard:{pattern:/\b_\b/,alias:"keyword"},"procedure-definition":{pattern:/\b\w+(?=[ \t]*(?::\s*){2}proc\b)/,alias:"function"},keyword:/\b(?:asm|auto_cast|bit_set|break|case|cast|context|continue|defer|distinct|do|dynamic|else|enum|fallthrough|for|foreign|if|import|in|map|matrix|not_in|or_else|or_return|package|proc|return|struct|switch|transmute|typeid|union|using|when|where)\b/,"procedure-name":{pattern:/\b\w+(?=[ \t]*\()/,alias:"function"},boolean:/\b(?:false|nil|true)\b/,"constant-parameter-sign":{pattern:/\$/,alias:"important"},undefined:{pattern:/---/,alias:"operator"},arrow:{pattern:/->/,alias:"punctuation"},operator:/\+\+|--|\.\.[<=]?|(?:&~|[-!*+/=~]|[%&<>|]{1,2})=?|[?^]/,punctuation:/[(),.:;@\[\]{}]/}})(e)}lw.displayName="opencl";lw.aliases=[];function lw(e){e.register(pa),function(t){t.languages.opencl=t.languages.extend("c",{keyword:/\b(?:(?:__)?(?:constant|global|kernel|local|private|read_only|read_write|write_only)|__attribute__|auto|(?:bool|u?(?:char|int|long|short)|half|quad)(?:2|3|4|8|16)?|break|case|complex|const|continue|(?:double|float)(?:16(?:x(?:1|2|4|8|16))?|1x(?:1|2|4|8|16)|2(?:x(?:1|2|4|8|16))?|3|4(?:x(?:1|2|4|8|16))?|8(?:x(?:1|2|4|8|16))?)?|default|do|else|enum|extern|for|goto|if|imaginary|inline|packed|pipe|register|restrict|return|signed|sizeof|static|struct|switch|typedef|uniform|union|unsigned|void|volatile|while)\b/,number:/(?:\b0x(?:[\da-f]+(?:\.[\da-f]*)?|\.[\da-f]+)(?:p[+-]?\d+)?|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?)[fuhl]{0,4}/i,boolean:/\b(?:false|true)\b/,"constant-opencl-kernel":{pattern:/\b(?:CHAR_(?:BIT|MAX|MIN)|CLK_(?:ADDRESS_(?:CLAMP(?:_TO_EDGE)?|NONE|REPEAT)|FILTER_(?:LINEAR|NEAREST)|(?:GLOBAL|LOCAL)_MEM_FENCE|NORMALIZED_COORDS_(?:FALSE|TRUE))|CL_(?:BGRA|(?:HALF_)?FLOAT|INTENSITY|LUMINANCE|A?R?G?B?[Ax]?|(?:(?:UN)?SIGNED|[US]NORM)_(?:INT(?:8|16|32))|UNORM_(?:INT_101010|SHORT_(?:555|565)))|(?:DBL|FLT|HALF)_(?:DIG|EPSILON|(?:MAX|MIN)(?:(?:_10)?_EXP)?|MANT_DIG)|FLT_RADIX|HUGE_VALF?|(?:INT|LONG|SCHAR|SHRT)_(?:MAX|MIN)|INFINITY|MAXFLOAT|M_(?:[12]_PI|2_SQRTPI|E|LN(?:2|10)|LOG(?:2|10)E?|PI(?:_[24])?|SQRT(?:1_2|2))(?:_F|_H)?|NAN|(?:UCHAR|UINT|ULONG|USHRT)_MAX)\b/,alias:"constant"}}),t.languages.insertBefore("opencl","class-name",{"builtin-type":{pattern:/\b(?:_cl_(?:command_queue|context|device_id|event|kernel|mem|platform_id|program|sampler)|cl_(?:image_format|mem_fence_flags)|clk_event_t|event_t|image(?:1d_(?:array_|buffer_)?t|2d_(?:array_(?:depth_|msaa_depth_|msaa_)?|depth_|msaa_depth_|msaa_)?t|3d_t)|intptr_t|ndrange_t|ptrdiff_t|queue_t|reserve_id_t|sampler_t|size_t|uintptr_t)\b/,alias:"keyword"}});var n={"type-opencl-host":{pattern:/\b(?:cl_(?:GLenum|GLint|GLuin|addressing_mode|bitfield|bool|buffer_create_type|build_status|channel_(?:order|type)|(?:u?(?:char|int|long|short)|double|float)(?:2|3|4|8|16)?|command_(?:queue(?:_info|_properties)?|type)|context(?:_info|_properties)?|device_(?:exec_capabilities|fp_config|id|info|local_mem_type|mem_cache_type|type)|(?:event|sampler)(?:_info)?|filter_mode|half|image_info|kernel(?:_info|_work_group_info)?|map_flags|mem(?:_flags|_info|_object_type)?|platform_(?:id|info)|profiling_info|program(?:_build_info|_info)?))\b/,alias:"keyword"},"boolean-opencl-host":{pattern:/\bCL_(?:FALSE|TRUE)\b/,alias:"boolean"},"constant-opencl-host":{pattern:/\bCL_(?:A|ABGR|ADDRESS_(?:CLAMP(?:_TO_EDGE)?|MIRRORED_REPEAT|NONE|REPEAT)|ARGB|BGRA|BLOCKING|BUFFER_CREATE_TYPE_REGION|BUILD_(?:ERROR|IN_PROGRESS|NONE|PROGRAM_FAILURE|SUCCESS)|COMMAND_(?:ACQUIRE_GL_OBJECTS|BARRIER|COPY_(?:BUFFER(?:_RECT|_TO_IMAGE)?|IMAGE(?:_TO_BUFFER)?)|FILL_(?:BUFFER|IMAGE)|MAP(?:_BUFFER|_IMAGE)|MARKER|MIGRATE(?:_SVM)?_MEM_OBJECTS|NATIVE_KERNEL|NDRANGE_KERNEL|READ_(?:BUFFER(?:_RECT)?|IMAGE)|RELEASE_GL_OBJECTS|SVM_(?:FREE|MAP|MEMCPY|MEMFILL|UNMAP)|TASK|UNMAP_MEM_OBJECT|USER|WRITE_(?:BUFFER(?:_RECT)?|IMAGE))|COMPILER_NOT_AVAILABLE|COMPILE_PROGRAM_FAILURE|COMPLETE|CONTEXT_(?:DEVICES|INTEROP_USER_SYNC|NUM_DEVICES|PLATFORM|PROPERTIES|REFERENCE_COUNT)|DEPTH(?:_STENCIL)?|DEVICE_(?:ADDRESS_BITS|AFFINITY_DOMAIN_(?:L[1-4]_CACHE|NEXT_PARTITIONABLE|NUMA)|AVAILABLE|BUILT_IN_KERNELS|COMPILER_AVAILABLE|DOUBLE_FP_CONFIG|ENDIAN_LITTLE|ERROR_CORRECTION_SUPPORT|EXECUTION_CAPABILITIES|EXTENSIONS|GLOBAL_(?:MEM_(?:CACHELINE_SIZE|CACHE_SIZE|CACHE_TYPE|SIZE)|VARIABLE_PREFERRED_TOTAL_SIZE)|HOST_UNIFIED_MEMORY|IL_VERSION|IMAGE(?:2D_MAX_(?:HEIGHT|WIDTH)|3D_MAX_(?:DEPTH|HEIGHT|WIDTH)|_BASE_ADDRESS_ALIGNMENT|_MAX_ARRAY_SIZE|_MAX_BUFFER_SIZE|_PITCH_ALIGNMENT|_SUPPORT)|LINKER_AVAILABLE|LOCAL_MEM_SIZE|LOCAL_MEM_TYPE|MAX_(?:CLOCK_FREQUENCY|COMPUTE_UNITS|CONSTANT_ARGS|CONSTANT_BUFFER_SIZE|GLOBAL_VARIABLE_SIZE|MEM_ALLOC_SIZE|NUM_SUB_GROUPS|ON_DEVICE_(?:EVENTS|QUEUES)|PARAMETER_SIZE|PIPE_ARGS|READ_IMAGE_ARGS|READ_WRITE_IMAGE_ARGS|SAMPLERS|WORK_GROUP_SIZE|WORK_ITEM_DIMENSIONS|WORK_ITEM_SIZES|WRITE_IMAGE_ARGS)|MEM_BASE_ADDR_ALIGN|MIN_DATA_TYPE_ALIGN_SIZE|NAME|NATIVE_VECTOR_WIDTH_(?:CHAR|DOUBLE|FLOAT|HALF|INT|LONG|SHORT)|NOT_(?:AVAILABLE|FOUND)|OPENCL_C_VERSION|PARENT_DEVICE|PARTITION_(?:AFFINITY_DOMAIN|BY_AFFINITY_DOMAIN|BY_COUNTS|BY_COUNTS_LIST_END|EQUALLY|FAILED|MAX_SUB_DEVICES|PROPERTIES|TYPE)|PIPE_MAX_(?:ACTIVE_RESERVATIONS|PACKET_SIZE)|PLATFORM|PREFERRED_(?:GLOBAL_ATOMIC_ALIGNMENT|INTEROP_USER_SYNC|LOCAL_ATOMIC_ALIGNMENT|PLATFORM_ATOMIC_ALIGNMENT|VECTOR_WIDTH_(?:CHAR|DOUBLE|FLOAT|HALF|INT|LONG|SHORT))|PRINTF_BUFFER_SIZE|PROFILE|PROFILING_TIMER_RESOLUTION|QUEUE_(?:ON_(?:DEVICE_(?:MAX_SIZE|PREFERRED_SIZE|PROPERTIES)|HOST_PROPERTIES)|PROPERTIES)|REFERENCE_COUNT|SINGLE_FP_CONFIG|SUB_GROUP_INDEPENDENT_FORWARD_PROGRESS|SVM_(?:ATOMICS|CAPABILITIES|COARSE_GRAIN_BUFFER|FINE_GRAIN_BUFFER|FINE_GRAIN_SYSTEM)|TYPE(?:_ACCELERATOR|_ALL|_CPU|_CUSTOM|_DEFAULT|_GPU)?|VENDOR(?:_ID)?|VERSION)|DRIVER_VERSION|EVENT_(?:COMMAND_(?:EXECUTION_STATUS|QUEUE|TYPE)|CONTEXT|REFERENCE_COUNT)|EXEC_(?:KERNEL|NATIVE_KERNEL|STATUS_ERROR_FOR_EVENTS_IN_WAIT_LIST)|FILTER_(?:LINEAR|NEAREST)|FLOAT|FP_(?:CORRECTLY_ROUNDED_DIVIDE_SQRT|DENORM|FMA|INF_NAN|ROUND_TO_INF|ROUND_TO_NEAREST|ROUND_TO_ZERO|SOFT_FLOAT)|GLOBAL|HALF_FLOAT|IMAGE_(?:ARRAY_SIZE|BUFFER|DEPTH|ELEMENT_SIZE|FORMAT|FORMAT_MISMATCH|FORMAT_NOT_SUPPORTED|HEIGHT|NUM_MIP_LEVELS|NUM_SAMPLES|ROW_PITCH|SLICE_PITCH|WIDTH)|INTENSITY|INVALID_(?:ARG_INDEX|ARG_SIZE|ARG_VALUE|BINARY|BUFFER_SIZE|BUILD_OPTIONS|COMMAND_QUEUE|COMPILER_OPTIONS|CONTEXT|DEVICE|DEVICE_PARTITION_COUNT|DEVICE_QUEUE|DEVICE_TYPE|EVENT|EVENT_WAIT_LIST|GLOBAL_OFFSET|GLOBAL_WORK_SIZE|GL_OBJECT|HOST_PTR|IMAGE_DESCRIPTOR|IMAGE_FORMAT_DESCRIPTOR|IMAGE_SIZE|KERNEL|KERNEL_ARGS|KERNEL_DEFINITION|KERNEL_NAME|LINKER_OPTIONS|MEM_OBJECT|MIP_LEVEL|OPERATION|PIPE_SIZE|PLATFORM|PROGRAM|PROGRAM_EXECUTABLE|PROPERTY|QUEUE_PROPERTIES|SAMPLER|VALUE|WORK_DIMENSION|WORK_GROUP_SIZE|WORK_ITEM_SIZE)|KERNEL_(?:ARG_(?:ACCESS_(?:NONE|QUALIFIER|READ_ONLY|READ_WRITE|WRITE_ONLY)|ADDRESS_(?:CONSTANT|GLOBAL|LOCAL|PRIVATE|QUALIFIER)|INFO_NOT_AVAILABLE|NAME|TYPE_(?:CONST|NAME|NONE|PIPE|QUALIFIER|RESTRICT|VOLATILE))|ATTRIBUTES|COMPILE_NUM_SUB_GROUPS|COMPILE_WORK_GROUP_SIZE|CONTEXT|EXEC_INFO_SVM_FINE_GRAIN_SYSTEM|EXEC_INFO_SVM_PTRS|FUNCTION_NAME|GLOBAL_WORK_SIZE|LOCAL_MEM_SIZE|LOCAL_SIZE_FOR_SUB_GROUP_COUNT|MAX_NUM_SUB_GROUPS|MAX_SUB_GROUP_SIZE_FOR_NDRANGE|NUM_ARGS|PREFERRED_WORK_GROUP_SIZE_MULTIPLE|PRIVATE_MEM_SIZE|PROGRAM|REFERENCE_COUNT|SUB_GROUP_COUNT_FOR_NDRANGE|WORK_GROUP_SIZE)|LINKER_NOT_AVAILABLE|LINK_PROGRAM_FAILURE|LOCAL|LUMINANCE|MAP_(?:FAILURE|READ|WRITE|WRITE_INVALIDATE_REGION)|MEM_(?:ALLOC_HOST_PTR|ASSOCIATED_MEMOBJECT|CONTEXT|COPY_HOST_PTR|COPY_OVERLAP|FLAGS|HOST_NO_ACCESS|HOST_PTR|HOST_READ_ONLY|HOST_WRITE_ONLY|KERNEL_READ_AND_WRITE|MAP_COUNT|OBJECT_(?:ALLOCATION_FAILURE|BUFFER|IMAGE1D|IMAGE1D_ARRAY|IMAGE1D_BUFFER|IMAGE2D|IMAGE2D_ARRAY|IMAGE3D|PIPE)|OFFSET|READ_ONLY|READ_WRITE|REFERENCE_COUNT|SIZE|SVM_ATOMICS|SVM_FINE_GRAIN_BUFFER|TYPE|USES_SVM_POINTER|USE_HOST_PTR|WRITE_ONLY)|MIGRATE_MEM_OBJECT_(?:CONTENT_UNDEFINED|HOST)|MISALIGNED_SUB_BUFFER_OFFSET|NONE|NON_BLOCKING|OUT_OF_(?:HOST_MEMORY|RESOURCES)|PIPE_(?:MAX_PACKETS|PACKET_SIZE)|PLATFORM_(?:EXTENSIONS|HOST_TIMER_RESOLUTION|NAME|PROFILE|VENDOR|VERSION)|PROFILING_(?:COMMAND_(?:COMPLETE|END|QUEUED|START|SUBMIT)|INFO_NOT_AVAILABLE)|PROGRAM_(?:BINARIES|BINARY_SIZES|BINARY_TYPE(?:_COMPILED_OBJECT|_EXECUTABLE|_LIBRARY|_NONE)?|BUILD_(?:GLOBAL_VARIABLE_TOTAL_SIZE|LOG|OPTIONS|STATUS)|CONTEXT|DEVICES|IL|KERNEL_NAMES|NUM_DEVICES|NUM_KERNELS|REFERENCE_COUNT|SOURCE)|QUEUED|QUEUE_(?:CONTEXT|DEVICE|DEVICE_DEFAULT|ON_DEVICE|ON_DEVICE_DEFAULT|OUT_OF_ORDER_EXEC_MODE_ENABLE|PROFILING_ENABLE|PROPERTIES|REFERENCE_COUNT|SIZE)|R|RA|READ_(?:ONLY|WRITE)_CACHE|RG|RGB|RGBA|RGBx|RGx|RUNNING|Rx|SAMPLER_(?:ADDRESSING_MODE|CONTEXT|FILTER_MODE|LOD_MAX|LOD_MIN|MIP_FILTER_MODE|NORMALIZED_COORDS|REFERENCE_COUNT)|(?:UN)?SIGNED_INT(?:8|16|32)|SNORM_INT(?:8|16)|SUBMITTED|SUCCESS|UNORM_INT(?:8|16|24|_101010|_101010_2)|UNORM_SHORT_(?:555|565)|VERSION_(?:1_0|1_1|1_2|2_0|2_1)|sBGRA|sRGB|sRGBA|sRGBx)\b/,alias:"constant"},"function-opencl-host":{pattern:/\bcl(?:BuildProgram|CloneKernel|CompileProgram|Create(?:Buffer|CommandQueue(?:WithProperties)?|Context|ContextFromType|Image|Image2D|Image3D|Kernel|KernelsInProgram|Pipe|ProgramWith(?:Binary|BuiltInKernels|IL|Source)|Sampler|SamplerWithProperties|SubBuffer|SubDevices|UserEvent)|Enqueue(?:(?:Barrier|Marker)(?:WithWaitList)?|Copy(?:Buffer(?:Rect|ToImage)?|Image(?:ToBuffer)?)|(?:Fill|Map)(?:Buffer|Image)|MigrateMemObjects|NDRangeKernel|NativeKernel|(?:Read|Write)(?:Buffer(?:Rect)?|Image)|SVM(?:Free|Map|MemFill|Memcpy|MigrateMem|Unmap)|Task|UnmapMemObject|WaitForEvents)|Finish|Flush|Get(?:CommandQueueInfo|ContextInfo|Device(?:AndHostTimer|IDs|Info)|Event(?:Profiling)?Info|ExtensionFunctionAddress(?:ForPlatform)?|HostTimer|ImageInfo|Kernel(?:ArgInfo|Info|SubGroupInfo|WorkGroupInfo)|MemObjectInfo|PipeInfo|Platform(?:IDs|Info)|Program(?:Build)?Info|SamplerInfo|SupportedImageFormats)|LinkProgram|(?:Release|Retain)(?:CommandQueue|Context|Device|Event|Kernel|MemObject|Program|Sampler)|SVM(?:Alloc|Free)|Set(?:CommandQueueProperty|DefaultDeviceCommandQueue|EventCallback|Kernel|Kernel(?:Arg(?:SVMPointer)?|ExecInfo)|MemObjectDestructorCallback|UserEventStatus)|Unload(?:Platform)?Compiler|WaitForEvents)\b/,alias:"function"}};t.languages.insertBefore("c","keyword",n),t.languages.cpp&&(n["type-opencl-host-cpp"]={pattern:/\b(?:Buffer|BufferGL|BufferRenderGL|CommandQueue|Context|Device|DeviceCommandQueue|EnqueueArgs|Event|Image|Image1D|Image1DArray|Image1DBuffer|Image2D|Image2DArray|Image2DGL|Image3D|Image3DGL|ImageFormat|ImageGL|Kernel|KernelFunctor|LocalSpaceArg|Memory|NDRange|Pipe|Platform|Program|SVMAllocator|SVMTraitAtomic|SVMTraitCoarse|SVMTraitFine|SVMTraitReadOnly|SVMTraitReadWrite|SVMTraitWriteOnly|Sampler|UserEvent)\b/,alias:"keyword"},t.languages.insertBefore("cpp","keyword",n))}(e)}uw.displayName="openqasm";uw.aliases=["qasm"];function uw(e){e.languages.openqasm={comment:/\/\*[\s\S]*?\*\/|\/\/.*/,string:{pattern:/"[^"\r\n\t]*"|'[^'\r\n\t]*'/,greedy:!0},keyword:/\b(?:CX|OPENQASM|U|barrier|boxas|boxto|break|const|continue|ctrl|def|defcal|defcalgrammar|delay|else|end|for|gate|gphase|if|in|include|inv|kernel|lengthof|let|measure|pow|reset|return|rotary|stretchinf|while)\b|#pragma\b/,"class-name":/\b(?:angle|bit|bool|creg|fixed|float|int|length|qreg|qubit|stretch|uint)\b/,function:/\b(?:cos|exp|ln|popcount|rotl|rotr|sin|sqrt|tan)\b(?=\s*\()/,constant:/\b(?:euler|pi|tau)\b|||/,number:{pattern:/(^|[^.\w$])(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?(?:dt|ns|us|s|ms|s)?/i,lookbehind:!0},operator:/->|>>=?|<<=?|&&|\|\||\+\+|--|[!=<>&|~^+\-*/%]=?|@/,punctuation:/[(){}\[\];,:.]/},e.languages.qasm=e.languages.openqasm}cw.displayName="oz";cw.aliases=[];function cw(e){e.languages.oz={comment:{pattern:/\/\*[\s\S]*?\*\/|%.*/,greedy:!0},string:{pattern:/"(?:[^"\\]|\\[\s\S])*"/,greedy:!0},atom:{pattern:/'(?:[^'\\]|\\[\s\S])*'/,greedy:!0,alias:"builtin"},keyword:/\$|\[\]|\b(?:_|at|attr|case|catch|choice|class|cond|declare|define|dis|else(?:case|if)?|end|export|fail|false|feat|finally|from|fun|functor|if|import|in|local|lock|meth|nil|not|of|or|prepare|proc|prop|raise|require|self|skip|then|thread|true|try|unit)\b/,function:[/\b[a-z][A-Za-z\d]*(?=\()/,{pattern:/(\{)[A-Z][A-Za-z\d]*\b/,lookbehind:!0}],number:/\b(?:0[bx][\da-f]+|\d+(?:\.\d*)?(?:e~?\d+)?)\b|&(?:[^\\]|\\(?:\d{3}|.))/i,variable:/`(?:[^`\\]|\\.)+`/,"attr-name":/\b\w+(?=[ \t]*:(?![:=]))/,operator:/:(?:=|::?)|<[-:=]?|=(?:=|<?:?)|>=?:?|\\=:?|!!?|[|#+\-*\/,~^@]|\b(?:andthen|div|mod|orelse)\b/,punctuation:/[\[\](){}.:;?]/}}dw.displayName="parigp";dw.aliases=[];function dw(e){e.languages.parigp={comment:/\/\*[\s\S]*?\*\/|\\\\.*/,string:{pattern:/"(?:[^"\\\r\n]|\\.)*"/,greedy:!0},keyword:function(){var t=["breakpoint","break","dbg_down","dbg_err","dbg_up","dbg_x","forcomposite","fordiv","forell","forpart","forprime","forstep","forsubgroup","forvec","for","iferr","if","local","my","next","return","until","while"];return t=t.map(function(n){return n.split("").join(" *")}).join("|"),RegExp("\\b(?:"+t+")\\b")}(),function:/\b\w(?:[\w ]*\w)?(?= *\()/,number:{pattern:/((?:\. *\. *)?)(?:\b\d(?: *\d)*(?: *(?!\. *\.)\.(?: *\d)*)?|\. *\d(?: *\d)*)(?: *e *(?:[+-] *)?\d(?: *\d)*)?/i,lookbehind:!0},operator:/\. *\.|[*\/!](?: *=)?|%(?: *=|(?: *#)?(?: *')*)?|\+(?: *[+=])?|-(?: *[-=>])?|<(?: *>|(?: *<)?(?: *=)?)?|>(?: *>)?(?: *=)?|=(?: *=){0,2}|\\(?: *\/)?(?: *=)?|&(?: *&)?|\| *\||['#~^]/,punctuation:/[\[\]{}().,:;|]/}}pw.displayName="parser";pw.aliases=[];function pw(e){e.register(wn),function(t){var n=t.languages.parser=t.languages.extend("markup",{keyword:{pattern:/(^|[^^])(?:\^(?:case|eval|for|if|switch|throw)\b|@(?:BASE|CLASS|GET(?:_DEFAULT)?|OPTIONS|SET_DEFAULT|USE)\b)/,lookbehind:!0},variable:{pattern:/(^|[^^])\B\$(?:\w+|(?=[.{]))(?:(?:\.|::?)\w+)*(?:\.|::?)?/,lookbehind:!0,inside:{punctuation:/\.|:+/}},function:{pattern:/(^|[^^])\B[@^]\w+(?:(?:\.|::?)\w+)*(?:\.|::?)?/,lookbehind:!0,inside:{keyword:{pattern:/(^@)(?:GET_|SET_)/,lookbehind:!0},punctuation:/\.|:+/}},escape:{pattern:/\^(?:[$^;@()\[\]{}"':]|#[a-f\d]*)/i,alias:"builtin"},punctuation:/[\[\](){};]/});n=t.languages.insertBefore("parser","keyword",{"parser-comment":{pattern:/(\s)#.*/,lookbehind:!0,alias:"comment"},expression:{pattern:/(^|[^^])\((?:[^()]|\((?:[^()]|\((?:[^()])*\))*\))*\)/,greedy:!0,lookbehind:!0,inside:{string:{pattern:/(^|[^^])(["'])(?:(?!\2)[^^]|\^[\s\S])*\2/,lookbehind:!0},keyword:n.keyword,variable:n.variable,function:n.function,boolean:/\b(?:false|true)\b/,number:/\b(?:0x[a-f\d]+|\d+(?:\.\d*)?(?:e[+-]?\d+)?)\b/i,escape:n.escape,operator:/[~+*\/\\%]|!(?:\|\|?|=)?|&&?|\|\|?|==|<[<=]?|>[>=]?|-[fd]?|\b(?:def|eq|ge|gt|in|is|le|lt|ne)\b/,punctuation:n.punctuation}}}),t.languages.insertBefore("inside","punctuation",{expression:n.expression,keyword:n.keyword,variable:n.variable,function:n.function,escape:n.escape,"parser-punctuation":{pattern:n.punctuation,alias:"punctuation"}},n.tag.inside["attr-value"])}(e)}hw.displayName="pascal";hw.aliases=["objectpascal"];function hw(e){e.languages.pascal={directive:{pattern:/\{\$[\s\S]*?\}/,greedy:!0,alias:["marco","property"]},comment:{pattern:/\(\*[\s\S]*?\*\)|\{[\s\S]*?\}|\/\/.*/,greedy:!0},string:{pattern:/(?:'(?:''|[^'\r\n])*'(?!')|#[&$%]?[a-f\d]+)+|\^[a-z]/i,greedy:!0},asm:{pattern:/(\basm\b)[\s\S]+?(?=\bend\s*[;[])/i,lookbehind:!0,greedy:!0,inside:null},keyword:[{pattern:/(^|[^&])\b(?:absolute|array|asm|begin|case|const|constructor|destructor|do|downto|else|end|file|for|function|goto|if|implementation|inherited|inline|interface|label|nil|object|of|operator|packed|procedure|program|record|reintroduce|repeat|self|set|string|then|to|type|unit|until|uses|var|while|with)\b/i,lookbehind:!0},{pattern:/(^|[^&])\b(?:dispose|exit|false|new|true)\b/i,lookbehind:!0},{pattern:/(^|[^&])\b(?:class|dispinterface|except|exports|finalization|finally|initialization|inline|library|on|out|packed|property|raise|resourcestring|threadvar|try)\b/i,lookbehind:!0},{pattern:/(^|[^&])\b(?:absolute|abstract|alias|assembler|bitpacked|break|cdecl|continue|cppdecl|cvar|default|deprecated|dynamic|enumerator|experimental|export|external|far|far16|forward|generic|helper|implements|index|interrupt|iochecks|local|message|name|near|nodefault|noreturn|nostackframe|oldfpccall|otherwise|overload|override|pascal|platform|private|protected|public|published|read|register|reintroduce|result|safecall|saveregisters|softfloat|specialize|static|stdcall|stored|strict|unaligned|unimplemented|varargs|virtual|write)\b/i,lookbehind:!0}],number:[/(?:[&%]\d+|\$[a-f\d]+)/i,/\b\d+(?:\.\d+)?(?:e[+-]?\d+)?/i],operator:[/\.\.|\*\*|:=|<[<=>]?|>[>=]?|[+\-*\/]=?|[@^=]/,{pattern:/(^|[^&])\b(?:and|as|div|exclude|in|include|is|mod|not|or|shl|shr|xor)\b/,lookbehind:!0}],punctuation:/\(\.|\.\)|[()\[\]:;,.]/},e.languages.pascal.asm.inside=e.languages.extend("pascal",{asm:void 0,keyword:void 0,operator:void 0}),e.languages.objectpascal=e.languages.pascal}fw.displayName="pascaligo";fw.aliases=[];function fw(e){(function(t){var n=/\((?:[^()]|\((?:[^()]|\([^()]*\))*\))*\)/.source,r=/(?:\b\w+(?:<braces>)?|<braces>)/.source.replace(/<braces>/g,function(){return n}),a=t.languages.pascaligo={comment:/\(\*[\s\S]+?\*\)|\/\/.*/,string:{pattern:/(["'`])(?:\\[\s\S]|(?!\1)[^\\])*\1|\^[a-z]/i,greedy:!0},"class-name":[{pattern:RegExp(/(\btype\s+\w+\s+is\s+)<type>/.source.replace(/<type>/g,function(){return r}),"i"),lookbehind:!0,inside:null},{pattern:RegExp(/<type>(?=\s+is\b)/.source.replace(/<type>/g,function(){return r}),"i"),inside:null},{pattern:RegExp(/(:\s*)<type>/.source.replace(/<type>/g,function(){return r})),lookbehind:!0,inside:null}],keyword:{pattern:/(^|[^&])\b(?:begin|block|case|const|else|end|fail|for|from|function|if|is|nil|of|remove|return|skip|then|type|var|while|with)\b/i,lookbehind:!0},boolean:{pattern:/(^|[^&])\b(?:False|True)\b/i,lookbehind:!0},builtin:{pattern:/(^|[^&])\b(?:bool|int|list|map|nat|record|string|unit)\b/i,lookbehind:!0},function:/\b\w+(?=\s*\()/,number:[/%[01]+|&[0-7]+|\$[a-f\d]+/i,/\b\d+(?:\.\d+)?(?:e[+-]?\d+)?(?:mtz|n)?/i],operator:/->|=\/=|\.\.|\*\*|:=|<[<=>]?|>[>=]?|[+\-*\/]=?|[@^=|]|\b(?:and|mod|or)\b/,punctuation:/\(\.|\.\)|[()\[\]:;,.{}]/},i=["comment","keyword","builtin","operator","punctuation"].reduce(function(o,l){return o[l]=a[l],o},{});a["class-name"].forEach(function(o){o.inside=i})})(e)}mw.displayName="psl";mw.aliases=[];function mw(e){e.languages.psl={comment:{pattern:/#.*/,greedy:!0},string:{pattern:/"(?:\\.|[^\\"])*"/,greedy:!0,inside:{symbol:/\\[ntrbA-Z"\\]/}},"heredoc-string":{pattern:/<<<([a-zA-Z_]\w*)[\r\n](?:.*[\r\n])*?\1\b/,alias:"string",greedy:!0},keyword:/\b(?:__multi|__single|case|default|do|else|elsif|exit|export|for|foreach|function|if|last|line|local|next|requires|return|switch|until|while|word)\b/,constant:/\b(?:ALARM|CHART_ADD_GRAPH|CHART_DELETE_GRAPH|CHART_DESTROY|CHART_LOAD|CHART_PRINT|EOF|OFFLINE|OK|PSL_PROF_LOG|R_CHECK_HORIZ|R_CHECK_VERT|R_CLICKER|R_COLUMN|R_FRAME|R_ICON|R_LABEL|R_LABEL_CENTER|R_LIST_MULTIPLE|R_LIST_MULTIPLE_ND|R_LIST_SINGLE|R_LIST_SINGLE_ND|R_MENU|R_POPUP|R_POPUP_SCROLLED|R_RADIO_HORIZ|R_RADIO_VERT|R_ROW|R_SCALE_HORIZ|R_SCALE_VERT|R_SEP_HORIZ|R_SEP_VERT|R_SPINNER|R_TEXT_FIELD|R_TEXT_FIELD_LABEL|R_TOGGLE|TRIM_LEADING|TRIM_LEADING_AND_TRAILING|TRIM_REDUNDANT|TRIM_TRAILING|VOID|WARN)\b/,boolean:/\b(?:FALSE|False|NO|No|TRUE|True|YES|Yes|false|no|true|yes)\b/,variable:/\b(?:PslDebug|errno|exit_status)\b/,builtin:{pattern:/\b(?:PslExecute|PslFunctionCall|PslFunctionExists|PslSetOptions|_snmp_debug|acos|add_diary|annotate|annotate_get|ascii_to_ebcdic|asctime|asin|atan|atexit|batch_set|blackout|cat|ceil|chan_exists|change_state|close|code_cvt|cond_signal|cond_wait|console_type|convert_base|convert_date|convert_locale_date|cos|cosh|create|date|dcget_text|destroy|destroy_lock|dget_text|difference|dump_hist|ebcdic_to_ascii|encrypt|event_archive|event_catalog_get|event_check|event_query|event_range_manage|event_range_query|event_report|event_schedule|event_trigger|event_trigger2|execute|exists|exp|fabs|file|floor|fmod|fopen|fseek|ftell|full_discovery|get|get_chan_info|get_ranges|get_text|get_vars|getenv|gethostinfo|getpid|getpname|grep|history|history_get_retention|in_transition|index|int|internal|intersection|is_var|isnumber|join|kill|length|lines|lock|lock_info|log|log10|loge|matchline|msg_check|msg_get_format|msg_get_severity|msg_printf|msg_sprintf|ntharg|nthargf|nthline|nthlinef|num_bytes|num_consoles|pconfig|popen|poplines|pow|print|printf|proc_exists|process|random|read|readln|refresh_parameters|remote_check|remote_close|remote_event_query|remote_event_trigger|remote_file_send|remote_open|remove|replace|rindex|sec_check_priv|sec_store_get|sec_store_set|set|set_alarm_ranges|set_locale|share|sin|sinh|sleep|snmp_agent_config|snmp_agent_start|snmp_agent_stop|snmp_close|snmp_config|snmp_get|snmp_get_next|snmp_h_get|snmp_h_get_next|snmp_h_set|snmp_open|snmp_set|snmp_trap_ignore|snmp_trap_listen|snmp_trap_raise_std_trap|snmp_trap_receive|snmp_trap_register_im|snmp_trap_send|snmp_walk|sopen|sort|splitline|sprintf|sqrt|srandom|str_repeat|strcasecmp|subset|substr|system|tail|tan|tanh|text_domain|time|tmpnam|tolower|toupper|trace_psl_process|trim|union|unique|unlock|unset|va_arg|va_start|write)\b/,alias:"builtin-function"},"foreach-variable":{pattern:/(\bforeach\s+(?:(?:\w+\b|"(?:\\.|[^\\"])*")\s+){0,2})[_a-zA-Z]\w*(?=\s*\()/,lookbehind:!0,greedy:!0},function:/\b[_a-z]\w*\b(?=\s*\()/i,number:/\b(?:0x[0-9a-f]+|\d+(?:\.\d+)?)\b/i,operator:/--|\+\+|&&=?|\|\|=?|<<=?|>>=?|[=!]~|[-+*/%&|^!=<>]=?|\.|[:?]/,punctuation:/[(){}\[\];,]/}}gw.displayName="pcaxis";gw.aliases=["px"];function gw(e){e.languages.pcaxis={string:/"[^"]*"/,keyword:{pattern:/((?:^|;)\s*)[-A-Z\d]+(?:\s*\[[-\w]+\])?(?:\s*\("[^"]*"(?:,\s*"[^"]*")*\))?(?=\s*=)/,lookbehind:!0,greedy:!0,inside:{keyword:/^[-A-Z\d]+/,language:{pattern:/^(\s*)\[[-\w]+\]/,lookbehind:!0,inside:{punctuation:/^\[|\]$/,property:/[-\w]+/}},"sub-key":{pattern:/^(\s*)\S[\s\S]*/,lookbehind:!0,inside:{parameter:{pattern:/"[^"]*"/,alias:"property"},punctuation:/^\(|\)$|,/}}}},operator:/=/,tlist:{pattern:/TLIST\s*\(\s*\w+(?:(?:\s*,\s*"[^"]*")+|\s*,\s*"[^"]*"-"[^"]*")?\s*\)/,greedy:!0,inside:{function:/^TLIST/,property:{pattern:/^(\s*\(\s*)\w+/,lookbehind:!0},string:/"[^"]*"/,punctuation:/[(),]/,operator:/-/}},punctuation:/[;,]/,number:{pattern:/(^|\s)\d+(?:\.\d+)?(?!\S)/,lookbehind:!0},boolean:/NO|YES/},e.languages.px=e.languages.pcaxis}bw.displayName="peoplecode";bw.aliases=["pcode"];function bw(e){e.languages.peoplecode={comment:RegExp([/\/\*[\s\S]*?\*\//.source,/\bREM[^;]*;/.source,/<\*(?:[^<*]|\*(?!>)|<(?!\*)|<\*(?:(?!\*>)[\s\S])*\*>)*\*>/.source,/\/\+[\s\S]*?\+\//.source].join("|")),string:{pattern:/'(?:''|[^'\r\n])*'(?!')|"(?:""|[^"\r\n])*"(?!")/,greedy:!0},variable:/%\w+/,"function-definition":{pattern:/((?:^|[^\w-])(?:function|method)\s+)\w+/i,lookbehind:!0,alias:"function"},"class-name":{pattern:/((?:^|[^-\w])(?:as|catch|class|component|create|extends|global|implements|instance|local|of|property|returns)\s+)\w+(?::\w+)*/i,lookbehind:!0,inside:{punctuation:/:/}},keyword:/\b(?:abstract|alias|as|catch|class|component|constant|create|declare|else|end-(?:class|evaluate|for|function|get|if|method|set|try|while)|evaluate|extends|for|function|get|global|if|implements|import|instance|library|local|method|null|of|out|peopleCode|private|program|property|protected|readonly|ref|repeat|returns?|set|step|then|throw|to|try|until|value|when(?:-other)?|while)\b/i,"operator-keyword":{pattern:/\b(?:and|not|or)\b/i,alias:"operator"},function:/[_a-z]\w*(?=\s*\()/i,boolean:/\b(?:false|true)\b/i,number:/\b\d+(?:\.\d+)?\b/,operator:/<>|[<>]=?|!=|\*\*|[-+*/|=@]/,punctuation:/[:.;,()[\]]/},e.languages.pcode=e.languages.peoplecode}yw.displayName="phpdoc";yw.aliases=[];function yw(e){e.register(xu),e.register(So),function(t){var n=/(?:\b[a-zA-Z]\w*|[|\\[\]])+/.source;t.languages.phpdoc=t.languages.extend("javadoclike",{parameter:{pattern:RegExp("(@(?:global|param|property(?:-read|-write)?|var)\\s+(?:"+n+"\\s+)?)\\$\\w+"),lookbehind:!0}}),t.languages.insertBefore("phpdoc","keyword",{"class-name":[{pattern:RegExp("(@(?:global|package|param|property(?:-read|-write)?|return|subpackage|throws|var)\\s+)"+n),lookbehind:!0,inside:{keyword:/\b(?:array|bool|boolean|callback|double|false|float|int|integer|mixed|null|object|resource|self|string|true|void)\b/,punctuation:/[|\\[\]()]/}}]}),t.languages.javadoclike.addSupport("php",t.languages.phpdoc)}(e)}xw.displayName="php-extras";xw.aliases=[];function xw(e){e.register(So),e.languages.insertBefore("php","variable",{this:{pattern:/\$this\b/,alias:"keyword"},global:/\$(?:GLOBALS|HTTP_RAW_POST_DATA|_(?:COOKIE|ENV|FILES|GET|POST|REQUEST|SERVER|SESSION)|argc|argv|http_response_header|php_errormsg)\b/,scope:{pattern:/\b[\w\\]+::/,inside:{keyword:/\b(?:parent|self|static)\b/,punctuation:/::|\\/}}})}vw.displayName="plant-uml";vw.aliases=["plantuml"];function vw(e){(function(t){var n=/\$\w+|%[a-z]+%/,r=/\[[^[\]]*\]/.source,a=/(?:[drlu]|do|down|le|left|ri|right|up)/.source,i="(?:-+"+a+"-+|\\.+"+a+"\\.+|-+(?:"+r+"-*)?|"+r+"-+|\\.+(?:"+r+"\\.*)?|"+r+"\\.+)",o=/(?:<{1,2}|\/{1,2}|\\{1,2}|<\||[#*^+}xo])/.source,l=/(?:>{1,2}|\/{1,2}|\\{1,2}|\|>|[#*^+{xo])/.source,u=/[[?]?[ox]?/.source,c=/[ox]?[\]?]?/.source,d=u+"(?:"+i+l+"|"+o+i+"(?:"+l+")?)"+c;t.languages["plant-uml"]={comment:{pattern:/(^[ \t]*)(?:'.*|\/'[\s\S]*?'\/)/m,lookbehind:!0,greedy:!0},preprocessor:{pattern:/(^[ \t]*)!.*/m,lookbehind:!0,greedy:!0,alias:"property",inside:{variable:n}},delimiter:{pattern:/(^[ \t]*)@(?:end|start)uml\b/m,lookbehind:!0,greedy:!0,alias:"punctuation"},arrow:{pattern:RegExp(/(^|[^-.<>?|\\[\]ox])/.source+d+/(?![-.<>?|\\\]ox])/.source),lookbehind:!0,greedy:!0,alias:"operator",inside:{expression:{pattern:/(\[)[^[\]]+(?=\])/,lookbehind:!0,inside:null},punctuation:/\[(?=$|\])|^\]/}},string:{pattern:/"[^"]*"/,greedy:!0},text:{pattern:/(\[[ \t]*[\r\n]+(?![\r\n]))[^\]]*(?=\])/,lookbehind:!0,greedy:!0,alias:"string"},keyword:[{pattern:/^([ \t]*)(?:abstract\s+class|end\s+(?:box|fork|group|merge|note|ref|split|title)|(?:fork|split)(?:\s+again)?|activate|actor|agent|alt|annotation|artifact|autoactivate|autonumber|backward|binary|boundary|box|break|caption|card|case|circle|class|clock|cloud|collections|component|concise|control|create|critical|database|deactivate|destroy|detach|diamond|else|elseif|end|end[hr]note|endif|endswitch|endwhile|entity|enum|file|folder|footer|frame|group|[hr]?note|header|hexagon|hide|if|interface|label|legend|loop|map|namespace|network|newpage|node|nwdiag|object|opt|package|page|par|participant|person|queue|rectangle|ref|remove|repeat|restore|return|robust|scale|set|show|skinparam|stack|start|state|stop|storage|switch|title|together|usecase|usecase\/|while)(?=\s|$)/m,lookbehind:!0,greedy:!0},/\b(?:elseif|equals|not|while)(?=\s*\()/,/\b(?:as|is|then)\b/],divider:{pattern:/^==.+==$/m,greedy:!0,alias:"important"},time:{pattern:/@(?:\d+(?:[:/]\d+){2}|[+-]?\d+|:[a-z]\w*(?:[+-]\d+)?)\b/i,greedy:!0,alias:"number"},color:{pattern:/#(?:[a-z_]+|[a-fA-F0-9]+)\b/,alias:"symbol"},variable:n,punctuation:/[:,;()[\]{}]|\.{3}/},t.languages["plant-uml"].arrow.inside.expression.inside=t.languages["plant-uml"],t.languages.plantuml=t.languages["plant-uml"]})(e)}Ew.displayName="plsql";Ew.aliases=[];function Ew(e){e.register(gu),e.languages.plsql=e.languages.extend("sql",{comment:{pattern:/\/\*[\s\S]*?\*\/|--.*/,greedy:!0},keyword:/\b(?:A|ACCESSIBLE|ADD|AGENT|AGGREGATE|ALL|ALTER|AND|ANY|ARRAY|AS|ASC|AT|ATTRIBUTE|AUTHID|AVG|BEGIN|BETWEEN|BFILE_BASE|BINARY|BLOB_BASE|BLOCK|BODY|BOTH|BOUND|BULK|BY|BYTE|C|CALL|CALLING|CASCADE|CASE|CHAR|CHARACTER|CHARSET|CHARSETFORM|CHARSETID|CHAR_BASE|CHECK|CLOB_BASE|CLONE|CLOSE|CLUSTER|CLUSTERS|COLAUTH|COLLECT|COLUMNS|COMMENT|COMMIT|COMMITTED|COMPILED|COMPRESS|CONNECT|CONSTANT|CONSTRUCTOR|CONTEXT|CONTINUE|CONVERT|COUNT|CRASH|CREATE|CREDENTIAL|CURRENT|CURSOR|CUSTOMDATUM|DANGLING|DATA|DATE|DATE_BASE|DAY|DECLARE|DEFAULT|DEFINE|DELETE|DESC|DETERMINISTIC|DIRECTORY|DISTINCT|DOUBLE|DROP|DURATION|ELEMENT|ELSE|ELSIF|EMPTY|END|ESCAPE|EXCEPT|EXCEPTION|EXCEPTIONS|EXCLUSIVE|EXECUTE|EXISTS|EXIT|EXTERNAL|FETCH|FINAL|FIRST|FIXED|FLOAT|FOR|FORALL|FORCE|FROM|FUNCTION|GENERAL|GOTO|GRANT|GROUP|HASH|HAVING|HEAP|HIDDEN|HOUR|IDENTIFIED|IF|IMMEDIATE|IMMUTABLE|IN|INCLUDING|INDEX|INDEXES|INDICATOR|INDICES|INFINITE|INSERT|INSTANTIABLE|INT|INTERFACE|INTERSECT|INTERVAL|INTO|INVALIDATE|IS|ISOLATION|JAVA|LANGUAGE|LARGE|LEADING|LENGTH|LEVEL|LIBRARY|LIKE|LIKE2|LIKE4|LIKEC|LIMIT|LIMITED|LOCAL|LOCK|LONG|LOOP|MAP|MAX|MAXLEN|MEMBER|MERGE|MIN|MINUS|MINUTE|MOD|MODE|MODIFY|MONTH|MULTISET|MUTABLE|NAME|NAN|NATIONAL|NATIVE|NCHAR|NEW|NOCOMPRESS|NOCOPY|NOT|NOWAIT|NULL|NUMBER_BASE|OBJECT|OCICOLL|OCIDATE|OCIDATETIME|OCIDURATION|OCIINTERVAL|OCILOBLOCATOR|OCINUMBER|OCIRAW|OCIREF|OCIREFCURSOR|OCIROWID|OCISTRING|OCITYPE|OF|OLD|ON|ONLY|OPAQUE|OPEN|OPERATOR|OPTION|OR|ORACLE|ORADATA|ORDER|ORGANIZATION|ORLANY|ORLVARY|OTHERS|OUT|OVERLAPS|OVERRIDING|PACKAGE|PARALLEL_ENABLE|PARAMETER|PARAMETERS|PARENT|PARTITION|PASCAL|PERSISTABLE|PIPE|PIPELINED|PLUGGABLE|POLYMORPHIC|PRAGMA|PRECISION|PRIOR|PRIVATE|PROCEDURE|PUBLIC|RAISE|RANGE|RAW|READ|RECORD|REF|REFERENCE|RELIES_ON|REM|REMAINDER|RENAME|RESOURCE|RESULT|RESULT_CACHE|RETURN|RETURNING|REVERSE|REVOKE|ROLLBACK|ROW|SAMPLE|SAVE|SAVEPOINT|SB1|SB2|SB4|SECOND|SEGMENT|SELECT|SELF|SEPARATE|SEQUENCE|SERIALIZABLE|SET|SHARE|SHORT|SIZE|SIZE_T|SOME|SPARSE|SQL|SQLCODE|SQLDATA|SQLNAME|SQLSTATE|STANDARD|START|STATIC|STDDEV|STORED|STRING|STRUCT|STYLE|SUBMULTISET|SUBPARTITION|SUBSTITUTABLE|SUBTYPE|SUM|SYNONYM|TABAUTH|TABLE|TDO|THE|THEN|TIME|TIMESTAMP|TIMEZONE_ABBR|TIMEZONE_HOUR|TIMEZONE_MINUTE|TIMEZONE_REGION|TO|TRAILING|TRANSACTION|TRANSACTIONAL|TRUSTED|TYPE|UB1|UB2|UB4|UNDER|UNION|UNIQUE|UNPLUG|UNSIGNED|UNTRUSTED|UPDATE|USE|USING|VALIST|VALUE|VALUES|VARIABLE|VARIANCE|VARRAY|VARYING|VIEW|VIEWS|VOID|WHEN|WHERE|WHILE|WITH|WORK|WRAPPED|WRITE|YEAR|ZONE)\b/i,operator:/:=?|=>|[<>^~!]=|\.\.|\|\||\*\*|[-+*/%<>=@]/}),e.languages.insertBefore("plsql","operator",{label:{pattern:/<<\s*\w+\s*>>/,alias:"symbol"}})}ww.displayName="powerquery";ww.aliases=["mscript","pq"];function ww(e){e.languages.powerquery={comment:{pattern:/(^|[^\\])(?:\/\*[\s\S]*?\*\/|\/\/.*)/,lookbehind:!0,greedy:!0},"quoted-identifier":{pattern:/#"(?:[^"\r\n]|"")*"(?!")/,greedy:!0},string:{pattern:/(?:#!)?"(?:[^"\r\n]|"")*"(?!")/,greedy:!0},constant:[/\bDay\.(?:Friday|Monday|Saturday|Sunday|Thursday|Tuesday|Wednesday)\b/,/\bTraceLevel\.(?:Critical|Error|Information|Verbose|Warning)\b/,/\bOccurrence\.(?:All|First|Last)\b/,/\bOrder\.(?:Ascending|Descending)\b/,/\bRoundingMode\.(?:AwayFromZero|Down|ToEven|TowardZero|Up)\b/,/\bMissingField\.(?:Error|Ignore|UseNull)\b/,/\bQuoteStyle\.(?:Csv|None)\b/,/\bJoinKind\.(?:FullOuter|Inner|LeftAnti|LeftOuter|RightAnti|RightOuter)\b/,/\bGroupKind\.(?:Global|Local)\b/,/\bExtraValues\.(?:Error|Ignore|List)\b/,/\bJoinAlgorithm\.(?:Dynamic|LeftHash|LeftIndex|PairwiseHash|RightHash|RightIndex|SortMerge)\b/,/\bJoinSide\.(?:Left|Right)\b/,/\bPrecision\.(?:Decimal|Double)\b/,/\bRelativePosition\.From(?:End|Start)\b/,/\bTextEncoding\.(?:Ascii|BigEndianUnicode|Unicode|Utf16|Utf8|Windows)\b/,/\b(?:Any|Binary|Date|DateTime|DateTimeZone|Duration|Function|Int16|Int32|Int64|Int8|List|Logical|None|Number|Record|Table|Text|Time)\.Type\b/,/\bnull\b/],boolean:/\b(?:false|true)\b/,keyword:/\b(?:and|as|each|else|error|if|in|is|let|meta|not|nullable|optional|or|otherwise|section|shared|then|try|type)\b|#(?:binary|date|datetime|datetimezone|duration|infinity|nan|sections|shared|table|time)\b/,function:{pattern:/(^|[^#\w.])[a-z_][\w.]*(?=\s*\()/i,lookbehind:!0},"data-type":{pattern:/\b(?:any|anynonnull|binary|date|datetime|datetimezone|duration|function|list|logical|none|number|record|table|text|time)\b/,alias:"class-name"},number:{pattern:/\b0x[\da-f]+\b|(?:[+-]?(?:\b\d+\.)?\b\d+|[+-]\.\d+|(^|[^.])\B\.\d+)(?:e[+-]?\d+)?\b/i,lookbehind:!0},operator:/[-+*\/&?@^]|<(?:=>?|>)?|>=?|=>?|\.\.\.?/,punctuation:/[,;\[\](){}]/},e.languages.pq=e.languages.powerquery,e.languages.mscript=e.languages.powerquery}Sw.displayName="powershell";Sw.aliases=[];function Sw(e){(function(t){var n=t.languages.powershell={comment:[{pattern:/(^|[^`])<#[\s\S]*?#>/,lookbehind:!0},{pattern:/(^|[^`])#.*/,lookbehind:!0}],string:[{pattern:/"(?:`[\s\S]|[^`"])*"/,greedy:!0,inside:null},{pattern:/'(?:[^']|'')*'/,greedy:!0}],namespace:/\[[a-z](?:\[(?:\[[^\]]*\]|[^\[\]])*\]|[^\[\]])*\]/i,boolean:/\$(?:false|true)\b/i,variable:/\$\w+\b/,function:[/\b(?:Add|Approve|Assert|Backup|Block|Checkpoint|Clear|Close|Compare|Complete|Compress|Confirm|Connect|Convert|ConvertFrom|ConvertTo|Copy|Debug|Deny|Disable|Disconnect|Dismount|Edit|Enable|Enter|Exit|Expand|Export|Find|ForEach|Format|Get|Grant|Group|Hide|Import|Initialize|Install|Invoke|Join|Limit|Lock|Measure|Merge|Move|New|Open|Optimize|Out|Ping|Pop|Protect|Publish|Push|Read|Receive|Redo|Register|Remove|Rename|Repair|Request|Reset|Resize|Resolve|Restart|Restore|Resume|Revoke|Save|Search|Select|Send|Set|Show|Skip|Sort|Split|Start|Step|Stop|Submit|Suspend|Switch|Sync|Tee|Test|Trace|Unblock|Undo|Uninstall|Unlock|Unprotect|Unpublish|Unregister|Update|Use|Wait|Watch|Where|Write)-[a-z]+\b/i,/\b(?:ac|cat|chdir|clc|cli|clp|clv|compare|copy|cp|cpi|cpp|cvpa|dbp|del|diff|dir|ebp|echo|epal|epcsv|epsn|erase|fc|fl|ft|fw|gal|gbp|gc|gci|gcs|gdr|gi|gl|gm|gp|gps|group|gsv|gu|gv|gwmi|iex|ii|ipal|ipcsv|ipsn|irm|iwmi|iwr|kill|lp|ls|measure|mi|mount|move|mp|mv|nal|ndr|ni|nv|ogv|popd|ps|pushd|pwd|rbp|rd|rdr|ren|ri|rm|rmdir|rni|rnp|rp|rv|rvpa|rwmi|sal|saps|sasv|sbp|sc|select|set|shcm|si|sl|sleep|sls|sort|sp|spps|spsv|start|sv|swmi|tee|trcm|type|write)\b/i],keyword:/\b(?:Begin|Break|Catch|Class|Continue|Data|Define|Do|DynamicParam|Else|ElseIf|End|Exit|Filter|Finally|For|ForEach|From|Function|If|InlineScript|Parallel|Param|Process|Return|Sequence|Switch|Throw|Trap|Try|Until|Using|Var|While|Workflow)\b/i,operator:{pattern:/(^|\W)(?:!|-(?:b?(?:and|x?or)|as|(?:Not)?(?:Contains|In|Like|Match)|eq|ge|gt|is(?:Not)?|Join|le|lt|ne|not|Replace|sh[lr])\b|-[-=]?|\+[+=]?|[*\/%]=?)/i,lookbehind:!0},punctuation:/[|{}[\];(),.]/};n.string[0].inside={function:{pattern:/(^|[^`])\$\((?:\$\([^\r\n()]*\)|(?!\$\()[^\r\n)])*\)/,lookbehind:!0,inside:n},boolean:n.boolean,variable:n.variable}})(e)}Nw.displayName="processing";Nw.aliases=[];function Nw(e){e.register(at),e.languages.processing=e.languages.extend("clike",{keyword:/\b(?:break|case|catch|class|continue|default|else|extends|final|for|if|implements|import|new|null|private|public|return|static|super|switch|this|try|void|while)\b/,function:/\b\w+(?=\s*\()/,operator:/<[<=]?|>[>=]?|&&?|\|\|?|[%?]|[!=+\-*\/]=?/}),e.languages.insertBefore("processing","number",{constant:/\b(?!XML\b)[A-Z][A-Z\d_]+\b/,type:{pattern:/\b(?:boolean|byte|char|color|double|float|int|[A-Z]\w*)\b/,alias:"class-name"}})}kw.displayName="prolog";kw.aliases=[];function kw(e){e.languages.prolog={comment:{pattern:/\/\*[\s\S]*?\*\/|%.*/,greedy:!0},string:{pattern:/(["'])(?:\1\1|\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1(?!\1)/,greedy:!0},builtin:/\b(?:fx|fy|xf[xy]?|yfx?)\b/,function:/\b[a-z]\w*(?:(?=\()|\/\d+)/,number:/\b\d+(?:\.\d*)?/,operator:/[:\\=><\-?*@\/;+^|!$.]+|\b(?:is|mod|not|xor)\b/,punctuation:/[(){}\[\],]/}}_w.displayName="promql";_w.aliases=[];function _w(e){(function(t){var n=["sum","min","max","avg","group","stddev","stdvar","count","count_values","bottomk","topk","quantile"],r=["on","ignoring","group_right","group_left","by","without"],a=["offset"],i=n.concat(r,a);t.languages.promql={comment:{pattern:/(^[ \t]*)#.*/m,lookbehind:!0},"vector-match":{pattern:new RegExp("((?:"+r.join("|")+")\\s*)\\([^)]*\\)"),lookbehind:!0,inside:{"label-key":{pattern:/\b[^,]+\b/,alias:"attr-name"},punctuation:/[(),]/}},"context-labels":{pattern:/\{[^{}]*\}/,inside:{"label-key":{pattern:/\b[a-z_]\w*(?=\s*(?:=|![=~]))/,alias:"attr-name"},"label-value":{pattern:/(["'`])(?:\\[\s\S]|(?!\1)[^\\])*\1/,greedy:!0,alias:"attr-value"},punctuation:/\{|\}|=~?|![=~]|,/}},"context-range":[{pattern:/\[[\w\s:]+\]/,inside:{punctuation:/\[|\]|:/,"range-duration":{pattern:/\b(?:\d+(?:[smhdwy]|ms))+\b/i,alias:"number"}}},{pattern:/(\boffset\s+)\w+/,lookbehind:!0,inside:{"range-duration":{pattern:/\b(?:\d+(?:[smhdwy]|ms))+\b/i,alias:"number"}}}],keyword:new RegExp("\\b(?:"+i.join("|")+")\\b","i"),function:/\b[a-z_]\w*(?=\s*\()/i,number:/[-+]?(?:(?:\b\d+(?:\.\d+)?|\B\.\d+)(?:e[-+]?\d+)?\b|\b(?:0x[0-9a-f]+|nan|inf)\b)/i,operator:/[\^*/%+-]|==|!=|<=|<|>=|>|\b(?:and|or|unless)\b/i,punctuation:/[{};()`,.[\]]/}})(e)}Tw.displayName="properties";Tw.aliases=[];function Tw(e){e.languages.properties={comment:/^[ \t]*[#!].*$/m,value:{pattern:/(^[ \t]*(?:\\(?:\r\n|[\s\S])|[^\\\s:=])+(?: *[=:] *(?! )| ))(?:\\(?:\r\n|[\s\S])|[^\\\r\n])+/m,lookbehind:!0,alias:"attr-value"},key:{pattern:/^[ \t]*(?:\\(?:\r\n|[\s\S])|[^\\\s:=])+(?= *[=:]| )/m,alias:"attr-name"},punctuation:/[=:]/}}Cw.displayName="protobuf";Cw.aliases=[];function Cw(e){e.register(at),function(t){var n=/\b(?:bool|bytes|double|s?fixed(?:32|64)|float|[su]?int(?:32|64)|string)\b/;t.languages.protobuf=t.languages.extend("clike",{"class-name":[{pattern:/(\b(?:enum|extend|message|service)\s+)[A-Za-z_]\w*(?=\s*\{)/,lookbehind:!0},{pattern:/(\b(?:rpc\s+\w+|returns)\s*\(\s*(?:stream\s+)?)\.?[A-Za-z_]\w*(?:\.[A-Za-z_]\w*)*(?=\s*\))/,lookbehind:!0}],keyword:/\b(?:enum|extend|extensions|import|message|oneof|option|optional|package|public|repeated|required|reserved|returns|rpc(?=\s+\w)|service|stream|syntax|to)\b(?!\s*=\s*\d)/,function:/\b[a-z_]\w*(?=\s*\()/i}),t.languages.insertBefore("protobuf","operator",{map:{pattern:/\bmap<\s*[\w.]+\s*,\s*[\w.]+\s*>(?=\s+[a-z_]\w*\s*[=;])/i,alias:"class-name",inside:{punctuation:/[<>.,]/,builtin:n}},builtin:n,"positional-class-name":{pattern:/(?:\b|\B\.)[a-z_]\w*(?:\.[a-z_]\w*)*(?=\s+[a-z_]\w*\s*[=;])/i,alias:"class-name",inside:{punctuation:/\./}},annotation:{pattern:/(\[\s*)[a-z_]\w*(?=\s*=)/i,lookbehind:!0}})}(e)}Aw.displayName="stylus";Aw.aliases=[];function Aw(e){(function(t){var n={pattern:/(\b\d+)(?:%|[a-z]+)/,lookbehind:!0},r={pattern:/(^|[^\w.-])-?(?:\d+(?:\.\d+)?|\.\d+)/,lookbehind:!0},a={comment:{pattern:/(^|[^\\])(?:\/\*[\s\S]*?\*\/|\/\/.*)/,lookbehind:!0},url:{pattern:/\burl\((["']?).*?\1\)/i,greedy:!0},string:{pattern:/("|')(?:(?!\1)[^\\\r\n]|\\(?:\r\n|[\s\S]))*\1/,greedy:!0},interpolation:null,func:null,important:/\B!(?:important|optional)\b/i,keyword:{pattern:/(^|\s+)(?:(?:else|for|if|return|unless)(?=\s|$)|@[\w-]+)/,lookbehind:!0},hexcode:/#[\da-f]{3,6}/i,color:[/\b(?:AliceBlue|AntiqueWhite|Aqua|Aquamarine|Azure|Beige|Bisque|Black|BlanchedAlmond|Blue|BlueViolet|Brown|BurlyWood|CadetBlue|Chartreuse|Chocolate|Coral|CornflowerBlue|Cornsilk|Crimson|Cyan|DarkBlue|DarkCyan|DarkGoldenRod|DarkGr[ae]y|DarkGreen|DarkKhaki|DarkMagenta|DarkOliveGreen|DarkOrange|DarkOrchid|DarkRed|DarkSalmon|DarkSeaGreen|DarkSlateBlue|DarkSlateGr[ae]y|DarkTurquoise|DarkViolet|DeepPink|DeepSkyBlue|DimGr[ae]y|DodgerBlue|FireBrick|FloralWhite|ForestGreen|Fuchsia|Gainsboro|GhostWhite|Gold|GoldenRod|Gr[ae]y|Green|GreenYellow|HoneyDew|HotPink|IndianRed|Indigo|Ivory|Khaki|Lavender|LavenderBlush|LawnGreen|LemonChiffon|LightBlue|LightCoral|LightCyan|LightGoldenRodYellow|LightGr[ae]y|LightGreen|LightPink|LightSalmon|LightSeaGreen|LightSkyBlue|LightSlateGr[ae]y|LightSteelBlue|LightYellow|Lime|LimeGreen|Linen|Magenta|Maroon|MediumAquaMarine|MediumBlue|MediumOrchid|MediumPurple|MediumSeaGreen|MediumSlateBlue|MediumSpringGreen|MediumTurquoise|MediumVioletRed|MidnightBlue|MintCream|MistyRose|Moccasin|NavajoWhite|Navy|OldLace|Olive|OliveDrab|Orange|OrangeRed|Orchid|PaleGoldenRod|PaleGreen|PaleTurquoise|PaleVioletRed|PapayaWhip|PeachPuff|Peru|Pink|Plum|PowderBlue|Purple|Red|RosyBrown|RoyalBlue|SaddleBrown|Salmon|SandyBrown|SeaGreen|SeaShell|Sienna|Silver|SkyBlue|SlateBlue|SlateGr[ae]y|Snow|SpringGreen|SteelBlue|Tan|Teal|Thistle|Tomato|Transparent|Turquoise|Violet|Wheat|White|WhiteSmoke|Yellow|YellowGreen)\b/i,{pattern:/\b(?:hsl|rgb)\(\s*\d{1,3}\s*,\s*\d{1,3}%?\s*,\s*\d{1,3}%?\s*\)\B|\b(?:hsl|rgb)a\(\s*\d{1,3}\s*,\s*\d{1,3}%?\s*,\s*\d{1,3}%?\s*,\s*(?:0|0?\.\d+|1)\s*\)\B/i,inside:{unit:n,number:r,function:/[\w-]+(?=\()/,punctuation:/[(),]/}}],entity:/\\[\da-f]{1,8}/i,unit:n,boolean:/\b(?:false|true)\b/,operator:[/~|[+!\/%<>?=]=?|[-:]=|\*[*=]?|\.{2,3}|&&|\|\||\B-\B|\b(?:and|in|is(?: a| defined| not|nt)?|not|or)\b/],number:r,punctuation:/[{}()\[\];:,]/};a.interpolation={pattern:/\{[^\r\n}:]+\}/,alias:"variable",inside:{delimiter:{pattern:/^\{|\}$/,alias:"punctuation"},rest:a}},a.func={pattern:/[\w-]+\([^)]*\).*/,inside:{function:/^[^(]+/,rest:a}},t.languages.stylus={"atrule-declaration":{pattern:/(^[ \t]*)@.+/m,lookbehind:!0,inside:{atrule:/^@[\w-]+/,rest:a}},"variable-declaration":{pattern:/(^[ \t]*)[\w$-]+\s*.?=[ \t]*(?:\{[^{}]*\}|\S.*|$)/m,lookbehind:!0,inside:{variable:/^\S+/,rest:a}},statement:{pattern:/(^[ \t]*)(?:else|for|if|return|unless)[ \t].+/m,lookbehind:!0,inside:{keyword:/^\S+/,rest:a}},"property-declaration":{pattern:/((?:^|\{)([ \t]*))(?:[\w-]|\{[^}\r\n]+\})+(?:\s*:\s*|[ \t]+)(?!\s)[^{\r\n]*(?:;|[^{\r\n,]$(?!(?:\r?\n|\r)(?:\{|\2[ \t])))/m,lookbehind:!0,inside:{property:{pattern:/^[^\s:]+/,inside:{interpolation:a.interpolation}},rest:a}},selector:{pattern:/(^[ \t]*)(?:(?=\S)(?:[^{}\r\n:()]|::?[\w-]+(?:\([^)\r\n]*\)|(?![\w-]))|\{[^}\r\n]+\})+)(?:(?:\r?\n|\r)(?:\1(?:(?=\S)(?:[^{}\r\n:()]|::?[\w-]+(?:\([^)\r\n]*\)|(?![\w-]))|\{[^}\r\n]+\})+)))*(?:,$|\{|(?=(?:\r?\n|\r)(?:\{|\1[ \t])))/m,lookbehind:!0,inside:{interpolation:a.interpolation,comment:a.comment,punctuation:/[{},]/}},func:a.func,string:a.string,comment:{pattern:/(^|[^\\])(?:\/\*[\s\S]*?\*\/|\/\/.*)/,lookbehind:!0,greedy:!0},interpolation:a.interpolation,punctuation:/[{}()\[\];:.]/}})(e)}Iw.displayName="twig";Iw.aliases=[];function Iw(e){e.register(Rn),e.languages.twig={comment:/^\{#[\s\S]*?#\}$/,"tag-name":{pattern:/(^\{%-?\s*)\w+/,lookbehind:!0,alias:"keyword"},delimiter:{pattern:/^\{[{%]-?|-?[%}]\}$/,alias:"punctuation"},string:{pattern:/("|')(?:\\.|(?!\1)[^\\\r\n])*\1/,inside:{punctuation:/^['"]|['"]$/}},keyword:/\b(?:even|if|odd)\b/,boolean:/\b(?:false|null|true)\b/,number:/\b0x[\dA-Fa-f]+|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:[Ee][-+]?\d+)?/,operator:[{pattern:/(\s)(?:and|b-and|b-or|b-xor|ends with|in|is|matches|not|or|same as|starts with)(?=\s)/,lookbehind:!0},/[=<>]=?|!=|\*\*?|\/\/?|\?:?|[-+~%|]/],punctuation:/[()\[\]{}:.,]/},e.hooks.add("before-tokenize",function(t){if(t.language==="twig"){var n=/\{(?:#[\s\S]*?#|%[\s\S]*?%|\{[\s\S]*?\})\}/g;e.languages["markup-templating"].buildPlaceholders(t,"twig",n)}}),e.hooks.add("after-tokenize",function(t){e.languages["markup-templating"].tokenizePlaceholders(t,"twig")})}Rw.displayName="pug";Rw.aliases=[];function Rw(e){e.register(In),e.register(wn),function(t){t.languages.pug={comment:{pattern:/(^([\t ]*))\/\/.*(?:(?:\r?\n|\r)\2[\t ].+)*/m,lookbehind:!0},"multiline-script":{pattern:/(^([\t ]*)script\b.*\.[\t ]*)(?:(?:\r?\n|\r(?!\n))(?:\2[\t ].+|\s*?(?=\r?\n|\r)))+/m,lookbehind:!0,inside:t.languages.javascript},filter:{pattern:/(^([\t ]*)):.+(?:(?:\r?\n|\r(?!\n))(?:\2[\t ].+|\s*?(?=\r?\n|\r)))+/m,lookbehind:!0,inside:{"filter-name":{pattern:/^:[\w-]+/,alias:"variable"},text:/\S[\s\S]*/}},"multiline-plain-text":{pattern:/(^([\t ]*)[\w\-#.]+\.[\t ]*)(?:(?:\r?\n|\r(?!\n))(?:\2[\t ].+|\s*?(?=\r?\n|\r)))+/m,lookbehind:!0},markup:{pattern:/(^[\t ]*)<.+/m,lookbehind:!0,inside:t.languages.markup},doctype:{pattern:/((?:^|\n)[\t ]*)doctype(?: .+)?/,lookbehind:!0},"flow-control":{pattern:/(^[\t ]*)(?:case|default|each|else|if|unless|when|while)\b(?: .+)?/m,lookbehind:!0,inside:{each:{pattern:/^each .+? in\b/,inside:{keyword:/\b(?:each|in)\b/,punctuation:/,/}},branch:{pattern:/^(?:case|default|else|if|unless|when|while)\b/,alias:"keyword"},rest:t.languages.javascript}},keyword:{pattern:/(^[\t ]*)(?:append|block|extends|include|prepend)\b.+/m,lookbehind:!0},mixin:[{pattern:/(^[\t ]*)mixin .+/m,lookbehind:!0,inside:{keyword:/^mixin/,function:/\w+(?=\s*\(|\s*$)/,punctuation:/[(),.]/}},{pattern:/(^[\t ]*)\+.+/m,lookbehind:!0,inside:{name:{pattern:/^\+\w+/,alias:"function"},rest:t.languages.javascript}}],script:{pattern:/(^[\t ]*script(?:(?:&[^(]+)?\([^)]+\))*[\t ]).+/m,lookbehind:!0,inside:t.languages.javascript},"plain-text":{pattern:/(^[\t ]*(?!-)[\w\-#.]*[\w\-](?:(?:&[^(]+)?\([^)]+\))*\/?[\t ]).+/m,lookbehind:!0},tag:{pattern:/(^[\t ]*)(?!-)[\w\-#.]*[\w\-](?:(?:&[^(]+)?\([^)]+\))*\/?:?/m,lookbehind:!0,inside:{attributes:[{pattern:/&[^(]+\([^)]+\)/,inside:t.languages.javascript},{pattern:/\([^)]+\)/,inside:{"attr-value":{pattern:/(=\s*(?!\s))(?:\{[^}]*\}|[^,)\r\n]+)/,lookbehind:!0,inside:t.languages.javascript},"attr-name":/[\w-]+(?=\s*!?=|\s*[,)])/,punctuation:/[!=(),]+/}}],punctuation:/:/,"attr-id":/#[\w\-]+/,"attr-class":/\.[\w\-]+/}},code:[{pattern:/(^[\t ]*(?:-|!?=)).+/m,lookbehind:!0,inside:t.languages.javascript}],punctuation:/[.\-!=|]+/};for(var n=/(^([\t ]*)):<filter_name>(?:(?:\r?\n|\r(?!\n))(?:\2[\t ].+|\s*?(?=\r?\n|\r)))+/.source,r=[{filter:"atpl",language:"twig"},{filter:"coffee",language:"coffeescript"},"ejs","handlebars","less","livescript","markdown",{filter:"sass",language:"scss"},"stylus"],a={},i=0,o=r.length;i<o;i++){var l=r[i];l=typeof l=="string"?{filter:l,language:l}:l,t.languages[l.language]&&(a["filter-"+l.filter]={pattern:RegExp(n.replace("<filter_name>",function(){return l.filter}),"m"),lookbehind:!0,inside:{"filter-name":{pattern:/^:[\w-]+/,alias:"variable"},text:{pattern:/\S[\s\S]*/,alias:[l.language,"language-"+l.language],inside:t.languages[l.language]}}})}t.languages.insertBefore("pug","filter",a)}(e)}Dw.displayName="puppet";Dw.aliases=[];function Dw(e){(function(t){t.languages.puppet={heredoc:[{pattern:/(@\("([^"\r\n\/):]+)"(?:\/[nrts$uL]*)?\).*(?:\r?\n|\r))(?:.*(?:\r?\n|\r(?!\n)))*?[ \t]*(?:\|[ \t]*)?(?:-[ \t]*)?\2/,lookbehind:!0,alias:"string",inside:{punctuation:/(?=\S).*\S(?= *$)/}},{pattern:/(@\(([^"\r\n\/):]+)(?:\/[nrts$uL]*)?\).*(?:\r?\n|\r))(?:.*(?:\r?\n|\r(?!\n)))*?[ \t]*(?:\|[ \t]*)?(?:-[ \t]*)?\2/,lookbehind:!0,greedy:!0,alias:"string",inside:{punctuation:/(?=\S).*\S(?= *$)/}},{pattern:/@\("?(?:[^"\r\n\/):]+)"?(?:\/[nrts$uL]*)?\)/,alias:"string",inside:{punctuation:{pattern:/(\().+?(?=\))/,lookbehind:!0}}}],"multiline-comment":{pattern:/(^|[^\\])\/\*[\s\S]*?\*\//,lookbehind:!0,greedy:!0,alias:"comment"},regex:{pattern:/((?:\bnode\s+|[~=\(\[\{,]\s*|[=+]>\s*|^\s*))\/(?:[^\/\\]|\\[\s\S])+\/(?:[imx]+\b|\B)/,lookbehind:!0,greedy:!0,inside:{"extended-regex":{pattern:/^\/(?:[^\/\\]|\\[\s\S])+\/[im]*x[im]*$/,inside:{comment:/#.*/}}}},comment:{pattern:/(^|[^\\])#.*/,lookbehind:!0,greedy:!0},string:{pattern:/(["'])(?:\$\{(?:[^'"}]|(["'])(?:(?!\2)[^\\]|\\[\s\S])*\2)+\}|\$(?!\{)|(?!\1)[^\\$]|\\[\s\S])*\1/,greedy:!0,inside:{"double-quoted":{pattern:/^"[\s\S]*"$/,inside:{}}}},variable:{pattern:/\$(?:::)?\w+(?:::\w+)*/,inside:{punctuation:/::/}},"attr-name":/(?:\b\w+|\*)(?=\s*=>)/,function:[{pattern:/(\.)(?!\d)\w+/,lookbehind:!0},/\b(?:contain|debug|err|fail|include|info|notice|realize|require|tag|warning)\b|\b(?!\d)\w+(?=\()/],number:/\b(?:0x[a-f\d]+|\d+(?:\.\d+)?(?:e-?\d+)?)\b/i,boolean:/\b(?:false|true)\b/,keyword:/\b(?:application|attr|case|class|consumes|default|define|else|elsif|function|if|import|inherits|node|private|produces|type|undef|unless)\b/,datatype:{pattern:/\b(?:Any|Array|Boolean|Callable|Catalogentry|Class|Collection|Data|Default|Enum|Float|Hash|Integer|NotUndef|Numeric|Optional|Pattern|Regexp|Resource|Runtime|Scalar|String|Struct|Tuple|Type|Undef|Variant)\b/,alias:"symbol"},operator:/=[=~>]?|![=~]?|<(?:<\|?|[=~|-])?|>[>=]?|->?|~>|\|>?>?|[*\/%+?]|\b(?:and|in|or)\b/,punctuation:/[\[\]{}().,;]|:+/};var n=[{pattern:/(^|[^\\])\$\{(?:[^'"{}]|\{[^}]*\}|(["'])(?:(?!\2)[^\\]|\\[\s\S])*\2)+\}/,lookbehind:!0,inside:{"short-variable":{pattern:/(^\$\{)(?!\w+\()(?:::)?\w+(?:::\w+)*/,lookbehind:!0,alias:"variable",inside:{punctuation:/::/}},delimiter:{pattern:/^\$/,alias:"variable"},rest:t.languages.puppet}},{pattern:/(^|[^\\])\$(?:::)?\w+(?:::\w+)*/,lookbehind:!0,alias:"variable",inside:{punctuation:/::/}}];t.languages.puppet.heredoc[0].inside.interpolation=n,t.languages.puppet.string.inside["double-quoted"].inside.interpolation=n})(e)}Ow.displayName="pure";Ow.aliases=[];function Ow(e){(function(t){t.languages.pure={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?\*\//,lookbehind:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0},/#!.+/],"inline-lang":{pattern:/%<[\s\S]+?%>/,greedy:!0,inside:{lang:{pattern:/(^%< *)-\*-.+?-\*-/,lookbehind:!0,alias:"comment"},delimiter:{pattern:/^%<.*|%>$/,alias:"punctuation"}}},string:{pattern:/"(?:\\.|[^"\\\r\n])*"/,greedy:!0},number:{pattern:/((?:\.\.)?)(?:\b(?:inf|nan)\b|\b0x[\da-f]+|(?:\b(?:0b)?\d+(?:\.\d+)?|\B\.\d+)(?:e[+-]?\d+)?L?)/i,lookbehind:!0},keyword:/\b(?:NULL|ans|break|bt|case|catch|cd|clear|const|def|del|dump|else|end|exit|extern|false|force|help|if|infix[lr]?|interface|let|ls|mem|namespace|nonfix|of|otherwise|outfix|override|postfix|prefix|private|public|pwd|quit|run|save|show|stats|then|throw|trace|true|type|underride|using|when|with)\b/,function:/\b(?:abs|add_(?:addr|constdef|(?:fundef|interface|macdef|typedef)(?:_at)?|vardef)|all|any|applp?|arity|bigintp?|blob(?:_crc|_size|p)?|boolp?|byte_c?string(?:_pointer)?|byte_(?:matrix|pointer)|calloc|cat|catmap|ceil|char[ps]?|check_ptrtag|chr|clear_sentry|clearsym|closurep?|cmatrixp?|cols?|colcat(?:map)?|colmap|colrev|colvector(?:p|seq)?|complex(?:_float_(?:matrix|pointer)|_matrix(?:_view)?|_pointer|p)?|conj|cookedp?|cst|cstring(?:_(?:dup|list|vector))?|curry3?|cyclen?|del_(?:constdef|fundef|interface|macdef|typedef|vardef)|delete|diag(?:mat)?|dim|dmatrixp?|do|double(?:_matrix(?:_view)?|_pointer|p)?|dowith3?|drop|dropwhile|eval(?:cmd)?|exactp|filter|fix|fixity|flip|float(?:_matrix|_pointer)|floor|fold[lr]1?|frac|free|funp?|functionp?|gcd|get(?:_(?:byte|constdef|double|float|fundef|int(?:64)?|interface(?:_typedef)?|long|macdef|pointer|ptrtag|sentry|short|string|typedef|vardef))?|globsym|hash|head|id|im|imatrixp?|index|inexactp|infp|init|insert|int(?:_matrix(?:_view)?|_pointer|p)?|int64_(?:matrix|pointer)|integerp?|iteraten?|iterwhile|join|keys?|lambdap?|last(?:err(?:pos)?)?|lcd|list[2p]?|listmap|make_ptrtag|malloc|map|matcat|matrixp?|max|member|min|nanp|nargs|nmatrixp?|null|numberp?|ord|pack(?:ed)?|pointer(?:_cast|_tag|_type|p)?|pow|pred|ptrtag|put(?:_(?:byte|double|float|int(?:64)?|long|pointer|short|string))?|rationalp?|re|realp?|realloc|recordp?|redim|reduce(?:_with)?|refp?|repeatn?|reverse|rlistp?|round|rows?|rowcat(?:map)?|rowmap|rowrev|rowvector(?:p|seq)?|same|scan[lr]1?|sentry|sgn|short_(?:matrix|pointer)|slice|smatrixp?|sort|split|str|strcat|stream|stride|string(?:_(?:dup|list|vector)|p)?|subdiag(?:mat)?|submat|subseq2?|substr|succ|supdiag(?:mat)?|symbolp?|tail|take|takewhile|thunkp?|transpose|trunc|tuplep?|typep|ubyte|uint(?:64)?|ulong|uncurry3?|unref|unzip3?|update|ushort|vals?|varp?|vector(?:p|seq)?|void|zip3?|zipwith3?)\b/,special:{pattern:/\b__[a-z]+__\b/i,alias:"builtin"},operator:/(?:[!"#$%&'*+,\-.\/:<=>?@\\^`|~\u00a1-\u00bf\u00d7-\u00f7\u20d0-\u2bff]|\b_+\b)+|\b(?:and|div|mod|not|or)\b/,punctuation:/[(){}\[\];,|]/};var n=["c",{lang:"c++",alias:"cpp"},"fortran"],r=/%< *-\*- *<lang>\d* *-\*-[\s\S]+?%>/.source;n.forEach(function(a){var i=a;if(typeof a!="string"&&(i=a.alias,a=a.lang),t.languages[i]){var o={};o["inline-lang-"+i]={pattern:RegExp(r.replace("<lang>",a.replace(/([.+*?\/\\(){}\[\]])/g,"\\$1")),"i"),inside:t.util.clone(t.languages.pure["inline-lang"].inside)},o["inline-lang-"+i].inside.rest=t.util.clone(t.languages[i]),t.languages.insertBefore("pure","inline-lang",o)}}),t.languages.c&&(t.languages.pure["inline-lang"].inside.rest=t.util.clone(t.languages.c))})(e)}Lw.displayName="purebasic";Lw.aliases=["pbfasm"];function Lw(e){e.register(at),e.languages.purebasic=e.languages.extend("clike",{comment:/;.*/,keyword:/\b(?:align|and|as|break|calldebugger|case|compilercase|compilerdefault|compilerelse|compilerelseif|compilerendif|compilerendselect|compilererror|compilerif|compilerselect|continue|data|datasection|debug|debuglevel|declare|declarec|declarecdll|declaredll|declaremodule|default|define|dim|disableasm|disabledebugger|disableexplicit|else|elseif|enableasm|enabledebugger|enableexplicit|end|enddatasection|enddeclaremodule|endenumeration|endif|endimport|endinterface|endmacro|endmodule|endprocedure|endselect|endstructure|endstructureunion|endwith|enumeration|extends|fakereturn|for|foreach|forever|global|gosub|goto|if|import|importc|includebinary|includefile|includepath|interface|macro|module|newlist|newmap|next|not|or|procedure|procedurec|procedurecdll|proceduredll|procedurereturn|protected|prototype|prototypec|read|redim|repeat|restore|return|runtime|select|shared|static|step|structure|structureunion|swap|threaded|to|until|wend|while|with|xincludefile|xor)\b/i,function:/\b\w+(?:\.\w+)?\s*(?=\()/,number:/(?:\$[\da-f]+|\b-?(?:\d+(?:\.\d+)?|\.\d+)(?:e[+-]?\d+)?)\b/i,operator:/(?:@\*?|\?|\*)\w+\$?|-[>-]?|\+\+?|!=?|<<?=?|>>?=?|==?|&&?|\|?\||[~^%?*/@]/}),e.languages.insertBefore("purebasic","keyword",{tag:/#\w+\$?/,asm:{pattern:/(^[\t ]*)!.*/m,lookbehind:!0,alias:"tag",inside:{comment:/;.*/,string:{pattern:/(["'`])(?:\\.|(?!\1)[^\\\r\n])*\1/,greedy:!0},"label-reference-anonymous":{pattern:/(!\s*j[a-z]+\s+)@[fb]/i,lookbehind:!0,alias:"fasm-label"},"label-reference-addressed":{pattern:/(!\s*j[a-z]+\s+)[A-Z._?$@][\w.?$@~#]*/i,lookbehind:!0,alias:"fasm-label"},keyword:[/\b(?:extern|global)\b[^;\r\n]*/i,/\b(?:CPU|DEFAULT|FLOAT)\b.*/],function:{pattern:/^([\t ]*!\s*)[\da-z]+(?=\s|$)/im,lookbehind:!0},"function-inline":{pattern:/(:\s*)[\da-z]+(?=\s)/i,lookbehind:!0,alias:"function"},label:{pattern:/^([\t ]*!\s*)[A-Za-z._?$@][\w.?$@~#]*(?=:)/m,lookbehind:!0,alias:"fasm-label"},register:/\b(?:st\d|[xyz]mm\d\d?|[cdt]r\d|r\d\d?[bwd]?|[er]?[abcd]x|[abcd][hl]|[er]?(?:bp|di|si|sp)|[cdefgs]s|mm\d+)\b/i,number:/(?:\b|-|(?=\$))(?:0[hx](?:[\da-f]*\.)?[\da-f]+(?:p[+-]?\d+)?|\d[\da-f]+[hx]|\$\d[\da-f]*|0[oq][0-7]+|[0-7]+[oq]|0[by][01]+|[01]+[by]|0[dt]\d+|(?:\d+(?:\.\d+)?|\.\d+)(?:\.?e[+-]?\d+)?[dt]?)\b/i,operator:/[\[\]*+\-/%<>=&|$!,.:]/}}}),delete e.languages.purebasic["class-name"],delete e.languages.purebasic.boolean,e.languages.pbfasm=e.languages.purebasic}jw.displayName="purescript";jw.aliases=["purs"];function jw(e){e.register(Vd),e.languages.purescript=e.languages.extend("haskell",{keyword:/\b(?:ado|case|class|data|derive|do|else|forall|if|in|infixl|infixr|instance|let|module|newtype|of|primitive|then|type|where)\b|/,"import-statement":{pattern:/(^[\t ]*)import\s+[A-Z][\w']*(?:\.[A-Z][\w']*)*(?:\s+as\s+[A-Z][\w']*(?:\.[A-Z][\w']*)*)?(?:\s+hiding\b)?/m,lookbehind:!0,inside:{keyword:/\b(?:as|hiding|import)\b/,punctuation:/\./}},builtin:/\b(?:absurd|add|ap|append|apply|between|bind|bottom|clamp|compare|comparing|compose|conj|const|degree|discard|disj|div|eq|flap|flip|gcd|identity|ifM|join|lcm|liftA1|liftM1|map|max|mempty|min|mod|mul|negate|not|notEq|one|otherwise|recip|show|sub|top|unit|unless|unlessM|void|when|whenM|zero)\b/,operator:[e.languages.haskell.operator[0],e.languages.haskell.operator[2],/[\xa2-\xa6\xa8\xa9\xac\xae-\xb1\xb4\xb8\xd7\xf7\u02c2-\u02c5\u02d2-\u02df\u02e5-\u02eb\u02ed\u02ef-\u02ff\u0375\u0384\u0385\u03f6\u0482\u058d-\u058f\u0606-\u0608\u060b\u060e\u060f\u06de\u06e9\u06fd\u06fe\u07f6\u07fe\u07ff\u09f2\u09f3\u09fa\u09fb\u0af1\u0b70\u0bf3-\u0bfa\u0c7f\u0d4f\u0d79\u0e3f\u0f01-\u0f03\u0f13\u0f15-\u0f17\u0f1a-\u0f1f\u0f34\u0f36\u0f38\u0fbe-\u0fc5\u0fc7-\u0fcc\u0fce\u0fcf\u0fd5-\u0fd8\u109e\u109f\u1390-\u1399\u166d\u17db\u1940\u19de-\u19ff\u1b61-\u1b6a\u1b74-\u1b7c\u1fbd\u1fbf-\u1fc1\u1fcd-\u1fcf\u1fdd-\u1fdf\u1fed-\u1fef\u1ffd\u1ffe\u2044\u2052\u207a-\u207c\u208a-\u208c\u20a0-\u20bf\u2100\u2101\u2103-\u2106\u2108\u2109\u2114\u2116-\u2118\u211e-\u2123\u2125\u2127\u2129\u212e\u213a\u213b\u2140-\u2144\u214a-\u214d\u214f\u218a\u218b\u2190-\u2307\u230c-\u2328\u232b-\u2426\u2440-\u244a\u249c-\u24e9\u2500-\u2767\u2794-\u27c4\u27c7-\u27e5\u27f0-\u2982\u2999-\u29d7\u29dc-\u29fb\u29fe-\u2b73\u2b76-\u2b95\u2b97-\u2bff\u2ce5-\u2cea\u2e50\u2e51\u2e80-\u2e99\u2e9b-\u2ef3\u2f00-\u2fd5\u2ff0-\u2ffb\u3004\u3012\u3013\u3020\u3036\u3037\u303e\u303f\u309b\u309c\u3190\u3191\u3196-\u319f\u31c0-\u31e3\u3200-\u321e\u322a-\u3247\u3250\u3260-\u327f\u328a-\u32b0\u32c0-\u33ff\u4dc0-\u4dff\ua490-\ua4c6\ua700-\ua716\ua720\ua721\ua789\ua78a\ua828-\ua82b\ua836-\ua839\uaa77-\uaa79\uab5b\uab6a\uab6b\ufb29\ufbb2-\ufbc1\ufdfc\ufdfd\ufe62\ufe64-\ufe66\ufe69\uff04\uff0b\uff1c-\uff1e\uff3e\uff40\uff5c\uff5e\uffe0-\uffe6\uffe8-\uffee\ufffc\ufffd]/]}),e.languages.purs=e.languages.purescript}Mw.displayName="qsharp";Mw.aliases=["qs"];function Mw(e){e.register(at),function(t){function n(f,m){return f.replace(/<<(\d+)>>/g,function(v,y){return"(?:"+m[+y]+")"})}function r(f,m,v){return RegExp(n(f,m),"")}function a(f,m){for(var v=0;v<m;v++)f=f.replace(/<<self>>/g,function(){return"(?:"+f+")"});return f.replace(/<<self>>/g,"[^\\s\\S]")}var i={type:"Adj BigInt Bool Ctl Double false Int One Pauli PauliI PauliX PauliY PauliZ Qubit Range Result String true Unit Zero",other:"Adjoint adjoint apply as auto body borrow borrowing Controlled controlled distribute elif else fail fixup for function if in internal intrinsic invert is let mutable namespace new newtype open operation repeat return self set until use using while within"};function o(f){return"\\b(?:"+f.trim().replace(/ /g,"|")+")\\b"}var l=RegExp(o(i.type+" "+i.other)),u=/\b[A-Za-z_]\w*\b/.source,c=n(/<<0>>(?:\s*\.\s*<<0>>)*/.source,[u]),d={keyword:l,punctuation:/[<>()?,.:[\]]/},p=/"(?:\\.|[^\\"])*"/.source;t.languages.qsharp=t.languages.extend("clike",{comment:/\/\/.*/,string:[{pattern:r(/(^|[^$\\])<<0>>/.source,[p]),lookbehind:!0,greedy:!0}],"class-name":[{pattern:r(/(\b(?:as|open)\s+)<<0>>(?=\s*(?:;|as\b))/.source,[c]),lookbehind:!0,inside:d},{pattern:r(/(\bnamespace\s+)<<0>>(?=\s*\{)/.source,[c]),lookbehind:!0,inside:d}],keyword:l,number:/(?:\b0(?:x[\da-f]+|b[01]+|o[0-7]+)|(?:\B\.\d+|\b\d+(?:\.\d*)?)(?:e[-+]?\d+)?)l?\b/i,operator:/\band=|\bor=|\band\b|\bnot\b|\bor\b|<[-=]|[-=]>|>>>=?|<<<=?|\^\^\^=?|\|\|\|=?|&&&=?|w\/=?|~~~|[*\/+\-^=!%]=?/,punctuation:/::|[{}[\];(),.:]/}),t.languages.insertBefore("qsharp","number",{range:{pattern:/\.\./,alias:"operator"}});var h=a(n(/\{(?:[^"{}]|<<0>>|<<self>>)*\}/.source,[p]),2);t.languages.insertBefore("qsharp","string",{"interpolation-string":{pattern:r(/\$"(?:\\.|<<0>>|[^\\"{])*"/.source,[h]),greedy:!0,inside:{interpolation:{pattern:r(/((?:^|[^\\])(?:\\\\)*)<<0>>/.source,[h]),lookbehind:!0,inside:{punctuation:/^\{|\}$/,expression:{pattern:/[\s\S]+/,alias:"language-qsharp",inside:t.languages.qsharp}}},string:/[\s\S]+/}}})}(e),e.languages.qs=e.languages.qsharp}Fw.displayName="q";Fw.aliases=[];function Fw(e){e.languages.q={string:/"(?:\\.|[^"\\\r\n])*"/,comment:[{pattern:/([\t )\]}])\/.*/,lookbehind:!0,greedy:!0},{pattern:/(^|\r?\n|\r)\/[\t ]*(?:(?:\r?\n|\r)(?:.*(?:\r?\n|\r(?!\n)))*?(?:\\(?=[\t ]*(?:\r?\n|\r))|$)|\S.*)/,lookbehind:!0,greedy:!0},{pattern:/^\\[\t ]*(?:\r?\n|\r)[\s\S]+/m,greedy:!0},{pattern:/^#!.+/m,greedy:!0}],symbol:/`(?::\S+|[\w.]*)/,datetime:{pattern:/0N[mdzuvt]|0W[dtz]|\d{4}\.\d\d(?:m|\.\d\d(?:T(?:\d\d(?::\d\d(?::\d\d(?:[.:]\d\d\d)?)?)?)?)?[dz]?)|\d\d:\d\d(?::\d\d(?:[.:]\d\d\d)?)?[uvt]?/,alias:"number"},number:/\b(?![01]:)(?:0N[hje]?|0W[hj]?|0[wn]|0x[\da-fA-F]+|\d+(?:\.\d*)?(?:e[+-]?\d+)?[hjfeb]?)/,keyword:/\\\w+\b|\b(?:abs|acos|aj0?|all|and|any|asc|asin|asof|atan|attr|avgs?|binr?|by|ceiling|cols|cor|cos|count|cov|cross|csv|cut|delete|deltas|desc|dev|differ|distinct|div|do|dsave|ej|enlist|eval|except|exec|exit|exp|fby|fills|first|fkeys|flip|floor|from|get|getenv|group|gtime|hclose|hcount|hdel|hopen|hsym|iasc|identity|idesc|if|ij|in|insert|inter|inv|keys?|last|like|list|ljf?|load|log|lower|lsq|ltime|ltrim|mavg|maxs?|mcount|md5|mdev|med|meta|mins?|mmax|mmin|mmu|mod|msum|neg|next|not|null|or|over|parse|peach|pj|plist|prds?|prev|prior|rand|rank|ratios|raze|read0|read1|reciprocal|reval|reverse|rload|rotate|rsave|rtrim|save|scan|scov|sdev|select|set|setenv|show|signum|sin|sqrt|ssr?|string|sublist|sums?|sv|svar|system|tables|tan|til|trim|txf|type|uj|ungroup|union|update|upper|upsert|value|var|views?|vs|wavg|where|while|within|wj1?|wsum|ww|xasc|xbar|xcols?|xdesc|xexp|xgroup|xkey|xlog|xprev|xrank)\b/,adverb:{pattern:/['\/\\]:?|\beach\b/,alias:"function"},verb:{pattern:/(?:\B\.\B|\b[01]:|<[=>]?|>=?|[:+\-*%,!?~=|$&#@^]):?|\b_\b:?/,alias:"operator"},punctuation:/[(){}\[\];.]/}}Pw.displayName="qml";Pw.aliases=[];function Pw(e){e.register(In),function(t){for(var n=/"(?:\\.|[^\\"\r\n])*"|'(?:\\.|[^\\'\r\n])*'/.source,r=/\/\/.*(?!.)|\/\*(?:[^*]|\*(?!\/))*\*\//.source,a=/(?:[^\\()[\]{}"'/]|<string>|\/(?![*/])|<comment>|\(<expr>*\)|\[<expr>*\]|\{<expr>*\}|\\[\s\S])/.source.replace(/<string>/g,function(){return n}).replace(/<comment>/g,function(){return r}),i=0;i<2;i++)a=a.replace(/<expr>/g,function(){return a});a=a.replace(/<expr>/g,"[^\\s\\S]"),t.languages.qml={comment:{pattern:/\/\/.*|\/\*[\s\S]*?\*\//,greedy:!0},"javascript-function":{pattern:RegExp(/((?:^|;)[ \t]*)function\s+(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*\(<js>*\)\s*\{<js>*\}/.source.replace(/<js>/g,function(){return a}),"m"),lookbehind:!0,greedy:!0,alias:"language-javascript",inside:t.languages.javascript},"class-name":{pattern:/((?:^|[:;])[ \t]*)(?!\d)\w+(?=[ \t]*\{|[ \t]+on\b)/m,lookbehind:!0},property:[{pattern:/((?:^|[;{])[ \t]*)(?!\d)\w+(?:\.\w+)*(?=[ \t]*:)/m,lookbehind:!0},{pattern:/((?:^|[;{])[ \t]*)property[ \t]+(?!\d)\w+(?:\.\w+)*[ \t]+(?!\d)\w+(?:\.\w+)*(?=[ \t]*:)/m,lookbehind:!0,inside:{keyword:/^property/,property:/\w+(?:\.\w+)*/}}],"javascript-expression":{pattern:RegExp(/(:[ \t]*)(?![\s;}[])(?:(?!$|[;}])<js>)+/.source.replace(/<js>/g,function(){return a}),"m"),lookbehind:!0,greedy:!0,alias:"language-javascript",inside:t.languages.javascript},string:{pattern:/"(?:\\.|[^\\"\r\n])*"/,greedy:!0},keyword:/\b(?:as|import|on)\b/,punctuation:/[{}[\]:;,]/}}(e)}Bw.displayName="qore";Bw.aliases=[];function Bw(e){e.register(at),e.languages.qore=e.languages.extend("clike",{comment:{pattern:/(^|[^\\])(?:\/\*[\s\S]*?\*\/|(?:\/\/|#).*)/,lookbehind:!0},string:{pattern:/("|')(?:\\[\s\S]|(?!\1)[^\\])*\1/,greedy:!0},keyword:/\b(?:abstract|any|assert|binary|bool|boolean|break|byte|case|catch|char|class|code|const|continue|data|default|do|double|else|enum|extends|final|finally|float|for|goto|hash|if|implements|import|inherits|instanceof|int|interface|long|my|native|new|nothing|null|object|our|own|private|reference|rethrow|return|short|soft(?:bool|date|float|int|list|number|string)|static|strictfp|string|sub|super|switch|synchronized|this|throw|throws|transient|try|void|volatile|while)\b/,boolean:/\b(?:false|true)\b/i,function:/\$?\b(?!\d)\w+(?=\()/,number:/\b(?:0b[01]+|0x(?:[\da-f]*\.)?[\da-fp\-]+|(?:\d+(?:\.\d+)?|\.\d+)(?:e\d+)?[df]|(?:\d+(?:\.\d+)?|\.\d+))\b/i,operator:{pattern:/(^|[^.])(?:\+[+=]?|-[-=]?|[!=](?:==?|~)?|>>?=?|<(?:=>?|<=?)?|&[&=]?|\|[|=]?|[*\/%^]=?|[~?])/,lookbehind:!0},variable:/\$(?!\d)\w+\b/})}Uw.displayName="racket";Uw.aliases=["rkt"];function Uw(e){e.register(Wd),e.languages.racket=e.languages.extend("scheme",{"lambda-parameter":{pattern:/([(\[]lambda\s+[(\[])[^()\[\]'\s]+/,lookbehind:!0}}),e.languages.insertBefore("racket","string",{lang:{pattern:/^#lang.+/m,greedy:!0,alias:"keyword"}}),e.languages.rkt=e.languages.racket}$w.displayName="cshtml";$w.aliases=["razor"];function $w(e){e.register(Eo),e.register(wn),function(t){var n=/\/(?![/*])|\/\/.*[\r\n]|\/\*[^*]*(?:\*(?!\/)[^*]*)*\*\//.source,r=/@(?!")|"(?:[^\r\n\\"]|\\.)*"|@"(?:[^\\"]|""|\\[\s\S])*"(?!")/.source+"|"+/'(?:(?:[^\r\n'\\]|\\.|\\[Uux][\da-fA-F]{1,8})'|(?=[^\\](?!')))/.source;function a(x,w){for(var k=0;k<w;k++)x=x.replace(/<self>/g,function(){return"(?:"+x+")"});return x.replace(/<self>/g,"[^\\s\\S]").replace(/<str>/g,"(?:"+r+")").replace(/<comment>/g,"(?:"+n+")")}var i=a(/\((?:[^()'"@/]|<str>|<comment>|<self>)*\)/.source,2),o=a(/\[(?:[^\[\]'"@/]|<str>|<comment>|<self>)*\]/.source,1),l=a(/\{(?:[^{}'"@/]|<str>|<comment>|<self>)*\}/.source,2),u=a(/<(?:[^<>'"@/]|<comment>|<self>)*>/.source,1),c=/@/.source+/(?:await\b\s*)?/.source+"(?:"+/(?!await\b)\w+\b/.source+"|"+i+")(?:"+/[?!]?\.\w+\b/.source+"|(?:"+u+")?"+i+"|"+o+")*"+/(?![?!\.(\[]|<(?!\/))/.source,d=/@(?![\w()])/.source+"|"+c,p="(?:"+/"[^"@]*"|'[^'@]*'|[^\s'"@>=]+(?=[\s>])/.source+`|["'][^"'@]*(?:(?:`+d+`)[^"'@]*)+["'])`,h=/(?:\s(?:\s*[^\s>\/=]+(?:\s*=\s*<tagAttrValue>|(?=[\s/>])))+)?/.source.replace(/<tagAttrValue>/,p),f=/(?!\d)[^\s>\/=$<%]+/.source+h+/\s*\/?>/.source,m=/\B@?/.source+"(?:"+/<([a-zA-Z][\w:]*)/.source+h+/\s*>/.source+"(?:"+(/[^<]/.source+"|"+/<\/?(?!\1\b)/.source+f+"|"+a(/<\1/.source+h+/\s*>/.source+"(?:"+(/[^<]/.source+"|"+/<\/?(?!\1\b)/.source+f+"|<self>")+")*"+/<\/\1\s*>/.source,2))+")*"+/<\/\1\s*>/.source+"|"+/</.source+f+")";t.languages.cshtml=t.languages.extend("markup",{});var v=t.languages.insertBefore("csharp","string",{html:{pattern:RegExp(m),greedy:!0,inside:t.languages.cshtml}},{csharp:t.languages.extend("csharp",{})}),y={pattern:/\S[\s\S]*/,alias:"language-csharp",inside:v},g={pattern:RegExp(/(^|[^@])/.source+c),lookbehind:!0,greedy:!0,alias:"variable",inside:{keyword:/^@/,csharp:y}};t.languages.cshtml.tag.pattern=RegExp(/<\/?/.source+f),t.languages.cshtml.tag.inside["attr-value"].pattern=RegExp(/=\s*/.source+p),t.languages.insertBefore("inside","punctuation",{value:g},t.languages.cshtml.tag.inside["attr-value"]),t.languages.insertBefore("cshtml","prolog",{"razor-comment":{pattern:/@\*[\s\S]*?\*@/,greedy:!0,alias:"comment"},block:{pattern:RegExp(/(^|[^@])@/.source+"(?:"+[l,/(?:code|functions)\s*/.source+l,/(?:for|foreach|lock|switch|using|while)\s*/.source+i+/\s*/.source+l,/do\s*/.source+l+/\s*while\s*/.source+i+/(?:\s*;)?/.source,/try\s*/.source+l+/\s*catch\s*/.source+i+/\s*/.source+l+/\s*finally\s*/.source+l,/if\s*/.source+i+/\s*/.source+l+"(?:"+/\s*else/.source+"(?:"+/\s+if\s*/.source+i+")?"+/\s*/.source+l+")*",/helper\s+\w+\s*/.source+i+/\s*/.source+l].join("|")+")"),lookbehind:!0,greedy:!0,inside:{keyword:/^@\w*/,csharp:y}},directive:{pattern:/^([ \t]*)@(?:addTagHelper|attribute|implements|inherits|inject|layout|model|namespace|page|preservewhitespace|removeTagHelper|section|tagHelperPrefix|using)(?=\s).*/m,lookbehind:!0,greedy:!0,inside:{keyword:/^@\w+/,csharp:y}},value:g,"delegate-operator":{pattern:/(^|[^@])@(?=<)/,lookbehind:!0,alias:"operator"}}),t.languages.razor=t.languages.cshtml}(e)}Em.displayName="jsx";Em.aliases=[];function Em(e){e.register(In),e.register(wn),function(t){var n=t.util.clone(t.languages.javascript),r=/(?:\s|\/\/.*(?!.)|\/\*(?:[^*]|\*(?!\/))\*\/)/.source,a=/(?:\{(?:\{(?:\{[^{}]*\}|[^{}])*\}|[^{}])*\})/.source,i=/(?:\{<S>*\.{3}(?:[^{}]|<BRACES>)*\})/.source;function o(c,d){return c=c.replace(/<S>/g,function(){return r}).replace(/<BRACES>/g,function(){return a}).replace(/<SPREAD>/g,function(){return i}),RegExp(c,d)}i=o(i).source,t.languages.jsx=t.languages.extend("markup",n),t.languages.jsx.tag.pattern=o(/<\/?(?:[\w.:-]+(?:<S>+(?:[\w.:$-]+(?:=(?:"(?:\\[\s\S]|[^\\"])*"|'(?:\\[\s\S]|[^\\'])*'|[^\s{'"/>=]+|<BRACES>))?|<SPREAD>))*<S>*\/?)?>/.source),t.languages.jsx.tag.inside.tag.pattern=/^<\/?[^\s>\/]*/,t.languages.jsx.tag.inside["attr-value"].pattern=/=(?!\{)(?:"(?:\\[\s\S]|[^\\"])*"|'(?:\\[\s\S]|[^\\'])*'|[^\s'">]+)/,t.languages.jsx.tag.inside.tag.inside["class-name"]=/^[A-Z]\w*(?:\.[A-Z]\w*)*$/,t.languages.jsx.tag.inside.comment=n.comment,t.languages.insertBefore("inside","attr-name",{spread:{pattern:o(/<SPREAD>/.source),inside:t.languages.jsx}},t.languages.jsx.tag),t.languages.insertBefore("inside","special-attr",{script:{pattern:o(/=<BRACES>/.source),alias:"language-javascript",inside:{"script-punctuation":{pattern:/^=(?=\{)/,alias:"punctuation"},rest:t.languages.jsx}}},t.languages.jsx.tag);var l=function(c){return c?typeof c=="string"?c:typeof c.content=="string"?c.content:c.content.map(l).join(""):""},u=function(c){for(var d=[],p=0;p<c.length;p++){var h=c[p],f=!1;if(typeof h!="string"&&(h.type==="tag"&&h.content[0]&&h.content[0].type==="tag"?h.content[0].content[0].content==="</"?d.length>0&&d[d.length-1].tagName===l(h.content[0].content[1])&&d.pop():h.content[h.content.length-1].content==="/>"||d.push({tagName:l(h.content[0].content[1]),openedBraces:0}):d.length>0&&h.type==="punctuation"&&h.content==="{"?d[d.length-1].openedBraces++:d.length>0&&d[d.length-1].openedBraces>0&&h.type==="punctuation"&&h.content==="}"?d[d.length-1].openedBraces--:f=!0),(f||typeof h=="string")&&d.length>0&&d[d.length-1].openedBraces===0){var m=l(h);p<c.length-1&&(typeof c[p+1]=="string"||c[p+1].type==="plain-text")&&(m+=l(c[p+1]),c.splice(p+1,1)),p>0&&(typeof c[p-1]=="string"||c[p-1].type==="plain-text")&&(m=l(c[p-1])+m,c.splice(p-1,1),p--),c[p]=new t.Token("plain-text",m,null,m)}h.content&&typeof h.content!="string"&&u(h.content)}};t.hooks.add("after-tokenize",function(c){c.language!=="jsx"&&c.language!=="tsx"||u(c.tokens)})}(e)}Hw.displayName="tsx";Hw.aliases=[];function Hw(e){e.register(Em),e.register(bu),function(t){var n=t.util.clone(t.languages.typescript);t.languages.tsx=t.languages.extend("jsx",n),delete t.languages.tsx.parameter,delete t.languages.tsx["literal-property"];var r=t.languages.tsx.tag;r.pattern=RegExp(/(^|[^\w$]|(?=<\/))/.source+"(?:"+r.pattern.source+")",r.pattern.flags),r.lookbehind=!0}(e)}zw.displayName="reason";zw.aliases=[];function zw(e){e.register(at),e.languages.reason=e.languages.extend("clike",{string:{pattern:/"(?:\\(?:\r\n|[\s\S])|[^\\\r\n"])*"/,greedy:!0},"class-name":/\b[A-Z]\w*/,keyword:/\b(?:and|as|assert|begin|class|constraint|do|done|downto|else|end|exception|external|for|fun|function|functor|if|in|include|inherit|initializer|lazy|let|method|module|mutable|new|nonrec|object|of|open|or|private|rec|sig|struct|switch|then|to|try|type|val|virtual|when|while|with)\b/,operator:/\.{3}|:[:=]|\|>|->|=(?:==?|>)?|<=?|>=?|[|^?'#!~`]|[+\-*\/]\.?|\b(?:asr|land|lor|lsl|lsr|lxor|mod)\b/}),e.languages.insertBefore("reason","class-name",{char:{pattern:/'(?:\\x[\da-f]{2}|\\o[0-3][0-7][0-7]|\\\d{3}|\\.|[^'\\\r\n])'/,greedy:!0},constructor:/\b[A-Z]\w*\b(?!\s*\.)/,label:{pattern:/\b[a-z]\w*(?=::)/,alias:"symbol"}}),delete e.languages.reason.function}Gw.displayName="rego";Gw.aliases=[];function Gw(e){e.languages.rego={comment:/#.*/,property:{pattern:/(^|[^\\.])(?:"(?:\\.|[^\\"\r\n])*"|`[^`]*`|\b[a-z_]\w*\b)(?=\s*:(?!=))/i,lookbehind:!0,greedy:!0},string:{pattern:/(^|[^\\])"(?:\\.|[^\\"\r\n])*"|`[^`]*`/,lookbehind:!0,greedy:!0},keyword:/\b(?:as|default|else|import|not|null|package|set(?=\s*\()|some|with)\b/,boolean:/\b(?:false|true)\b/,function:{pattern:/\b[a-z_]\w*\b(?:\s*\.\s*\b[a-z_]\w*\b)*(?=\s*\()/i,inside:{namespace:/\b\w+\b(?=\s*\.)/,punctuation:/\./}},number:/-?\b\d+(?:\.\d+)?(?:e[+-]?\d+)?\b/i,operator:/[-+*/%|&]|[<>:=]=?|!=|\b_\b/,punctuation:/[,;.\[\]{}()]/}}qw.displayName="renpy";qw.aliases=["rpy"];function qw(e){e.languages.renpy={comment:{pattern:/(^|[^\\])#.+/,lookbehind:!0},string:{pattern:/("""|''')[\s\S]+?\1|("|')(?:\\.|(?!\2)[^\\])*\2|(?:^#?(?:(?:[0-9a-fA-F]){3}|[0-9a-fA-F]{6})$)/m,greedy:!0},function:/\b[a-z_]\w*(?=\()/i,property:/\b(?:Update|UpdateVersion|action|activate_sound|adv_nvl_transition|after_load_transition|align|alpha|alt|anchor|antialias|area|auto|background|bar_invert|bar_resizing|bar_vertical|black_color|bold|bottom_bar|bottom_gutter|bottom_margin|bottom_padding|box_reverse|box_wrap|can_update|caret|child|color|crop|default_afm_enable|default_afm_time|default_fullscreen|default_text_cps|developer|directory_name|drag_handle|drag_joined|drag_name|drag_raise|draggable|dragged|drop_shadow|drop_shadow_color|droppable|dropped|easein|easeout|edgescroll|end_game_transition|end_splash_transition|enter_replay_transition|enter_sound|enter_transition|enter_yesno_transition|executable_name|exit_replay_transition|exit_sound|exit_transition|exit_yesno_transition|fadein|fadeout|first_indent|first_spacing|fit_first|focus|focus_mask|font|foreground|game_main_transition|get_installed_packages|google_play_key|google_play_salt|ground|has_music|has_sound|has_voice|height|help|hinting|hover|hover_background|hover_color|hover_sound|hovered|hyperlink_functions|idle|idle_color|image_style|include_update|insensitive|insensitive_background|insensitive_color|inside|intra_transition|italic|justify|kerning|keyboard_focus|language|layer_clipping|layers|layout|left_bar|left_gutter|left_margin|left_padding|length|line_leading|line_overlap_split|line_spacing|linear|main_game_transition|main_menu_music|maximum|min_width|minimum|minwidth|modal|mouse|mousewheel|name|narrator_menu|newline_indent|nvl_adv_transition|offset|order_reverse|outlines|overlay_functions|pos|position|prefix|radius|range|rest_indent|right_bar|right_gutter|right_margin|right_padding|rotate|rotate_pad|ruby_style|sample_sound|save_directory|say_attribute_transition|screen_height|screen_width|scrollbars|selected_hover|selected_hover_color|selected_idle|selected_idle_color|selected_insensitive|show_side_image|show_two_window|side_spacing|side_xpos|side_ypos|size|size_group|slow_cps|slow_cps_multiplier|spacing|strikethrough|subpixel|text_align|text_style|text_xpos|text_y_fudge|text_ypos|thumb|thumb_offset|thumb_shadow|thumbnail_height|thumbnail_width|time|top_bar|top_gutter|top_margin|top_padding|translations|underline|unscrollable|update|value|version|version_name|version_tuple|vertical|width|window_hide_transition|window_icon|window_left_padding|window_show_transition|window_title|windows_icon|xadjustment|xalign|xanchor|xanchoraround|xaround|xcenter|xfill|xinitial|xmargin|xmaximum|xminimum|xoffset|xofsset|xpadding|xpos|xsize|xzoom|yadjustment|yalign|yanchor|yanchoraround|yaround|ycenter|yfill|yinitial|ymargin|ymaximum|yminimum|yoffset|ypadding|ypos|ysize|ysizexysize|yzoom|zoom|zorder)\b/,tag:/\b(?:bar|block|button|buttoscreenn|drag|draggroup|fixed|frame|grid|[hv]box|hotbar|hotspot|image|imagebutton|imagemap|input|key|label|menu|mm_menu_frame|mousearea|nvl|parallel|screen|self|side|tag|text|textbutton|timer|vbar|viewport|window)\b|\$/,keyword:/\b(?:None|add|adjustment|alignaround|allow|angle|animation|around|as|assert|behind|box_layout|break|build|cache|call|center|changed|child_size|choice|circles|class|clear|clicked|clipping|clockwise|config|contains|continue|corner1|corner2|counterclockwise|def|default|define|del|delay|disabled|disabled_text|dissolve|elif|else|event|except|exclude|exec|expression|fade|finally|for|from|function|global|gm_root|has|hide|id|if|import|in|init|is|jump|knot|lambda|left|less_rounded|mm_root|movie|music|null|on|onlayer|pass|pause|persistent|play|print|python|queue|raise|random|renpy|repeat|return|right|rounded_window|scene|scope|set|show|slow|slow_abortable|slow_done|sound|stop|store|style|style_group|substitute|suffix|theme|transform|transform_anchor|transpose|try|ui|unhovered|updater|use|voice|while|widget|widget_hover|widget_selected|widget_text|yield)\b/,boolean:/\b(?:[Ff]alse|[Tt]rue)\b/,number:/(?:\b(?:0[bo])?(?:(?:\d|0x[\da-f])[\da-f]*(?:\.\d*)?)|\B\.\d+)(?:e[+-]?\d+)?j?/i,operator:/[-+%=]=?|!=|\*\*?=?|\/\/?=?|<[<=>]?|>[=>]?|[&|^~]|\b(?:and|at|not|or|with)\b/,punctuation:/[{}[\];(),.:]/},e.languages.rpy=e.languages.renpy}Vw.displayName="rescript";Vw.aliases=["res"];function Vw(e){e.languages.rescript={comment:{pattern:/\/\/.*|\/\*[\s\S]*?(?:\*\/|$)/,greedy:!0},char:{pattern:/'(?:[^\r\n\\]|\\(?:.|\w+))'/,greedy:!0},string:{pattern:/"(?:\\(?:\r\n|[\s\S])|[^\\\r\n"])*"/,greedy:!0},"class-name":/\b[A-Z]\w*|@[a-z.]*|#[A-Za-z]\w*|#\d/,function:{pattern:/[a-zA-Z]\w*(?=\()|(\.)[a-z]\w*/,lookbehind:!0},number:/(?:\b0x(?:[\da-f]+(?:\.[\da-f]*)?|\.[\da-f]+)(?:p[+-]?\d+)?|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?)[ful]{0,4}/i,boolean:/\b(?:false|true)\b/,"attr-value":/[A-Za-z]\w*(?==)/,constant:{pattern:/(\btype\s+)[a-z]\w*/,lookbehind:!0},tag:{pattern:/(<)[a-z]\w*|(?:<\/)[a-z]\w*/,lookbehind:!0,inside:{operator:/<|>|\//}},keyword:/\b(?:and|as|assert|begin|bool|class|constraint|do|done|downto|else|end|exception|external|float|for|fun|function|if|in|include|inherit|initializer|int|lazy|let|method|module|mutable|new|nonrec|object|of|open|or|private|rec|string|switch|then|to|try|type|when|while|with)\b/,operator:/\.{3}|:[:=]?|\|>|->|=(?:==?|>)?|<=?|>=?|[|^?'#!~`]|[+\-*\/]\.?|\b(?:asr|land|lor|lsl|lsr|lxor|mod)\b/,punctuation:/[(){}[\],;.]/},e.languages.insertBefore("rescript","string",{"template-string":{pattern:/`(?:\\[\s\S]|\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}|(?!\$\{)[^\\`])*`/,greedy:!0,inside:{"template-punctuation":{pattern:/^`|`$/,alias:"string"},interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}/,lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"tag"},rest:e.languages.rescript}},string:/[\s\S]+/}}}),e.languages.res=e.languages.rescript}Ww.displayName="rest";Ww.aliases=[];function Ww(e){e.languages.rest={table:[{pattern:/(^[\t ]*)(?:\+[=-]+)+\+(?:\r?\n|\r)(?:\1[+|].+[+|](?:\r?\n|\r))+\1(?:\+[=-]+)+\+/m,lookbehind:!0,inside:{punctuation:/\||(?:\+[=-]+)+\+/}},{pattern:/(^[\t ]*)=+ [ =]*=(?:(?:\r?\n|\r)\1.+)+(?:\r?\n|\r)\1=+ [ =]*=(?=(?:\r?\n|\r){2}|\s*$)/m,lookbehind:!0,inside:{punctuation:/[=-]+/}}],"substitution-def":{pattern:/(^[\t ]*\.\. )\|(?:[^|\s](?:[^|]*[^|\s])?)\| [^:]+::/m,lookbehind:!0,inside:{substitution:{pattern:/^\|(?:[^|\s]|[^|\s][^|]*[^|\s])\|/,alias:"attr-value",inside:{punctuation:/^\||\|$/}},directive:{pattern:/( )(?! )[^:]+::/,lookbehind:!0,alias:"function",inside:{punctuation:/::$/}}}},"link-target":[{pattern:/(^[\t ]*\.\. )\[[^\]]+\]/m,lookbehind:!0,alias:"string",inside:{punctuation:/^\[|\]$/}},{pattern:/(^[\t ]*\.\. )_(?:`[^`]+`|(?:[^:\\]|\\.)+):/m,lookbehind:!0,alias:"string",inside:{punctuation:/^_|:$/}}],directive:{pattern:/(^[\t ]*\.\. )[^:]+::/m,lookbehind:!0,alias:"function",inside:{punctuation:/::$/}},comment:{pattern:/(^[\t ]*\.\.)(?:(?: .+)?(?:(?:\r?\n|\r).+)+| .+)(?=(?:\r?\n|\r){2}|$)/m,lookbehind:!0},title:[{pattern:/^(([!"#$%&'()*+,\-.\/:;<=>?@\[\\\]^_`{|}~])\2+)(?:\r?\n|\r).+(?:\r?\n|\r)\1$/m,inside:{punctuation:/^[!"#$%&'()*+,\-.\/:;<=>?@\[\\\]^_`{|}~]+|[!"#$%&'()*+,\-.\/:;<=>?@\[\\\]^_`{|}~]+$/,important:/.+/}},{pattern:/(^|(?:\r?\n|\r){2}).+(?:\r?\n|\r)([!"#$%&'()*+,\-.\/:;<=>?@\[\\\]^_`{|}~])\2+(?=\r?\n|\r|$)/,lookbehind:!0,inside:{punctuation:/[!"#$%&'()*+,\-.\/:;<=>?@\[\\\]^_`{|}~]+$/,important:/.+/}}],hr:{pattern:/((?:\r?\n|\r){2})([!"#$%&'()*+,\-.\/:;<=>?@\[\\\]^_`{|}~])\2{3,}(?=(?:\r?\n|\r){2})/,lookbehind:!0,alias:"punctuation"},field:{pattern:/(^[\t ]*):[^:\r\n]+:(?= )/m,lookbehind:!0,alias:"attr-name"},"command-line-option":{pattern:/(^[\t ]*)(?:[+-][a-z\d]|(?:--|\/)[a-z\d-]+)(?:[ =](?:[a-z][\w-]*|<[^<>]+>))?(?:, (?:[+-][a-z\d]|(?:--|\/)[a-z\d-]+)(?:[ =](?:[a-z][\w-]*|<[^<>]+>))?)*(?=(?:\r?\n|\r)? {2,}\S)/im,lookbehind:!0,alias:"symbol"},"literal-block":{pattern:/::(?:\r?\n|\r){2}([ \t]+)(?![ \t]).+(?:(?:\r?\n|\r)\1.+)*/,inside:{"literal-block-punctuation":{pattern:/^::/,alias:"punctuation"}}},"quoted-literal-block":{pattern:/::(?:\r?\n|\r){2}([!"#$%&'()*+,\-.\/:;<=>?@\[\\\]^_`{|}~]).*(?:(?:\r?\n|\r)\1.*)*/,inside:{"literal-block-punctuation":{pattern:/^(?:::|([!"#$%&'()*+,\-.\/:;<=>?@\[\\\]^_`{|}~])\1*)/m,alias:"punctuation"}}},"list-bullet":{pattern:/(^[\t ]*)(?:[*+\-]|\(?(?:\d+|[a-z]|[ivxdclm]+)\)|(?:\d+|[a-z]|[ivxdclm]+)\.)(?= )/im,lookbehind:!0,alias:"punctuation"},"doctest-block":{pattern:/(^[\t ]*)>>> .+(?:(?:\r?\n|\r).+)*/m,lookbehind:!0,inside:{punctuation:/^>>>/}},inline:[{pattern:/(^|[\s\-:\/'"<(\[{])(?::[^:]+:`.*?`|`.*?`:[^:]+:|(\*\*?|``?|\|)(?!\s)(?:(?!\2).)*\S\2(?=[\s\-.,:;!?\\\/'")\]}]|$))/m,lookbehind:!0,inside:{bold:{pattern:/(^\*\*).+(?=\*\*$)/,lookbehind:!0},italic:{pattern:/(^\*).+(?=\*$)/,lookbehind:!0},"inline-literal":{pattern:/(^``).+(?=``$)/,lookbehind:!0,alias:"symbol"},role:{pattern:/^:[^:]+:|:[^:]+:$/,alias:"function",inside:{punctuation:/^:|:$/}},"interpreted-text":{pattern:/(^`).+(?=`$)/,lookbehind:!0,alias:"attr-value"},substitution:{pattern:/(^\|).+(?=\|$)/,lookbehind:!0,alias:"attr-value"},punctuation:/\*\*?|``?|\|/}}],link:[{pattern:/\[[^\[\]]+\]_(?=[\s\-.,:;!?\\\/'")\]}]|$)/,alias:"string",inside:{punctuation:/^\[|\]_$/}},{pattern:/(?:\b[a-z\d]+(?:[_.:+][a-z\d]+)*_?_|`[^`]+`_?_|_`[^`]+`)(?=[\s\-.,:;!?\\\/'")\]}]|$)/i,alias:"string",inside:{punctuation:/^_?`|`$|`?_?_$/}}],punctuation:{pattern:/(^[\t ]*)(?:\|(?= |$)|(?:---?||\.\.|__)(?= )|\.\.$)/m,lookbehind:!0}}}Yw.displayName="rip";Yw.aliases=[];function Yw(e){e.languages.rip={comment:{pattern:/#.*/,greedy:!0},char:{pattern:/\B`[^\s`'",.:;#\/\\()<>\[\]{}]\b/,greedy:!0},string:{pattern:/("|')(?:\\.|(?!\1)[^\\\r\n])*\1/,greedy:!0},regex:{pattern:/(^|[^/])\/(?!\/)(?:\[[^\n\r\]]*\]|\\.|[^/\\\r\n\[])+\/(?=\s*(?:$|[\r\n,.;})]))/,lookbehind:!0,greedy:!0},keyword:/(?:=>|->)|\b(?:case|catch|class|else|exit|finally|if|raise|return|switch|try)\b/,builtin:/@|\bSystem\b/,boolean:/\b(?:false|true)\b/,date:/\b\d{4}-\d{2}-\d{2}\b/,time:/\b\d{2}:\d{2}:\d{2}\b/,datetime:/\b\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}\b/,symbol:/:[^\d\s`'",.:;#\/\\()<>\[\]{}][^\s`'",.:;#\/\\()<>\[\]{}]*/,number:/[+-]?\b(?:\d+\.\d+|\d+)\b/,punctuation:/(?:\.{2,3})|[`,.:;=\/\\()<>\[\]{}]/,reference:/[^\d\s`'",.:;#\/\\()<>\[\]{}][^\s`'",.:;#\/\\()<>\[\]{}]*/}}Kw.displayName="roboconf";Kw.aliases=[];function Kw(e){e.languages.roboconf={comment:/#.*/,keyword:{pattern:/(^|\s)(?:(?:external|import)\b|(?:facet|instance of)(?=[ \t]+[\w-]+[ \t]*\{))/,lookbehind:!0},component:{pattern:/[\w-]+(?=[ \t]*\{)/,alias:"variable"},property:/[\w.-]+(?=[ \t]*:)/,value:{pattern:/(=[ \t]*(?![ \t]))[^,;]+/,lookbehind:!0,alias:"attr-value"},optional:{pattern:/\(optional\)/,alias:"builtin"},wildcard:{pattern:/(\.)\*/,lookbehind:!0,alias:"operator"},punctuation:/[{},.;:=]/}}Zw.displayName="robotframework";Zw.aliases=["robot"];function Zw(e){(function(t){var n={pattern:/(^[ \t]*| {2}|\t)#.*/m,lookbehind:!0,greedy:!0},r={pattern:/((?:^|[^\\])(?:\\{2})*)[$@&%]\{(?:[^{}\r\n]|\{[^{}\r\n]*\})*\}/,lookbehind:!0,inside:{punctuation:/^[$@&%]\{|\}$/}};function a(u,c){var d={};d["section-header"]={pattern:/^ ?\*{3}.+?\*{3}/,alias:"keyword"};for(var p in c)d[p]=c[p];return d.tag={pattern:/([\r\n](?: {2}|\t)[ \t]*)\[[-\w]+\]/,lookbehind:!0,inside:{punctuation:/\[|\]/}},d.variable=r,d.comment=n,{pattern:RegExp(/^ ?\*{3}[ \t]*<name>[ \t]*\*{3}(?:.|[\r\n](?!\*{3}))*/.source.replace(/<name>/g,function(){return u}),"im"),alias:"section",inside:d}}var i={pattern:/(\[Documentation\](?: {2}|\t)[ \t]*)(?![ \t]|#)(?:.|(?:\r\n?|\n)[ \t]*\.{3})+/,lookbehind:!0,alias:"string"},o={pattern:/([\r\n] ?)(?!#)(?:\S(?:[ \t]\S)*)+/,lookbehind:!0,alias:"function",inside:{variable:r}},l={pattern:/([\r\n](?: {2}|\t)[ \t]*)(?!\[|\.{3}|#)(?:\S(?:[ \t]\S)*)+/,lookbehind:!0,inside:{variable:r}};t.languages.robotframework={settings:a("Settings",{documentation:{pattern:/([\r\n] ?Documentation(?: {2}|\t)[ \t]*)(?![ \t]|#)(?:.|(?:\r\n?|\n)[ \t]*\.{3})+/,lookbehind:!0,alias:"string"},property:{pattern:/([\r\n] ?)(?!\.{3}|#)(?:\S(?:[ \t]\S)*)+/,lookbehind:!0}}),variables:a("Variables"),"test-cases":a("Test Cases",{"test-name":o,documentation:i,property:l}),keywords:a("Keywords",{"keyword-name":o,documentation:i,property:l}),tasks:a("Tasks",{"task-name":o,documentation:i,property:l}),comment:n},t.languages.robot=t.languages.robotframework})(e)}Xw.displayName="sas";Xw.aliases=[];function Xw(e){(function(t){var n=/(?:"(?:""|[^"])*"(?!")|'(?:''|[^'])*'(?!'))/.source,r=/\b(?:\d[\da-f]*x|\d+(?:\.\d+)?(?:e[+-]?\d+)?)\b/i,a={pattern:RegExp(n+"[bx]"),alias:"number"},i={pattern:/&[a-z_]\w*/i},o={pattern:/((?:^|\s|=|\())%(?:ABORT|BY|CMS|COPY|DISPLAY|DO|ELSE|END|EVAL|GLOBAL|GO|GOTO|IF|INC|INCLUDE|INDEX|INPUT|KTRIM|LENGTH|LET|LIST|LOCAL|PUT|QKTRIM|QSCAN|QSUBSTR|QSYSFUNC|QUPCASE|RETURN|RUN|SCAN|SUBSTR|SUPERQ|SYMDEL|SYMEXIST|SYMGLOBL|SYMLOCAL|SYSCALL|SYSEVALF|SYSEXEC|SYSFUNC|SYSGET|SYSRPUT|THEN|TO|TSO|UNQUOTE|UNTIL|UPCASE|WHILE|WINDOW)\b/i,lookbehind:!0,alias:"keyword"},l={pattern:/(^|\s)(?:proc\s+\w+|data(?!=)|quit|run)\b/i,alias:"keyword",lookbehind:!0},u=[/\/\*[\s\S]*?\*\//,{pattern:/(^[ \t]*|;\s*)\*[^;]*;/m,lookbehind:!0}],c={pattern:RegExp(n),greedy:!0},d=/[$%@.(){}\[\];,\\]/,p={pattern:/%?\b\w+(?=\()/,alias:"keyword"},h={function:p,"arg-value":{pattern:/(=\s*)[A-Z\.]+/i,lookbehind:!0},operator:/=/,"macro-variable":i,arg:{pattern:/[A-Z]+/i,alias:"keyword"},number:r,"numeric-constant":a,punctuation:d,string:c},f={pattern:/\b(?:format|put)\b=?[\w'$.]+/i,inside:{keyword:/^(?:format|put)(?==)/i,equals:/=/,format:{pattern:/(?:\w|\$\d)+\.\d?/,alias:"number"}}},m={pattern:/\b(?:format|put)\s+[\w']+(?:\s+[$.\w]+)+(?=;)/i,inside:{keyword:/^(?:format|put)/i,format:{pattern:/[\w$]+\.\d?/,alias:"number"}}},v={pattern:/((?:^|\s)=?)(?:catname|checkpoint execute_always|dm|endsas|filename|footnote|%include|libname|%list|lock|missing|options|page|resetline|%run|sasfile|skip|sysecho|title\d?)\b/i,lookbehind:!0,alias:"keyword"},y={pattern:/(^|\s)(?:submit(?:\s+(?:load|norun|parseonly))?|endsubmit)\b/i,lookbehind:!0,alias:"keyword"},g=/aStore|accessControl|aggregation|audio|autotune|bayesianNetClassifier|bioMedImage|boolRule|builtins|cardinality|cdm|clustering|conditionalRandomFields|configuration|copula|countreg|dataDiscovery|dataPreprocess|dataSciencePilot|dataStep|decisionTree|deduplication|deepLearn|deepNeural|deepRnn|ds2|ecm|entityRes|espCluster|explainModel|factmac|fastKnn|fcmpact|fedSql|freqTab|gVarCluster|gam|gleam|graphSemiSupLearn|hiddenMarkovModel|hyperGroup|ica|image|iml|kernalPca|langModel|ldaTopic|loadStreams|mbc|mixed|mlTools|modelPublishing|network|neuralNet|nmf|nonParametricBayes|nonlinear|optNetwork|optimization|panel|pca|percentile|phreg|pls|qkb|qlim|quantreg|recommend|regression|reinforcementLearn|robustPca|ruleMining|sampling|sandwich|sccasl|search(?:Analytics)?|sentimentAnalysis|sequence|session(?:Prop)?|severity|simSystem|simple|smartData|sparkEmbeddedProcess|sparseML|spatialreg|spc|stabilityMonitoring|svDataDescription|svm|table|text(?:Filters|Frequency|Mining|Parse|Rule(?:Develop|Score)|Topic|Util)|timeData|transpose|tsInfo|tsReconcile|uniTimeSeries|varReduce/.source,x={pattern:RegExp(/(^|\s)(?:action\s+)?(?:<act>)\.[a-z]+\b[^;]+/.source.replace(/<act>/g,function(){return g}),"i"),lookbehind:!0,inside:{keyword:RegExp(/(?:<act>)\.[a-z]+\b/.source.replace(/<act>/g,function(){return g}),"i"),action:{pattern:/(?:action)/i,alias:"keyword"},comment:u,function:p,"arg-value":h["arg-value"],operator:h.operator,argument:h.arg,number:r,"numeric-constant":a,punctuation:d,string:c}},w={pattern:/((?:^|\s)=?)(?:after|analysis|and|array|barchart|barwidth|begingraph|by|call|cas|cbarline|cfill|class(?:lev)?|close|column|computed?|contains|continue|data(?==)|define|delete|describe|document|do\s+over|do|dol|drop|dul|else|end(?:comp|source)?|entryTitle|eval(?:uate)?|exec(?:ute)?|exit|file(?:name)?|fill(?:attrs)?|flist|fnc|function(?:list)?|global|goto|group(?:by)?|headline|headskip|histogram|if|infile|keep|keylabel|keyword|label|layout|leave|legendlabel|length|libname|loadactionset|merge|midpoints|_?null_|name|noobs|nowd|ods|options|or|otherwise|out(?:put)?|over(?:lay)?|plot|print|put|raise|ranexp|rannor|rbreak|retain|return|select|session|sessref|set|source|statgraph|sum|summarize|table|temp|terminate|then\s+do|then|title\d?|to|var|when|where|xaxisopts|y2axisopts|yaxisopts)\b/i,lookbehind:!0};t.languages.sas={datalines:{pattern:/^([ \t]*)(?:cards|(?:data)?lines);[\s\S]+?^[ \t]*;/im,lookbehind:!0,alias:"string",inside:{keyword:{pattern:/^(?:cards|(?:data)?lines)/i},punctuation:/;/}},"proc-sql":{pattern:/(^proc\s+(?:fed)?sql(?:\s+[\w|=]+)?;)[\s\S]+?(?=^(?:proc\s+\w+|data|quit|run);|(?![\s\S]))/im,lookbehind:!0,inside:{sql:{pattern:RegExp(/^[ \t]*(?:select|alter\s+table|(?:create|describe|drop)\s+(?:index|table(?:\s+constraints)?|view)|create\s+unique\s+index|insert\s+into|update)(?:<str>|[^;"'])+;/.source.replace(/<str>/g,function(){return n}),"im"),alias:"language-sql",inside:t.languages.sql},"global-statements":v,"sql-statements":{pattern:/(^|\s)(?:disconnect\s+from|begin|commit|exec(?:ute)?|reset|rollback|validate)\b/i,lookbehind:!0,alias:"keyword"},number:r,"numeric-constant":a,punctuation:d,string:c}},"proc-groovy":{pattern:/(^proc\s+groovy(?:\s+[\w|=]+)?;)[\s\S]+?(?=^(?:proc\s+\w+|data|quit|run);|(?![\s\S]))/im,lookbehind:!0,inside:{comment:u,groovy:{pattern:RegExp(/(^[ \t]*submit(?:\s+(?:load|norun|parseonly))?)(?:<str>|[^"'])+?(?=endsubmit;)/.source.replace(/<str>/g,function(){return n}),"im"),lookbehind:!0,alias:"language-groovy",inside:t.languages.groovy},keyword:w,"submit-statement":y,"global-statements":v,number:r,"numeric-constant":a,punctuation:d,string:c}},"proc-lua":{pattern:/(^proc\s+lua(?:\s+[\w|=]+)?;)[\s\S]+?(?=^(?:proc\s+\w+|data|quit|run);|(?![\s\S]))/im,lookbehind:!0,inside:{comment:u,lua:{pattern:RegExp(/(^[ \t]*submit(?:\s+(?:load|norun|parseonly))?)(?:<str>|[^"'])+?(?=endsubmit;)/.source.replace(/<str>/g,function(){return n}),"im"),lookbehind:!0,alias:"language-lua",inside:t.languages.lua},keyword:w,"submit-statement":y,"global-statements":v,number:r,"numeric-constant":a,punctuation:d,string:c}},"proc-cas":{pattern:/(^proc\s+cas(?:\s+[\w|=]+)?;)[\s\S]+?(?=^(?:proc\s+\w+|quit|data);|(?![\s\S]))/im,lookbehind:!0,inside:{comment:u,"statement-var":{pattern:/((?:^|\s)=?)saveresult\s[^;]+/im,lookbehind:!0,inside:{statement:{pattern:/^saveresult\s+\S+/i,inside:{keyword:/^(?:saveresult)/i}},rest:h}},"cas-actions":x,statement:{pattern:/((?:^|\s)=?)(?:default|(?:un)?set|on|output|upload)[^;]+/im,lookbehind:!0,inside:h},step:l,keyword:w,function:p,format:f,altformat:m,"global-statements":v,number:r,"numeric-constant":a,punctuation:d,string:c}},"proc-args":{pattern:RegExp(/(^proc\s+\w+\s+)(?!\s)(?:[^;"']|<str>)+;/.source.replace(/<str>/g,function(){return n}),"im"),lookbehind:!0,inside:h},"macro-keyword":o,"macro-variable":i,"macro-string-functions":{pattern:/((?:^|\s|=))%(?:BQUOTE|NRBQUOTE|NRQUOTE|NRSTR|QUOTE|STR)\(.*?(?:[^%]\))/i,lookbehind:!0,inside:{function:{pattern:/%(?:BQUOTE|NRBQUOTE|NRQUOTE|NRSTR|QUOTE|STR)/i,alias:"keyword"},"macro-keyword":o,"macro-variable":i,"escaped-char":{pattern:/%['"()<>=^~;,#]/},punctuation:d}},"macro-declaration":{pattern:/^%macro[^;]+(?=;)/im,inside:{keyword:/%macro/i}},"macro-end":{pattern:/^%mend[^;]+(?=;)/im,inside:{keyword:/%mend/i}},macro:{pattern:/%_\w+(?=\()/,alias:"keyword"},input:{pattern:/\binput\s[-\w\s/*.$&]+;/i,inside:{input:{alias:"keyword",pattern:/^input/i},comment:u,number:r,"numeric-constant":a}},"options-args":{pattern:/(^options)[-'"|/\\<>*+=:()\w\s]*(?=;)/im,lookbehind:!0,inside:h},"cas-actions":x,comment:u,function:p,format:f,altformat:m,"numeric-constant":a,datetime:{pattern:RegExp(n+"(?:dt?|t)"),alias:"number"},string:c,step:l,keyword:w,"operator-keyword":{pattern:/\b(?:eq|ge|gt|in|le|lt|ne|not)\b/i,alias:"operator"},number:r,operator:/\*\*?|\|\|?|!!?|?|<[>=]?|>[<=]?|[-+\/=&]|[~^]=?/,punctuation:d}})(e)}Qw.displayName="shell-session";Qw.aliases=["sh-session","shellsession"];function Qw(e){e.register(Ud),function(t){var n=[/"(?:\\[\s\S]|\$\([^)]+\)|\$(?!\()|`[^`]+`|[^"\\`$])*"/.source,/'[^']*'/.source,/\$'(?:[^'\\]|\\[\s\S])*'/.source,/<<-?\s*(["']?)(\w+)\1\s[\s\S]*?[\r\n]\2/.source].join("|");t.languages["shell-session"]={command:{pattern:RegExp(/^/.source+"(?:"+(/[^\s@:$#%*!/\\]+@[^\r\n@:$#%*!/\\]+(?::[^\0-\x1F$#%*?"<>:;|]+)?/.source+"|"+/[/~.][^\0-\x1F$#%*?"<>@:;|]*/.source)+")?"+/[$#%](?=\s)/.source+/(?:[^\\\r\n \t'"<$]|[ \t](?:(?!#)|#.*$)|\\(?:[^\r]|\r\n?)|\$(?!')|<(?!<)|<<str>>)+/.source.replace(/<<str>>/g,function(){return n}),"m"),greedy:!0,inside:{info:{pattern:/^[^#$%]+/,alias:"punctuation",inside:{user:/^[^\s@:$#%*!/\\]+@[^\r\n@:$#%*!/\\]+/,punctuation:/:/,path:/[\s\S]+/}},bash:{pattern:/(^[$#%]\s*)\S[\s\S]*/,lookbehind:!0,alias:"language-bash",inside:t.languages.bash},"shell-symbol":{pattern:/^[$#%]/,alias:"important"}}},output:/.(?:.*(?:[\r\n]|.$))*/},t.languages["sh-session"]=t.languages.shellsession=t.languages["shell-session"]}(e)}Jw.displayName="smali";Jw.aliases=[];function Jw(e){e.languages.smali={comment:/#.*/,string:{pattern:/"(?:[^\r\n\\"]|\\.)*"|'(?:[^\r\n\\']|\\(?:.|u[\da-fA-F]{4}))'/,greedy:!0},"class-name":{pattern:/(^|[^L])L(?:(?:\w+|`[^`\r\n]*`)\/)*(?:[\w$]+|`[^`\r\n]*`)(?=\s*;)/,lookbehind:!0,inside:{"class-name":{pattern:/(^L|\/)(?:[\w$]+|`[^`\r\n]*`)$/,lookbehind:!0},namespace:{pattern:/^(L)(?:(?:\w+|`[^`\r\n]*`)\/)+/,lookbehind:!0,inside:{punctuation:/\//}},builtin:/^L/}},builtin:[{pattern:/([();\[])[BCDFIJSVZ]+/,lookbehind:!0},{pattern:/([\w$>]:)[BCDFIJSVZ]/,lookbehind:!0}],keyword:[{pattern:/(\.end\s+)[\w-]+/,lookbehind:!0},{pattern:/(^|[^\w.-])\.(?!\d)[\w-]+/,lookbehind:!0},{pattern:/(^|[^\w.-])(?:abstract|annotation|bridge|constructor|enum|final|interface|private|protected|public|runtime|static|synthetic|system|transient)(?![\w.-])/,lookbehind:!0}],function:{pattern:/(^|[^\w.-])(?:\w+|<[\w$-]+>)(?=\()/,lookbehind:!0},field:{pattern:/[\w$]+(?=:)/,alias:"variable"},register:{pattern:/(^|[^\w.-])[vp]\d(?![\w.-])/,lookbehind:!0,alias:"variable"},boolean:{pattern:/(^|[^\w.-])(?:false|true)(?![\w.-])/,lookbehind:!0},number:{pattern:/(^|[^/\w.-])-?(?:NAN|INFINITY|0x(?:[\dA-F]+(?:\.[\dA-F]*)?|\.[\dA-F]+)(?:p[+-]?[\dA-F]+)?|(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?)[dflst]?(?![\w.-])/i,lookbehind:!0},label:{pattern:/(:)\w+/,lookbehind:!0,alias:"property"},operator:/->|\.\.|[\[=]/,punctuation:/[{}(),;:]/}}eS.displayName="smalltalk";eS.aliases=[];function eS(e){e.languages.smalltalk={comment:{pattern:/"(?:""|[^"])*"/,greedy:!0},char:{pattern:/\$./,greedy:!0},string:{pattern:/'(?:''|[^'])*'/,greedy:!0},symbol:/#[\da-z]+|#(?:-|([+\/\\*~<>=@%|&?!])\1?)|#(?=\()/i,"block-arguments":{pattern:/(\[\s*):[^\[|]*\|/,lookbehind:!0,inside:{variable:/:[\da-z]+/i,punctuation:/\|/}},"temporary-variables":{pattern:/\|[^|]+\|/,inside:{variable:/[\da-z]+/i,punctuation:/\|/}},keyword:/\b(?:new|nil|self|super)\b/,boolean:/\b(?:false|true)\b/,number:[/\d+r-?[\dA-Z]+(?:\.[\dA-Z]+)?(?:e-?\d+)?/,/\b\d+(?:\.\d+)?(?:e-?\d+)?/],operator:/[<=]=?|:=|~[~=]|\/\/?|\\\\|>[>=]?|[!^+\-*&|,@]/,punctuation:/[.;:?\[\](){}]/}}tS.displayName="smarty";tS.aliases=[];function tS(e){e.register(Rn),function(t){t.languages.smarty={comment:{pattern:/^\{\*[\s\S]*?\*\}/,greedy:!0},"embedded-php":{pattern:/^\{php\}[\s\S]*?\{\/php\}/,greedy:!0,inside:{smarty:{pattern:/^\{php\}|\{\/php\}$/,inside:null},php:{pattern:/[\s\S]+/,alias:"language-php",inside:t.languages.php}}},string:[{pattern:/"(?:\\.|[^"\\\r\n])*"/,greedy:!0,inside:{interpolation:{pattern:/\{[^{}]*\}|`[^`]*`/,inside:{"interpolation-punctuation":{pattern:/^[{`]|[`}]$/,alias:"punctuation"},expression:{pattern:/[\s\S]+/,inside:null}}},variable:/\$\w+/}},{pattern:/'(?:\\.|[^'\\\r\n])*'/,greedy:!0}],keyword:{pattern:/(^\{\/?)[a-z_]\w*\b(?!\()/i,lookbehind:!0,greedy:!0},delimiter:{pattern:/^\{\/?|\}$/,greedy:!0,alias:"punctuation"},number:/\b0x[\dA-Fa-f]+|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:[Ee][-+]?\d+)?/,variable:[/\$(?!\d)\w+/,/#(?!\d)\w+#/,{pattern:/(\.|->|\w\s*=)(?!\d)\w+\b(?!\()/,lookbehind:!0},{pattern:/(\[)(?!\d)\w+(?=\])/,lookbehind:!0}],function:{pattern:/(\|\s*)@?[a-z_]\w*|\b[a-z_]\w*(?=\()/i,lookbehind:!0},"attr-name":/\b[a-z_]\w*(?=\s*=)/i,boolean:/\b(?:false|no|off|on|true|yes)\b/,punctuation:/[\[\](){}.,:`]|->/,operator:[/[+\-*\/%]|==?=?|[!<>]=?|&&|\|\|?/,/\bis\s+(?:not\s+)?(?:div|even|odd)(?:\s+by)?\b/,/\b(?:and|eq|gt?e|gt|lt?e|lt|mod|neq?|not|or)\b/]},t.languages.smarty["embedded-php"].inside.smarty.inside=t.languages.smarty,t.languages.smarty.string[0].inside.interpolation.inside.expression.inside=t.languages.smarty;var n=/"(?:\\.|[^"\\\r\n])*"|'(?:\\.|[^'\\\r\n])*'/,r=RegExp(/\{\*[\s\S]*?\*\}/.source+"|"+/\{php\}[\s\S]*?\{\/php\}/.source+"|"+/\{(?:[^{}"']|<str>|\{(?:[^{}"']|<str>|\{(?:[^{}"']|<str>)*\})*\})*\}/.source.replace(/<str>/g,function(){return n.source}),"g");t.hooks.add("before-tokenize",function(a){var i="{literal}",o="{/literal}",l=!1;t.languages["markup-templating"].buildPlaceholders(a,"smarty",r,function(u){return u===o&&(l=!1),l?!1:(u===i&&(l=!0),!0)})}),t.hooks.add("after-tokenize",function(a){t.languages["markup-templating"].tokenizePlaceholders(a,"smarty")})}(e)}nS.displayName="sml";nS.aliases=["smlnj"];function nS(e){(function(t){var n=/\b(?:abstype|and|andalso|as|case|datatype|do|else|end|eqtype|exception|fn|fun|functor|handle|if|in|include|infix|infixr|let|local|nonfix|of|op|open|orelse|raise|rec|sharing|sig|signature|struct|structure|then|type|val|where|while|with|withtype)\b/i;t.languages.sml={comment:/\(\*(?:[^*(]|\*(?!\))|\((?!\*)|\(\*(?:[^*(]|\*(?!\))|\((?!\*))*\*\))*\*\)/,string:{pattern:/#?"(?:[^"\\]|\\.)*"/,greedy:!0},"class-name":[{pattern:RegExp(/((?:^|[^:]):\s*)<TERMINAL>(?:\s*(?:(?:\*|->)\s*<TERMINAL>|,\s*<TERMINAL>(?:(?=<NOT-LAST>)|(?!<NOT-LAST>)\s+<LONG-ID>)))*/.source.replace(/<NOT-LAST>/g,function(){return/\s*(?:[*,]|->)/.source}).replace(/<TERMINAL>/g,function(){return/(?:'[\w']*|<LONG-ID>|\((?:[^()]|\([^()]*\))*\)|\{(?:[^{}]|\{[^{}]*\})*\})(?:\s+<LONG-ID>)*/.source}).replace(/<LONG-ID>/g,function(){return/(?!<KEYWORD>)[a-z\d_][\w'.]*/.source}).replace(/<KEYWORD>/g,function(){return n.source}),"i"),lookbehind:!0,greedy:!0,inside:null},{pattern:/((?:^|[^\w'])(?:datatype|exception|functor|signature|structure|type)\s+)[a-z_][\w'.]*/i,lookbehind:!0}],function:{pattern:/((?:^|[^\w'])fun\s+)[a-z_][\w'.]*/i,lookbehind:!0},keyword:n,variable:{pattern:/(^|[^\w'])'[\w']*/,lookbehind:!0},number:/~?\b(?:\d+(?:\.\d+)?(?:e~?\d+)?|0x[\da-f]+)\b/i,word:{pattern:/\b0w(?:\d+|x[\da-f]+)\b/i,alias:"constant"},boolean:/\b(?:false|true)\b/i,operator:/\.\.\.|:[>=:]|=>?|->|[<>]=?|[!+\-*/^#|@~]/,punctuation:/[(){}\[\].:,;]/},t.languages.sml["class-name"][0].inside=t.languages.sml,t.languages.smlnj=t.languages.sml})(e)}rS.displayName="solidity";rS.aliases=["sol"];function rS(e){e.register(at),e.languages.solidity=e.languages.extend("clike",{"class-name":{pattern:/(\b(?:contract|enum|interface|library|new|struct|using)\s+)(?!\d)[\w$]+/,lookbehind:!0},keyword:/\b(?:_|anonymous|as|assembly|assert|break|calldata|case|constant|constructor|continue|contract|default|delete|do|else|emit|enum|event|external|for|from|function|if|import|indexed|inherited|interface|internal|is|let|library|mapping|memory|modifier|new|payable|pragma|private|public|pure|require|returns?|revert|selfdestruct|solidity|storage|struct|suicide|switch|this|throw|using|var|view|while)\b/,operator:/=>|->|:=|=:|\*\*|\+\+|--|\|\||&&|<<=?|>>=?|[-+*/%^&|<>!=]=?|[~?]/}),e.languages.insertBefore("solidity","keyword",{builtin:/\b(?:address|bool|byte|u?int(?:8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?|string|bytes(?:[1-9]|[12]\d|3[0-2])?)\b/}),e.languages.insertBefore("solidity","number",{version:{pattern:/([<>]=?|\^)\d+\.\d+\.\d+\b/,lookbehind:!0,alias:"number"}}),e.languages.sol=e.languages.solidity}aS.displayName="solution-file";aS.aliases=["sln"];function aS(e){(function(t){var n={pattern:/\{[\da-f]{8}-[\da-f]{4}-[\da-f]{4}-[\da-f]{4}-[\da-f]{12}\}/i,alias:"constant",inside:{punctuation:/[{}]/}};t.languages["solution-file"]={comment:{pattern:/#.*/,greedy:!0},string:{pattern:/"[^"\r\n]*"|'[^'\r\n]*'/,greedy:!0,inside:{guid:n}},object:{pattern:/^([ \t]*)(?:([A-Z]\w*)\b(?=.*(?:\r\n?|\n)(?:\1[ \t].*(?:\r\n?|\n))*\1End\2(?=[ \t]*$))|End[A-Z]\w*(?=[ \t]*$))/m,lookbehind:!0,greedy:!0,alias:"keyword"},property:{pattern:/^([ \t]*)(?!\s)[^\r\n"#=()]*[^\s"#=()](?=\s*=)/m,lookbehind:!0,inside:{guid:n}},guid:n,number:/\b\d+(?:\.\d+)*\b/,boolean:/\b(?:FALSE|TRUE)\b/,operator:/=/,punctuation:/[(),]/},t.languages.sln=t.languages["solution-file"]})(e)}sS.displayName="soy";sS.aliases=[];function sS(e){e.register(Rn),function(t){var n=/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,r=/\b\d+(?:\.\d+)?(?:[eE][+-]?\d+)?\b|\b0x[\dA-F]+\b/;t.languages.soy={comment:[/\/\*[\s\S]*?\*\//,{pattern:/(\s)\/\/.*/,lookbehind:!0,greedy:!0}],"command-arg":{pattern:/(\{+\/?\s*(?:alias|call|delcall|delpackage|deltemplate|namespace|template)\s+)\.?[\w.]+/,lookbehind:!0,alias:"string",inside:{punctuation:/\./}},parameter:{pattern:/(\{+\/?\s*@?param\??\s+)\.?[\w.]+/,lookbehind:!0,alias:"variable"},keyword:[{pattern:/(\{+\/?[^\S\r\n]*)(?:\\[nrt]|alias|call|case|css|default|delcall|delpackage|deltemplate|else(?:if)?|fallbackmsg|for(?:each)?|if(?:empty)?|lb|let|literal|msg|namespace|nil|@?param\??|rb|sp|switch|template|xid)/,lookbehind:!0},/\b(?:any|as|attributes|bool|css|float|html|in|int|js|list|map|null|number|string|uri)\b/],delimiter:{pattern:/^\{+\/?|\/?\}+$/,alias:"punctuation"},property:/\w+(?==)/,variable:{pattern:/\$[^\W\d]\w*(?:\??(?:\.\w+|\[[^\]]+\]))*/,inside:{string:{pattern:n,greedy:!0},number:r,punctuation:/[\[\].?]/}},string:{pattern:n,greedy:!0},function:[/\w+(?=\()/,{pattern:/(\|[^\S\r\n]*)\w+/,lookbehind:!0}],boolean:/\b(?:false|true)\b/,number:r,operator:/\?:?|<=?|>=?|==?|!=|[+*/%-]|\b(?:and|not|or)\b/,punctuation:/[{}()\[\]|.,:]/},t.hooks.add("before-tokenize",function(a){var i=/\{\{.+?\}\}|\{.+?\}|\s\/\/.*|\/\*[\s\S]*?\*\//g,o="{literal}",l="{/literal}",u=!1;t.languages["markup-templating"].buildPlaceholders(a,"soy",i,function(c){return c===l&&(u=!1),u?!1:(c===o&&(u=!0),!0)})}),t.hooks.add("after-tokenize",function(a){t.languages["markup-templating"].tokenizePlaceholders(a,"soy")})}(e)}wm.displayName="turtle";wm.aliases=["trig"];function wm(e){e.languages.turtle={comment:{pattern:/#.*/,greedy:!0},"multiline-string":{pattern:/"""(?:(?:""?)?(?:[^"\\]|\\.))*"""|'''(?:(?:''?)?(?:[^'\\]|\\.))*'''/,greedy:!0,alias:"string",inside:{comment:/#.*/}},string:{pattern:/"(?:[^\\"\r\n]|\\.)*"|'(?:[^\\'\r\n]|\\.)*'/,greedy:!0},url:{pattern:/<(?:[^\x00-\x20<>"{}|^`\\]|\\(?:u[\da-fA-F]{4}|U[\da-fA-F]{8}))*>/,greedy:!0,inside:{punctuation:/[<>]/}},function:{pattern:/(?:(?![-.\d\xB7])[-.\w\xB7\xC0-\uFFFD]+)?:(?:(?![-.])(?:[-.:\w\xC0-\uFFFD]|%[\da-f]{2}|\\.)+)?/i,inside:{"local-name":{pattern:/([^:]*:)[\s\S]+/,lookbehind:!0},prefix:{pattern:/[\s\S]+/,inside:{punctuation:/:/}}}},number:/[+-]?\b\d+(?:\.\d*)?(?:e[+-]?\d+)?/i,punctuation:/[{}.,;()[\]]|\^\^/,boolean:/\b(?:false|true)\b/,keyword:[/(?:\ba|@prefix|@base)\b|=/,/\b(?:base|graph|prefix)\b/i],tag:{pattern:/@[a-z]+(?:-[a-z\d]+)*/i,inside:{punctuation:/@/}}},e.languages.trig=e.languages.turtle}iS.displayName="sparql";iS.aliases=["rq"];function iS(e){e.register(wm),e.languages.sparql=e.languages.extend("turtle",{boolean:/\b(?:false|true)\b/i,variable:{pattern:/[?$]\w+/,greedy:!0}}),e.languages.insertBefore("sparql","punctuation",{keyword:[/\b(?:A|ADD|ALL|AS|ASC|ASK|BNODE|BY|CLEAR|CONSTRUCT|COPY|CREATE|DATA|DEFAULT|DELETE|DESC|DESCRIBE|DISTINCT|DROP|EXISTS|FILTER|FROM|GROUP|HAVING|INSERT|INTO|LIMIT|LOAD|MINUS|MOVE|NAMED|NOT|NOW|OFFSET|OPTIONAL|ORDER|RAND|REDUCED|SELECT|SEPARATOR|SERVICE|SILENT|STRUUID|UNION|USING|UUID|VALUES|WHERE)\b/i,/\b(?:ABS|AVG|BIND|BOUND|CEIL|COALESCE|CONCAT|CONTAINS|COUNT|DATATYPE|DAY|ENCODE_FOR_URI|FLOOR|GROUP_CONCAT|HOURS|IF|IRI|isBLANK|isIRI|isLITERAL|isNUMERIC|isURI|LANG|LANGMATCHES|LCASE|MAX|MD5|MIN|MINUTES|MONTH|REGEX|REPLACE|ROUND|sameTerm|SAMPLE|SECONDS|SHA1|SHA256|SHA384|SHA512|STR|STRAFTER|STRBEFORE|STRDT|STRENDS|STRLANG|STRLEN|STRSTARTS|SUBSTR|SUM|TIMEZONE|TZ|UCASE|URI|YEAR)\b(?=\s*\()/i,/\b(?:BASE|GRAPH|PREFIX)\b/i]}),e.languages.rq=e.languages.sparql}oS.displayName="splunk-spl";oS.aliases=[];function oS(e){e.languages["splunk-spl"]={comment:/`comment\("(?:\\.|[^\\"])*"\)`/,string:{pattern:/"(?:\\.|[^\\"])*"/,greedy:!0},keyword:/\b(?:abstract|accum|addcoltotals|addinfo|addtotals|analyzefields|anomalies|anomalousvalue|anomalydetection|append|appendcols|appendcsv|appendlookup|appendpipe|arules|associate|audit|autoregress|bin|bucket|bucketdir|chart|cluster|cofilter|collect|concurrency|contingency|convert|correlate|datamodel|dbinspect|dedup|delete|delta|diff|erex|eval|eventcount|eventstats|extract|fieldformat|fields|fieldsummary|filldown|fillnull|findtypes|folderize|foreach|format|from|gauge|gentimes|geom|geomfilter|geostats|head|highlight|history|iconify|input|inputcsv|inputlookup|iplocation|join|kmeans|kv|kvform|loadjob|localize|localop|lookup|makecontinuous|makemv|makeresults|map|mcollect|metadata|metasearch|meventcollect|mstats|multikv|multisearch|mvcombine|mvexpand|nomv|outlier|outputcsv|outputlookup|outputtext|overlap|pivot|predict|rangemap|rare|regex|relevancy|reltime|rename|replace|rest|return|reverse|rex|rtorder|run|savedsearch|script|scrub|search|searchtxn|selfjoin|sendemail|set|setfields|sichart|sirare|sistats|sitimechart|sitop|sort|spath|stats|strcat|streamstats|table|tags|tail|timechart|timewrap|top|transaction|transpose|trendline|tscollect|tstats|typeahead|typelearner|typer|union|uniq|untable|where|x11|xmlkv|xmlunescape|xpath|xyseries)\b/i,"operator-word":{pattern:/\b(?:and|as|by|not|or|xor)\b/i,alias:"operator"},function:/\b\w+(?=\s*\()/,property:/\b\w+(?=\s*=(?!=))/,date:{pattern:/\b\d{1,2}\/\d{1,2}\/\d{1,4}(?:(?::\d{1,2}){3})?\b/,alias:"number"},number:/\b\d+(?:\.\d+)?\b/,boolean:/\b(?:f|false|t|true)\b/i,operator:/[<>=]=?|[-+*/%|]/,punctuation:/[()[\],]/}}lS.displayName="sqf";lS.aliases=[];function lS(e){e.register(at),e.languages.sqf=e.languages.extend("clike",{string:{pattern:/"(?:(?:"")?[^"])*"(?!")|'(?:[^'])*'/,greedy:!0},keyword:/\b(?:breakOut|breakTo|call|case|catch|default|do|echo|else|execFSM|execVM|exitWith|for|forEach|forEachMember|forEachMemberAgent|forEachMemberTeam|from|goto|if|nil|preprocessFile|preprocessFileLineNumbers|private|scopeName|spawn|step|switch|then|throw|to|try|while|with)\b/i,boolean:/\b(?:false|true)\b/i,function:/\b(?:abs|accTime|acos|action|actionIDs|actionKeys|actionKeysImages|actionKeysNames|actionKeysNamesArray|actionName|actionParams|activateAddons|activatedAddons|activateKey|add3DENConnection|add3DENEventHandler|add3DENLayer|addAction|addBackpack|addBackpackCargo|addBackpackCargoGlobal|addBackpackGlobal|addCamShake|addCuratorAddons|addCuratorCameraArea|addCuratorEditableObjects|addCuratorEditingArea|addCuratorPoints|addEditorObject|addEventHandler|addForce|addForceGeneratorRTD|addGoggles|addGroupIcon|addHandgunItem|addHeadgear|addItem|addItemCargo|addItemCargoGlobal|addItemPool|addItemToBackpack|addItemToUniform|addItemToVest|addLiveStats|addMagazine|addMagazineAmmoCargo|addMagazineCargo|addMagazineCargoGlobal|addMagazineGlobal|addMagazinePool|addMagazines|addMagazineTurret|addMenu|addMenuItem|addMissionEventHandler|addMPEventHandler|addMusicEventHandler|addOwnedMine|addPlayerScores|addPrimaryWeaponItem|addPublicVariableEventHandler|addRating|addResources|addScore|addScoreSide|addSecondaryWeaponItem|addSwitchableUnit|addTeamMember|addToRemainsCollector|addTorque|addUniform|addVehicle|addVest|addWaypoint|addWeapon|addWeaponCargo|addWeaponCargoGlobal|addWeaponGlobal|addWeaponItem|addWeaponPool|addWeaponTurret|admin|agent|agents|AGLToASL|aimedAtTarget|aimPos|airDensityCurveRTD|airDensityRTD|airplaneThrottle|airportSide|AISFinishHeal|alive|all3DENEntities|allAirports|allControls|allCurators|allCutLayers|allDead|allDeadMen|allDisplays|allGroups|allMapMarkers|allMines|allMissionObjects|allow3DMode|allowCrewInImmobile|allowCuratorLogicIgnoreAreas|allowDamage|allowDammage|allowFileOperations|allowFleeing|allowGetIn|allowSprint|allPlayers|allSimpleObjects|allSites|allTurrets|allUnits|allUnitsUAV|allVariables|ammo|ammoOnPylon|animate|animateBay|animateDoor|animatePylon|animateSource|animationNames|animationPhase|animationSourcePhase|animationState|append|apply|armoryPoints|arrayIntersect|asin|ASLToAGL|ASLToATL|assert|assignAsCargo|assignAsCargoIndex|assignAsCommander|assignAsDriver|assignAsGunner|assignAsTurret|assignCurator|assignedCargo|assignedCommander|assignedDriver|assignedGunner|assignedItems|assignedTarget|assignedTeam|assignedVehicle|assignedVehicleRole|assignItem|assignTeam|assignToAirport|atan|atan2|atg|ATLToASL|attachedObject|attachedObjects|attachedTo|attachObject|attachTo|attackEnabled|backpack|backpackCargo|backpackContainer|backpackItems|backpackMagazines|backpackSpaceFor|behaviour|benchmark|binocular|blufor|boundingBox|boundingBoxReal|boundingCenter|briefingName|buildingExit|buildingPos|buldozer_EnableRoadDiag|buldozer_IsEnabledRoadDiag|buldozer_LoadNewRoads|buldozer_reloadOperMap|buttonAction|buttonSetAction|cadetMode|callExtension|camCommand|camCommit|camCommitPrepared|camCommitted|camConstuctionSetParams|camCreate|camDestroy|cameraEffect|cameraEffectEnableHUD|cameraInterest|cameraOn|cameraView|campaignConfigFile|camPreload|camPreloaded|camPrepareBank|camPrepareDir|camPrepareDive|camPrepareFocus|camPrepareFov|camPrepareFovRange|camPreparePos|camPrepareRelPos|camPrepareTarget|camSetBank|camSetDir|camSetDive|camSetFocus|camSetFov|camSetFovRange|camSetPos|camSetRelPos|camSetTarget|camTarget|camUseNVG|canAdd|canAddItemToBackpack|canAddItemToUniform|canAddItemToVest|cancelSimpleTaskDestination|canFire|canMove|canSlingLoad|canStand|canSuspend|canTriggerDynamicSimulation|canUnloadInCombat|canVehicleCargo|captive|captiveNum|cbChecked|cbSetChecked|ceil|channelEnabled|cheatsEnabled|checkAIFeature|checkVisibility|civilian|className|clear3DENAttribute|clear3DENInventory|clearAllItemsFromBackpack|clearBackpackCargo|clearBackpackCargoGlobal|clearForcesRTD|clearGroupIcons|clearItemCargo|clearItemCargoGlobal|clearItemPool|clearMagazineCargo|clearMagazineCargoGlobal|clearMagazinePool|clearOverlay|clearRadio|clearVehicleInit|clearWeaponCargo|clearWeaponCargoGlobal|clearWeaponPool|clientOwner|closeDialog|closeDisplay|closeOverlay|collapseObjectTree|collect3DENHistory|collectiveRTD|combatMode|commandArtilleryFire|commandChat|commander|commandFire|commandFollow|commandFSM|commandGetOut|commandingMenu|commandMove|commandRadio|commandStop|commandSuppressiveFire|commandTarget|commandWatch|comment|commitOverlay|compile|compileFinal|completedFSM|composeText|configClasses|configFile|configHierarchy|configName|configNull|configProperties|configSourceAddonList|configSourceMod|configSourceModList|confirmSensorTarget|connectTerminalToUAV|controlNull|controlsGroupCtrl|copyFromClipboard|copyToClipboard|copyWaypoints|cos|count|countEnemy|countFriendly|countSide|countType|countUnknown|create3DENComposition|create3DENEntity|createAgent|createCenter|createDialog|createDiaryLink|createDiaryRecord|createDiarySubject|createDisplay|createGearDialog|createGroup|createGuardedPoint|createLocation|createMarker|createMarkerLocal|createMenu|createMine|createMissionDisplay|createMPCampaignDisplay|createSimpleObject|createSimpleTask|createSite|createSoundSource|createTask|createTeam|createTrigger|createUnit|createVehicle|createVehicleCrew|createVehicleLocal|crew|ctAddHeader|ctAddRow|ctClear|ctCurSel|ctData|ctFindHeaderRows|ctFindRowHeader|ctHeaderControls|ctHeaderCount|ctRemoveHeaders|ctRemoveRows|ctrlActivate|ctrlAddEventHandler|ctrlAngle|ctrlAutoScrollDelay|ctrlAutoScrollRewind|ctrlAutoScrollSpeed|ctrlChecked|ctrlClassName|ctrlCommit|ctrlCommitted|ctrlCreate|ctrlDelete|ctrlEnable|ctrlEnabled|ctrlFade|ctrlHTMLLoaded|ctrlIDC|ctrlIDD|ctrlMapAnimAdd|ctrlMapAnimClear|ctrlMapAnimCommit|ctrlMapAnimDone|ctrlMapCursor|ctrlMapMouseOver|ctrlMapScale|ctrlMapScreenToWorld|ctrlMapWorldToScreen|ctrlModel|ctrlModelDirAndUp|ctrlModelScale|ctrlParent|ctrlParentControlsGroup|ctrlPosition|ctrlRemoveAllEventHandlers|ctrlRemoveEventHandler|ctrlScale|ctrlSetActiveColor|ctrlSetAngle|ctrlSetAutoScrollDelay|ctrlSetAutoScrollRewind|ctrlSetAutoScrollSpeed|ctrlSetBackgroundColor|ctrlSetChecked|ctrlSetDisabledColor|ctrlSetEventHandler|ctrlSetFade|ctrlSetFocus|ctrlSetFont|ctrlSetFontH1|ctrlSetFontH1B|ctrlSetFontH2|ctrlSetFontH2B|ctrlSetFontH3|ctrlSetFontH3B|ctrlSetFontH4|ctrlSetFontH4B|ctrlSetFontH5|ctrlSetFontH5B|ctrlSetFontH6|ctrlSetFontH6B|ctrlSetFontHeight|ctrlSetFontHeightH1|ctrlSetFontHeightH2|ctrlSetFontHeightH3|ctrlSetFontHeightH4|ctrlSetFontHeightH5|ctrlSetFontHeightH6|ctrlSetFontHeightSecondary|ctrlSetFontP|ctrlSetFontPB|ctrlSetFontSecondary|ctrlSetForegroundColor|ctrlSetModel|ctrlSetModelDirAndUp|ctrlSetModelScale|ctrlSetPixelPrecision|ctrlSetPosition|ctrlSetScale|ctrlSetStructuredText|ctrlSetText|ctrlSetTextColor|ctrlSetTextColorSecondary|ctrlSetTextSecondary|ctrlSetTooltip|ctrlSetTooltipColorBox|ctrlSetTooltipColorShade|ctrlSetTooltipColorText|ctrlShow|ctrlShown|ctrlText|ctrlTextHeight|ctrlTextSecondary|ctrlTextWidth|ctrlType|ctrlVisible|ctRowControls|ctRowCount|ctSetCurSel|ctSetData|ctSetHeaderTemplate|ctSetRowTemplate|ctSetValue|ctValue|curatorAddons|curatorCamera|curatorCameraArea|curatorCameraAreaCeiling|curatorCoef|curatorEditableObjects|curatorEditingArea|curatorEditingAreaType|curatorMouseOver|curatorPoints|curatorRegisteredObjects|curatorSelected|curatorWaypointCost|current3DENOperation|currentChannel|currentCommand|currentMagazine|currentMagazineDetail|currentMagazineDetailTurret|currentMagazineTurret|currentMuzzle|currentNamespace|currentTask|currentTasks|currentThrowable|currentVisionMode|currentWaypoint|currentWeapon|currentWeaponMode|currentWeaponTurret|currentZeroing|cursorObject|cursorTarget|customChat|customRadio|cutFadeOut|cutObj|cutRsc|cutText|damage|date|dateToNumber|daytime|deActivateKey|debriefingText|debugFSM|debugLog|deg|delete3DENEntities|deleteAt|deleteCenter|deleteCollection|deleteEditorObject|deleteGroup|deleteGroupWhenEmpty|deleteIdentity|deleteLocation|deleteMarker|deleteMarkerLocal|deleteRange|deleteResources|deleteSite|deleteStatus|deleteTeam|deleteVehicle|deleteVehicleCrew|deleteWaypoint|detach|detectedMines|diag_activeMissionFSMs|diag_activeScripts|diag_activeSQFScripts|diag_activeSQSScripts|diag_captureFrame|diag_captureFrameToFile|diag_captureSlowFrame|diag_codePerformance|diag_drawMode|diag_dynamicSimulationEnd|diag_enable|diag_enabled|diag_fps|diag_fpsMin|diag_frameNo|diag_lightNewLoad|diag_list|diag_log|diag_logSlowFrame|diag_mergeConfigFile|diag_recordTurretLimits|diag_setLightNew|diag_tickTime|diag_toggle|dialog|diarySubjectExists|didJIP|didJIPOwner|difficulty|difficultyEnabled|difficultyEnabledRTD|difficultyOption|direction|directSay|disableAI|disableCollisionWith|disableConversation|disableDebriefingStats|disableMapIndicators|disableNVGEquipment|disableRemoteSensors|disableSerialization|disableTIEquipment|disableUAVConnectability|disableUserInput|displayAddEventHandler|displayCtrl|displayNull|displayParent|displayRemoveAllEventHandlers|displayRemoveEventHandler|displaySetEventHandler|dissolveTeam|distance|distance2D|distanceSqr|distributionRegion|do3DENAction|doArtilleryFire|doFire|doFollow|doFSM|doGetOut|doMove|doorPhase|doStop|doSuppressiveFire|doTarget|doWatch|drawArrow|drawEllipse|drawIcon|drawIcon3D|drawLine|drawLine3D|drawLink|drawLocation|drawPolygon|drawRectangle|drawTriangle|driver|drop|dynamicSimulationDistance|dynamicSimulationDistanceCoef|dynamicSimulationEnabled|dynamicSimulationSystemEnabled|east|edit3DENMissionAttributes|editObject|editorSetEventHandler|effectiveCommander|emptyPositions|enableAI|enableAIFeature|enableAimPrecision|enableAttack|enableAudioFeature|enableAutoStartUpRTD|enableAutoTrimRTD|enableCamShake|enableCaustics|enableChannel|enableCollisionWith|enableCopilot|enableDebriefingStats|enableDiagLegend|enableDynamicSimulation|enableDynamicSimulationSystem|enableEndDialog|enableEngineArtillery|enableEnvironment|enableFatigue|enableGunLights|enableInfoPanelComponent|enableIRLasers|enableMimics|enablePersonTurret|enableRadio|enableReload|enableRopeAttach|enableSatNormalOnDetail|enableSaving|enableSentences|enableSimulation|enableSimulationGlobal|enableStamina|enableStressDamage|enableTeamSwitch|enableTraffic|enableUAVConnectability|enableUAVWaypoints|enableVehicleCargo|enableVehicleSensor|enableWeaponDisassembly|endl|endLoadingScreen|endMission|engineOn|enginesIsOnRTD|enginesPowerRTD|enginesRpmRTD|enginesTorqueRTD|entities|environmentEnabled|estimatedEndServerTime|estimatedTimeLeft|evalObjectArgument|everyBackpack|everyContainer|exec|execEditorScript|exp|expectedDestination|exportJIPMessages|eyeDirection|eyePos|face|faction|fadeMusic|fadeRadio|fadeSound|fadeSpeech|failMission|fillWeaponsFromPool|find|findCover|findDisplay|findEditorObject|findEmptyPosition|findEmptyPositionReady|findIf|findNearestEnemy|finishMissionInit|finite|fire|fireAtTarget|firstBackpack|flag|flagAnimationPhase|flagOwner|flagSide|flagTexture|fleeing|floor|flyInHeight|flyInHeightASL|fog|fogForecast|fogParams|forceAddUniform|forceAtPositionRTD|forcedMap|forceEnd|forceFlagTexture|forceFollowRoad|forceGeneratorRTD|forceMap|forceRespawn|forceSpeed|forceWalk|forceWeaponFire|forceWeatherChange|forgetTarget|format|formation|formationDirection|formationLeader|formationMembers|formationPosition|formationTask|formatText|formLeader|freeLook|fromEditor|fuel|fullCrew|gearIDCAmmoCount|gearSlotAmmoCount|gearSlotData|get3DENActionState|get3DENAttribute|get3DENCamera|get3DENConnections|get3DENEntity|get3DENEntityID|get3DENGrid|get3DENIconsVisible|get3DENLayerEntities|get3DENLinesVisible|get3DENMissionAttribute|get3DENMouseOver|get3DENSelected|getAimingCoef|getAllEnvSoundControllers|getAllHitPointsDamage|getAllOwnedMines|getAllSoundControllers|getAmmoCargo|getAnimAimPrecision|getAnimSpeedCoef|getArray|getArtilleryAmmo|getArtilleryComputerSettings|getArtilleryETA|getAssignedCuratorLogic|getAssignedCuratorUnit|getBackpackCargo|getBleedingRemaining|getBurningValue|getCameraViewDirection|getCargoIndex|getCenterOfMass|getClientState|getClientStateNumber|getCompatiblePylonMagazines|getConnectedUAV|getContainerMaxLoad|getCursorObjectParams|getCustomAimCoef|getDammage|getDescription|getDir|getDirVisual|getDLCAssetsUsage|getDLCAssetsUsageByName|getDLCs|getDLCUsageTime|getEditorCamera|getEditorMode|getEditorObjectScope|getElevationOffset|getEngineTargetRpmRTD|getEnvSoundController|getFatigue|getFieldManualStartPage|getForcedFlagTexture|getFriend|getFSMVariable|getFuelCargo|getGroupIcon|getGroupIconParams|getGroupIcons|getHideFrom|getHit|getHitIndex|getHitPointDamage|getItemCargo|getMagazineCargo|getMarkerColor|getMarkerPos|getMarkerSize|getMarkerType|getMass|getMissionConfig|getMissionConfigValue|getMissionDLCs|getMissionLayerEntities|getMissionLayers|getModelInfo|getMousePosition|getMusicPlayedTime|getNumber|getObjectArgument|getObjectChildren|getObjectDLC|getObjectMaterials|getObjectProxy|getObjectTextures|getObjectType|getObjectViewDistance|getOxygenRemaining|getPersonUsedDLCs|getPilotCameraDirection|getPilotCameraPosition|getPilotCameraRotation|getPilotCameraTarget|getPlateNumber|getPlayerChannel|getPlayerScores|getPlayerUID|getPlayerUIDOld|getPos|getPosASL|getPosASLVisual|getPosASLW|getPosATL|getPosATLVisual|getPosVisual|getPosWorld|getPylonMagazines|getRelDir|getRelPos|getRemoteSensorsDisabled|getRepairCargo|getResolution|getRotorBrakeRTD|getShadowDistance|getShotParents|getSlingLoad|getSoundController|getSoundControllerResult|getSpeed|getStamina|getStatValue|getSuppression|getTerrainGrid|getTerrainHeightASL|getText|getTotalDLCUsageTime|getTrimOffsetRTD|getUnitLoadout|getUnitTrait|getUserMFDText|getUserMFDValue|getVariable|getVehicleCargo|getWeaponCargo|getWeaponSway|getWingsOrientationRTD|getWingsPositionRTD|getWPPos|glanceAt|globalChat|globalRadio|goggles|group|groupChat|groupFromNetId|groupIconSelectable|groupIconsVisible|groupId|groupOwner|groupRadio|groupSelectedUnits|groupSelectUnit|grpNull|gunner|gusts|halt|handgunItems|handgunMagazine|handgunWeapon|handsHit|hasInterface|hasPilotCamera|hasWeapon|hcAllGroups|hcGroupParams|hcLeader|hcRemoveAllGroups|hcRemoveGroup|hcSelected|hcSelectGroup|hcSetGroup|hcShowBar|hcShownBar|headgear|hideBody|hideObject|hideObjectGlobal|hideSelection|hint|hintC|hintCadet|hintSilent|hmd|hostMission|htmlLoad|HUDMovementLevels|humidity|image|importAllGroups|importance|in|inArea|inAreaArray|incapacitatedState|independent|inflame|inflamed|infoPanel|infoPanelComponentEnabled|infoPanelComponents|infoPanels|inGameUISetEventHandler|inheritsFrom|initAmbientLife|inPolygon|inputAction|inRangeOfArtillery|insertEditorObject|intersect|is3DEN|is3DENMultiplayer|isAbleToBreathe|isAgent|isAimPrecisionEnabled|isArray|isAutoHoverOn|isAutonomous|isAutoStartUpEnabledRTD|isAutotest|isAutoTrimOnRTD|isBleeding|isBurning|isClass|isCollisionLightOn|isCopilotEnabled|isDamageAllowed|isDedicated|isDLCAvailable|isEngineOn|isEqualTo|isEqualType|isEqualTypeAll|isEqualTypeAny|isEqualTypeArray|isEqualTypeParams|isFilePatchingEnabled|isFlashlightOn|isFlatEmpty|isForcedWalk|isFormationLeader|isGroupDeletedWhenEmpty|isHidden|isInRemainsCollector|isInstructorFigureEnabled|isIRLaserOn|isKeyActive|isKindOf|isLaserOn|isLightOn|isLocalized|isManualFire|isMarkedForCollection|isMultiplayer|isMultiplayerSolo|isNil|isNull|isNumber|isObjectHidden|isObjectRTD|isOnRoad|isPipEnabled|isPlayer|isRealTime|isRemoteExecuted|isRemoteExecutedJIP|isServer|isShowing3DIcons|isSimpleObject|isSprintAllowed|isStaminaEnabled|isSteamMission|isStreamFriendlyUIEnabled|isStressDamageEnabled|isText|isTouchingGround|isTurnedOut|isTutHintsEnabled|isUAVConnectable|isUAVConnected|isUIContext|isUniformAllowed|isVehicleCargo|isVehicleRadarOn|isVehicleSensorEnabled|isWalking|isWeaponDeployed|isWeaponRested|itemCargo|items|itemsWithMagazines|join|joinAs|joinAsSilent|joinSilent|joinString|kbAddDatabase|kbAddDatabaseTargets|kbAddTopic|kbHasTopic|kbReact|kbRemoveTopic|kbTell|kbWasSaid|keyImage|keyName|knowsAbout|land|landAt|landResult|language|laserTarget|lbAdd|lbClear|lbColor|lbColorRight|lbCurSel|lbData|lbDelete|lbIsSelected|lbPicture|lbPictureRight|lbSelection|lbSetColor|lbSetColorRight|lbSetCurSel|lbSetData|lbSetPicture|lbSetPictureColor|lbSetPictureColorDisabled|lbSetPictureColorSelected|lbSetPictureRight|lbSetPictureRightColor|lbSetPictureRightColorDisabled|lbSetPictureRightColorSelected|lbSetSelectColor|lbSetSelectColorRight|lbSetSelected|lbSetText|lbSetTextRight|lbSetTooltip|lbSetValue|lbSize|lbSort|lbSortByValue|lbText|lbTextRight|lbValue|leader|leaderboardDeInit|leaderboardGetRows|leaderboardInit|leaderboardRequestRowsFriends|leaderboardRequestRowsGlobal|leaderboardRequestRowsGlobalAroundUser|leaderboardsRequestUploadScore|leaderboardsRequestUploadScoreKeepBest|leaderboardState|leaveVehicle|libraryCredits|libraryDisclaimers|lifeState|lightAttachObject|lightDetachObject|lightIsOn|lightnings|limitSpeed|linearConversion|lineBreak|lineIntersects|lineIntersectsObjs|lineIntersectsSurfaces|lineIntersectsWith|linkItem|list|listObjects|listRemoteTargets|listVehicleSensors|ln|lnbAddArray|lnbAddColumn|lnbAddRow|lnbClear|lnbColor|lnbColorRight|lnbCurSelRow|lnbData|lnbDeleteColumn|lnbDeleteRow|lnbGetColumnsPosition|lnbPicture|lnbPictureRight|lnbSetColor|lnbSetColorRight|lnbSetColumnsPos|lnbSetCurSelRow|lnbSetData|lnbSetPicture|lnbSetPictureColor|lnbSetPictureColorRight|lnbSetPictureColorSelected|lnbSetPictureColorSelectedRight|lnbSetPictureRight|lnbSetText|lnbSetTextRight|lnbSetValue|lnbSize|lnbSort|lnbSortByValue|lnbText|lnbTextRight|lnbValue|load|loadAbs|loadBackpack|loadFile|loadGame|loadIdentity|loadMagazine|loadOverlay|loadStatus|loadUniform|loadVest|local|localize|locationNull|locationPosition|lock|lockCameraTo|lockCargo|lockDriver|locked|lockedCargo|lockedDriver|lockedTurret|lockIdentity|lockTurret|lockWP|log|logEntities|logNetwork|logNetworkTerminate|lookAt|lookAtPos|magazineCargo|magazines|magazinesAllTurrets|magazinesAmmo|magazinesAmmoCargo|magazinesAmmoFull|magazinesDetail|magazinesDetailBackpack|magazinesDetailUniform|magazinesDetailVest|magazinesTurret|magazineTurretAmmo|mapAnimAdd|mapAnimClear|mapAnimCommit|mapAnimDone|mapCenterOnCamera|mapGridPosition|markAsFinishedOnSteam|markerAlpha|markerBrush|markerColor|markerDir|markerPos|markerShape|markerSize|markerText|markerType|max|members|menuAction|menuAdd|menuChecked|menuClear|menuCollapse|menuData|menuDelete|menuEnable|menuEnabled|menuExpand|menuHover|menuPicture|menuSetAction|menuSetCheck|menuSetData|menuSetPicture|menuSetValue|menuShortcut|menuShortcutText|menuSize|menuSort|menuText|menuURL|menuValue|min|mineActive|mineDetectedBy|missionConfigFile|missionDifficulty|missionName|missionNamespace|missionStart|missionVersion|modelToWorld|modelToWorldVisual|modelToWorldVisualWorld|modelToWorldWorld|modParams|moonIntensity|moonPhase|morale|move|move3DENCamera|moveInAny|moveInCargo|moveInCommander|moveInDriver|moveInGunner|moveInTurret|moveObjectToEnd|moveOut|moveTime|moveTo|moveToCompleted|moveToFailed|musicVolume|name|nameSound|nearEntities|nearestBuilding|nearestLocation|nearestLocations|nearestLocationWithDubbing|nearestObject|nearestObjects|nearestTerrainObjects|nearObjects|nearObjectsReady|nearRoads|nearSupplies|nearTargets|needReload|netId|netObjNull|newOverlay|nextMenuItemIndex|nextWeatherChange|nMenuItems|numberOfEnginesRTD|numberToDate|objectCurators|objectFromNetId|objectParent|objNull|objStatus|onBriefingGear|onBriefingGroup|onBriefingNotes|onBriefingPlan|onBriefingTeamSwitch|onCommandModeChanged|onDoubleClick|onEachFrame|onGroupIconClick|onGroupIconOverEnter|onGroupIconOverLeave|onHCGroupSelectionChanged|onMapSingleClick|onPlayerConnected|onPlayerDisconnected|onPreloadFinished|onPreloadStarted|onShowNewObject|onTeamSwitch|openCuratorInterface|openDLCPage|openDSInterface|openMap|openSteamApp|openYoutubeVideo|opfor|orderGetIn|overcast|overcastForecast|owner|param|params|parseNumber|parseSimpleArray|parseText|parsingNamespace|particlesQuality|pi|pickWeaponPool|pitch|pixelGrid|pixelGridBase|pixelGridNoUIScale|pixelH|pixelW|playableSlotsNumber|playableUnits|playAction|playActionNow|player|playerRespawnTime|playerSide|playersNumber|playGesture|playMission|playMove|playMoveNow|playMusic|playScriptedMission|playSound|playSound3D|position|positionCameraToWorld|posScreenToWorld|posWorldToScreen|ppEffectAdjust|ppEffectCommit|ppEffectCommitted|ppEffectCreate|ppEffectDestroy|ppEffectEnable|ppEffectEnabled|ppEffectForceInNVG|precision|preloadCamera|preloadObject|preloadSound|preloadTitleObj|preloadTitleRsc|primaryWeapon|primaryWeaponItems|primaryWeaponMagazine|priority|processDiaryLink|processInitCommands|productVersion|profileName|profileNamespace|profileNameSteam|progressLoadingScreen|progressPosition|progressSetPosition|publicVariable|publicVariableClient|publicVariableServer|pushBack|pushBackUnique|putWeaponPool|queryItemsPool|queryMagazinePool|queryWeaponPool|rad|radioChannelAdd|radioChannelCreate|radioChannelRemove|radioChannelSetCallSign|radioChannelSetLabel|radioVolume|rain|rainbow|random|rank|rankId|rating|rectangular|registeredTasks|registerTask|reload|reloadEnabled|remoteControl|remoteExec|remoteExecCall|remoteExecutedOwner|remove3DENConnection|remove3DENEventHandler|remove3DENLayer|removeAction|removeAll3DENEventHandlers|removeAllActions|removeAllAssignedItems|removeAllContainers|removeAllCuratorAddons|removeAllCuratorCameraAreas|removeAllCuratorEditingAreas|removeAllEventHandlers|removeAllHandgunItems|removeAllItems|removeAllItemsWithMagazines|removeAllMissionEventHandlers|removeAllMPEventHandlers|removeAllMusicEventHandlers|removeAllOwnedMines|removeAllPrimaryWeaponItems|removeAllWeapons|removeBackpack|removeBackpackGlobal|removeCuratorAddons|removeCuratorCameraArea|removeCuratorEditableObjects|removeCuratorEditingArea|removeDrawIcon|removeDrawLinks|removeEventHandler|removeFromRemainsCollector|removeGoggles|removeGroupIcon|removeHandgunItem|removeHeadgear|removeItem|removeItemFromBackpack|removeItemFromUniform|removeItemFromVest|removeItems|removeMagazine|removeMagazineGlobal|removeMagazines|removeMagazinesTurret|removeMagazineTurret|removeMenuItem|removeMissionEventHandler|removeMPEventHandler|removeMusicEventHandler|removeOwnedMine|removePrimaryWeaponItem|removeSecondaryWeaponItem|removeSimpleTask|removeSwitchableUnit|removeTeamMember|removeUniform|removeVest|removeWeapon|removeWeaponAttachmentCargo|removeWeaponCargo|removeWeaponGlobal|removeWeaponTurret|reportRemoteTarget|requiredVersion|resetCamShake|resetSubgroupDirection|resistance|resize|resources|respawnVehicle|restartEditorCamera|reveal|revealMine|reverse|reversedMouseY|roadAt|roadsConnectedTo|roleDescription|ropeAttachedObjects|ropeAttachedTo|ropeAttachEnabled|ropeAttachTo|ropeCreate|ropeCut|ropeDestroy|ropeDetach|ropeEndPosition|ropeLength|ropes|ropeUnwind|ropeUnwound|rotorsForcesRTD|rotorsRpmRTD|round|runInitScript|safeZoneH|safeZoneW|safeZoneWAbs|safeZoneX|safeZoneXAbs|safeZoneY|save3DENInventory|saveGame|saveIdentity|saveJoysticks|saveOverlay|saveProfileNamespace|saveStatus|saveVar|savingEnabled|say|say2D|say3D|score|scoreSide|screenshot|screenToWorld|scriptDone|scriptName|scriptNull|scudState|secondaryWeapon|secondaryWeaponItems|secondaryWeaponMagazine|select|selectBestPlaces|selectDiarySubject|selectedEditorObjects|selectEditorObject|selectionNames|selectionPosition|selectLeader|selectMax|selectMin|selectNoPlayer|selectPlayer|selectRandom|selectRandomWeighted|selectWeapon|selectWeaponTurret|sendAUMessage|sendSimpleCommand|sendTask|sendTaskResult|sendUDPMessage|serverCommand|serverCommandAvailable|serverCommandExecutable|serverName|serverTime|set|set3DENAttribute|set3DENAttributes|set3DENGrid|set3DENIconsVisible|set3DENLayer|set3DENLinesVisible|set3DENLogicType|set3DENMissionAttribute|set3DENMissionAttributes|set3DENModelsVisible|set3DENObjectType|set3DENSelected|setAccTime|setActualCollectiveRTD|setAirplaneThrottle|setAirportSide|setAmmo|setAmmoCargo|setAmmoOnPylon|setAnimSpeedCoef|setAperture|setApertureNew|setArmoryPoints|setAttributes|setAutonomous|setBehaviour|setBleedingRemaining|setBrakesRTD|setCameraInterest|setCamShakeDefParams|setCamShakeParams|setCamUseTI|setCaptive|setCenterOfMass|setCollisionLight|setCombatMode|setCompassOscillation|setConvoySeparation|setCuratorCameraAreaCeiling|setCuratorCoef|setCuratorEditingAreaType|setCuratorWaypointCost|setCurrentChannel|setCurrentTask|setCurrentWaypoint|setCustomAimCoef|setCustomWeightRTD|setDamage|setDammage|setDate|setDebriefingText|setDefaultCamera|setDestination|setDetailMapBlendPars|setDir|setDirection|setDrawIcon|setDriveOnPath|setDropInterval|setDynamicSimulationDistance|setDynamicSimulationDistanceCoef|setEditorMode|setEditorObjectScope|setEffectCondition|setEngineRpmRTD|setFace|setFaceAnimation|setFatigue|setFeatureType|setFlagAnimationPhase|setFlagOwner|setFlagSide|setFlagTexture|setFog|setForceGeneratorRTD|setFormation|setFormationTask|setFormDir|setFriend|setFromEditor|setFSMVariable|setFuel|setFuelCargo|setGroupIcon|setGroupIconParams|setGroupIconsSelectable|setGroupIconsVisible|setGroupId|setGroupIdGlobal|setGroupOwner|setGusts|setHideBehind|setHit|setHitIndex|setHitPointDamage|setHorizonParallaxCoef|setHUDMovementLevels|setIdentity|setImportance|setInfoPanel|setLeader|setLightAmbient|setLightAttenuation|setLightBrightness|setLightColor|setLightDayLight|setLightFlareMaxDistance|setLightFlareSize|setLightIntensity|setLightnings|setLightUseFlare|setLocalWindParams|setMagazineTurretAmmo|setMarkerAlpha|setMarkerAlphaLocal|setMarkerBrush|setMarkerBrushLocal|setMarkerColor|setMarkerColorLocal|setMarkerDir|setMarkerDirLocal|setMarkerPos|setMarkerPosLocal|setMarkerShape|setMarkerShapeLocal|setMarkerSize|setMarkerSizeLocal|setMarkerText|setMarkerTextLocal|setMarkerType|setMarkerTypeLocal|setMass|setMimic|setMousePosition|setMusicEffect|setMusicEventHandler|setName|setNameSound|setObjectArguments|setObjectMaterial|setObjectMaterialGlobal|setObjectProxy|setObjectTexture|setObjectTextureGlobal|setObjectViewDistance|setOvercast|setOwner|setOxygenRemaining|setParticleCircle|setParticleClass|setParticleFire|setParticleParams|setParticleRandom|setPilotCameraDirection|setPilotCameraRotation|setPilotCameraTarget|setPilotLight|setPiPEffect|setPitch|setPlateNumber|setPlayable|setPlayerRespawnTime|setPos|setPosASL|setPosASL2|setPosASLW|setPosATL|setPosition|setPosWorld|setPylonLoadOut|setPylonsPriority|setRadioMsg|setRain|setRainbow|setRandomLip|setRank|setRectangular|setRepairCargo|setRotorBrakeRTD|setShadowDistance|setShotParents|setSide|setSimpleTaskAlwaysVisible|setSimpleTaskCustomData|setSimpleTaskDescription|setSimpleTaskDestination|setSimpleTaskTarget|setSimpleTaskType|setSimulWeatherLayers|setSize|setSkill|setSlingLoad|setSoundEffect|setSpeaker|setSpeech|setSpeedMode|setStamina|setStaminaScheme|setStatValue|setSuppression|setSystemOfUnits|setTargetAge|setTaskMarkerOffset|setTaskResult|setTaskState|setTerrainGrid|setText|setTimeMultiplier|setTitleEffect|setToneMapping|setToneMappingParams|setTrafficDensity|setTrafficDistance|setTrafficGap|setTrafficSpeed|setTriggerActivation|setTriggerArea|setTriggerStatements|setTriggerText|setTriggerTimeout|setTriggerType|setType|setUnconscious|setUnitAbility|setUnitLoadout|setUnitPos|setUnitPosWeak|setUnitRank|setUnitRecoilCoefficient|setUnitTrait|setUnloadInCombat|setUserActionText|setUserMFDText|setUserMFDValue|setVariable|setVectorDir|setVectorDirAndUp|setVectorUp|setVehicleAmmo|setVehicleAmmoDef|setVehicleArmor|setVehicleCargo|setVehicleId|setVehicleInit|setVehicleLock|setVehiclePosition|setVehicleRadar|setVehicleReceiveRemoteTargets|setVehicleReportOwnPosition|setVehicleReportRemoteTargets|setVehicleTIPars|setVehicleVarName|setVelocity|setVelocityModelSpace|setVelocityTransformation|setViewDistance|setVisibleIfTreeCollapsed|setWantedRpmRTD|setWaves|setWaypointBehaviour|setWaypointCombatMode|setWaypointCompletionRadius|setWaypointDescription|setWaypointForceBehaviour|setWaypointFormation|setWaypointHousePosition|setWaypointLoiterRadius|setWaypointLoiterType|setWaypointName|setWaypointPosition|setWaypointScript|setWaypointSpeed|setWaypointStatements|setWaypointTimeout|setWaypointType|setWaypointVisible|setWeaponReloadingTime|setWind|setWindDir|setWindForce|setWindStr|setWingForceScaleRTD|setWPPos|show3DIcons|showChat|showCinemaBorder|showCommandingMenu|showCompass|showCuratorCompass|showGPS|showHUD|showLegend|showMap|shownArtilleryComputer|shownChat|shownCompass|shownCuratorCompass|showNewEditorObject|shownGPS|shownHUD|shownMap|shownPad|shownRadio|shownScoretable|shownUAVFeed|shownWarrant|shownWatch|showPad|showRadio|showScoretable|showSubtitles|showUAVFeed|showWarrant|showWatch|showWaypoint|showWaypoints|side|sideAmbientLife|sideChat|sideEmpty|sideEnemy|sideFriendly|sideLogic|sideRadio|sideUnknown|simpleTasks|simulationEnabled|simulCloudDensity|simulCloudOcclusion|simulInClouds|simulWeatherSync|sin|size|sizeOf|skill|skillFinal|skipTime|sleep|sliderPosition|sliderRange|sliderSetPosition|sliderSetRange|sliderSetSpeed|sliderSpeed|slingLoadAssistantShown|soldierMagazines|someAmmo|sort|soundVolume|speaker|speed|speedMode|splitString|sqrt|squadParams|stance|startLoadingScreen|stop|stopEngineRTD|stopped|str|sunOrMoon|supportInfo|suppressFor|surfaceIsWater|surfaceNormal|surfaceType|swimInDepth|switchableUnits|switchAction|switchCamera|switchGesture|switchLight|switchMove|synchronizedObjects|synchronizedTriggers|synchronizedWaypoints|synchronizeObjectsAdd|synchronizeObjectsRemove|synchronizeTrigger|synchronizeWaypoint|systemChat|systemOfUnits|tan|targetKnowledge|targets|targetsAggregate|targetsQuery|taskAlwaysVisible|taskChildren|taskCompleted|taskCustomData|taskDescription|taskDestination|taskHint|taskMarkerOffset|taskNull|taskParent|taskResult|taskState|taskType|teamMember|teamMemberNull|teamName|teams|teamSwitch|teamSwitchEnabled|teamType|terminate|terrainIntersect|terrainIntersectASL|terrainIntersectAtASL|text|textLog|textLogFormat|tg|time|timeMultiplier|titleCut|titleFadeOut|titleObj|titleRsc|titleText|toArray|toFixed|toLower|toString|toUpper|triggerActivated|triggerActivation|triggerArea|triggerAttachedVehicle|triggerAttachObject|triggerAttachVehicle|triggerDynamicSimulation|triggerStatements|triggerText|triggerTimeout|triggerTimeoutCurrent|triggerType|turretLocal|turretOwner|turretUnit|tvAdd|tvClear|tvCollapse|tvCollapseAll|tvCount|tvCurSel|tvData|tvDelete|tvExpand|tvExpandAll|tvPicture|tvPictureRight|tvSetColor|tvSetCurSel|tvSetData|tvSetPicture|tvSetPictureColor|tvSetPictureColorDisabled|tvSetPictureColorSelected|tvSetPictureRight|tvSetPictureRightColor|tvSetPictureRightColorDisabled|tvSetPictureRightColorSelected|tvSetSelectColor|tvSetText|tvSetTooltip|tvSetValue|tvSort|tvSortByValue|tvText|tvTooltip|tvValue|type|typeName|typeOf|UAVControl|uiNamespace|uiSleep|unassignCurator|unassignItem|unassignTeam|unassignVehicle|underwater|uniform|uniformContainer|uniformItems|uniformMagazines|unitAddons|unitAimPosition|unitAimPositionVisual|unitBackpack|unitIsUAV|unitPos|unitReady|unitRecoilCoefficient|units|unitsBelowHeight|unlinkItem|unlockAchievement|unregisterTask|updateDrawIcon|updateMenuItem|updateObjectTree|useAIOperMapObstructionTest|useAISteeringComponent|useAudioTimeForMoves|userInputDisabled|vectorAdd|vectorCos|vectorCrossProduct|vectorDiff|vectorDir|vectorDirVisual|vectorDistance|vectorDistanceSqr|vectorDotProduct|vectorFromTo|vectorMagnitude|vectorMagnitudeSqr|vectorModelToWorld|vectorModelToWorldVisual|vectorMultiply|vectorNormalized|vectorUp|vectorUpVisual|vectorWorldToModel|vectorWorldToModelVisual|vehicle|vehicleCargoEnabled|vehicleChat|vehicleRadio|vehicleReceiveRemoteTargets|vehicleReportOwnPosition|vehicleReportRemoteTargets|vehicles|vehicleVarName|velocity|velocityModelSpace|verifySignature|vest|vestContainer|vestItems|vestMagazines|viewDistance|visibleCompass|visibleGPS|visibleMap|visiblePosition|visiblePositionASL|visibleScoretable|visibleWatch|waitUntil|waves|waypointAttachedObject|waypointAttachedVehicle|waypointAttachObject|waypointAttachVehicle|waypointBehaviour|waypointCombatMode|waypointCompletionRadius|waypointDescription|waypointForceBehaviour|waypointFormation|waypointHousePosition|waypointLoiterRadius|waypointLoiterType|waypointName|waypointPosition|waypoints|waypointScript|waypointsEnabledUAV|waypointShow|waypointSpeed|waypointStatements|waypointTimeout|waypointTimeoutCurrent|waypointType|waypointVisible|weaponAccessories|weaponAccessoriesCargo|weaponCargo|weaponDirection|weaponInertia|weaponLowered|weapons|weaponsItems|weaponsItemsCargo|weaponState|weaponsTurret|weightRTD|west|WFSideText|wind|windDir|windRTD|windStr|wingsForcesRTD|worldName|worldSize|worldToModel|worldToModelVisual|worldToScreen)\b/i,number:/(?:\$|\b0x)[\da-f]+\b|(?:\B\.\d+|\b\d+(?:\.\d+)?)(?:e[+-]?\d+)?\b/i,operator:/##|>>|&&|\|\||[!=<>]=?|[-+*/%#^]|\b(?:and|mod|not|or)\b/i,"magic-variable":{pattern:/\b(?:this|thisList|thisTrigger|_exception|_fnc_scriptName|_fnc_scriptNameParent|_forEachIndex|_this|_thisEventHandler|_thisFSM|_thisScript|_x)\b/i,alias:"keyword"},constant:/\bDIK(?:_[a-z\d]+)+\b/i}),e.languages.insertBefore("sqf","string",{macro:{pattern:/(^[ \t]*)#[a-z](?:[^\r\n\\]|\\(?:\r\n|[\s\S]))*/im,lookbehind:!0,greedy:!0,alias:"property",inside:{directive:{pattern:/#[a-z]+\b/i,alias:"keyword"},comment:e.languages.sqf.comment}}}),delete e.languages.sqf["class-name"]}uS.displayName="squirrel";uS.aliases=[];function uS(e){e.register(at),e.languages.squirrel=e.languages.extend("clike",{comment:[e.languages.clike.comment[0],{pattern:/(^|[^\\:])(?:\/\/|#).*/,lookbehind:!0,greedy:!0}],string:{pattern:/(^|[^\\"'@])(?:@"(?:[^"]|"")*"(?!")|"(?:[^\\\r\n"]|\\.)*")/,lookbehind:!0,greedy:!0},"class-name":{pattern:/(\b(?:class|enum|extends|instanceof)\s+)\w+(?:\.\w+)*/,lookbehind:!0,inside:{punctuation:/\./}},keyword:/\b(?:__FILE__|__LINE__|base|break|case|catch|class|clone|const|constructor|continue|default|delete|else|enum|extends|for|foreach|function|if|in|instanceof|local|null|resume|return|static|switch|this|throw|try|typeof|while|yield)\b/,number:/\b(?:0x[0-9a-fA-F]+|\d+(?:\.(?:\d+|[eE][+-]?\d+))?)\b/,operator:/\+\+|--|<=>|<[-<]|>>>?|&&?|\|\|?|[-+*/%!=<>]=?|[~^]|::?/,punctuation:/[(){}\[\],;.]/}),e.languages.insertBefore("squirrel","string",{char:{pattern:/(^|[^\\"'])'(?:[^\\']|\\(?:[xuU][0-9a-fA-F]{0,8}|[\s\S]))'/,lookbehind:!0,greedy:!0}}),e.languages.insertBefore("squirrel","operator",{"attribute-punctuation":{pattern:/<\/|\/>/,alias:"important"},lambda:{pattern:/@(?=\()/,alias:"operator"}})}cS.displayName="stan";cS.aliases=[];function cS(e){(function(t){var n=/\b(?:algebra_solver|algebra_solver_newton|integrate_1d|integrate_ode|integrate_ode_bdf|integrate_ode_rk45|map_rect|ode_(?:adams|bdf|ckrk|rk45)(?:_tol)?|ode_adjoint_tol_ctl|reduce_sum|reduce_sum_static)\b/;t.languages.stan={comment:/\/\/.*|\/\*[\s\S]*?\*\/|#(?!include).*/,string:{pattern:/"[\x20\x21\x23-\x5B\x5D-\x7E]*"/,greedy:!0},directive:{pattern:/^([ \t]*)#include\b.*/m,lookbehind:!0,alias:"property"},"function-arg":{pattern:RegExp("("+n.source+/\s*\(\s*/.source+")"+/[a-zA-Z]\w*/.source),lookbehind:!0,alias:"function"},constraint:{pattern:/(\b(?:int|matrix|real|row_vector|vector)\s*)<[^<>]*>/,lookbehind:!0,inside:{expression:{pattern:/(=\s*)\S(?:\S|\s+(?!\s))*?(?=\s*(?:>$|,\s*\w+\s*=))/,lookbehind:!0,inside:null},property:/\b[a-z]\w*(?=\s*=)/i,operator:/=/,punctuation:/^<|>$|,/}},keyword:[{pattern:/\bdata(?=\s*\{)|\b(?:functions|generated|model|parameters|quantities|transformed)\b/,alias:"program-block"},/\b(?:array|break|cholesky_factor_corr|cholesky_factor_cov|complex|continue|corr_matrix|cov_matrix|data|else|for|if|in|increment_log_prob|int|matrix|ordered|positive_ordered|print|real|reject|return|row_vector|simplex|target|unit_vector|vector|void|while)\b/,n],function:/\b[a-z]\w*(?=\s*\()/i,number:/(?:\b\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\B\.\d+(?:_\d+)*)(?:E[+-]?\d+(?:_\d+)*)?i?(?!\w)/i,boolean:/\b(?:false|true)\b/,operator:/<-|\.[*/]=?|\|\|?|&&|[!=<>+\-*/]=?|['^%~?:]/,punctuation:/[()\[\]{},;]/},t.languages.stan.constraint.inside.expression.inside=t.languages.stan})(e)}dS.displayName="stata";dS.aliases=[];function dS(e){e.register(wo),e.register(vm),e.register(zd),e.languages.stata={comment:[{pattern:/(^[ \t]*)\*.*/m,lookbehind:!0,greedy:!0},{pattern:/(^|\s)\/\/.*|\/\*[\s\S]*?\*\//,lookbehind:!0,greedy:!0}],"string-literal":{pattern:/"[^"\r\n]*"|[`']".*?"[`']/,greedy:!0,inside:{interpolation:{pattern:/\$\{[^{}]*\}|[`']\w[^`'\r\n]*[`']/,inside:{punctuation:/^\$\{|\}$/,expression:{pattern:/[\s\S]+/,inside:null}}},string:/[\s\S]+/}},mata:{pattern:/(^[ \t]*mata[ \t]*:)[\s\S]+?(?=^end\b)/m,lookbehind:!0,greedy:!0,alias:"language-mata",inside:e.languages.mata},java:{pattern:/(^[ \t]*java[ \t]*:)[\s\S]+?(?=^end\b)/m,lookbehind:!0,greedy:!0,alias:"language-java",inside:e.languages.java},python:{pattern:/(^[ \t]*python[ \t]*:)[\s\S]+?(?=^end\b)/m,lookbehind:!0,greedy:!0,alias:"language-python",inside:e.languages.python},command:{pattern:/(^[ \t]*(?:\.[ \t]+)?(?:(?:bayes|bootstrap|by|bysort|capture|collect|fmm|fp|frame|jackknife|mfp|mi|nestreg|noisily|permute|quietly|rolling|simulate|statsby|stepwise|svy|version|xi)\b[^:\r\n]*:[ \t]*|(?:capture|noisily|quietly|version)[ \t]+)?)[a-zA-Z]\w*/m,lookbehind:!0,greedy:!0,alias:"keyword"},variable:/\$\w+|[`']\w[^`'\r\n]*[`']/,keyword:/\b(?:bayes|bootstrap|by|bysort|capture|clear|collect|fmm|fp|frame|if|in|jackknife|mi[ \t]+estimate|mfp|nestreg|noisily|of|permute|quietly|rolling|simulate|sort|statsby|stepwise|svy|varlist|version|xi)\b/,boolean:/\b(?:off|on)\b/,number:/\b\d+(?:\.\d+)?\b|\B\.\d+/,function:/\b[a-z_]\w*(?=\()/i,operator:/\+\+|--|##?|[<>!=~]=?|[+\-*^&|/]/,punctuation:/[(){}[\],:]/},e.languages.stata["string-literal"].inside.interpolation.inside.expression.inside=e.languages.stata}pS.displayName="iecst";pS.aliases=[];function pS(e){e.languages.iecst={comment:[{pattern:/(^|[^\\])(?:\/\*[\s\S]*?(?:\*\/|$)|\(\*[\s\S]*?(?:\*\)|$)|\{[\s\S]*?(?:\}|$))/,lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},keyword:[/\b(?:END_)?(?:PROGRAM|CONFIGURATION|INTERFACE|FUNCTION_BLOCK|FUNCTION|ACTION|TRANSITION|TYPE|STRUCT|(?:INITIAL_)?STEP|NAMESPACE|LIBRARY|CHANNEL|FOLDER|RESOURCE|VAR_(?:ACCESS|CONFIG|EXTERNAL|GLOBAL|INPUT|IN_OUT|OUTPUT|TEMP)|VAR|METHOD|PROPERTY)\b/i,/\b(?:AT|BY|(?:END_)?(?:CASE|FOR|IF|REPEAT|WHILE)|CONSTANT|CONTINUE|DO|ELSE|ELSIF|EXIT|EXTENDS|FROM|GET|GOTO|IMPLEMENTS|JMP|NON_RETAIN|OF|PRIVATE|PROTECTED|PUBLIC|RETAIN|RETURN|SET|TASK|THEN|TO|UNTIL|USING|WITH|__CATCH|__ENDTRY|__FINALLY|__TRY)\b/],"class-name":/\b(?:ANY|ARRAY|BOOL|BYTE|U?(?:D|L|S)?INT|(?:D|L)?WORD|DATE(?:_AND_TIME)?|DT|L?REAL|POINTER|STRING|TIME(?:_OF_DAY)?|TOD)\b/,address:{pattern:/%[IQM][XBWDL][\d.]*|%[IQ][\d.]*/,alias:"symbol"},number:/\b(?:16#[\da-f]+|2#[01_]+|0x[\da-f]+)\b|\b(?:D|DT|T|TOD)#[\d_shmd:]*|\b[A-Z]*#[\d.,_]*|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?/i,boolean:/\b(?:FALSE|NULL|TRUE)\b/,operator:/S?R?:?=>?|&&?|\*\*?|<[=>]?|>=?|[-:^/+#]|\b(?:AND|EQ|EXPT|GE|GT|LE|LT|MOD|NE|NOT|OR|XOR)\b/,function:/\b[a-z_]\w*(?=\s*\()/i,punctuation:/[()[\].,;]/}}hS.displayName="supercollider";hS.aliases=["sclang"];function hS(e){e.languages.supercollider={comment:{pattern:/\/\/.*|\/\*(?:[^*/]|\*(?!\/)|\/(?!\*)|\/\*(?:[^*]|\*(?!\/))*\*\/)*\*\//,greedy:!0},string:{pattern:/(^|[^\\])"(?:[^"\\]|\\[\s\S])*"/,lookbehind:!0,greedy:!0},char:{pattern:/\$(?:[^\\\r\n]|\\.)/,greedy:!0},symbol:{pattern:/(^|[^\\])'(?:[^'\\]|\\[\s\S])*'|\\\w+/,lookbehind:!0,greedy:!0},keyword:/\b(?:_|arg|classvar|const|nil|var|while)\b/,boolean:/\b(?:false|true)\b/,label:{pattern:/\b[a-z_]\w*(?=\s*:)/,alias:"property"},number:/\b(?:inf|pi|0x[0-9a-fA-F]+|\d+(?:\.\d+)?(?:[eE][+-]?\d+)?(?:pi)?|\d+r[0-9a-zA-Z]+(?:\.[0-9a-zA-Z]+)?|\d+[sb]{1,4}\d*)\b/,"class-name":/\b[A-Z]\w*\b/,operator:/\.{2,3}|#(?![[{])|&&|[!=]==?|\+>>|\+{1,3}|-[->]|=>|>>|\?\?|@\|?@|\|(?:@|[!=]=)?\||!\?|<[!=>]|\*{1,2}|<{2,3}\*?|[-!%&/<>?@|=`]/,punctuation:/[{}()[\].:,;]|#[[{]/},e.languages.sclang=e.languages.supercollider}fS.displayName="systemd";fS.aliases=[];function fS(e){(function(t){var n={pattern:/^[;#].*/m,greedy:!0},r=/"(?:[^\r\n"\\]|\\(?:[^\r]|\r\n?))*"(?!\S)/.source;t.languages.systemd={comment:n,section:{pattern:/^\[[^\n\r\[\]]*\](?=[ \t]*$)/m,greedy:!0,inside:{punctuation:/^\[|\]$/,"section-name":{pattern:/[\s\S]+/,alias:"selector"}}},key:{pattern:/^[^\s=]+(?=[ \t]*=)/m,greedy:!0,alias:"attr-name"},value:{pattern:RegExp(/(=[ \t]*(?!\s))/.source+"(?:"+r+`|(?=[^"\r
]))(?:`+(/[^\s\\]/.source+'|[ 	]+(?:(?![ 	"])|'+r+")|"+/\\[\r\n]+(?:[#;].*[\r\n]+)*(?![#;])/.source)+")*"),lookbehind:!0,greedy:!0,alias:"attr-value",inside:{comment:n,quoted:{pattern:RegExp(/(^|\s)/.source+r),lookbehind:!0,greedy:!0},punctuation:/\\$/m,boolean:{pattern:/^(?:false|no|off|on|true|yes)$/,greedy:!0}}},punctuation:/=/}})(e)}Yd.displayName="t4-templating";Yd.aliases=[];function Yd(e){(function(t){function n(a,i,o){return{pattern:RegExp("<#"+a+"[\\s\\S]*?#>"),alias:"block",inside:{delimiter:{pattern:RegExp("^<#"+a+"|#>$"),alias:"important"},content:{pattern:/[\s\S]+/,inside:i,alias:o}}}}function r(a){var i=t.languages[a],o="language-"+a;return{block:{pattern:/<#[\s\S]+?#>/,inside:{directive:n("@",{"attr-value":{pattern:/=(?:("|')(?:\\[\s\S]|(?!\1)[^\\])*\1|[^\s'">=]+)/,inside:{punctuation:/^=|^["']|["']$/}},keyword:/\b\w+(?=\s)/,"attr-name":/\b\w+/}),expression:n("=",i,o),"class-feature":n("\\+",i,o),standard:n("",i,o)}}}}t.languages["t4-templating"]=Object.defineProperty({},"createT4",{value:r})})(e)}mS.displayName="t4-cs";mS.aliases=["t4"];function mS(e){e.register(Eo),e.register(Yd),e.languages.t4=e.languages["t4-cs"]=e.languages["t4-templating"].createT4("csharp")}gS.displayName="t4-vb";gS.aliases=[];function gS(e){e.register(Yd),e.register(qd),e.languages["t4-vb"]=e.languages["t4-templating"].createT4("vbnet")}bS.displayName="tap";bS.aliases=[];function bS(e){e.register(Hd),e.languages.tap={fail:/not ok[^#{\n\r]*/,pass:/ok[^#{\n\r]*/,pragma:/pragma [+-][a-z]+/,bailout:/bail out!.*/i,version:/TAP version \d+/i,plan:/\b\d+\.\.\d+(?: +#.*)?/,subtest:{pattern:/# Subtest(?:: .*)?/,greedy:!0},punctuation:/[{}]/,directive:/#.*/,yamlish:{pattern:/(^[ \t]*)---[\s\S]*?[\r\n][ \t]*\.\.\.$/m,lookbehind:!0,inside:e.languages.yaml,alias:"language-yaml"}}}yS.displayName="tcl";yS.aliases=[];function yS(e){e.languages.tcl={comment:{pattern:/(^|[^\\])#.*/,lookbehind:!0},string:{pattern:/"(?:[^"\\\r\n]|\\(?:\r\n|[\s\S]))*"/,greedy:!0},variable:[{pattern:/(\$)(?:::)?(?:[a-zA-Z0-9]+::)*\w+/,lookbehind:!0},{pattern:/(\$)\{[^}]+\}/,lookbehind:!0},{pattern:/(^[\t ]*set[ \t]+)(?:::)?(?:[a-zA-Z0-9]+::)*\w+/m,lookbehind:!0}],function:{pattern:/(^[\t ]*proc[ \t]+)\S+/m,lookbehind:!0},builtin:[{pattern:/(^[\t ]*)(?:break|class|continue|error|eval|exit|for|foreach|if|proc|return|switch|while)\b/m,lookbehind:!0},/\b(?:else|elseif)\b/],scope:{pattern:/(^[\t ]*)(?:global|upvar|variable)\b/m,lookbehind:!0,alias:"constant"},keyword:{pattern:/(^[\t ]*|\[)(?:Safe_Base|Tcl|after|append|apply|array|auto_(?:execok|import|load|mkindex|qualify|reset)|automkindex_old|bgerror|binary|catch|cd|chan|clock|close|concat|dde|dict|encoding|eof|exec|expr|fblocked|fconfigure|fcopy|file(?:event|name)?|flush|gets|glob|history|http|incr|info|interp|join|lappend|lassign|lindex|linsert|list|llength|load|lrange|lrepeat|lreplace|lreverse|lsearch|lset|lsort|math(?:func|op)|memory|msgcat|namespace|open|package|parray|pid|pkg_mkIndex|platform|puts|pwd|re_syntax|read|refchan|regexp|registry|regsub|rename|scan|seek|set|socket|source|split|string|subst|tcl(?:_endOfWord|_findLibrary|startOf(?:Next|Previous)Word|test|vars|wordBreak(?:After|Before))|tell|time|tm|trace|unknown|unload|unset|update|uplevel|vwait)\b/m,lookbehind:!0},operator:/!=?|\*\*?|==|&&?|\|\|?|<[=<]?|>[=>]?|[-+~\/%?^]|\b(?:eq|in|ne|ni)\b/,punctuation:/[{}()\[\]]/}}xS.displayName="tt2";xS.aliases=[];function xS(e){e.register(at),e.register(Rn),function(t){t.languages.tt2=t.languages.extend("clike",{comment:/#.*|\[%#[\s\S]*?%\]/,keyword:/\b(?:BLOCK|CALL|CASE|CATCH|CLEAR|DEBUG|DEFAULT|ELSE|ELSIF|END|FILTER|FINAL|FOREACH|GET|IF|IN|INCLUDE|INSERT|LAST|MACRO|META|NEXT|PERL|PROCESS|RAWPERL|RETURN|SET|STOP|SWITCH|TAGS|THROW|TRY|UNLESS|USE|WHILE|WRAPPER)\b/,punctuation:/[[\]{},()]/}),t.languages.insertBefore("tt2","number",{operator:/=[>=]?|!=?|<=?|>=?|&&|\|\|?|\b(?:and|not|or)\b/,variable:{pattern:/\b[a-z]\w*(?:\s*\.\s*(?:\d+|\$?[a-z]\w*))*\b/i}}),t.languages.insertBefore("tt2","keyword",{delimiter:{pattern:/^(?:\[%|%%)-?|-?%\]$/,alias:"punctuation"}}),t.languages.insertBefore("tt2","string",{"single-quoted-string":{pattern:/'[^\\']*(?:\\[\s\S][^\\']*)*'/,greedy:!0,alias:"string"},"double-quoted-string":{pattern:/"[^\\"]*(?:\\[\s\S][^\\"]*)*"/,greedy:!0,alias:"string",inside:{variable:{pattern:/\$(?:[a-z]\w*(?:\.(?:\d+|\$?[a-z]\w*))*)/i}}}}),delete t.languages.tt2.string,t.hooks.add("before-tokenize",function(n){var r=/\[%[\s\S]+?%\]/g;t.languages["markup-templating"].buildPlaceholders(n,"tt2",r)}),t.hooks.add("after-tokenize",function(n){t.languages["markup-templating"].tokenizePlaceholders(n,"tt2")})}(e)}vS.displayName="toml";vS.aliases=[];function vS(e){(function(t){var n=/(?:[\w-]+|'[^'\n\r]*'|"(?:\\.|[^\\"\r\n])*")/.source;function r(a){return a.replace(/__/g,function(){return n})}t.languages.toml={comment:{pattern:/#.*/,greedy:!0},table:{pattern:RegExp(r(/(^[\t ]*\[\s*(?:\[\s*)?)__(?:\s*\.\s*__)*(?=\s*\])/.source),"m"),lookbehind:!0,greedy:!0,alias:"class-name"},key:{pattern:RegExp(r(/(^[\t ]*|[{,]\s*)__(?:\s*\.\s*__)*(?=\s*=)/.source),"m"),lookbehind:!0,greedy:!0,alias:"property"},string:{pattern:/"""(?:\\[\s\S]|[^\\])*?"""|'''[\s\S]*?'''|'[^'\n\r]*'|"(?:\\.|[^\\"\r\n])*"/,greedy:!0},date:[{pattern:/\b\d{4}-\d{2}-\d{2}(?:[T\s]\d{2}:\d{2}:\d{2}(?:\.\d+)?(?:Z|[+-]\d{2}:\d{2})?)?\b/i,alias:"number"},{pattern:/\b\d{2}:\d{2}:\d{2}(?:\.\d+)?\b/,alias:"number"}],number:/(?:\b0(?:x[\da-zA-Z]+(?:_[\da-zA-Z]+)*|o[0-7]+(?:_[0-7]+)*|b[10]+(?:_[10]+)*))\b|[-+]?\b\d+(?:_\d+)*(?:\.\d+(?:_\d+)*)?(?:[eE][+-]?\d+(?:_\d+)*)?\b|[-+]?\b(?:inf|nan)\b/,boolean:/\b(?:false|true)\b/,punctuation:/[.,=[\]{}]/}})(e)}ES.displayName="tremor";ES.aliases=["trickle","troy"];function ES(e){(function(t){t.languages.tremor={comment:{pattern:/(^|[^\\])(?:\/\*[\s\S]*?\*\/|(?:--|\/\/|#).*)/,lookbehind:!0},"interpolated-string":null,extractor:{pattern:/\b[a-z_]\w*\|(?:[^\r\n\\|]|\\(?:\r\n|[\s\S]))*\|/i,greedy:!0,inside:{regex:{pattern:/(^re)\|[\s\S]+/,lookbehind:!0},function:/^\w+/,value:/\|[\s\S]+/}},identifier:{pattern:/`[^`]*`/,greedy:!0},function:/\b[a-z_]\w*(?=\s*(?:::\s*<|\())\b/,keyword:/\b(?:args|as|by|case|config|connect|connector|const|copy|create|default|define|deploy|drop|each|emit|end|erase|event|flow|fn|for|from|group|having|insert|into|intrinsic|let|links|match|merge|mod|move|of|operator|patch|pipeline|recur|script|select|set|sliding|state|stream|to|tumbling|update|use|when|where|window|with)\b/,boolean:/\b(?:false|null|true)\b/i,number:/\b(?:0b[01_]*|0x[0-9a-fA-F_]*|\d[\d_]*(?:\.\d[\d_]*)?(?:[Ee][+-]?[\d_]+)?)\b/,"pattern-punctuation":{pattern:/%(?=[({[])/,alias:"punctuation"},operator:/[-+*\/%~!^]=?|=[=>]?|&[&=]?|\|[|=]?|<<?=?|>>?>?=?|(?:absent|and|not|or|present|xor)\b/,punctuation:/::|[;\[\]()\{\},.:]/};var n=/#\{(?:[^"{}]|\{[^{}]*\}|"(?:[^"\\\r\n]|\\(?:\r\n|[\s\S]))*")*\}/.source;t.languages.tremor["interpolated-string"]={pattern:RegExp(/(^|[^\\])/.source+'(?:"""(?:'+/[^"\\#]|\\[\s\S]|"(?!"")|#(?!\{)/.source+"|"+n+')*"""|"(?:'+/[^"\\\r\n#]|\\(?:\r\n|[\s\S])|#(?!\{)/.source+"|"+n+')*")'),lookbehind:!0,greedy:!0,inside:{interpolation:{pattern:RegExp(n),inside:{punctuation:/^#\{|\}$/,expression:{pattern:/[\s\S]+/,inside:t.languages.tremor}}},string:/[\s\S]+/}},t.languages.troy=t.languages.tremor,t.languages.trickle=t.languages.tremor})(e)}wS.displayName="typoscript";wS.aliases=["tsconfig"];function wS(e){(function(t){var n=/\b(?:ACT|ACTIFSUB|CARRAY|CASE|CLEARGIF|COA|COA_INT|CONSTANTS|CONTENT|CUR|EDITPANEL|EFFECT|EXT|FILE|FLUIDTEMPLATE|FORM|FRAME|FRAMESET|GIFBUILDER|GMENU|GMENU_FOLDOUT|GMENU_LAYERS|GP|HMENU|HRULER|HTML|IENV|IFSUB|IMAGE|IMGMENU|IMGMENUITEM|IMGTEXT|IMG_RESOURCE|INCLUDE_TYPOSCRIPT|JSMENU|JSMENUITEM|LLL|LOAD_REGISTER|NO|PAGE|RECORDS|RESTORE_REGISTER|TEMPLATE|TEXT|TMENU|TMENUITEM|TMENU_LAYERS|USER|USER_INT|_GIFBUILDER|global|globalString|globalVar)\b/;t.languages.typoscript={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0},{pattern:/(^|[^\\:= \t]|(?:^|[^= \t])[ \t]+)\/\/.*/,lookbehind:!0,greedy:!0},{pattern:/(^|[^"'])#.*/,lookbehind:!0,greedy:!0}],function:[{pattern:/<INCLUDE_TYPOSCRIPT:\s*source\s*=\s*(?:"[^"\r\n]*"|'[^'\r\n]*')\s*>/,inside:{string:{pattern:/"[^"\r\n]*"|'[^'\r\n]*'/,inside:{keyword:n}},keyword:{pattern:/INCLUDE_TYPOSCRIPT/}}},{pattern:/@import\s*(?:"[^"\r\n]*"|'[^'\r\n]*')/,inside:{string:/"[^"\r\n]*"|'[^'\r\n]*'/}}],string:{pattern:/^([^=]*=[< ]?)(?:(?!\]\n).)*/,lookbehind:!0,inside:{function:/\{\$.*\}/,keyword:n,number:/^\d+$/,punctuation:/[,|:]/}},keyword:n,number:{pattern:/\b\d+\s*[.{=]/,inside:{operator:/[.{=]/}},tag:{pattern:/\.?[-\w\\]+\.?/,inside:{punctuation:/\./}},punctuation:/[{}[\];(),.:|]/,operator:/[<>]=?|[!=]=?=?|--?|\+\+?|&&?|\|\|?|[?*/~^%]/},t.languages.tsconfig=t.languages.typoscript})(e)}SS.displayName="unrealscript";SS.aliases=["uc","uscript"];function SS(e){e.languages.unrealscript={comment:/\/\/.*|\/\*[\s\S]*?\*\//,string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},category:{pattern:/(\b(?:(?:autoexpand|hide|show)categories|var)\s*\()[^()]+(?=\))/,lookbehind:!0,greedy:!0,alias:"property"},metadata:{pattern:/(\w\s*)<\s*\w+\s*=[^<>|=\r\n]+(?:\|\s*\w+\s*=[^<>|=\r\n]+)*>/,lookbehind:!0,greedy:!0,inside:{property:/\b\w+(?=\s*=)/,operator:/=/,punctuation:/[<>|]/}},macro:{pattern:/`\w+/,alias:"property"},"class-name":{pattern:/(\b(?:class|enum|extends|interface|state(?:\(\))?|struct|within)\s+)\w+/,lookbehind:!0},keyword:/\b(?:abstract|actor|array|auto|autoexpandcategories|bool|break|byte|case|class|classgroup|client|coerce|collapsecategories|config|const|continue|default|defaultproperties|delegate|dependson|deprecated|do|dontcollapsecategories|editconst|editinlinenew|else|enum|event|exec|export|extends|final|float|for|forcescriptorder|foreach|function|goto|guid|hidecategories|hidedropdown|if|ignores|implements|inherits|input|int|interface|iterator|latent|local|material|name|native|nativereplication|noexport|nontransient|noteditinlinenew|notplaceable|operator|optional|out|pawn|perobjectconfig|perobjectlocalized|placeable|postoperator|preoperator|private|protected|reliable|replication|return|server|showcategories|simulated|singular|state|static|string|struct|structdefault|structdefaultproperties|switch|texture|transient|travel|unreliable|until|var|vector|while|within)\b/,function:/\b[a-z_]\w*(?=\s*\()/i,boolean:/\b(?:false|true)\b/,number:/\b0x[\da-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?/i,operator:/>>|<<|--|\+\+|\*\*|[-+*/~!=<>$@]=?|&&?|\|\|?|\^\^?|[?:%]|\b(?:ClockwiseFrom|Cross|Dot)\b/,punctuation:/[()[\]{};,.]/},e.languages.uc=e.languages.uscript=e.languages.unrealscript}NS.displayName="uorazor";NS.aliases=[];function NS(e){e.languages.uorazor={"comment-hash":{pattern:/#.*/,alias:"comment",greedy:!0},"comment-slash":{pattern:/\/\/.*/,alias:"comment",greedy:!0},string:{pattern:/("|')(?:\\.|(?!\1)[^\\\r\n])*\1/,inside:{punctuation:/^['"]|['"]$/},greedy:!0},"source-layers":{pattern:/\b(?:arms|backpack|blue|bracelet|cancel|clear|cloak|criminal|earrings|enemy|facialhair|friend|friendly|gloves|gray|grey|ground|hair|head|innerlegs|innertorso|innocent|lefthand|middletorso|murderer|neck|nonfriendly|onehandedsecondary|outerlegs|outertorso|pants|red|righthand|ring|self|shirt|shoes|talisman|waist)\b/i,alias:"function"},"source-commands":{pattern:/\b(?:alliance|attack|cast|clearall|clearignore|clearjournal|clearlist|clearsysmsg|createlist|createtimer|dclick|dclicktype|dclickvar|dress|dressconfig|drop|droprelloc|emote|getlabel|guild|gumpclose|gumpresponse|hotkey|ignore|lasttarget|lift|lifttype|menu|menuresponse|msg|org|organize|organizer|overhead|pause|poplist|potion|promptresponse|pushlist|removelist|removetimer|rename|restock|say|scav|scavenger|script|setability|setlasttarget|setskill|settimer|setvar|sysmsg|target|targetloc|targetrelloc|targettype|undress|unignore|unsetvar|useobject|useonce|useskill|usetype|virtue|wait|waitforgump|waitformenu|waitforprompt|waitforstat|waitforsysmsg|waitfortarget|walk|wfsysmsg|wft|whisper|yell)\b/,alias:"function"},"tag-name":{pattern:/(^\{%-?\s*)\w+/,lookbehind:!0,alias:"keyword"},delimiter:{pattern:/^\{[{%]-?|-?[%}]\}$/,alias:"punctuation"},function:/\b(?:atlist|close|closest|count|counter|counttype|dead|dex|diffhits|diffmana|diffstam|diffweight|find|findbuff|finddebuff|findlayer|findtype|findtypelist|followers|gumpexists|hidden|hits|hp|hue|human|humanoid|ingump|inlist|insysmessage|insysmsg|int|invul|lhandempty|list|listexists|mana|maxhits|maxhp|maxmana|maxstam|maxweight|monster|mounted|name|next|noto|paralyzed|poisoned|position|prev|previous|queued|rand|random|rhandempty|skill|stam|str|targetexists|timer|timerexists|varexist|warmode|weight)\b/,keyword:/\b(?:and|as|break|continue|else|elseif|endfor|endif|endwhile|for|if|loop|not|or|replay|stop|while)\b/,boolean:/\b(?:false|null|true)\b/,number:/\b0x[\dA-Fa-f]+|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:[Ee][-+]?\d+)?/,operator:[{pattern:/(\s)(?:and|b-and|b-or|b-xor|ends with|in|is|matches|not|or|same as|starts with)(?=\s)/,lookbehind:!0},/[=<>]=?|!=|\*\*?|\/\/?|\?:?|[-+~%|]/],punctuation:/[()\[\]{}:.,]/}}kS.displayName="v";kS.aliases=[];function kS(e){e.register(at),function(t){var n={pattern:/[\s\S]+/,inside:null};t.languages.v=t.languages.extend("clike",{string:{pattern:/r?(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,alias:"quoted-string",greedy:!0,inside:{interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$(?:\{[^{}]*\}|\w+(?:\.\w+(?:\([^\(\)]*\))?|\[[^\[\]]+\])*)/,lookbehind:!0,inside:{"interpolation-variable":{pattern:/^\$\w[\s\S]*$/,alias:"variable"},"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"punctuation"},"interpolation-expression":n}}}},"class-name":{pattern:/(\b(?:enum|interface|struct|type)\s+)(?:C\.)?\w+/,lookbehind:!0},keyword:/(?:\b(?:__global|as|asm|assert|atomic|break|chan|const|continue|defer|else|embed|enum|fn|for|go(?:to)?|if|import|in|interface|is|lock|match|module|mut|none|or|pub|return|rlock|select|shared|sizeof|static|struct|type(?:of)?|union|unsafe)|\$(?:else|for|if)|#(?:flag|include))\b/,number:/\b(?:0x[a-f\d]+(?:_[a-f\d]+)*|0b[01]+(?:_[01]+)*|0o[0-7]+(?:_[0-7]+)*|\d+(?:_\d+)*(?:\.\d+(?:_\d+)*)?)\b/i,operator:/~|\?|[*\/%^!=]=?|\+[=+]?|-[=-]?|\|[=|]?|&(?:=|&|\^=?)?|>(?:>=?|=)?|<(?:<=?|=|-)?|:=|\.\.\.?/,builtin:/\b(?:any(?:_float|_int)?|bool|byte(?:ptr)?|charptr|f(?:32|64)|i(?:8|16|64|128|nt)|rune|size_t|string|u(?:16|32|64|128)|voidptr)\b/}),n.inside=t.languages.v,t.languages.insertBefore("v","string",{char:{pattern:/`(?:\\`|\\?[^`]{1,2})`/,alias:"rune"}}),t.languages.insertBefore("v","operator",{attribute:{pattern:/(^[\t ]*)\[(?:deprecated|direct_array_access|flag|inline|live|ref_only|typedef|unsafe_fn|windows_stdcall)\]/m,lookbehind:!0,alias:"annotation",inside:{punctuation:/[\[\]]/,keyword:/\w+/}},generic:{pattern:/<\w+>(?=\s*[\)\{])/,inside:{punctuation:/[<>]/,"class-name":/\w+/}}}),t.languages.insertBefore("v","function",{"generic-function":{pattern:/\b\w+\s*<\w+>(?=\()/,inside:{function:/^\w+/,generic:{pattern:/<\w+>/,inside:t.languages.v.generic.inside}}}})}(e)}_S.displayName="vala";_S.aliases=[];function _S(e){e.register(at),e.languages.vala=e.languages.extend("clike",{"class-name":[{pattern:/\b[A-Z]\w*(?:\.\w+)*\b(?=(?:\?\s+|\*?\s+\*?)\w)/,inside:{punctuation:/\./}},{pattern:/(\[)[A-Z]\w*(?:\.\w+)*\b/,lookbehind:!0,inside:{punctuation:/\./}},{pattern:/(\b(?:class|interface)\s+[A-Z]\w*(?:\.\w+)*\s*:\s*)[A-Z]\w*(?:\.\w+)*\b/,lookbehind:!0,inside:{punctuation:/\./}},{pattern:/((?:\b(?:class|enum|interface|new|struct)\s+)|(?:catch\s+\())[A-Z]\w*(?:\.\w+)*\b/,lookbehind:!0,inside:{punctuation:/\./}}],keyword:/\b(?:abstract|as|assert|async|base|bool|break|case|catch|char|class|const|construct|continue|default|delegate|delete|do|double|dynamic|else|ensures|enum|errordomain|extern|finally|float|for|foreach|get|if|in|inline|int|int16|int32|int64|int8|interface|internal|is|lock|long|namespace|new|null|out|override|owned|params|private|protected|public|ref|requires|return|set|short|signal|sizeof|size_t|ssize_t|static|string|struct|switch|this|throw|throws|try|typeof|uchar|uint|uint16|uint32|uint64|uint8|ulong|unichar|unowned|ushort|using|value|var|virtual|void|volatile|weak|while|yield)\b/i,function:/\b\w+(?=\s*\()/,number:/(?:\b0x[\da-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?)(?:f|u?l?)?/i,operator:/\+\+|--|&&|\|\||<<=?|>>=?|=>|->|~|[+\-*\/%&^|=!<>]=?|\?\??|\.\.\./,punctuation:/[{}[\];(),.:]/,constant:/\b[A-Z0-9_]+\b/}),e.languages.insertBefore("vala","string",{"raw-string":{pattern:/"""[\s\S]*?"""/,greedy:!0,alias:"string"},"template-string":{pattern:/@"[\s\S]*?"/,greedy:!0,inside:{interpolation:{pattern:/\$(?:\([^)]*\)|[a-zA-Z]\w*)/,inside:{delimiter:{pattern:/^\$\(?|\)$/,alias:"punctuation"},rest:e.languages.vala}},string:/[\s\S]+/}}}),e.languages.insertBefore("vala","keyword",{regex:{pattern:/\/(?:\[(?:[^\]\\\r\n]|\\.)*\]|\\.|[^/\\\[\r\n])+\/[imsx]{0,4}(?=\s*(?:$|[\r\n,.;})\]]))/,greedy:!0,inside:{"regex-source":{pattern:/^(\/)[\s\S]+(?=\/[a-z]*$)/,lookbehind:!0,alias:"language-regex",inside:e.languages.regex},"regex-delimiter":/^\//,"regex-flags":/^[a-z]+$/}}})}TS.displayName="velocity";TS.aliases=[];function TS(e){e.register(wn),function(t){t.languages.velocity=t.languages.extend("markup",{});var n={variable:{pattern:/(^|[^\\](?:\\\\)*)\$!?(?:[a-z][\w-]*(?:\([^)]*\))?(?:\.[a-z][\w-]*(?:\([^)]*\))?|\[[^\]]+\])*|\{[^}]+\})/i,lookbehind:!0,inside:{}},string:{pattern:/"[^"]*"|'[^']*'/,greedy:!0},number:/\b\d+\b/,boolean:/\b(?:false|true)\b/,operator:/[=!<>]=?|[+*/%-]|&&|\|\||\.\.|\b(?:eq|g[et]|l[et]|n(?:e|ot))\b/,punctuation:/[(){}[\]:,.]/};n.variable.inside={string:n.string,function:{pattern:/([^\w-])[a-z][\w-]*(?=\()/,lookbehind:!0},number:n.number,boolean:n.boolean,punctuation:n.punctuation},t.languages.insertBefore("velocity","comment",{unparsed:{pattern:/(^|[^\\])#\[\[[\s\S]*?\]\]#/,lookbehind:!0,greedy:!0,inside:{punctuation:/^#\[\[|\]\]#$/}},"velocity-comment":[{pattern:/(^|[^\\])#\*[\s\S]*?\*#/,lookbehind:!0,greedy:!0,alias:"comment"},{pattern:/(^|[^\\])##.*/,lookbehind:!0,greedy:!0,alias:"comment"}],directive:{pattern:/(^|[^\\](?:\\\\)*)#@?(?:[a-z][\w-]*|\{[a-z][\w-]*\})(?:\s*\((?:[^()]|\([^()]*\))*\))?/i,lookbehind:!0,inside:{keyword:{pattern:/^#@?(?:[a-z][\w-]*|\{[a-z][\w-]*\})|\bin\b/,inside:{punctuation:/[{}]/}},rest:n}},variable:n.variable}),t.languages.velocity.tag.inside["attr-value"].inside.rest=t.languages.velocity}(e)}CS.displayName="verilog";CS.aliases=[];function CS(e){e.languages.verilog={comment:{pattern:/\/\/.*|\/\*[\s\S]*?\*\//,greedy:!0},string:{pattern:/"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"/,greedy:!0},"kernel-function":{pattern:/\B\$\w+\b/,alias:"property"},constant:/\B`\w+\b/,function:/\b\w+(?=\()/,keyword:/\b(?:alias|and|assert|assign|assume|automatic|before|begin|bind|bins|binsof|bit|break|buf|bufif0|bufif1|byte|case|casex|casez|cell|chandle|class|clocking|cmos|config|const|constraint|context|continue|cover|covergroup|coverpoint|cross|deassign|default|defparam|design|disable|dist|do|edge|else|end|endcase|endclass|endclocking|endconfig|endfunction|endgenerate|endgroup|endinterface|endmodule|endpackage|endprimitive|endprogram|endproperty|endsequence|endspecify|endtable|endtask|enum|event|expect|export|extends|extern|final|first_match|for|force|foreach|forever|fork|forkjoin|function|generate|genvar|highz0|highz1|if|iff|ifnone|ignore_bins|illegal_bins|import|incdir|include|initial|inout|input|inside|instance|int|integer|interface|intersect|join|join_any|join_none|large|liblist|library|local|localparam|logic|longint|macromodule|matches|medium|modport|module|nand|negedge|new|nmos|nor|noshowcancelled|not|notif0|notif1|null|or|output|package|packed|parameter|pmos|posedge|primitive|priority|program|property|protected|pull0|pull1|pulldown|pullup|pulsestyle_ondetect|pulsestyle_onevent|pure|rand|randc|randcase|randsequence|rcmos|real|realtime|ref|reg|release|repeat|return|rnmos|rpmos|rtran|rtranif0|rtranif1|scalared|sequence|shortint|shortreal|showcancelled|signed|small|solve|specify|specparam|static|string|strong0|strong1|struct|super|supply0|supply1|table|tagged|task|this|throughout|time|timeprecision|timeunit|tran|tranif0|tranif1|tri|tri0|tri1|triand|trior|trireg|type|typedef|union|unique|unsigned|use|uwire|var|vectored|virtual|void|wait|wait_order|wand|weak0|weak1|while|wildcard|wire|with|within|wor|xnor|xor)\b/,important:/\b(?:always|always_comb|always_ff|always_latch)\b(?: *@)?/,number:/\B##?\d+|(?:\b\d+)?'[odbh] ?[\da-fzx_?]+|\b(?:\d*[._])?\d+(?:e[-+]?\d+)?/i,operator:/[-+{}^~%*\/?=!<>&|]+/,punctuation:/[[\];(),.:]/}}AS.displayName="vhdl";AS.aliases=[];function AS(e){e.languages.vhdl={comment:/--.+/,"vhdl-vectors":{pattern:/\b[oxb]"[\da-f_]+"|"[01uxzwlh-]+"/i,alias:"number"},"quoted-function":{pattern:/"\S+?"(?=\()/,alias:"function"},string:/"(?:[^\\"\r\n]|\\(?:\r\n|[\s\S]))*"/,attribute:{pattern:/\b'\w+/,alias:"attr-name"},keyword:/\b(?:access|after|alias|all|architecture|array|assert|attribute|begin|block|body|buffer|bus|case|component|configuration|constant|disconnect|downto|else|elsif|end|entity|exit|file|for|function|generate|generic|group|guarded|if|impure|in|inertial|inout|is|label|library|linkage|literal|loop|map|new|next|null|of|on|open|others|out|package|port|postponed|private|procedure|process|pure|range|record|register|reject|report|return|select|severity|shared|signal|subtype|then|to|transport|type|unaffected|units|until|use|variable|view|wait|when|while|with)\b/i,boolean:/\b(?:false|true)\b/i,function:/\w+(?=\()/,number:/'[01uxzwlh-]'|\b(?:\d+#[\da-f_.]+#|\d[\d_.]*)(?:e[-+]?\d+)?/i,operator:/[<>]=?|:=|[-+*/&=]|\b(?:abs|and|mod|nand|nor|not|or|rem|rol|ror|sla|sll|sra|srl|xnor|xor)\b/i,punctuation:/[{}[\];(),.:]/}}IS.displayName="vim";IS.aliases=[];function IS(e){e.languages.vim={string:/"(?:[^"\\\r\n]|\\.)*"|'(?:[^'\r\n]|'')*'/,comment:/".*/,function:/\b\w+(?=\()/,keyword:/\b(?:N|Next|P|Print|X|XMLent|XMLns|ab|abbreviate|abc|abclear|abo|aboveleft|al|all|ar|arga|argadd|argd|argdelete|argdo|arge|argedit|argg|argglobal|argl|arglocal|args|argu|argument|as|ascii|b|bN|bNext|ba|bad|badd|ball|bd|bdelete|be|bel|belowright|bf|bfirst|bl|blast|bm|bmodified|bn|bnext|bo|botright|bp|bprevious|br|brea|break|breaka|breakadd|breakd|breakdel|breakl|breaklist|brewind|bro|browse|bufdo|buffer|buffers|bun|bunload|bw|bwipeout|c|cN|cNext|cNfcNfile|ca|cabbrev|cabc|cabclear|cad|caddb|caddbuffer|caddexpr|caddf|caddfile|cal|call|cat|catch|cb|cbuffer|cc|ccl|cclose|cd|ce|center|cex|cexpr|cf|cfile|cfir|cfirst|cg|cgetb|cgetbuffer|cgete|cgetexpr|cgetfile|change|changes|chd|chdir|che|checkpath|checkt|checktime|cl|cla|clast|clist|clo|close|cmapc|cmapclear|cn|cnew|cnewer|cnext|cnf|cnfile|cnorea|cnoreabbrev|co|col|colder|colo|colorscheme|comc|comclear|comp|compiler|con|conf|confirm|continue|cope|copen|copy|cp|cpf|cpfile|cprevious|cq|cquit|cr|crewind|cu|cuna|cunabbrev|cunmap|cw|cwindow|d|debugg|debuggreedy|delc|delcommand|delete|delf|delfunction|delm|delmarks|di|diffg|diffget|diffoff|diffpatch|diffpu|diffput|diffsplit|diffthis|diffu|diffupdate|dig|digraphs|display|dj|djump|dl|dlist|dr|drop|ds|dsearch|dsp|dsplit|e|earlier|echoe|echoerr|echom|echomsg|echon|edit|el|else|elsei|elseif|em|emenu|en|endf|endfo|endfor|endfun|endfunction|endif|endt|endtry|endw|endwhile|ene|enew|ex|exi|exit|exu|exusage|f|file|files|filetype|fin|fina|finally|find|fini|finish|fir|first|fix|fixdel|fo|fold|foldc|foldclose|foldd|folddoc|folddoclosed|folddoopen|foldo|foldopen|for|fu|fun|function|go|goto|gr|grep|grepa|grepadd|h|ha|hardcopy|help|helpf|helpfind|helpg|helpgrep|helpt|helptags|hid|hide|his|history|ia|iabbrev|iabc|iabclear|if|ij|ijump|il|ilist|imapc|imapclear|in|inorea|inoreabbrev|isearch|isp|isplit|iu|iuna|iunabbrev|iunmap|j|join|ju|jumps|k|kee|keepalt|keepj|keepjumps|keepmarks|l|lN|lNext|lNf|lNfile|la|lad|laddb|laddbuffer|laddexpr|laddf|laddfile|lan|language|last|later|lb|lbuffer|lc|lcd|lch|lchdir|lcl|lclose|left|lefta|leftabove|let|lex|lexpr|lf|lfile|lfir|lfirst|lg|lgetb|lgetbuffer|lgete|lgetexpr|lgetfile|lgr|lgrep|lgrepa|lgrepadd|lh|lhelpgrep|list|ll|lla|llast|lli|llist|lm|lmak|lmake|lmap|lmapc|lmapclear|ln|lne|lnew|lnewer|lnext|lnf|lnfile|lnoremap|lo|loadview|loc|lockmarks|lockv|lockvar|lol|lolder|lop|lopen|lp|lpf|lpfile|lprevious|lr|lrewind|ls|lt|ltag|lu|lunmap|lv|lvimgrep|lvimgrepa|lvimgrepadd|lw|lwindow|m|ma|mak|make|mark|marks|mat|match|menut|menutranslate|mk|mkexrc|mks|mksession|mksp|mkspell|mkv|mkvie|mkview|mkvimrc|mod|mode|move|mz|mzf|mzfile|mzscheme|n|nbkey|new|next|nmapc|nmapclear|noh|nohlsearch|norea|noreabbrev|nu|number|nun|nunmap|o|omapc|omapclear|on|only|open|opt|options|ou|ounmap|p|pc|pclose|pe|ped|pedit|perl|perld|perldo|po|pop|popu|popup|pp|ppop|pre|preserve|prev|previous|print|prof|profd|profdel|profile|promptf|promptfind|promptr|promptrepl|ps|psearch|ptN|ptNext|pta|ptag|ptf|ptfirst|ptj|ptjump|ptl|ptlast|ptn|ptnext|ptp|ptprevious|ptr|ptrewind|pts|ptselect|pu|put|pw|pwd|py|pyf|pyfile|python|q|qa|qall|quit|quita|quitall|r|read|rec|recover|red|redi|redir|redo|redr|redraw|redraws|redrawstatus|reg|registers|res|resize|ret|retab|retu|return|rew|rewind|ri|right|rightb|rightbelow|ru|rub|ruby|rubyd|rubydo|rubyf|rubyfile|runtime|rv|rviminfo|sN|sNext|sa|sal|sall|san|sandbox|sargument|sav|saveas|sb|sbN|sbNext|sba|sball|sbf|sbfirst|sbl|sblast|sbm|sbmodified|sbn|sbnext|sbp|sbprevious|sbr|sbrewind|sbuffer|scrip|scripte|scriptencoding|scriptnames|se|set|setf|setfiletype|setg|setglobal|setl|setlocal|sf|sfind|sfir|sfirst|sh|shell|sign|sil|silent|sim|simalt|sl|sla|slast|sleep|sm|smagic|smap|smapc|smapclear|sme|smenu|sn|snext|sni|sniff|sno|snomagic|snor|snoremap|snoreme|snoremenu|so|sor|sort|source|sp|spe|spelld|spelldump|spellgood|spelli|spellinfo|spellr|spellrepall|spellu|spellundo|spellw|spellwrong|split|spr|sprevious|sre|srewind|st|sta|stag|star|startg|startgreplace|startinsert|startr|startreplace|stj|stjump|stop|stopi|stopinsert|sts|stselect|sun|sunhide|sunm|sunmap|sus|suspend|sv|sview|syncbind|t|tN|tNext|ta|tab|tabN|tabNext|tabc|tabclose|tabd|tabdo|tabe|tabedit|tabf|tabfind|tabfir|tabfirst|tabl|tablast|tabm|tabmove|tabn|tabnew|tabnext|tabo|tabonly|tabp|tabprevious|tabr|tabrewind|tabs|tag|tags|tc|tcl|tcld|tcldo|tclf|tclfile|te|tearoff|tf|tfirst|th|throw|tj|tjump|tl|tlast|tm|tmenu|tn|tnext|to|topleft|tp|tprevious|tr|trewind|try|ts|tselect|tu|tunmenu|u|una|unabbreviate|undo|undoj|undojoin|undol|undolist|unh|unhide|unlet|unlo|unlockvar|unm|unmap|up|update|ve|verb|verbose|version|vert|vertical|vi|vie|view|vim|vimgrep|vimgrepa|vimgrepadd|visual|viu|viusage|vmapc|vmapclear|vne|vnew|vs|vsplit|vu|vunmap|w|wN|wNext|wa|wall|wh|while|win|winc|wincmd|windo|winp|winpos|winsize|wn|wnext|wp|wprevious|wq|wqa|wqall|write|ws|wsverb|wv|wviminfo|x|xa|xall|xit|xm|xmap|xmapc|xmapclear|xme|xmenu|xn|xnoremap|xnoreme|xnoremenu|xu|xunmap|y|yank)\b/,builtin:/\b(?:acd|ai|akm|aleph|allowrevins|altkeymap|ambiwidth|ambw|anti|antialias|arab|arabic|arabicshape|ari|arshape|autochdir|autocmd|autoindent|autoread|autowrite|autowriteall|aw|awa|background|backspace|backup|backupcopy|backupdir|backupext|backupskip|balloondelay|ballooneval|balloonexpr|bdir|bdlay|beval|bex|bexpr|bg|bh|bin|binary|biosk|bioskey|bk|bkc|bomb|breakat|brk|browsedir|bs|bsdir|bsk|bt|bufhidden|buflisted|buftype|casemap|ccv|cdpath|cedit|cfu|ch|charconvert|ci|cin|cindent|cink|cinkeys|cino|cinoptions|cinw|cinwords|clipboard|cmdheight|cmdwinheight|cmp|cms|columns|com|comments|commentstring|compatible|complete|completefunc|completeopt|consk|conskey|copyindent|cot|cpo|cpoptions|cpt|cscopepathcomp|cscopeprg|cscopequickfix|cscopetag|cscopetagorder|cscopeverbose|cspc|csprg|csqf|cst|csto|csverb|cuc|cul|cursorcolumn|cursorline|cwh|debug|deco|def|define|delcombine|dex|dg|dict|dictionary|diff|diffexpr|diffopt|digraph|dip|dir|directory|dy|ea|ead|eadirection|eb|ed|edcompatible|ef|efm|ei|ek|enc|encoding|endofline|eol|ep|equalalways|equalprg|errorbells|errorfile|errorformat|esckeys|et|eventignore|expandtab|exrc|fcl|fcs|fdc|fde|fdi|fdl|fdls|fdm|fdn|fdo|fdt|fen|fenc|fencs|fex|ff|ffs|fileencoding|fileencodings|fileformat|fileformats|fillchars|fk|fkmap|flp|fml|fmr|foldcolumn|foldenable|foldexpr|foldignore|foldlevel|foldlevelstart|foldmarker|foldmethod|foldminlines|foldnestmax|foldtext|formatexpr|formatlistpat|formatoptions|formatprg|fp|fs|fsync|ft|gcr|gd|gdefault|gfm|gfn|gfs|gfw|ghr|gp|grepformat|grepprg|gtl|gtt|guicursor|guifont|guifontset|guifontwide|guiheadroom|guioptions|guipty|guitablabel|guitabtooltip|helpfile|helpheight|helplang|hf|hh|hi|hidden|highlight|hk|hkmap|hkmapp|hkp|hl|hlg|hls|hlsearch|ic|icon|iconstring|ignorecase|im|imactivatekey|imak|imc|imcmdline|imd|imdisable|imi|iminsert|ims|imsearch|inc|include|includeexpr|incsearch|inde|indentexpr|indentkeys|indk|inex|inf|infercase|insertmode|invacd|invai|invakm|invallowrevins|invaltkeymap|invanti|invantialias|invar|invarab|invarabic|invarabicshape|invari|invarshape|invautochdir|invautoindent|invautoread|invautowrite|invautowriteall|invaw|invawa|invbackup|invballooneval|invbeval|invbin|invbinary|invbiosk|invbioskey|invbk|invbl|invbomb|invbuflisted|invcf|invci|invcin|invcindent|invcompatible|invconfirm|invconsk|invconskey|invcopyindent|invcp|invcscopetag|invcscopeverbose|invcst|invcsverb|invcuc|invcul|invcursorcolumn|invcursorline|invdeco|invdelcombine|invdg|invdiff|invdigraph|invdisable|invea|inveb|inved|invedcompatible|invek|invendofline|inveol|invequalalways|inverrorbells|invesckeys|invet|invex|invexpandtab|invexrc|invfen|invfk|invfkmap|invfoldenable|invgd|invgdefault|invguipty|invhid|invhidden|invhk|invhkmap|invhkmapp|invhkp|invhls|invhlsearch|invic|invicon|invignorecase|invim|invimc|invimcmdline|invimd|invincsearch|invinf|invinfercase|invinsertmode|invis|invjoinspaces|invjs|invlazyredraw|invlbr|invlinebreak|invlisp|invlist|invloadplugins|invlpl|invlz|invma|invmacatsui|invmagic|invmh|invml|invmod|invmodeline|invmodifiable|invmodified|invmore|invmousef|invmousefocus|invmousehide|invnu|invnumber|invodev|invopendevice|invpaste|invpi|invpreserveindent|invpreviewwindow|invprompt|invpvw|invreadonly|invremap|invrestorescreen|invrevins|invri|invrightleft|invrightleftcmd|invrl|invrlc|invro|invrs|invru|invruler|invsb|invsc|invscb|invscrollbind|invscs|invsecure|invsft|invshellslash|invshelltemp|invshiftround|invshortname|invshowcmd|invshowfulltag|invshowmatch|invshowmode|invsi|invsm|invsmartcase|invsmartindent|invsmarttab|invsmd|invsn|invsol|invspell|invsplitbelow|invsplitright|invspr|invsr|invssl|invsta|invstartofline|invstmp|invswapfile|invswf|invta|invtagbsearch|invtagrelative|invtagstack|invtbi|invtbidi|invtbs|invtermbidi|invterse|invtextauto|invtextmode|invtf|invtgst|invtildeop|invtimeout|invtitle|invto|invtop|invtr|invttimeout|invttybuiltin|invttyfast|invtx|invvb|invvisualbell|invwa|invwarn|invwb|invweirdinvert|invwfh|invwfw|invwildmenu|invwinfixheight|invwinfixwidth|invwiv|invwmnu|invwrap|invwrapscan|invwrite|invwriteany|invwritebackup|invws|isf|isfname|isi|isident|isk|iskeyword|isprint|joinspaces|js|key|keymap|keymodel|keywordprg|km|kmp|kp|langmap|langmenu|laststatus|lazyredraw|lbr|lcs|linebreak|lines|linespace|lisp|lispwords|listchars|loadplugins|lpl|lsp|lz|macatsui|magic|makeef|makeprg|matchpairs|matchtime|maxcombine|maxfuncdepth|maxmapdepth|maxmem|maxmempattern|maxmemtot|mco|mef|menuitems|mfd|mh|mis|mkspellmem|ml|mls|mm|mmd|mmp|mmt|modeline|modelines|modifiable|modified|more|mouse|mousef|mousefocus|mousehide|mousem|mousemodel|mouses|mouseshape|mouset|mousetime|mp|mps|msm|mzq|mzquantum|nf|noacd|noai|noakm|noallowrevins|noaltkeymap|noanti|noantialias|noar|noarab|noarabic|noarabicshape|noari|noarshape|noautochdir|noautoindent|noautoread|noautowrite|noautowriteall|noaw|noawa|nobackup|noballooneval|nobeval|nobin|nobinary|nobiosk|nobioskey|nobk|nobl|nobomb|nobuflisted|nocf|noci|nocin|nocindent|nocompatible|noconfirm|noconsk|noconskey|nocopyindent|nocp|nocscopetag|nocscopeverbose|nocst|nocsverb|nocuc|nocul|nocursorcolumn|nocursorline|nodeco|nodelcombine|nodg|nodiff|nodigraph|nodisable|noea|noeb|noed|noedcompatible|noek|noendofline|noeol|noequalalways|noerrorbells|noesckeys|noet|noex|noexpandtab|noexrc|nofen|nofk|nofkmap|nofoldenable|nogd|nogdefault|noguipty|nohid|nohidden|nohk|nohkmap|nohkmapp|nohkp|nohls|noic|noicon|noignorecase|noim|noimc|noimcmdline|noimd|noincsearch|noinf|noinfercase|noinsertmode|nois|nojoinspaces|nojs|nolazyredraw|nolbr|nolinebreak|nolisp|nolist|noloadplugins|nolpl|nolz|noma|nomacatsui|nomagic|nomh|noml|nomod|nomodeline|nomodifiable|nomodified|nomore|nomousef|nomousefocus|nomousehide|nonu|nonumber|noodev|noopendevice|nopaste|nopi|nopreserveindent|nopreviewwindow|noprompt|nopvw|noreadonly|noremap|norestorescreen|norevins|nori|norightleft|norightleftcmd|norl|norlc|noro|nors|noru|noruler|nosb|nosc|noscb|noscrollbind|noscs|nosecure|nosft|noshellslash|noshelltemp|noshiftround|noshortname|noshowcmd|noshowfulltag|noshowmatch|noshowmode|nosi|nosm|nosmartcase|nosmartindent|nosmarttab|nosmd|nosn|nosol|nospell|nosplitbelow|nosplitright|nospr|nosr|nossl|nosta|nostartofline|nostmp|noswapfile|noswf|nota|notagbsearch|notagrelative|notagstack|notbi|notbidi|notbs|notermbidi|noterse|notextauto|notextmode|notf|notgst|notildeop|notimeout|notitle|noto|notop|notr|nottimeout|nottybuiltin|nottyfast|notx|novb|novisualbell|nowa|nowarn|nowb|noweirdinvert|nowfh|nowfw|nowildmenu|nowinfixheight|nowinfixwidth|nowiv|nowmnu|nowrap|nowrapscan|nowrite|nowriteany|nowritebackup|nows|nrformats|numberwidth|nuw|odev|oft|ofu|omnifunc|opendevice|operatorfunc|opfunc|osfiletype|pa|para|paragraphs|paste|pastetoggle|patchexpr|patchmode|path|pdev|penc|pex|pexpr|pfn|ph|pheader|pi|pm|pmbcs|pmbfn|popt|preserveindent|previewheight|previewwindow|printdevice|printencoding|printexpr|printfont|printheader|printmbcharset|printmbfont|printoptions|prompt|pt|pumheight|pvh|pvw|qe|quoteescape|readonly|remap|report|restorescreen|revins|rightleft|rightleftcmd|rl|rlc|ro|rs|rtp|ruf|ruler|rulerformat|runtimepath|sbo|sc|scb|scr|scroll|scrollbind|scrolljump|scrolloff|scrollopt|scs|sect|sections|secure|sel|selection|selectmode|sessionoptions|sft|shcf|shellcmdflag|shellpipe|shellquote|shellredir|shellslash|shelltemp|shelltype|shellxquote|shiftround|shiftwidth|shm|shortmess|shortname|showbreak|showcmd|showfulltag|showmatch|showmode|showtabline|shq|si|sidescroll|sidescrolloff|siso|sj|slm|smartcase|smartindent|smarttab|smc|smd|softtabstop|sol|spc|spell|spellcapcheck|spellfile|spelllang|spellsuggest|spf|spl|splitbelow|splitright|sps|sr|srr|ss|ssl|ssop|stal|startofline|statusline|stl|stmp|su|sua|suffixes|suffixesadd|sw|swapfile|swapsync|swb|swf|switchbuf|sws|sxq|syn|synmaxcol|syntax|t_AB|t_AF|t_AL|t_CS|t_CV|t_Ce|t_Co|t_Cs|t_DL|t_EI|t_F1|t_F2|t_F3|t_F4|t_F5|t_F6|t_F7|t_F8|t_F9|t_IE|t_IS|t_K1|t_K3|t_K4|t_K5|t_K6|t_K7|t_K8|t_K9|t_KA|t_KB|t_KC|t_KD|t_KE|t_KF|t_KG|t_KH|t_KI|t_KJ|t_KK|t_KL|t_RI|t_RV|t_SI|t_Sb|t_Sf|t_WP|t_WS|t_ZH|t_ZR|t_al|t_bc|t_cd|t_ce|t_cl|t_cm|t_cs|t_da|t_db|t_dl|t_fs|t_k1|t_k2|t_k3|t_k4|t_k5|t_k6|t_k7|t_k8|t_k9|t_kB|t_kD|t_kI|t_kN|t_kP|t_kb|t_kd|t_ke|t_kh|t_kl|t_kr|t_ks|t_ku|t_le|t_mb|t_md|t_me|t_mr|t_ms|t_nd|t_op|t_se|t_so|t_sr|t_te|t_ti|t_ts|t_ue|t_us|t_ut|t_vb|t_ve|t_vi|t_vs|t_xs|tabline|tabpagemax|tabstop|tagbsearch|taglength|tagrelative|tagstack|tal|tb|tbi|tbidi|tbis|tbs|tenc|term|termbidi|termencoding|terse|textauto|textmode|textwidth|tgst|thesaurus|tildeop|timeout|timeoutlen|title|titlelen|titleold|titlestring|toolbar|toolbariconsize|top|tpm|tsl|tsr|ttimeout|ttimeoutlen|ttm|tty|ttybuiltin|ttyfast|ttym|ttymouse|ttyscroll|ttytype|tw|tx|uc|ul|undolevels|updatecount|updatetime|ut|vb|vbs|vdir|verbosefile|vfile|viewdir|viewoptions|viminfo|virtualedit|visualbell|vop|wak|warn|wb|wc|wcm|wd|weirdinvert|wfh|wfw|whichwrap|wi|wig|wildchar|wildcharm|wildignore|wildmenu|wildmode|wildoptions|wim|winaltkeys|window|winfixheight|winfixwidth|winheight|winminheight|winminwidth|winwidth|wiv|wiw|wm|wmh|wmnu|wmw|wop|wrap|wrapmargin|wrapscan|writeany|writebackup|writedelay|ww)\b/,number:/\b(?:0x[\da-f]+|\d+(?:\.\d+)?)\b/i,operator:/\|\||&&|[-+.]=?|[=!](?:[=~][#?]?)?|[<>]=?[#?]?|[*\/%?]|\b(?:is(?:not)?)\b/,punctuation:/[{}[\](),;:]/}}RS.displayName="visual-basic";RS.aliases=["vb","vba"];function RS(e){e.languages["visual-basic"]={comment:{pattern:/(?:[']|REM\b)(?:[^\r\n_]|_(?:\r\n?|\n)?)*/i,inside:{keyword:/^REM/i}},directive:{pattern:/#(?:Const|Else|ElseIf|End|ExternalChecksum|ExternalSource|If|Region)(?:\b_[ \t]*(?:\r\n?|\n)|.)+/i,alias:"property",greedy:!0},string:{pattern:/\$?["](?:["]{2}|[^"])*["]C?/i,greedy:!0},date:{pattern:/#[ \t]*(?:\d+([/-])\d+\1\d+(?:[ \t]+(?:\d+[ \t]*(?:AM|PM)|\d+:\d+(?::\d+)?(?:[ \t]*(?:AM|PM))?))?|\d+[ \t]*(?:AM|PM)|\d+:\d+(?::\d+)?(?:[ \t]*(?:AM|PM))?)[ \t]*#/i,alias:"number"},number:/(?:(?:\b\d+(?:\.\d+)?|\.\d+)(?:E[+-]?\d+)?|&[HO][\dA-F]+)(?:[FRD]|U?[ILS])?/i,boolean:/\b(?:False|Nothing|True)\b/i,keyword:/\b(?:AddHandler|AddressOf|Alias|And(?:Also)?|As|Boolean|ByRef|Byte|ByVal|Call|Case|Catch|C(?:Bool|Byte|Char|Date|Dbl|Dec|Int|Lng|Obj|SByte|Short|Sng|Str|Type|UInt|ULng|UShort)|Char|Class|Const|Continue|Currency|Date|Decimal|Declare|Default|Delegate|Dim|DirectCast|Do|Double|Each|Else(?:If)?|End(?:If)?|Enum|Erase|Error|Event|Exit|Finally|For|Friend|Function|Get(?:Type|XMLNamespace)?|Global|GoSub|GoTo|Handles|If|Implements|Imports|In|Inherits|Integer|Interface|Is|IsNot|Let|Lib|Like|Long|Loop|Me|Mod|Module|Must(?:Inherit|Override)|My(?:Base|Class)|Namespace|Narrowing|New|Next|Not(?:Inheritable|Overridable)?|Object|Of|On|Operator|Option(?:al)?|Or(?:Else)?|Out|Overloads|Overridable|Overrides|ParamArray|Partial|Private|Property|Protected|Public|RaiseEvent|ReadOnly|ReDim|RemoveHandler|Resume|Return|SByte|Select|Set|Shadows|Shared|short|Single|Static|Step|Stop|String|Structure|Sub|SyncLock|Then|Throw|To|Try|TryCast|Type|TypeOf|U(?:Integer|Long|Short)|Until|Using|Variant|Wend|When|While|Widening|With(?:Events)?|WriteOnly|Xor)\b/i,operator:/[+\-*/\\^<=>&#@$%!]|\b_(?=[ \t]*[\r\n])/,punctuation:/[{}().,:?]/},e.languages.vb=e.languages["visual-basic"],e.languages.vba=e.languages["visual-basic"]}DS.displayName="warpscript";DS.aliases=[];function DS(e){e.languages.warpscript={comment:/#.*|\/\/.*|\/\*[\s\S]*?\*\//,string:{pattern:/"(?:[^"\\\r\n]|\\.)*"|'(?:[^'\\\r\n]|\\.)*'|<'(?:[^\\']|'(?!>)|\\.)*'>/,greedy:!0},variable:/\$\S+/,macro:{pattern:/@\S+/,alias:"property"},keyword:/\b(?:BREAK|CHECKMACRO|CONTINUE|CUDF|DEFINED|DEFINEDMACRO|EVAL|FAIL|FOR|FOREACH|FORSTEP|IFT|IFTE|MSGFAIL|NRETURN|RETHROW|RETURN|SWITCH|TRY|UDF|UNTIL|WHILE)\b/,number:/[+-]?\b(?:NaN|Infinity|\d+(?:\.\d*)?(?:[Ee][+-]?\d+)?|0x[\da-fA-F]+|0b[01]+)\b/,boolean:/\b(?:F|T|false|true)\b/,punctuation:/<%|%>|[{}[\]()]/,operator:/==|&&?|\|\|?|\*\*?|>>>?|<<|[<>!~]=?|[-/%^]|\+!?|\b(?:AND|NOT|OR)\b/}}OS.displayName="wasm";OS.aliases=[];function OS(e){e.languages.wasm={comment:[/\(;[\s\S]*?;\)/,{pattern:/;;.*/,greedy:!0}],string:{pattern:/"(?:\\[\s\S]|[^"\\])*"/,greedy:!0},keyword:[{pattern:/\b(?:align|offset)=/,inside:{operator:/=/}},{pattern:/\b(?:(?:f32|f64|i32|i64)(?:\.(?:abs|add|and|ceil|clz|const|convert_[su]\/i(?:32|64)|copysign|ctz|demote\/f64|div(?:_[su])?|eqz?|extend_[su]\/i32|floor|ge(?:_[su])?|gt(?:_[su])?|le(?:_[su])?|load(?:(?:8|16|32)_[su])?|lt(?:_[su])?|max|min|mul|neg?|nearest|or|popcnt|promote\/f32|reinterpret\/[fi](?:32|64)|rem_[su]|rot[lr]|shl|shr_[su]|sqrt|store(?:8|16|32)?|sub|trunc(?:_[su]\/f(?:32|64))?|wrap\/i64|xor))?|memory\.(?:grow|size))\b/,inside:{punctuation:/\./}},/\b(?:anyfunc|block|br(?:_if|_table)?|call(?:_indirect)?|data|drop|elem|else|end|export|func|get_(?:global|local)|global|if|import|local|loop|memory|module|mut|nop|offset|param|result|return|select|set_(?:global|local)|start|table|tee_local|then|type|unreachable)\b/],variable:/\$[\w!#$%&'*+\-./:<=>?@\\^`|~]+/,number:/[+-]?\b(?:\d(?:_?\d)*(?:\.\d(?:_?\d)*)?(?:[eE][+-]?\d(?:_?\d)*)?|0x[\da-fA-F](?:_?[\da-fA-F])*(?:\.[\da-fA-F](?:_?[\da-fA-D])*)?(?:[pP][+-]?\d(?:_?\d)*)?)\b|\binf\b|\bnan(?::0x[\da-fA-F](?:_?[\da-fA-D])*)?\b/,punctuation:/[()]/}}LS.displayName="web-idl";LS.aliases=["webidl"];function LS(e){(function(t){var n=/(?:\B-|\b_|\b)[A-Za-z][\w-]*(?![\w-])/.source,r="(?:"+/\b(?:unsigned\s+)?long\s+long(?![\w-])/.source+"|"+/\b(?:unrestricted|unsigned)\s+[a-z]+(?![\w-])/.source+"|"+/(?!(?:unrestricted|unsigned)\b)/.source+n+/(?:\s*<(?:[^<>]|<[^<>]*>)*>)?/.source+")"+/(?:\s*\?)?/.source,a={};t.languages["web-idl"]={comment:{pattern:/\/\/.*|\/\*[\s\S]*?\*\//,greedy:!0},string:{pattern:/"[^"]*"/,greedy:!0},namespace:{pattern:RegExp(/(\bnamespace\s+)/.source+n),lookbehind:!0},"class-name":[{pattern:/(^|[^\w-])(?:iterable|maplike|setlike)\s*<(?:[^<>]|<[^<>]*>)*>/,lookbehind:!0,inside:a},{pattern:RegExp(/(\b(?:attribute|const|deleter|getter|optional|setter)\s+)/.source+r),lookbehind:!0,inside:a},{pattern:RegExp("("+/\bcallback\s+/.source+n+/\s*=\s*/.source+")"+r),lookbehind:!0,inside:a},{pattern:RegExp(/(\btypedef\b\s*)/.source+r),lookbehind:!0,inside:a},{pattern:RegExp(/(\b(?:callback|dictionary|enum|interface(?:\s+mixin)?)\s+)(?!(?:interface|mixin)\b)/.source+n),lookbehind:!0},{pattern:RegExp(/(:\s*)/.source+n),lookbehind:!0},RegExp(n+/(?=\s+(?:implements|includes)\b)/.source),{pattern:RegExp(/(\b(?:implements|includes)\s+)/.source+n),lookbehind:!0},{pattern:RegExp(r+"(?="+/\s*(?:\.{3}\s*)?/.source+n+/\s*[(),;=]/.source+")"),inside:a}],builtin:/\b(?:ArrayBuffer|BigInt64Array|BigUint64Array|ByteString|DOMString|DataView|Float32Array|Float64Array|FrozenArray|Int16Array|Int32Array|Int8Array|ObservableArray|Promise|USVString|Uint16Array|Uint32Array|Uint8Array|Uint8ClampedArray)\b/,keyword:[/\b(?:async|attribute|callback|const|constructor|deleter|dictionary|enum|getter|implements|includes|inherit|interface|mixin|namespace|null|optional|or|partial|readonly|required|setter|static|stringifier|typedef|unrestricted)\b/,/\b(?:any|bigint|boolean|byte|double|float|iterable|long|maplike|object|octet|record|sequence|setlike|short|symbol|undefined|unsigned|void)\b/],boolean:/\b(?:false|true)\b/,number:{pattern:/(^|[^\w-])-?(?:0x[0-9a-f]+|(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?|NaN|Infinity)(?![\w-])/i,lookbehind:!0},operator:/\.{3}|[=:?<>-]/,punctuation:/[(){}[\].,;]/};for(var i in t.languages["web-idl"])i!=="class-name"&&(a[i]=t.languages["web-idl"][i]);t.languages.webidl=t.languages["web-idl"]})(e)}jS.displayName="wgsl";jS.aliases=[];function jS(e){e.languages.wgsl={comment:{pattern:/\/\/.*|\/\*[\s\S]*?(?:\*\/|$)/,greedy:!0},"builtin-attribute":{pattern:/(@)builtin\(.*?\)/,lookbehind:!0,inside:{attribute:{pattern:/^builtin/,alias:"attr-name"},punctuation:/[(),]/,"built-in-values":{pattern:/\b(?:frag_depth|front_facing|global_invocation_id|instance_index|local_invocation_id|local_invocation_index|num_workgroups|position|sample_index|sample_mask|vertex_index|workgroup_id)\b/,alias:"attr-value"}}},attributes:{pattern:/(@)(?:align|binding|compute|const|fragment|group|id|interpolate|invariant|location|size|vertex|workgroup_size)/i,lookbehind:!0,alias:"attr-name"},functions:{pattern:/\b(fn\s+)[_a-zA-Z]\w*(?=[(<])/,lookbehind:!0,alias:"function"},keyword:/\b(?:bitcast|break|case|const|continue|continuing|default|discard|else|enable|fallthrough|fn|for|function|if|let|loop|private|return|storage|struct|switch|type|uniform|var|while|workgroup)\b/,builtin:/\b(?:abs|acos|acosh|all|any|array|asin|asinh|atan|atan2|atanh|atomic|atomicAdd|atomicAnd|atomicCompareExchangeWeak|atomicExchange|atomicLoad|atomicMax|atomicMin|atomicOr|atomicStore|atomicSub|atomicXor|bool|ceil|clamp|cos|cosh|countLeadingZeros|countOneBits|countTrailingZeros|cross|degrees|determinant|distance|dot|dpdx|dpdxCoarse|dpdxFine|dpdy|dpdyCoarse|dpdyFine|exp|exp2|extractBits|f32|f64|faceForward|firstLeadingBit|floor|fma|fract|frexp|fwidth|fwidthCoarse|fwidthFine|i32|i64|insertBits|inverseSqrt|ldexp|length|log|log2|mat[2-4]x[2-4]|max|min|mix|modf|normalize|override|pack2x16float|pack2x16snorm|pack2x16unorm|pack4x8snorm|pack4x8unorm|pow|ptr|quantizeToF16|radians|reflect|refract|reverseBits|round|sampler|sampler_comparison|select|shiftLeft|shiftRight|sign|sin|sinh|smoothstep|sqrt|staticAssert|step|storageBarrier|tan|tanh|textureDimensions|textureGather|textureGatherCompare|textureLoad|textureNumLayers|textureNumLevels|textureNumSamples|textureSample|textureSampleBias|textureSampleCompare|textureSampleCompareLevel|textureSampleGrad|textureSampleLevel|textureStore|texture_1d|texture_2d|texture_2d_array|texture_3d|texture_cube|texture_cube_array|texture_depth_2d|texture_depth_2d_array|texture_depth_cube|texture_depth_cube_array|texture_depth_multisampled_2d|texture_multisampled_2d|texture_storage_1d|texture_storage_2d|texture_storage_2d_array|texture_storage_3d|transpose|trunc|u32|u64|unpack2x16float|unpack2x16snorm|unpack2x16unorm|unpack4x8snorm|unpack4x8unorm|vec[2-4]|workgroupBarrier)\b/,"function-calls":{pattern:/\b[_a-z]\w*(?=\()/i,alias:"function"},"class-name":/\b(?:[A-Z][A-Za-z0-9]*)\b/,"bool-literal":{pattern:/\b(?:false|true)\b/,alias:"boolean"},"hex-int-literal":{pattern:/\b0[xX][0-9a-fA-F]+[iu]?\b(?![.pP])/,alias:"number"},"hex-float-literal":{pattern:/\b0[xX][0-9a-fA-F]*(?:\.[0-9a-fA-F]*)?(?:[pP][+-]?\d+[fh]?)?/,alias:"number"},"decimal-float-literal":[{pattern:/\d*\.\d+(?:[eE](?:\+|-)?\d+)?[fh]?/,alias:"number"},{pattern:/\d+\.\d*(?:[eE](?:\+|-)?\d+)?[fh]?/,alias:"number"},{pattern:/\d+[eE](?:\+|-)?\d+[fh]?/,alias:"number"},{pattern:/\b\d+[fh]\b/,alias:"number"}],"int-literal":{pattern:/\b\d+[iu]?\b/,alias:"number"},operator:[{pattern:/(?:\^|~|\|(?!\|)|\|\||&&|<<|>>|!)(?!=)/},{pattern:/&(?![&=])/},{pattern:/(?:\+=|-=|\*=|\/=|%=|\^=|&=|\|=|<<=|>>=)/},{pattern:/(^|[^<>=!])=(?![=>])/,lookbehind:!0},{pattern:/(?:==|!=|<=|\+\+|--|(^|[^=])>=)/,lookbehind:!0},{pattern:/(?:(?:[+%]|(?:\*(?!\w)))(?!=))|(?:-(?!>))|(?:\/(?!\/))/},{pattern:/->/}],punctuation:/[@(){}[\],;<>:.]/}}MS.displayName="wiki";MS.aliases=[];function MS(e){e.register(wn),e.languages.wiki=e.languages.extend("markup",{"block-comment":{pattern:/(^|[^\\])\/\*[\s\S]*?\*\//,lookbehind:!0,alias:"comment"},heading:{pattern:/^(=+)[^=\r\n].*?\1/m,inside:{punctuation:/^=+|=+$/,important:/.+/}},emphasis:{pattern:/('{2,5}).+?\1/,inside:{"bold-italic":{pattern:/(''''').+?(?=\1)/,lookbehind:!0,alias:["bold","italic"]},bold:{pattern:/(''')[^'](?:.*?[^'])?(?=\1)/,lookbehind:!0},italic:{pattern:/('')[^'](?:.*?[^'])?(?=\1)/,lookbehind:!0},punctuation:/^''+|''+$/}},hr:{pattern:/^-{4,}/m,alias:"punctuation"},url:[/ISBN +(?:97[89][ -]?)?(?:\d[ -]?){9}[\dx]\b|(?:PMID|RFC) +\d+/i,/\[\[.+?\]\]|\[.+?\]/],variable:[/__[A-Z]+__/,/\{{3}.+?\}{3}/,/\{\{.+?\}\}/],symbol:[/^#redirect/im,/~{3,5}/],"table-tag":{pattern:/((?:^|[|!])[|!])[^|\r\n]+\|(?!\|)/m,lookbehind:!0,inside:{"table-bar":{pattern:/\|$/,alias:"punctuation"},rest:e.languages.markup.tag.inside}},punctuation:/^(?:\{\||\|\}|\|-|[*#:;!|])|\|\||!!/m}),e.languages.insertBefore("wiki","tag",{nowiki:{pattern:/<(nowiki|pre|source)\b[^>]*>[\s\S]*?<\/\1>/i,inside:{tag:{pattern:/<(?:nowiki|pre|source)\b[^>]*>|<\/(?:nowiki|pre|source)>/i,inside:e.languages.markup.tag.inside}}}})}FS.displayName="wolfram";FS.aliases=["mathematica","nb","wl"];function FS(e){e.languages.wolfram={comment:/\(\*(?:\(\*(?:[^*]|\*(?!\)))*\*\)|(?!\(\*)[\s\S])*?\*\)/,string:{pattern:/"(?:\\.|[^"\\\r\n])*"/,greedy:!0},keyword:/\b(?:Abs|AbsArg|Accuracy|Block|Do|For|Function|If|Manipulate|Module|Nest|NestList|None|Return|Switch|Table|Which|While)\b/,context:{pattern:/\b\w+`+\w*/,alias:"class-name"},blank:{pattern:/\b\w+_\b/,alias:"regex"},"global-variable":{pattern:/\$\w+/,alias:"variable"},boolean:/\b(?:False|True)\b/,number:/(?:\b(?=\d)|\B(?=\.))(?:0[bo])?(?:(?:\d|0x[\da-f])[\da-f]*(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?j?\b/i,operator:/\/\.|;|=\.|\^=|\^:=|:=|<<|>>|<\||\|>|:>|\|->|->|<-|@@@|@@|@|\/@|=!=|===|==|=|\+|-|\[\/-+%=\]=?|!=|\*\*?=?|\/\/?=?|<[<=>]?|>[=>]?|[&|^~]/,punctuation:/[{}[\];(),.:]/},e.languages.mathematica=e.languages.wolfram,e.languages.wl=e.languages.wolfram,e.languages.nb=e.languages.wolfram}PS.displayName="wren";PS.aliases=[];function PS(e){e.languages.wren={comment:[{pattern:/\/\*(?:[^*/]|\*(?!\/)|\/(?!\*)|\/\*(?:[^*/]|\*(?!\/)|\/(?!\*)|\/\*(?:[^*/]|\*(?!\/)|\/(?!\*))*\*\/)*\*\/)*\*\//,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],"triple-quoted-string":{pattern:/"""[\s\S]*?"""/,greedy:!0,alias:"string"},"string-literal":null,hashbang:{pattern:/^#!\/.+/,greedy:!0,alias:"comment"},attribute:{pattern:/#!?[ \t\u3000]*\w+/,alias:"keyword"},"class-name":[{pattern:/(\bclass\s+)\w+/,lookbehind:!0},/\b[A-Z][a-z\d_]*\b/],constant:/\b[A-Z][A-Z\d_]*\b/,null:{pattern:/\bnull\b/,alias:"keyword"},keyword:/\b(?:as|break|class|construct|continue|else|for|foreign|if|import|in|is|return|static|super|this|var|while)\b/,boolean:/\b(?:false|true)\b/,number:/\b(?:0x[\da-f]+|\d+(?:\.\d+)?(?:e[+-]?\d+)?)\b/i,function:/\b[a-z_]\w*(?=\s*[({])/i,operator:/<<|>>|[=!<>]=?|&&|\|\||[-+*/%~^&|?:]|\.{2,3}/,punctuation:/[\[\](){}.,;]/},e.languages.wren["string-literal"]={pattern:/(^|[^\\"])"(?:[^\\"%]|\\[\s\S]|%(?!\()|%\((?:[^()]|\((?:[^()]|\([^)]*\))*\))*\))*"/,lookbehind:!0,greedy:!0,inside:{interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)%\((?:[^()]|\((?:[^()]|\([^)]*\))*\))*\)/,lookbehind:!0,inside:{expression:{pattern:/^(%\()[\s\S]+(?=\)$)/,lookbehind:!0,inside:e.languages.wren},"interpolation-punctuation":{pattern:/^%\(|\)$/,alias:"punctuation"}}},string:/[\s\S]+/}}}BS.displayName="xeora";BS.aliases=["xeoracube"];function BS(e){e.register(wn),function(t){t.languages.xeora=t.languages.extend("markup",{constant:{pattern:/\$(?:DomainContents|PageRenderDuration)\$/,inside:{punctuation:{pattern:/\$/}}},variable:{pattern:/\$@?(?:#+|[-+*~=^])?[\w.]+\$/,inside:{punctuation:{pattern:/[$.]/},operator:{pattern:/#+|[-+*~=^@]/}}},"function-inline":{pattern:/\$F:[-\w.]+\?[-\w.]+(?:,(?:(?:@[-#]*\w+\.[\w+.]\.*)*\|)*(?:(?:[\w+]|[-#*.~^]+[\w+]|=\S)(?:[^$=]|=+[^=])*=*|(?:@[-#]*\w+\.[\w+.]\.*)+(?:(?:[\w+]|[-#*~^][-#*.~^]*[\w+]|=\S)(?:[^$=]|=+[^=])*=*)?)?)?\$/,inside:{variable:{pattern:/(?:[,|])@?(?:#+|[-+*~=^])?[\w.]+/,inside:{punctuation:{pattern:/[,.|]/},operator:{pattern:/#+|[-+*~=^@]/}}},punctuation:{pattern:/\$\w:|[$:?.,|]/}},alias:"function"},"function-block":{pattern:/\$XF:\{[-\w.]+\?[-\w.]+(?:,(?:(?:@[-#]*\w+\.[\w+.]\.*)*\|)*(?:(?:[\w+]|[-#*.~^]+[\w+]|=\S)(?:[^$=]|=+[^=])*=*|(?:@[-#]*\w+\.[\w+.]\.*)+(?:(?:[\w+]|[-#*~^][-#*.~^]*[\w+]|=\S)(?:[^$=]|=+[^=])*=*)?)?)?\}:XF\$/,inside:{punctuation:{pattern:/[$:{}?.,|]/}},alias:"function"},"directive-inline":{pattern:/\$\w(?:#\d+\+?)?(?:\[[-\w.]+\])?:[-\/\w.]+\$/,inside:{punctuation:{pattern:/\$(?:\w:|C(?:\[|#\d))?|[:{[\]]/,inside:{tag:{pattern:/#\d/}}}},alias:"function"},"directive-block-open":{pattern:/\$\w+:\{|\$\w(?:#\d+\+?)?(?:\[[-\w.]+\])?:[-\w.]+:\{(?:![A-Z]+)?/,inside:{punctuation:{pattern:/\$(?:\w:|C(?:\[|#\d))?|[:{[\]]/,inside:{tag:{pattern:/#\d/}}},attribute:{pattern:/![A-Z]+$/,inside:{punctuation:{pattern:/!/}},alias:"keyword"}},alias:"function"},"directive-block-separator":{pattern:/\}:[-\w.]+:\{/,inside:{punctuation:{pattern:/[:{}]/}},alias:"function"},"directive-block-close":{pattern:/\}:[-\w.]+\$/,inside:{punctuation:{pattern:/[:{}$]/}},alias:"function"}}),t.languages.insertBefore("inside","punctuation",{variable:t.languages.xeora["function-inline"].inside.variable},t.languages.xeora["function-block"]),t.languages.xeoracube=t.languages.xeora}(e)}US.displayName="xml-doc";US.aliases=[];function US(e){e.register(wn),function(t){function n(o,l){t.languages[o]&&t.languages.insertBefore(o,"comment",{"doc-comment":l})}var r=t.languages.markup.tag,a={pattern:/\/\/\/.*/,greedy:!0,alias:"comment",inside:{tag:r}},i={pattern:/'''.*/,greedy:!0,alias:"comment",inside:{tag:r}};n("csharp",a),n("fsharp",a),n("vbnet",i)}(e)}$S.displayName="xojo";$S.aliases=[];function $S(e){e.languages.xojo={comment:{pattern:/(?:'|\/\/|Rem\b).+/i,greedy:!0},string:{pattern:/"(?:""|[^"])*"/,greedy:!0},number:[/(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:E[+-]?\d+)?/i,/&[bchou][a-z\d]+/i],directive:{pattern:/#(?:Else|ElseIf|Endif|If|Pragma)\b/i,alias:"property"},keyword:/\b(?:AddHandler|App|Array|As(?:signs)?|Auto|Boolean|Break|By(?:Ref|Val)|Byte|Call|Case|Catch|CFStringRef|CGFloat|Class|Color|Const|Continue|CString|Currency|CurrentMethodName|Declare|Delegate|Dim|Do(?:uble|wnTo)?|Each|Else(?:If)?|End|Enumeration|Event|Exception|Exit|Extends|False|Finally|For|Function|Get|GetTypeInfo|Global|GOTO|If|Implements|In|Inherits|Int(?:8|16|32|64|eger|erface)?|Lib|Loop|Me|Module|Next|Nil|Object|Optional|OSType|ParamArray|Private|Property|Protected|PString|Ptr|Raise(?:Event)?|ReDim|RemoveHandler|Return|Select(?:or)?|Self|Set|Shared|Short|Single|Soft|Static|Step|String|Sub|Super|Text|Then|To|True|Try|Ubound|UInt(?:8|16|32|64|eger)?|Until|Using|Var(?:iant)?|Wend|While|WindowPtr|WString)\b/i,operator:/<[=>]?|>=?|[+\-*\/\\^=]|\b(?:AddressOf|And|Ctype|IsA?|Mod|New|Not|Or|WeakAddressOf|Xor)\b/i,punctuation:/[.,;:()]/}}HS.displayName="xquery";HS.aliases=[];function HS(e){e.register(wn),function(t){t.languages.xquery=t.languages.extend("markup",{"xquery-comment":{pattern:/\(:[\s\S]*?:\)/,greedy:!0,alias:"comment"},string:{pattern:/(["'])(?:\1\1|(?!\1)[\s\S])*\1/,greedy:!0},extension:{pattern:/\(#.+?#\)/,alias:"symbol"},variable:/\$[-\w:]+/,axis:{pattern:/(^|[^-])(?:ancestor(?:-or-self)?|attribute|child|descendant(?:-or-self)?|following(?:-sibling)?|parent|preceding(?:-sibling)?|self)(?=::)/,lookbehind:!0,alias:"operator"},"keyword-operator":{pattern:/(^|[^:-])\b(?:and|castable as|div|eq|except|ge|gt|idiv|instance of|intersect|is|le|lt|mod|ne|or|union)\b(?=$|[^:-])/,lookbehind:!0,alias:"operator"},keyword:{pattern:/(^|[^:-])\b(?:as|ascending|at|base-uri|boundary-space|case|cast as|collation|construction|copy-namespaces|declare|default|descending|else|empty (?:greatest|least)|encoding|every|external|for|function|if|import|in|inherit|lax|let|map|module|namespace|no-inherit|no-preserve|option|order(?: by|ed|ing)?|preserve|return|satisfies|schema|some|stable|strict|strip|then|to|treat as|typeswitch|unordered|validate|variable|version|where|xquery)\b(?=$|[^:-])/,lookbehind:!0},function:/[\w-]+(?::[\w-]+)*(?=\s*\()/,"xquery-element":{pattern:/(element\s+)[\w-]+(?::[\w-]+)*/,lookbehind:!0,alias:"tag"},"xquery-attribute":{pattern:/(attribute\s+)[\w-]+(?::[\w-]+)*/,lookbehind:!0,alias:"attr-name"},builtin:{pattern:/(^|[^:-])\b(?:attribute|comment|document|element|processing-instruction|text|xs:(?:ENTITIES|ENTITY|ID|IDREFS?|NCName|NMTOKENS?|NOTATION|Name|QName|anyAtomicType|anyType|anyURI|base64Binary|boolean|byte|date|dateTime|dayTimeDuration|decimal|double|duration|float|gDay|gMonth|gMonthDay|gYear|gYearMonth|hexBinary|int|integer|language|long|negativeInteger|nonNegativeInteger|nonPositiveInteger|normalizedString|positiveInteger|short|string|time|token|unsigned(?:Byte|Int|Long|Short)|untyped(?:Atomic)?|yearMonthDuration))\b(?=$|[^:-])/,lookbehind:!0},number:/\b\d+(?:\.\d+)?(?:E[+-]?\d+)?/,operator:[/[+*=?|@]|\.\.?|:=|!=|<[=<]?|>[=>]?/,{pattern:/(\s)-(?=\s)/,lookbehind:!0}],punctuation:/[[\](){},;:/]/}),t.languages.xquery.tag.pattern=/<\/?(?!\d)[^\s>\/=$<%]+(?:\s+[^\s>\/=]+(?:=(?:("|')(?:\\[\s\S]|\{(?!\{)(?:\{(?:\{[^{}]*\}|[^{}])*\}|[^{}])+\}|(?!\1)[^\\])*\1|[^\s'">=]+))?)*\s*\/?>/,t.languages.xquery.tag.inside["attr-value"].pattern=/=(?:("|')(?:\\[\s\S]|\{(?!\{)(?:\{(?:\{[^{}]*\}|[^{}])*\}|[^{}])+\}|(?!\1)[^\\])*\1|[^\s'">=]+)/,t.languages.xquery.tag.inside["attr-value"].inside.punctuation=/^="|"$/,t.languages.xquery.tag.inside["attr-value"].inside.expression={pattern:/\{(?!\{)(?:\{(?:\{[^{}]*\}|[^{}])*\}|[^{}])+\}/,inside:t.languages.xquery,alias:"language-xquery"};var n=function(a){return typeof a=="string"?a:typeof a.content=="string"?a.content:a.content.map(n).join("")},r=function(a){for(var i=[],o=0;o<a.length;o++){var l=a[o],u=!1;if(typeof l!="string"&&(l.type==="tag"&&l.content[0]&&l.content[0].type==="tag"?l.content[0].content[0].content==="</"?i.length>0&&i[i.length-1].tagName===n(l.content[0].content[1])&&i.pop():l.content[l.content.length-1].content==="/>"||i.push({tagName:n(l.content[0].content[1]),openedBraces:0}):i.length>0&&l.type==="punctuation"&&l.content==="{"&&(!a[o+1]||a[o+1].type!=="punctuation"||a[o+1].content!=="{")&&(!a[o-1]||a[o-1].type!=="plain-text"||a[o-1].content!=="{")?i[i.length-1].openedBraces++:i.length>0&&i[i.length-1].openedBraces>0&&l.type==="punctuation"&&l.content==="}"?i[i.length-1].openedBraces--:l.type!=="comment"&&(u=!0)),(u||typeof l=="string")&&i.length>0&&i[i.length-1].openedBraces===0){var c=n(l);o<a.length-1&&(typeof a[o+1]=="string"||a[o+1].type==="plain-text")&&(c+=n(a[o+1]),a.splice(o+1,1)),o>0&&(typeof a[o-1]=="string"||a[o-1].type==="plain-text")&&(c=n(a[o-1])+c,a.splice(o-1,1),o--),/^\s+$/.test(c)?a[o]=c:a[o]=new t.Token("plain-text",c,null,c)}l.content&&typeof l.content!="string"&&r(l.content)}};t.hooks.add("after-tokenize",function(a){a.language==="xquery"&&r(a.tokens)})}(e)}zS.displayName="yang";zS.aliases=[];function zS(e){e.languages.yang={comment:/\/\*[\s\S]*?\*\/|\/\/.*/,string:{pattern:/"(?:[^\\"]|\\.)*"|'[^']*'/,greedy:!0},keyword:{pattern:/(^|[{};\r\n][ \t]*)[a-z_][\w.-]*/i,lookbehind:!0},namespace:{pattern:/(\s)[a-z_][\w.-]*(?=:)/i,lookbehind:!0},boolean:/\b(?:false|true)\b/,operator:/\+/,punctuation:/[{};:]/}}GS.displayName="zig";GS.aliases=[];function GS(e){(function(t){function n(c){return function(){return c}}var r=/\b(?:align|allowzero|and|anyframe|anytype|asm|async|await|break|cancel|catch|comptime|const|continue|defer|else|enum|errdefer|error|export|extern|fn|for|if|inline|linksection|nakedcc|noalias|nosuspend|null|or|orelse|packed|promise|pub|resume|return|stdcallcc|struct|suspend|switch|test|threadlocal|try|undefined|union|unreachable|usingnamespace|var|volatile|while)\b/,a="\\b(?!"+r.source+")(?!\\d)\\w+\\b",i=/align\s*\((?:[^()]|\([^()]*\))*\)/.source,o=/(?:\?|\bpromise->|(?:\[[^[\]]*\]|\*(?!\*)|\*\*)(?:\s*<ALIGN>|\s*const\b|\s*volatile\b|\s*allowzero\b)*)/.source.replace(/<ALIGN>/g,n(i)),l=/(?:\bpromise\b|(?:\berror\.)?<ID>(?:\.<ID>)*(?!\s+<ID>))/.source.replace(/<ID>/g,n(a)),u="(?!\\s)(?:!?\\s*(?:"+o+"\\s*)*"+l+")+";t.languages.zig={comment:[{pattern:/\/\/[/!].*/,alias:"doc-comment"},/\/{2}.*/],string:[{pattern:/(^|[^\\@])c?"(?:[^"\\\r\n]|\\.)*"/,lookbehind:!0,greedy:!0},{pattern:/([\r\n])([ \t]+c?\\{2}).*(?:(?:\r\n?|\n)\2.*)*/,lookbehind:!0,greedy:!0}],char:{pattern:/(^|[^\\])'(?:[^'\\\r\n]|[\uD800-\uDFFF]{2}|\\(?:.|x[a-fA-F\d]{2}|u\{[a-fA-F\d]{1,6}\}))'/,lookbehind:!0,greedy:!0},builtin:/\B@(?!\d)\w+(?=\s*\()/,label:{pattern:/(\b(?:break|continue)\s*:\s*)\w+\b|\b(?!\d)\w+\b(?=\s*:\s*(?:\{|while\b))/,lookbehind:!0},"class-name":[/\b(?!\d)\w+(?=\s*=\s*(?:(?:extern|packed)\s+)?(?:enum|struct|union)\s*[({])/,{pattern:RegExp(/(:\s*)<TYPE>(?=\s*(?:<ALIGN>\s*)?[=;,)])|<TYPE>(?=\s*(?:<ALIGN>\s*)?\{)/.source.replace(/<TYPE>/g,n(u)).replace(/<ALIGN>/g,n(i))),lookbehind:!0,inside:null},{pattern:RegExp(/(\)\s*)<TYPE>(?=\s*(?:<ALIGN>\s*)?;)/.source.replace(/<TYPE>/g,n(u)).replace(/<ALIGN>/g,n(i))),lookbehind:!0,inside:null}],"builtin-type":{pattern:/\b(?:anyerror|bool|c_u?(?:int|long|longlong|short)|c_longdouble|c_void|comptime_(?:float|int)|f(?:16|32|64|128)|[iu](?:8|16|32|64|128|size)|noreturn|type|void)\b/,alias:"keyword"},keyword:r,function:/\b(?!\d)\w+(?=\s*\()/,number:/\b(?:0b[01]+|0o[0-7]+|0x[a-fA-F\d]+(?:\.[a-fA-F\d]*)?(?:[pP][+-]?[a-fA-F\d]+)?|\d+(?:\.\d*)?(?:[eE][+-]?\d+)?)\b/,boolean:/\b(?:false|true)\b/,operator:/\.[*?]|\.{2,3}|[-=]>|\*\*|\+\+|\|\||(?:<<|>>|[-+*]%|[-+*/%^&|<>!=])=?|[?~]/,punctuation:/[.:,;(){}[\]]/},t.languages.zig["class-name"].forEach(function(c){c.inside===null&&(c.inside=t.languages.zig)})})(e)}R.register(wn);R.register(wi);R.register(at);R.register(lm);R.register(In);R.register(o1);R.register(l1);R.register(u1);R.register(c1);R.register(d1);R.register(p1);R.register(h1);R.register(f1);R.register(gu);R.register(m1);R.register(g1);R.register(b1);R.register(y1);R.register(pa);R.register(vo);R.register(am);R.register(x1);R.register(v1);R.register(Ud);R.register(Hd);R.register(pm);R.register(E1);R.register(w1);R.register(Eo);R.register(S1);R.register(N1);R.register(k1);R.register(_1);R.register(T1);R.register(C1);R.register(A1);R.register(I1);R.register(Gd);R.register(R1);R.register(D1);R.register(O1);R.register(L1);R.register(j1);R.register(M1);R.register(F1);R.register(P1);R.register(B1);R.register(U1);R.register($1);R.register(H1);R.register(z1);R.register(G1);R.register(q1);R.register(V1);R.register(W1);R.register(Y1);R.register(K1);R.register(Z1);R.register(X1);R.register(Q1);R.register(J1);R.register(ev);R.register(tv);R.register(No);R.register(nv);R.register(rv);R.register(av);R.register(sv);R.register(iv);R.register(ov);R.register(lv);R.register(uv);R.register(cv);R.register(dv);R.register(sm);R.register(Rn);R.register(pv);R.register(hv);R.register(fv);R.register(mv);R.register(gv);R.register(bv);R.register(yv);R.register(xv);R.register(vv);R.register(Ev);R.register($d);R.register(wv);R.register(Sv);R.register(Nv);R.register(kv);R.register(_v);R.register(Tv);R.register(Cv);R.register(Av);R.register(Iv);R.register(Rv);R.register(Dv);R.register(Ov);R.register(Lv);R.register(jv);R.register(Mv);R.register(Fv);R.register(Pv);R.register(Bv);R.register(Uv);R.register($v);R.register(Hv);R.register(zv);R.register(im);R.register(Gv);R.register(qv);R.register(Vv);R.register(Wv);R.register(cm);R.register(ym);R.register(Yv);R.register(Kv);R.register(Zv);R.register(Vd);R.register(Xv);R.register(Qv);R.register(Jv);R.register(eE);R.register(tE);R.register(nE);R.register(mu);R.register(rE);R.register(aE);R.register(sE);R.register(iE);R.register(oE);R.register(lE);R.register(uE);R.register(cE);R.register(om);R.register(dE);R.register(pE);R.register(wo);R.register(So);R.register(xu);R.register(hE);R.register(fE);R.register(mE);R.register(gE);R.register(bE);R.register(yE);R.register(xE);R.register(bu);R.register(vE);R.register(EE);R.register(wE);R.register(SE);R.register(NE);R.register(kE);R.register(_E);R.register(TE);R.register(CE);R.register(um);R.register(AE);R.register(IE);R.register(RE);R.register(DE);R.register(Wd);R.register(OE);R.register(LE);R.register(jE);R.register(ME);R.register(FE);R.register(PE);R.register(BE);R.register(UE);R.register(dm);R.register(vm);R.register($E);R.register(HE);R.register(zE);R.register(GE);R.register(qE);R.register(VE);R.register(WE);R.register(YE);R.register(KE);R.register(ZE);R.register(XE);R.register(QE);R.register(JE);R.register(ew);R.register(tw);R.register(nw);R.register(rw);R.register(aw);R.register(sw);R.register(hm);R.register(iw);R.register(ow);R.register(lw);R.register(uw);R.register(cw);R.register(dw);R.register(pw);R.register(hw);R.register(fw);R.register(mw);R.register(gw);R.register(bw);R.register(fm);R.register(yw);R.register(xw);R.register(vw);R.register(Ew);R.register(ww);R.register(Sw);R.register(Nw);R.register(kw);R.register(_w);R.register(Tw);R.register(Cw);R.register(Aw);R.register(Iw);R.register(Rw);R.register(Dw);R.register(Ow);R.register(Lw);R.register(jw);R.register(zd);R.register(Mw);R.register(Fw);R.register(Pw);R.register(Bw);R.register(mm);R.register(Uw);R.register($w);R.register(Em);R.register(Hw);R.register(zw);R.register(Gw);R.register(qw);R.register(Vw);R.register(Ww);R.register(Yw);R.register(Kw);R.register(Zw);R.register(gm);R.register(Xw);R.register(bm);R.register(Qw);R.register(Jw);R.register(eS);R.register(tS);R.register(nS);R.register(rS);R.register(aS);R.register(sS);R.register(wm);R.register(iS);R.register(oS);R.register(lS);R.register(uS);R.register(cS);R.register(dS);R.register(pS);R.register(hS);R.register(xm);R.register(fS);R.register(Yd);R.register(mS);R.register(qd);R.register(gS);R.register(bS);R.register(yS);R.register(xS);R.register(vS);R.register(ES);R.register(wS);R.register(SS);R.register(NS);R.register(kS);R.register(_S);R.register(TS);R.register(CS);R.register(AS);R.register(IS);R.register(RS);R.register(DS);R.register(OS);R.register(LS);R.register(jS);R.register(MS);R.register(FS);R.register(PS);R.register(BS);R.register(US);R.register($S);R.register(HS);R.register(zS);R.register(GS);function $b(){$b=function(a,i){return new n(a,void 0,i)};var e=RegExp.prototype,t=new WeakMap;function n(a,i,o){var l=new RegExp(a,i);return t.set(l,o||t.get(a)),ef(l,n.prototype)}function r(a,i){var o=t.get(i);return Object.keys(o).reduce(function(l,u){var c=o[u];if(typeof c=="number")l[u]=a[c];else{for(var d=0;a[c[d]]===void 0&&d+1<c.length;)d++;l[u]=a[c[d]]}return l},Object.create(null))}return function(a,i){if(typeof i!="function"&&i!==null)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(i&&i.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),Object.defineProperty(a,"prototype",{writable:!1}),i&&ef(a,i)}(n,RegExp),n.prototype.exec=function(a){var i=e.exec.call(this,a);if(i){i.groups=r(i,this);var o=i.indices;o&&(o.groups=r(o,this))}return i},n.prototype[Symbol.replace]=function(a,i){if(typeof i=="string"){var o=t.get(this);return e[Symbol.replace].call(this,a,i.replace(/\$<([^>]+)>/g,function(u,c){var d=o[c];return"$"+(Array.isArray(d)?d.join("$"):d)}))}if(typeof i=="function"){var l=this;return e[Symbol.replace].call(this,a,function(){var u=arguments;return typeof u[u.length-1]!="object"&&(u=[].slice.call(u)).push(r(u,l)),i.apply(this,u)})}return e[Symbol.replace].call(this,a,i)},$b.apply(this,arguments)}function ef(e,t){return ef=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},ef(e,t)}function p2(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ug(e,t){var n=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(a,i){if(a){if(typeof a=="string")return p2(a,i);var o=Object.prototype.toString.call(a).slice(8,-1);return o==="Object"&&a.constructor&&(o=a.constructor.name),o==="Map"||o==="Set"?Array.from(a):o==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?p2(a,i):void 0}}(e))||t){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var $K=function(e){return function(t){return t===void 0&&(t={}),function(r,a){if(a&&!r.registered(a))throw new Error('The default language "'+a+'" is not registered with refractor.')}(e,t.defaultLanguage),function(r){En(r,"element",n)};function n(r,a,i){var o,l;if(i&&i.tagName==="pre"&&r.tagName==="code"){var u=(r==null||(o=r.data)==null?void 0:o.meta)||(r==null||(l=r.properties)==null?void 0:l.metastring)||"";r.properties.className?typeof r.properties.className=="boolean"?r.properties.className=[]:Array.isArray(r.properties.className)||(r.properties.className=[r.properties.className]):r.properties.className=[];var c,d,p=function(S){for(var T,A=Ug(S.properties.className);!(T=A()).done;){var I=T.value;if(I.slice(0,9)==="language-")return I.slice(9).toLowerCase()}return null}(r);if(!p&&t.defaultLanguage&&r.properties.className.push("language-"+(p=t.defaultLanguage)),r.properties.className.push("code-highlight"),p)try{var h,f;f=(h=p)!=null&&h.includes("diff-")?p.split("-")[1]:p,c=e.highlight(_a(r),f),i.properties.className=(i.properties.className||[]).concat("language-"+f)}catch(S){if(!t.ignoreMissing||!/Unknown language/.test(S.message))throw S;c=r}else c=r;c.children=(d=1,function S(T){return T.reduce(function(A,I){if(I.type==="text"){var C=I.value,N=(C.match(/\n/g)||"").length;if(N===0)I.position={start:{line:d,column:1},end:{line:d,column:1}},A.push(I);else for(var O,D=C.split(`
`),B=Ug(D.entries());!(O=B()).done;){var j=O.value,P=j[0],Y=j[1];A.push({type:"text",value:P===D.length-1?Y:Y+`
`,position:{start:{line:d+P,column:1},end:{line:d+P,column:1}}})}return d+=N,A}if(Object.prototype.hasOwnProperty.call(I,"children")){var K=d;return I.children=S(I.children),A.push(I),I.position={start:{line:K,column:1},end:{line:d,column:1}},A}return A.push(I),A},[])})(c.children),c.position=c.children.length>0?{start:{line:c.children[0].position.start.line,column:0},end:{line:c.children[c.children.length-1].position.end.line,column:0}}:{start:{line:0,column:0},end:{line:0,column:0}};for(var m,v=function(S){var T=/{([\d,-]+)}/,A=S.split(",").map(function(N){return N.trim()}).join();if(T.test(A)){var I=T.exec(A)[1],C=cO(I);return function(N){return C.includes(N+1)}}return function(){return!1}}(u),y=function(S){var T=$b(/showLineNumbers=(\d+)/i,{lines:1});if(T.test(S)){var A=T.exec(S);return Number(A.groups.lines)}return 1}(u),g=function(S){for(var T=new Array(S),A=0;A<S;A++)T[A]={type:"element",tagName:"span",properties:{className:[]},children:[]};return T}(c.position.end.line),x=["showlinenumbers=false",'showlinenumbers="false"',"showlinenumbers={false}"],w=function(){var S,T,A=m.value,I=A[0],C=A[1];C.properties.className=["code-line"];var N=uO(c,function(O){return O.position.start.line<=I+1&&O.position.end.line>=I+1});C.children=N.children,!u.toLowerCase().includes("showLineNumbers".toLowerCase())&&!t.showLineNumbers||x.some(function(O){return u.toLowerCase().includes(O)})||(C.properties.line=[(I+y).toString()],C.properties.className.push("line-number")),v(I)&&C.properties.className.push("highlight-line"),(p==="diff"||(S=p)!=null&&S.includes("diff-"))&&_a(C).substring(0,1)==="-"?C.properties.className.push("deleted"):(p==="diff"||(T=p)!=null&&T.includes("diff-"))&&_a(C).substring(0,1)==="+"&&C.properties.className.push("inserted")},k=Ug(g.entries());!(m=k()).done;)w();g.length>0&&_a(g[g.length-1]).trim()===""&&g.pop(),r.children=g}}}},HK=$K(R);let Kd=class{constructor(t,n,r){this.normal=n,this.property=t,r&&(this.space=r)}};Kd.prototype.normal={};Kd.prototype.property={};Kd.prototype.space=void 0;function bO(e,t){const n={},r={};for(const a of e)Object.assign(n,a.property),Object.assign(r,a.normal);return new Kd(n,r,t)}function Hb(e){return e.toLowerCase()}let gr=class{constructor(t,n){this.attribute=n,this.property=t}};gr.prototype.attribute="";gr.prototype.booleanish=!1;gr.prototype.boolean=!1;gr.prototype.commaOrSpaceSeparated=!1;gr.prototype.commaSeparated=!1;gr.prototype.defined=!1;gr.prototype.mustUseProperty=!1;gr.prototype.number=!1;gr.prototype.overloadedBoolean=!1;gr.prototype.property="";gr.prototype.spaceSeparated=!1;gr.prototype.space=void 0;let zK=0;const We=ko(),Qt=ko(),zb=ko(),ye=ko(),_t=ko(),fl=ko(),Er=ko();function ko(){return 2**++zK}const Gb=Object.freeze(Object.defineProperty({__proto__:null,boolean:We,booleanish:Qt,commaOrSpaceSeparated:Er,commaSeparated:fl,number:ye,overloadedBoolean:zb,spaceSeparated:_t},Symbol.toStringTag,{value:"Module"})),$g=Object.keys(Gb);let qS=class extends gr{constructor(t,n,r,a){let i=-1;if(super(t,n),h2(this,"space",a),typeof r=="number")for(;++i<$g.length;){const o=$g[i];h2(this,$g[i],(r&Gb[o])===Gb[o])}}};qS.prototype.defined=!0;function h2(e,t,n){n&&(e[t]=n)}function vu(e){const t={},n={};for(const[r,a]of Object.entries(e.properties)){const i=new qS(r,e.transform(e.attributes||{},r),a,e.space);e.mustUseProperty&&e.mustUseProperty.includes(r)&&(i.mustUseProperty=!0),t[r]=i,n[Hb(r)]=r,n[Hb(i.attribute)]=r}return new Kd(t,n,e.space)}const yO=vu({properties:{ariaActiveDescendant:null,ariaAtomic:Qt,ariaAutoComplete:null,ariaBusy:Qt,ariaChecked:Qt,ariaColCount:ye,ariaColIndex:ye,ariaColSpan:ye,ariaControls:_t,ariaCurrent:null,ariaDescribedBy:_t,ariaDetails:null,ariaDisabled:Qt,ariaDropEffect:_t,ariaErrorMessage:null,ariaExpanded:Qt,ariaFlowTo:_t,ariaGrabbed:Qt,ariaHasPopup:null,ariaHidden:Qt,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:_t,ariaLevel:ye,ariaLive:null,ariaModal:Qt,ariaMultiLine:Qt,ariaMultiSelectable:Qt,ariaOrientation:null,ariaOwns:_t,ariaPlaceholder:null,ariaPosInSet:ye,ariaPressed:Qt,ariaReadOnly:Qt,ariaRelevant:null,ariaRequired:Qt,ariaRoleDescription:_t,ariaRowCount:ye,ariaRowIndex:ye,ariaRowSpan:ye,ariaSelected:Qt,ariaSetSize:ye,ariaSort:null,ariaValueMax:ye,ariaValueMin:ye,ariaValueNow:ye,ariaValueText:null,role:null},transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()}});function xO(e,t){return t in e?e[t]:t}function vO(e,t){return xO(e,t.toLowerCase())}const GK=vu({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:fl,acceptCharset:_t,accessKey:_t,action:null,allow:null,allowFullScreen:We,allowPaymentRequest:We,allowUserMedia:We,alt:null,as:null,async:We,autoCapitalize:null,autoComplete:_t,autoFocus:We,autoPlay:We,blocking:_t,capture:null,charSet:null,checked:We,cite:null,className:_t,cols:ye,colSpan:null,content:null,contentEditable:Qt,controls:We,controlsList:_t,coords:ye|fl,crossOrigin:null,data:null,dateTime:null,decoding:null,default:We,defer:We,dir:null,dirName:null,disabled:We,download:zb,draggable:Qt,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:We,formTarget:null,headers:_t,height:ye,hidden:zb,high:ye,href:null,hrefLang:null,htmlFor:_t,httpEquiv:_t,id:null,imageSizes:null,imageSrcSet:null,inert:We,inputMode:null,integrity:null,is:null,isMap:We,itemId:null,itemProp:_t,itemRef:_t,itemScope:We,itemType:_t,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:We,low:ye,manifest:null,max:null,maxLength:ye,media:null,method:null,min:null,minLength:ye,multiple:We,muted:We,name:null,nonce:null,noModule:We,noValidate:We,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:We,optimum:ye,pattern:null,ping:_t,placeholder:null,playsInline:We,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:We,referrerPolicy:null,rel:_t,required:We,reversed:We,rows:ye,rowSpan:ye,sandbox:_t,scope:null,scoped:We,seamless:We,selected:We,shadowRootClonable:We,shadowRootDelegatesFocus:We,shadowRootMode:null,shape:null,size:ye,sizes:null,slot:null,span:ye,spellCheck:Qt,src:null,srcDoc:null,srcLang:null,srcSet:null,start:ye,step:null,style:null,tabIndex:ye,target:null,title:null,translate:null,type:null,typeMustMatch:We,useMap:null,value:Qt,width:ye,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:_t,axis:null,background:null,bgColor:null,border:ye,borderColor:null,bottomMargin:ye,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:We,declare:We,event:null,face:null,frame:null,frameBorder:null,hSpace:ye,leftMargin:ye,link:null,longDesc:null,lowSrc:null,marginHeight:ye,marginWidth:ye,noResize:We,noHref:We,noShade:We,noWrap:We,object:null,profile:null,prompt:null,rev:null,rightMargin:ye,rules:null,scheme:null,scrolling:Qt,standby:null,summary:null,text:null,topMargin:ye,valueType:null,version:null,vAlign:null,vLink:null,vSpace:ye,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:We,disableRemotePlayback:We,prefix:null,property:null,results:ye,security:null,unselectable:null},space:"html",transform:vO}),qK=vu({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:Er,accentHeight:ye,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:ye,amplitude:ye,arabicForm:null,ascent:ye,attributeName:null,attributeType:null,azimuth:ye,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:ye,by:null,calcMode:null,capHeight:ye,className:_t,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:ye,diffuseConstant:ye,direction:null,display:null,dur:null,divisor:ye,dominantBaseline:null,download:We,dx:null,dy:null,edgeMode:null,editable:null,elevation:ye,enableBackground:null,end:null,event:null,exponent:ye,externalResourcesRequired:null,fill:null,fillOpacity:ye,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:fl,g2:fl,glyphName:fl,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:ye,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:ye,horizOriginX:ye,horizOriginY:ye,id:null,ideographic:ye,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:ye,k:ye,k1:ye,k2:ye,k3:ye,k4:ye,kernelMatrix:Er,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:ye,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:ye,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:ye,overlineThickness:ye,paintOrder:null,panose1:null,path:null,pathLength:ye,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:_t,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:ye,pointsAtY:ye,pointsAtZ:ye,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:Er,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:Er,rev:Er,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:Er,requiredFeatures:Er,requiredFonts:Er,requiredFormats:Er,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:ye,specularExponent:ye,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:ye,strikethroughThickness:ye,string:null,stroke:null,strokeDashArray:Er,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:ye,strokeOpacity:ye,strokeWidth:null,style:null,surfaceScale:ye,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:Er,tabIndex:ye,tableValues:null,target:null,targetX:ye,targetY:ye,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:Er,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:ye,underlineThickness:ye,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:ye,values:null,vAlphabetic:ye,vMathematical:ye,vectorEffect:null,vHanging:ye,vIdeographic:ye,version:null,vertAdvY:ye,vertOriginX:ye,vertOriginY:ye,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:ye,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:xO}),EO=vu({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()}}),wO=vu({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:vO}),SO=vu({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()}}),VK=/[A-Z]/g,f2=/-[a-z]/g,WK=/^data[-\w.:]+$/i;function YK(e,t){const n=Hb(t);let r=t,a=gr;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&WK.test(t)){if(t.charAt(4)==="-"){const i=t.slice(5).replace(f2,ZK);r="data"+i.charAt(0).toUpperCase()+i.slice(1)}else{const i=t.slice(4);if(!f2.test(i)){let o=i.replace(VK,KK);o.charAt(0)!=="-"&&(o="-"+o),t="data"+o}}a=qS}return new a(r,t)}function KK(e){return"-"+e.toLowerCase()}function ZK(e){return e.charAt(1).toUpperCase()}const XK=bO([yO,GK,EO,wO,SO],"html"),QK=bO([yO,qK,EO,wO,SO],"svg");var uh={},qb={};function JK(e,t){for(var n=t,r=0;r<e.length;r++){var a=r===e.length-1,i=e.charAt(r),o=n[i]||(n[i]={chars:{}});a&&(o.self=e),n=o.chars}}function m2(e){if(e.length===0)return uh;for(var t={},n=0,r=e;n<r.length;n++){var a=r[n];JK(a,t)}return t}function eZ(e){if(e.length===0)return qb;for(var t={},n=0,r=e;n<r.length;n++){var a=r[n];t[a]=!0}return t}var Fp={},g2={type:"String",optional:!0};function tZ(e){var t={type:"NoArgument",optional:!1};function n(o){if(t.type&&t.type!==o&&t.type!=="NoArgument")throw new Error('Conflicting pseudo-class argument type: "'.concat(t.type,'" vs "').concat(o,'".'));t.type=o}for(var r=0,a=e;r<a.length;r++){var i=a[r];i==="NoArgument"&&(t.optional=!0),i==="Formula"&&n("Formula"),i==="FormulaOfSelector"&&(n("Formula"),t.ofSelector=!0),i==="String"&&n("String"),i==="Selector"&&n("Selector")}return t}function nZ(e){for(var t={},n=0,r=Object.keys(e);n<r.length;n++){var a=r[n],i=e[a];if(i)for(var o=0,l=i;o<l.length;o++){var u=l[o];(t[u]||(t[u]=[])).push(a)}}return t}function b2(e){for(var t=nZ(e),n={},r=0,a=Object.keys(t);r<a.length;r++){var i=a[r],o=t[i];o&&(n[i]=tZ(o))}return n}var Wl=function(){return Wl=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},Wl.apply(this,arguments)},rZ={},Vb={wildcard:!0};function aZ(e){return e?typeof e=="boolean"?Vb:e:rZ}function sZ(e,t){return function(n,r){return t(e(n),e(r))}}function iZ(e){return function(t,n){var r=e(t,n);if(!r)throw new Error("Syntax definition cannot be null or undefined.");return r}}function y2(e,t){return function(n,r){return r===!0?e:t(n===!0?e:n,r)}}function Fo(e){return function(t,n){if(!n||!t)return n;if(typeof n!="object"||n===null)throw new Error("Unexpected syntax definition extension type: ".concat(n,"."));for(var r=Wl({},t),a=0,i=Object.entries(n);a<i.length;a++){var o=i[a],l=o[0],u=o[1];if(l!=="latest"){var c=e[l];r[l]=c(t[l],u)}}return r}}function qa(e,t){return t!==void 0?t:e}function Pp(e,t){return t?e?e.concat(t):t:e}function x2(e,t){if(!t)return e;if(!e)return t;for(var n=Wl({},e),r=0,a=Object.entries(t);r<a.length;r++){var i=a[r],o=i[0],l=i[1];if(!l){delete n[o];continue}var u=e[o];if(!u){n[o]=l;continue}n[o]=u.concat(l)}return n}var Zi=iZ(Fo({baseSyntax:qa,modules:Pp,tag:y2(Vb,Fo({wildcard:qa})),ids:qa,classNames:qa,namespace:y2(Vb,Fo({wildcard:qa})),combinators:Pp,attributes:Fo({operators:Pp,caseSensitivityModifiers:Pp,unknownCaseSensitivityModifiers:qa}),pseudoClasses:Fo({unknown:qa,definitions:x2}),pseudoElements:Fo({unknown:qa,notation:qa,definitions:sZ(function(e){return Array.isArray(e)?{NoArgument:e}:e},x2)})})),NO={tag:{},ids:!0,classNames:!0,combinators:[],pseudoElements:{unknown:"reject",notation:"singleColon",definitions:["first-letter","first-line"]},pseudoClasses:{unknown:"reject",definitions:{NoArgument:["link","visited","active"]}}},kO=Zi(NO,{tag:{wildcard:!0},combinators:[">","+"],attributes:{unknownCaseSensitivityModifiers:"reject",operators:["=","~=","|="]},pseudoElements:{definitions:["before","after"]},pseudoClasses:{unknown:"reject",definitions:{NoArgument:["hover","focus","first-child"],String:["lang"]}}}),Wb=Zi(kO,{namespace:{wildcard:!0},combinators:["~"],attributes:{operators:["^=","$=","*="]},pseudoElements:{notation:"both"},pseudoClasses:{definitions:{NoArgument:["root","last-child","first-of-type","last-of-type","only-child","only-of-type","empty","target","enabled","disabled","checked","indeterminate"],Formula:["nth-child","nth-last-child","nth-of-type","nth-last-of-type"],Selector:["not"]}}}),_O=Zi(Wb,{combinators:["||"],attributes:{caseSensitivityModifiers:["i","I","s","S"]},pseudoClasses:{definitions:{NoArgument:["any-link","local-link","target-within","scope","current","past","future","focus-within","focus-visible","read-write","read-only","placeholder-shown","default","valid","invalid","in-range","out-of-range","required","optional","blank","user-invalid","playing","paused","autofill","modal","fullscreen","picture-in-picture","defined","loading","popover-open"],Formula:["nth-col","nth-last-col"],String:["dir"],FormulaOfSelector:["nth-child","nth-last-child"],Selector:["current","is","where","has","state"]}},pseudoElements:{definitions:{NoArgument:["marker"]}}}),tf={"css-position-1":{latest:!1,pseudoClasses:{definitions:{NoArgument:["static","relative","absolute"]}}},"css-position-2":{latest:!1,pseudoClasses:{definitions:{NoArgument:["static","relative","absolute","fixed"]}}},"css-position-3":{latest:!1,pseudoClasses:{definitions:{NoArgument:["sticky","fixed","absolute","relative","static"]}}},"css-position-4":{latest:!0,pseudoClasses:{definitions:{NoArgument:["sticky","fixed","absolute","relative","static","initial"]}}},"css-scoping-1":{latest:!0,pseudoClasses:{definitions:{NoArgument:["host","host-context"],Selector:["host","host-context"]}},pseudoElements:{definitions:{Selector:["slotted"]}}},"css-pseudo-4":{latest:!0,pseudoElements:{definitions:{NoArgument:["marker","selection","target-text","search-text","spelling-error","grammar-error","backdrop","file-selector-button","prefix","postfix","placeholder","details-content"],String:["highlight"]}}},"css-shadow-parts-1":{latest:!0,pseudoElements:{definitions:{String:["part"]}}}},TO=Wl(Wl({},_O),{modules:Object.entries(tf).filter(function(e){var t=e[1].latest;return t}).map(function(e){var t=e[0];return t})}),oZ=Zi(TO,{pseudoElements:{unknown:"accept"},pseudoClasses:{unknown:"accept"},attributes:{unknownCaseSensitivityModifiers:"accept"}}),Yb={css1:NO,css2:kO,css3:Wb,"selectors-3":Wb,"selectors-4":_O,latest:TO,progressive:oZ};function lZ(){for(var e={pseudoClasses:{},pseudoElements:{}},t=["css1","css2","css3","selectors-3","selectors-4"],n=0,r=t;n<r.length;n++){var a=r[n],i=Yb[a];if(i.pseudoClasses&&typeof i.pseudoClasses=="object"){var o=i.pseudoClasses.definitions;if(o)for(var l=0,u=Object.entries(o);l<u.length;l++)for(var c=u[l],d=c[1],p=0,h=d;p<h.length;p++){var f=h[p];e.pseudoClasses[f]||(e.pseudoClasses[f]=[]),e.pseudoClasses[f].includes(a)||e.pseudoClasses[f].push(a)}}if(i.pseudoElements&&typeof i.pseudoElements=="object"){var o=i.pseudoElements.definitions;if(o)if(Array.isArray(o))for(var m=0,v=o;m<v.length;m++){var y=v[m];e.pseudoElements[y]||(e.pseudoElements[y]=[]),e.pseudoElements[y].includes(a)||e.pseudoElements[y].push(a)}else for(var g=0,x=Object.values(o);g<x.length;g++)for(var d=x[g],w=0,k=d;w<k.length;w++){var S=k[w];e.pseudoElements[S]||(e.pseudoElements[S]=[]),e.pseudoElements[S].includes(a)||e.pseudoElements[S].push(a)}}}for(var T=0,A=Object.entries(tf);T<A.length;T++){var I=A[T],C=I[0],N=I[1];if(N.pseudoClasses&&typeof N.pseudoClasses=="object"){var o=N.pseudoClasses.definitions;if(o)for(var O=0,D=Object.values(o);O<D.length;O++)for(var d=D[O],B=0,j=d;B<j.length;B++){var P=j[B];e.pseudoClasses[P]||(e.pseudoClasses[P]=[]),e.pseudoClasses[P].includes(C)||e.pseudoClasses[P].push(C)}}if(N.pseudoElements&&typeof N.pseudoElements=="object"){var o=N.pseudoElements.definitions;if(o)if(Array.isArray(o))for(var Y=0,K=o;Y<K.length;Y++){var $=K[Y];e.pseudoElements[$]||(e.pseudoElements[$]=[]),e.pseudoElements[$].includes(C)||e.pseudoElements[$].push(C)}else for(var z=0,_=Object.values(o);z<_.length;z++)for(var d=_[z],U=0,X=d;U<X.length;U++){var L=X[U];e.pseudoElements[L]||(e.pseudoElements[L]=[]),e.pseudoElements[L].includes(C)||e.pseudoElements[L].push(C)}}}return e}var v2=lZ();function $u(e){return e>="a"&&e<="z"||e>="A"&&e<="Z"||e==="-"||e==="_"||e==="\\"||e>=""}function E2(e){return e>="a"&&e<="z"||e>="A"&&e<="Z"||e>="0"&&e<="9"||e==="-"||e==="_"||e>=""}function Hu(e){return e>="a"&&e<="f"||e>="A"&&e<="F"||e>="0"&&e<="9"}var uZ={" ":!0,"	":!0,"\n":!0,"\r":!0,"\f":!0},cZ={'"':!0,"'":!0},Hg={0:!0,1:!0,2:!0,3:!0,4:!0,5:!0,6:!0,7:!0,8:!0,9:!0},dZ=6,zg="css-selector-parser parse error: ";function pZ(e){e===void 0&&(e={});var t=e.syntax,n=t===void 0?"latest":t,r=e.substitutes,a=e.strict,i=a===void 0?!0:a,o=e.modules,l=typeof n=="object"?n:Yb[n];if(l.baseSyntax&&(l=Zi(Yb[l.baseSyntax],l)),l.modules&&l.modules.length>0)for(var u=0,c=l.modules;u<c.length;u++){var d=c[u],p=tf[d];p&&(l=Zi(p,l))}if(o&&o.length>0)for(var h=0,f=o;h<f.length;h++){var m=f[h],p=tf[m];p&&(l=Zi(p,l))}var v=l.tag?[!0,!!aZ(l.tag).wildcard]:[!1,!1],y=v[0],g=v[1],x=!!l.ids,w=!!l.classNames,k=!!l.namespace,S=l.namespace&&(l.namespace===!0||l.namespace.wildcard===!0);if(k&&!y)throw new Error("".concat(zg,"Namespaces cannot be enabled while tags are disabled."));var T=!!r,A=l.combinators?m2(l.combinators):uh,I=l.attributes?[!0,l.attributes.operators?m2(l.attributes.operators):uh,l.attributes.caseSensitivityModifiers?eZ(l.attributes.caseSensitivityModifiers):qb,l.attributes.unknownCaseSensitivityModifiers==="accept"]:[!1,uh,qb,!1],C=I[0],N=I[1],O=I[2],D=I[3],B=D||Object.keys(O).length>0,j=l.pseudoClasses?[!0,l.pseudoClasses.definitions?b2(l.pseudoClasses.definitions):Fp,l.pseudoClasses.unknown==="accept"]:[!1,Fp,!1],P=j[0],Y=j[1],K=j[2],$=l.pseudoElements?[!0,l.pseudoElements.notation==="singleColon"||l.pseudoElements.notation==="both",!l.pseudoElements.notation||l.pseudoElements.notation==="doubleColon"||l.pseudoElements.notation==="both",l.pseudoElements.definitions?b2(Array.isArray(l.pseudoElements.definitions)?{NoArgument:l.pseudoElements.definitions}:l.pseudoElements.definitions):Fp,l.pseudoElements.unknown==="accept"]:[!1,!1,!1,Fp,!1],z=$[0],_=$[1],U=$[2],X=$[3],L=$[4],ie="",W=ie.length,Q=0,q="",ee=function(de){return q===de},ve=function(){return ee("*")||$u(q)},Ie=function(de){Q=de,q=ie.charAt(Q)},te=function(){Q++,q=ie.charAt(Q)},oe=function(){var de=q;return Q++,q=ie.charAt(Q),de};function ge(de){var Ne=Math.min(W-1,Q),Qe=new Error("".concat(zg).concat(de," Pos: ").concat(Ne,"."));throw Qe.position=Ne,Qe.name="ParserError",Qe}function pe(de,Ne){if(!de)return ge(Ne)}var dt=function(){pe(Q<W,"Unexpected end of input.")},qe=function(){return Q>=W},_e=function(de){pe(Q<W,'Expected "'.concat(de,'" but end of input reached.')),pe(q===de,'Expected "'.concat(de,'" but "').concat(q,'" found.')),Q++,q=ie.charAt(Q)};function $e(de){var Ne=xt(de,Q);if(Ne)return Q+=Ne.length,q=ie.charAt(Q),Ne}function xt(de,Ne){var Qe=ie.charAt(Ne),Me=de[Qe];if(Me){var tn=xt(Me.chars,Ne+1);if(tn)return tn;if(Me.self)return Me.self}}function gt(){for(var de=oe(),Ne=1;Hu(q)&&Ne<dZ;)de+=oe(),Ne++;return On(),String.fromCharCode(parseInt(de,16))}function Dn(de){var Ne="";for(_e(de);Q<W;){if(ee(de))return te(),Ne;ee("\\")?(te(),ee(de)?(Ne+=de,te()):q===`
`||q==="\f"?te():q==="\r"?(te(),ee(`
`)&&te()):Hu(q)?Ne+=gt():(Ne+=q,te())):(Ne+=q,te())}return Ne}function lt(){if(!$u(q))return null;for(var de="";ee("-");)de+=q,te();for(de==="-"&&!E2(q)&&!ee("\\")&&ge("Identifiers cannot consist of a single hyphen."),i&&de.length>=2&&ge("Identifiers cannot start with two hyphens with strict mode on."),Hg[q]&&ge("Identifiers cannot start with hyphens followed by digits.");Q<W;)if(E2(q))de+=oe();else if(ee("\\"))te(),dt(),Hu(q)?de+=gt():de+=oe();else break;return de}function Fr(){for(var de="";Q<W&&!ee(")");)if(ee("\\")){if(te(),qe()&&!i)return(de+"\\").trim();dt(),Hu(q)?de+=gt():de+=oe()}else de+=oe();return de.trim()}function On(){if(q===" "||q==="	"||q==="\f"||q===`
`){te();return}q==="\r"&&te(),q===`
`&&te()}function Et(){for(;uZ[q];)te()}function ae(de){de===void 0&&(de=!1),Et();for(var Ne=[Wt(de)];ee(",");)te(),Et(),Ne.push(Wt(de));return{type:"Selector",rules:Ne}}function Z(){_e("["),Et();var de;if(ee("|")){pe(k,"Namespaces are not enabled."),te();var Ne=lt();pe(Ne,"Expected attribute name."),de={type:"Attribute",name:Ne,namespace:{type:"NoNamespace"}}}else if(ee("*")){pe(k,"Namespaces are not enabled."),pe(S,"Wildcard namespace is not enabled."),te(),_e("|");var Qe=lt();pe(Qe,"Expected attribute name."),de={type:"Attribute",name:Qe,namespace:{type:"WildcardNamespace"}}}else{var Me=lt();if(pe(Me,"Expected attribute name."),de={type:"Attribute",name:Me},ee("|")){var tn=Q;if(te(),$u(q)){pe(k,"Namespaces are not enabled.");var yr=lt();pe(yr,"Expected attribute name."),de={type:"Attribute",name:yr,namespace:{type:"NamespaceName",name:Me}}}else Ie(tn)}}if(pe(de.name,"Expected attribute name."),Et(),qe()&&!i)return de;if(ee("]"))te();else{if(de.operator=$e(N),pe(de.operator,"Expected a valid attribute selector operator."),Et(),dt(),cZ[q])de.value={type:"String",value:Dn(q)};else if(T&&ee("$")){te();var xr=lt();pe(xr,"Expected substitute name."),de.value={type:"Substitution",name:xr}}else{var Pr=lt();pe(Pr,"Expected attribute value."),de.value={type:"String",value:Pr}}if(Et(),qe()&&!i)return de;if(!ee("]")){var zn=lt();if(pe(zn,"Expected end of attribute selector."),de.caseSensitivityModifier=zn,pe(B,"Attribute case sensitivity modifiers are not enabled."),pe(D||O[de.caseSensitivityModifier],"Unknown attribute case sensitivity modifier."),Et(),qe()&&!i)return de}_e("]")}return de}function ue(){for(var de="";Hg[q];)de+=oe();return pe(de!=="","Formula parse error."),parseInt(de)}var Se=function(){return ee("-")||ee("+")||Hg[q]};function Le(){if(ee("e")||ee("o")){var de=lt();if(de==="even")return Et(),[2,0];if(de==="odd")return Et(),[2,1]}var Ne=null,Qe=1;if(ee("-")&&(te(),Qe=-1),Se()&&(ee("+")&&te(),Ne=ue(),!ee("\\")&&!ee("n")))return[0,Ne*Qe];Ne===null&&(Ne=1),Ne*=Qe;var Me;if(ee("\\")?(te(),Hu(q)?Me=gt():Me=oe()):Me=oe(),pe(Me==="n",'Formula parse error: expected "n".'),Et(),ee("+")||ee("-")){var tn=ee("+")?1:-1;return te(),Et(),[Ne,tn*ue()]}else return[Ne,0]}function ft(de,Ne,Qe){var Me;if(ee("(")){if(te(),Et(),T&&ee("$")){te();var tn=lt();pe(tn,"Expected substitute name."),Me={type:"Substitution",name:tn}}else if(Qe.type==="String")Me={type:"String",value:Fr()},pe(Me.value,"Expected ".concat(Ne," argument value."));else if(Qe.type==="Selector")Me=ae(!0);else if(Qe.type==="Formula"){var yr=Le(),xr=yr[0],Pr=yr[1];if(Me={type:"Formula",a:xr,b:Pr},Qe.ofSelector&&(Et(),ee("o")||ee("\\"))){var zn=lt();pe(zn==="of","Formula of selector parse error."),Et(),Me={type:"FormulaOfSelector",a:xr,b:Pr,selector:Wt()}}}else return ge("Invalid ".concat(Ne," signature."));if(Et(),qe()&&!i)return Me;_e(")")}else pe(Qe.optional,"Argument is required for ".concat(Ne,' "').concat(de,'".'));return Me}function it(){if(ee("*"))return pe(g,"Wildcard tag name is not enabled."),te(),{type:"WildcardTag"};if($u(q)){pe(y,"Tag names are not enabled.");var de=lt();return pe(de,"Expected tag name."),{type:"TagName",name:de}}else return ge("Expected tag name.")}function vt(){if(ee("*")){var de=Q;if(te(),!ee("|")||(te(),!ve()))return Ie(de),it();pe(k,"Namespaces are not enabled."),pe(S,"Wildcard namespace is not enabled.");var Ne=it();return Ne.namespace={type:"WildcardNamespace"},Ne}else if(ee("|")){pe(k,"Namespaces are not enabled."),te();var Ne=it();return Ne.namespace={type:"NoNamespace"},Ne}else if($u(q)){var Qe=lt();if(pe(Qe,"Expected tag name."),!ee("|"))return pe(y,"Tag names are not enabled."),{type:"TagName",name:Qe};var de=Q;if(te(),!ve())return Ie(de),{type:"TagName",name:Qe};pe(k,"Namespaces are not enabled.");var Ne=it();return Ne.namespace={type:"NamespaceName",name:Qe},Ne}else return ge("Expected tag name.")}function Wt(de){var Ne,Qe;de===void 0&&(de=!1);var Me={type:"Rule",items:[]};if(de){var tn=$e(A);tn&&(Me.combinator=tn,Et())}for(;Q<W;)if(ve())pe(Me.items.length===0,"Unexpected tag/namespace start."),Me.items.push(vt());else if(ee("|")){var yr=Q;if(te(),ve())pe(Me.items.length===0,"Unexpected tag/namespace start."),Ie(yr),Me.items.push(vt());else{Ie(yr);break}}else if(ee(".")){pe(w,"Class names are not enabled."),te();var xr=lt();pe(xr,"Expected class name."),Me.items.push({type:"ClassName",name:xr})}else if(ee("#")){pe(x,"IDs are not enabled."),te();var Pr=lt();pe(Pr,"Expected ID name."),Me.items.push({type:"Id",name:Pr})}else if(ee("["))pe(C,"Attributes are not enabled."),Me.items.push(Z());else if(ee(":")){var zn=!1,Co=!1;te(),ee(":")&&(pe(z,"Pseudo elements are not enabled."),pe(U,"Pseudo elements double colon notation is not enabled."),zn=!0,te());var ce=lt();if(pe(zn||ce,"Expected pseudo-class name."),pe(!zn||ce,"Expected pseudo-element name."),pe(ce,"Expected pseudo-class name."),!(!zn||L||Object.prototype.hasOwnProperty.call(X,ce))){var Re=v2.pseudoElements[ce],Lt='Unknown pseudo-element "'.concat(ce,'"');Re&&Re.length>0&&(Lt+=". It is defined in: ".concat(Re.join(", "))),ge(Lt+".")}if(Co=z&&(zn||!zn&&_&&Object.prototype.hasOwnProperty.call(X,ce)),Co){var pn=(Ne=X[ce])!==null&&Ne!==void 0?Ne:L&&g2,Gn={type:"PseudoElement",name:ce},nn=ft(ce,"pseudo-element",pn);nn&&(pe(nn.type!=="Formula"&&nn.type!=="FormulaOfSelector","Pseudo-elements cannot have formula argument."),Gn.argument=nn),Me.items.push(Gn)}else{pe(P,"Pseudo-classes are not enabled.");var pn=(Qe=Y[ce])!==null&&Qe!==void 0?Qe:K&&g2;if(!pn){var Re=v2.pseudoClasses[ce],Lt='Unknown pseudo-class: "'.concat(ce,'"');Re&&Re.length>0&&(Lt+=". It is defined in: ".concat(Re.join(", "))),ge(Lt+".")}var nn=ft(ce,"pseudo-class",pn),qn={type:"PseudoClass",name:ce};nn&&(qn.argument=nn),Me.items.push(qn)}}else break;if(Me.items.length===0)return qe()?ge("Expected rule but end of input reached."):ge('Expected rule but "'.concat(q,'" found.'));if(Et(),!qe()&&!ee(",")&&!ee(")")){var tn=$e(A);Et(),Me.nestedRule=Wt(),Me.nestedRule.combinator=tn}return Me}return function(de){if(typeof de!="string")throw new Error("".concat(zg,"Expected string input."));return ie=de,W=ie.length,Q=0,q=ie.charAt(0),ae()}}const hZ=pZ({syntax:"selectors-4"});function fZ(e){if(typeof e!="string")throw new TypeError("Expected `string` as selector, not `"+e+"`");return hZ(e)}const CO="---",AO="A-Za-z--------",mZ=new RegExp("^[^"+AO+"]*["+CO+"]"),gZ=new RegExp("^[^"+CO+"]*["+AO+"]");function bZ(e){const t=String(e||"");return mZ.test(t)?"rtl":gZ.test(t)?"ltr":"neutral"}function yZ(e,t){const n=e.schema,r=e.language,a=e.direction,i=e.editableOrEditingHost;let o;if(t.type==="element"){const c=t.properties.xmlLang||t.properties.lang,d=t.properties.type||"text",p=w2(t);c!=null&&(e.language=String(c)),n&&n.space==="html"?(t.properties.contentEditable==="true"&&(e.editableOrEditingHost=!0),t.tagName==="svg"&&(e.schema=QK),p==="rtl"?o=p:p==="ltr"||p!=="auto"&&t.tagName==="html"||p!=="auto"&&t.tagName==="input"&&d==="tel"?o="ltr":(p==="auto"||t.tagName==="bdi")&&(t.tagName==="textarea"?o=Gg(_a(t)):t.tagName==="input"&&(d==="email"||d==="search"||d==="tel"||d==="text")?o=t.properties.value?Gg(String(t.properties.value)):"ltr":En(t,u)),o&&(e.direction=o)):e.editableOrEditingHost&&(e.editableOrEditingHost=!1)}return l;function l(){e.schema=n,e.language=r,e.direction=a,e.editableOrEditingHost=i}function u(c){if(c.type==="text")return o=Gg(c.value),o?Wh:void 0;if(c!==t&&c.type==="element"&&(c.tagName==="bdi"||c.tagName==="script"||c.tagName==="style"||c.tagName==="textare"||w2(c)))return bc}}function Gg(e){const t=bZ(e);return t==="neutral"?void 0:t}function w2(e){const t=e.type==="element"&&typeof e.properties.dir=="string"?e.properties.dir.toLowerCase():void 0;return t==="auto"||t==="ltr"||t==="rtl"?t:void 0}function xZ(e,t,n){const r=YK(n,e.name),a=t.properties[r.property];let i=vZ(a,r);if(!e.value)return i!==void 0;e.value.type;let o=e.value.value;if(e.caseSensitivityModifier==="i"&&(o=o.toLowerCase(),i&&(i=i.toLowerCase())),i!==void 0)switch(e.operator){case"=":return o===i;case"$=":return o===i.slice(-o.length);case"*=":return i.includes(o);case"^=":return o===i.slice(0,o.length);case"|=":return o===i||o===i.slice(0,o.length)&&i.charAt(o.length)==="-";case"~=":return o===i||Zc(i).includes(o)}return!1}function vZ(e,t){if(e!=null)if(typeof e=="boolean"){if(e)return t.attribute}else if(Array.isArray(e)){if(e.length>0)return(t.commaSeparated?Vf:Wf)(e)}else return String(e)}const EZ=[];function wZ(e,t){return(t.properties.className||EZ).includes(e.name)}function SZ(e,t){return t.properties.id===e.name}function NZ(e,t){return e.name===t.tagName}function kZ(e,t){return function(n,r){let a=S2(n,"tag");const i=S2(r??"*","range"),o=[];let l=-1;for(;++l<i.length;){const u=i[l].toLowerCase();if(!t&&u==="*")continue;let c=-1;const d=[];for(;++c<a.length;)if(e(a[c].toLowerCase(),u)){if(!t)return a[c];o.push(a[c])}else d.push(a[c]);a=d}return t?o:void 0}}const _Z=kZ(function(e,t){const n=e.split("-"),r=t.split("-");let a=0,i=0;if(r[i]!=="*"&&n[a]!==r[i])return!1;for(a++,i++;i<r.length;){if(r[i]==="*"){i++;continue}if(!n[a])return!1;if(n[a]===r[i]){a++,i++;continue}if(n[a].length===1)return!1;a++}return!0},!0);function S2(e,t){const n=e&&typeof e=="string"?[e]:e;if(!n||typeof n!="object"||!("length"in n))throw new Error("Invalid "+t+" `"+n+"`, expected non-empty string");return n}const TZ={}.hasOwnProperty;function lo(e,t){const n=e.type==="element"&&TZ.call(e.properties,t)&&e.properties[t];return n!=null&&n!==!1}const CZ=new Set([9,10,12,13,32]),N2=48,AZ=57;function IZ(e){if(e=e.trim().toLowerCase(),e==="even")return[2,0];if(e==="odd")return[2,1];let t=0,n=0,r=i(),a=o();if(t<e.length&&e.charAt(t)==="n"&&(t++,n=r*(a??1),l(),t<e.length?(r=i(),l(),a=o()):r=a=0),a===null||t<e.length)throw new Error(`n-th rule couldn't be parsed ('${e}')`);return[n,r*a];function i(){return e.charAt(t)==="-"?(t++,-1):(e.charAt(t)==="+"&&t++,1)}function o(){const u=t;let c=0;for(;t<e.length&&e.charCodeAt(t)>=N2&&e.charCodeAt(t)<=AZ;)c=c*10+(e.charCodeAt(t)-N2),t++;return t===u?null:c}function l(){for(;t<e.length&&CZ.has(e.charCodeAt(t));)t++}}var RZ={trueFunc:function(){return!0},falseFunc:function(){return!1}};const k2=Xl(RZ);function DZ(e){const t=e[0],n=e[1]-1;if(n<0&&t<=0)return k2.falseFunc;if(t===-1)return i=>i<=n;if(t===0)return i=>i===n;if(t===1)return n<0?k2.trueFunc:i=>i>=n;const r=Math.abs(t),a=(n%r+r)%r;return t>1?i=>i>=n&&i%r===a:i=>i<=n&&i%r===a}function _2(e){return DZ(IZ(e))}const OZ=_2.default||_2,LZ=Jf("name",{handlers:{"any-link":jZ,blank:MZ,checked:FZ,dir:PZ,disabled:IO,empty:BZ,enabled:UZ,"first-child":$Z,"first-of-type":HZ,has:zZ,is:RO,lang:qZ,"last-child":VZ,"last-of-type":WZ,not:YZ,"nth-child":KZ,"nth-last-child":ZZ,"nth-last-of-type":XZ,"nth-of-type":QZ,"only-child":JZ,"only-of-type":eX,optional:tX,"read-only":nX,"read-write":DO,required:OO,root:rX,scope:aX},invalid:GZ,unknown:sX});function jZ(e,t){return(t.tagName==="a"||t.tagName==="area"||t.tagName==="link")&&lo(t,"href")}function Ba(e,t){if(e.shallow)throw new Error("Cannot use `:"+t.name+"` without parent")}function MZ(e,t){return!LO(t,n);function n(r){return r.type==="element"||r.type==="text"&&!Rd(r)}}function FZ(e,t){return t.tagName==="input"||t.tagName==="menuitem"?!!((t.properties.type==="checkbox"||t.properties.type==="radio")&&lo(t,"checked")):t.tagName==="option"?lo(t,"selected"):!1}function PZ(e,t,n,r,a){return e.argument,e.argument.type,a.direction===e.argument.value}function IO(e,t){return(t.tagName==="button"||t.tagName==="input"||t.tagName==="select"||t.tagName==="textarea"||t.tagName==="optgroup"||t.tagName==="option"||t.tagName==="menuitem"||t.tagName==="fieldset")&&lo(t,"disabled")}function BZ(e,t){return!LO(t,n);function n(r){return r.type==="element"||r.type==="text"}}function UZ(e,t){return!IO(e,t)}function $Z(e,t,n,r,a){return Ba(a,e),a.elementIndex===0}function HZ(e,t,n,r,a){return Ba(a,e),a.typeIndex===0}function Sm(e){let t=e._cachedFn;if(!t){const n=e.argument;if(n.type!=="Formula")throw new Error("Expected `nth` formula, such as `even` or `2n+1` (`of` is not yet supported)");t=OZ(n.a+"n+"+n.b),e._cachedFn=t}return t}function zZ(e,t,n,r,a){e.argument,e.argument.type;const i={...a,found:!1,one:!0,results:[],rootQuery:e.argument,scopeElements:[t],shallow:!1};return VS(i,{type:"root",children:t.children}),i.results.length>0}function GZ(){}function RO(e,t,n,r,a){e.argument,e.argument.type;const i={...a,found:!1,one:!0,results:[],rootQuery:e.argument,scopeElements:[t],shallow:!1};return VS(i,t),i.results[0]===t}function qZ(e,t,n,r,a){return e.argument,e.argument.type,a.language!==""&&a.language!==void 0&&_Z(a.language,Kc(e.argument.value)).length>0}function VZ(e,t,n,r,a){return Ba(a,e),!!(a.elementCount&&a.elementIndex===a.elementCount-1)}function WZ(e,t,n,r,a){return Ba(a,e),typeof a.typeIndex=="number"&&typeof a.typeCount=="number"&&a.typeIndex===a.typeCount-1}function YZ(e,t,n,r,a){return!RO(e,t,n,r,a)}function KZ(e,t,n,r,a){const i=Sm(e);return Ba(a,e),typeof a.elementIndex=="number"&&i(a.elementIndex)}function ZZ(e,t,n,r,a){const i=Sm(e);return Ba(a,e),!!(typeof a.elementCount=="number"&&typeof a.elementIndex=="number"&&i(a.elementCount-a.elementIndex-1))}function XZ(e,t,n,r,a){const i=Sm(e);return Ba(a,e),typeof a.typeCount=="number"&&typeof a.typeIndex=="number"&&i(a.typeCount-1-a.typeIndex)}function QZ(e,t,n,r,a){const i=Sm(e);return Ba(a,e),typeof a.typeIndex=="number"&&i(a.typeIndex)}function JZ(e,t,n,r,a){return Ba(a,e),a.elementCount===1}function eX(e,t,n,r,a){return Ba(a,e),a.typeCount===1}function tX(e,t){return!OO(e,t)}function nX(e,t,n,r,a){return!DO(e,t,n,r,a)}function DO(e,t,n,r,a){return t.tagName==="input"||t.tagName==="textarea"?!lo(t,"readOnly")&&!lo(t,"disabled"):!!a.editableOrEditingHost}function OO(e,t){return(t.tagName==="input"||t.tagName==="textarea"||t.tagName==="select")&&lo(t,"required")}function rX(e,t,n,r,a){return!!((!r||r.type==="root")&&a.schema&&(a.schema.space==="html"||a.schema.space==="svg")&&(t.tagName==="html"||t.tagName==="svg"))}function aX(e,t,n,r,a){return a.scopeElements.includes(t)}function LO(e,t){const n=e.children;let r=-1;for(;++r<n.length;)if(t(n[r]))return!0;return!1}function sX(e){const t=e;throw new Error("Unknown pseudo-selector `"+t.name+"`")}function iX(e,t,n,r,a){for(const i of e.items)if(i.type==="Attribute"){if(!xZ(i,t,a.schema))return!1}else if(i.type==="Id"){if(!SZ(i,t))return!1}else if(i.type==="ClassName"){if(!wZ(i,t))return!1}else if(i.type==="PseudoClass"){if(!LZ(i,t,n,r,a))return!1}else{if(i.type==="PseudoElement")throw new Error("Invalid selector: `::"+i.name+"`");if(i.type==="TagName"&&!NZ(i,t))return!1}return!0}const oX=[];function VS(e,t){t&&jO(e,[],t,void 0,void 0,t)}function qg(e,t,n){const r=e[t];r?r.push(n):e[t]=[n]}function lX(e,t,n,r){const a=ch(t.descendant,t.directChild);let i,o=-1;const l={count:0,types:new Map},u={count:0,types:new Map};for(;++o<n.children.length;)T2(l,n.children[o]);for(o=-1;++o<n.children.length;){const c=n.children[o],d=c.type==="element"?c.tagName.toUpperCase():void 0;if(e.elementIndex=u.count,e.typeIndex=d&&u.types.get(d)||0,e.elementCount=l.count,e.typeCount=d?l.types.get(d):0,"children"in c){const p=ch(a,i),h=jO(e,p,n.children[o],o,n,r);i=ch(h.generalSibling,h.adjacentSibling)}if(e.one&&e.found)break;T2(u,n.children[o])}}function uX(e,t,n,r,a){const i={adjacentSibling:void 0,descendant:void 0,directChild:void 0,generalSibling:void 0};let o=-1;for(;++o<t.length;){const l=t[o];if(e.one&&e.found)break;if(e.shallow&&l.nestedRule)throw new Error("Expected selector without nesting");if(iX(l,n,r,a,e)){const u=l.nestedRule;if(u){const c=u.combinator==="+"?"adjacentSibling":u.combinator==="~"?"generalSibling":u.combinator===">"?"directChild":"descendant";qg(i,c,u)}else e.found=!0,e.results.includes(n)||e.results.push(n)}l.combinator===void 0?qg(i,"descendant",l):l.combinator==="~"&&qg(i,"generalSibling",l)}return i}function ch(e,t){return e&&t&&e.length>0&&t.length>0?[...e,...t]:e&&e.length>0?e:t&&t.length>0?t:oX}function T2(e,t){if(t.type==="element"){const n=t.tagName.toUpperCase(),r=(e.types.get(n)||0)+1;e.count++,e.types.set(n,r)}}function jO(e,t,n,r,a,i){let o={adjacentSibling:void 0,descendant:void 0,directChild:void 0,generalSibling:void 0};const l=yZ(e,n);if(n.type==="element"){let u=e.rootQuery.rules;a&&a!==i&&(u=e.rootQuery.rules.filter(c=>c.combinator===void 0||c.combinator===">"&&a===i)),o=uX(e,ch(t,u),n,r,a)}return"children"in n&&!e.shallow&&!(e.one&&e.found)&&lX(e,o,n,i),l(),o}function cX(e,t,n){const r=dX(e,t);return VS(r,t||void 0),r.results}function dX(e,t,n){return{direction:"ltr",editableOrEditingHost:!1,elementCount:void 0,elementIndex:void 0,found:!1,language:void 0,one:!1,results:[],rootQuery:fZ(e),schema:XK,scopeElements:t?t.type==="root"?t.children:[t]:[],shallow:!1,typeIndex:void 0,typeCount:void 0}}const MO=(e=[],t="")=>(e.forEach(n=>{n.type==="text"?t+=n.value:n.type==="element"&&n.children&&Array.isArray(n.children)&&(t+=MO(n.children))}),t),pX=e=>{const{selector:t,rewrite:n}=e||{};return r=>{if(!(!n||typeof n!="function")){if(t&&typeof t=="string"){const a=cX(t,r);a&&a.length>0&&En(r,a,(i,o,l)=>{n(i,o,l)});return}En(r,(a,i,o)=>{n(a,i,o)})}}},hX=(e="")=>(e.match(/([^?=&]+)(=([^&]*))/g)||[]).reduce((t,n)=>(t[n.slice(0,n.indexOf("="))]=n.slice(n.indexOf("=")+1),t),{}),fX=(e=[],t)=>{let n=t;for(;n>-1;){if(n--,!e[n])return;if(e[n]&&e[n].value&&e[n].value.replace(/(\n|\s)/g,"")!==""||e[n].type!=="text")return!/^rehype:/.test(e[n].value)||e[n].type!=="comment"?void 0:e[n]}},FO=(e=[],t,n,r)=>{let a=t;for(;a<e.length;)if(a++,n){const i=e[a];if(i&&i.value&&i.value.replace(/(\n|\s)/g,"")!==""||e[a]&&e[a].type==="element")return i.tagName===n?i:void 0}else{const i=e[a];if(!i||i.type==="element"||i.type==="text"&&i.value.replace(/(\n|\s)/g,"")!=="")return;if(i.type&&/^(comment|raw)$/ig.test(i.type))return i.value&&!/^rehype:/.test(i.value.replace(/^(\s+)?<!--(.*?)-->/,"$2")||"")?void 0:r?FO(e,a,"pre",r)?void 0:(i.value=(i.value||"").replace(/^(\n|\s)+/,""),i):(i.value=(i.value||"").replace(/^(\n|\s)+/,""),i)}},C2=({value:e=""})=>{const t=hX(e.replace(/^<!--(.*?)-->/,"$1").replace(/^rehype:/,""));return Object.keys(t).forEach(n=>{t[n]==="true"&&(t[n]=!0),t[n]==="false"&&(t[n]=!1),typeof t[n]=="string"&&!/^0/.test(t[n])&&!isNaN(+t[n])&&(t[n]=+t[n])}),t},A2=(e,t,n)=>n==="string"?{...e,"data-config":JSON.stringify({...t,rehyp:!0})}:n==="attr"?{...e,...t}:{...e,"data-config":{...t,rehyp:!0}},mX=(e={})=>{const{properties:t="data",codeBlockParames:n=!0}=e;return r=>{En(r,"element",(a,i,o)=>{if(n&&a.tagName==="pre"&&a&&Array.isArray(a.children)&&o&&Array.isArray(o.children)&&o.children.length>1){const l=a.children[0];if(l&&l.tagName==="code"&&typeof i=="number"){const u=fX(o.children,i);if(u){const c=C2(u);Object.keys(c).length>0&&(a.properties={...a.properties,"data-type":"rehyp"},l.properties=A2(l.properties,c,t))}}}if(/^(em|strong|b|a|i|p|pre|kbd|blockquote|h(1|2|3|4|5|6)|code|table|img|del|ul|ol)$/.test(a.tagName)&&o&&Array.isArray(o.children)&&typeof i=="number"){const l=FO(o.children,i,"",n);if(l){const u=C2(l);Object.keys(u).length>0&&(a.properties=A2(a.properties,u,t))}}})}},gX="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",I2=[],R2={allowDangerousHtml:!0},bX=/^(https?|ircs?|mailto|xmpp)$/i,yX=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function xX(e){const t=e.allowedElements,n=e.allowElement,r=e.children||"",a=e.className,i=e.components,o=e.disallowedElements,l=e.rehypePlugins||I2,u=e.remarkPlugins||I2,c=e.remarkRehypeOptions?{...e.remarkRehypeOptions,...R2}:R2,d=e.skipHtml,p=e.unwrapDisallowed,h=e.urlTransform||vX,f=Kx().use(P3).use(u).use(V3,c).use(l),m=new Qc;typeof r=="string"&&(m.value=r);for(const x of yX)Object.hasOwn(e,x.from)&&(""+x.from+(x.to?"use `"+x.to+"` instead":"remove it")+gX+x.id,void 0);const v=f.parse(m);let y=f.runSync(v,m);return a&&(y={type:"element",tagName:"div",properties:{className:a},children:y.type==="root"?y.children:[y]}),En(y,g),g3(y,{Fragment:s.Fragment,components:i,ignoreInvalidStyle:!0,jsx:s.jsx,jsxs:s.jsxs,passKeys:!0,passNode:!0});function g(x,w,k){if(x.type==="raw"&&k&&typeof w=="number")return d?k.children.splice(w,1):k.children[w]={type:"text",value:x.value},w;if(x.type==="element"){let S;for(S in pl)if(Object.hasOwn(pl,S)&&Object.hasOwn(x.properties,S)){const T=x.properties[S],A=pl[S];(A===null||A.includes(x.tagName))&&(x.properties[S]=h(String(T||""),S,x))}}if(x.type==="element"){let S=t?!t.includes(x.tagName):o?o.includes(x.tagName):!1;if(!S&&n&&typeof w=="number"&&(S=!n(x,w,k)),S&&k&&typeof w=="number")return p&&x.children?k.children.splice(w,1,...x.children):k.children.splice(w,1),w}}}function vX(e){const t=e.indexOf(":"),n=e.indexOf("?"),r=e.indexOf("#"),a=e.indexOf("/");return t===-1||a!==-1&&t>a||n!==-1&&t>n||r!==-1&&t>r||bX.test(e.slice(0,t))?e:""}const EX=/^\[!(NOTE|TIP|IMPORTANT|WARNING|CAUTION)\]/i,wX=/^\[!(NOTE|TIP|IMPORTANT|WARNING|CAUTION)(\/.*)?\]/i,SX=({legacyTitle:e=!1,tagName:t="div"}={})=>n=>{En(n,"blockquote",(r,a,i)=>{let o="",l="",u=!0,c=r.children.map(d=>{if(u&&d.type==="paragraph"){const p=d.children[0],h=p.type==="text"?p.value:"",f=e?wX:EX,m=h.match(f);if(m&&(u=!1,o=m[1].toLocaleLowerCase(),l=e&&m[2]||o.toLocaleUpperCase(),h.includes(`
`)&&(d.children[0]={type:"text",value:h.replace(f,"").replace(/^\n+/,"")}),!h.includes(`
`))){const v=[];d.children.forEach((y,g)=>{g!=0&&(g==1&&y.type==="break"||v.push(y))}),d.children=[...v]}}return d});o&&(r.data={hName:t,hProperties:{class:`markdown-alert markdown-alert-${o}`,dir:"auto"}},c.unshift({type:"paragraph",children:[NX(o),{type:"text",value:l.replace(/^\//,"")}],data:{hProperties:{class:"markdown-alert-title",dir:"auto"}}})),r.children=[...c]})};function NX(e){let t=kX[e]??"";return{type:"emphasis",data:{hName:"svg",hProperties:{class:"octicon",viewBox:"0 0 16 16",width:"16",height:"16",ariaHidden:"true"}},children:[{type:"emphasis",data:{hName:"path",hProperties:{d:t}},children:[]}]}}const kX={note:"M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8Zm8-6.5a6.5 6.5 0 1 0 0 13 6.5 6.5 0 0 0 0-13ZM6.5 7.75A.75.75 0 0 1 7.25 7h1a.75.75 0 0 1 .75.75v2.75h.25a.75.75 0 0 1 0 1.5h-2a.75.75 0 0 1 0-1.5h.25v-2h-.25a.75.75 0 0 1-.75-.75ZM8 6a1 1 0 1 1 0-2 1 1 0 0 1 0 2Z",tip:"M8 1.5c-2.363 0-4 1.69-4 3.75 0 .984.424 1.625.984 2.304l.214.253c.223.264.47.556.673.848.284.411.537.896.621 1.49a.75.75 0 0 1-1.484.211c-.04-.282-.163-.547-.37-.847a8.456 8.456 0 0 0-.542-.68c-.084-.1-.173-.205-.268-.32C3.201 7.75 2.5 6.766 2.5 5.25 2.5 2.31 4.863 0 8 0s5.5 2.31 5.5 5.25c0 1.516-.701 2.5-1.328 3.259-.095.115-.184.22-.268.319-.207.245-.383.453-.541.681-.208.3-.33.565-.37.847a.751.751 0 0 1-1.485-.212c.084-.593.337-1.078.621-1.489.203-.292.45-.584.673-.848.075-.088.147-.173.213-.253.561-.679.985-1.32.985-2.304 0-2.06-1.637-3.75-4-3.75ZM5.75 12h4.5a.75.75 0 0 1 0 1.5h-4.5a.75.75 0 0 1 0-1.5ZM6 15.25a.75.75 0 0 1 .75-.75h2.5a.75.75 0 0 1 0 1.5h-2.5a.75.75 0 0 1-.75-.75Z",important:"M0 1.75C0 .784.784 0 1.75 0h12.5C15.216 0 16 .784 16 1.75v9.5A1.75 1.75 0 0 1 14.25 13H8.06l-2.573 2.573A1.458 1.458 0 0 1 3 14.543V13H1.75A1.75 1.75 0 0 1 0 11.25Zm1.75-.25a.25.25 0 0 0-.25.25v9.5c0 .138.112.25.25.25h2a.75.75 0 0 1 .75.75v2.19l2.72-2.72a.749.749 0 0 1 .53-.22h6.5a.25.25 0 0 0 .25-.25v-9.5a.25.25 0 0 0-.25-.25Zm7 2.25v2.5a.75.75 0 0 1-1.5 0v-2.5a.75.75 0 0 1 1.5 0ZM9 9a1 1 0 1 1-2 0 1 1 0 0 1 2 0Z",warning:"M6.457 1.047c.659-1.234 2.427-1.234 3.086 0l6.082 11.378A1.75 1.75 0 0 1 14.082 15H1.918a1.75 1.75 0 0 1-1.543-2.575Zm1.763.707a.25.25 0 0 0-.44 0L1.698 13.132a.25.25 0 0 0 .22.368h12.164a.25.25 0 0 0 .22-.368Zm.53 3.996v2.5a.75.75 0 0 1-1.5 0v-2.5a.75.75 0 0 1 1.5 0ZM9 11a1 1 0 1 1-2 0 1 1 0 0 1 2 0Z",caution:"M4.47.22A.749.749 0 0 1 5 0h6c.199 0 .389.079.53.22l4.25 4.25c.141.14.22.331.22.53v6a.749.749 0 0 1-.22.53l-4.25 4.25A.749.749 0 0 1 11 16H5a.749.749 0 0 1-.53-.22L.22 11.53A.749.749 0 0 1 0 11V5c0-.199.079-.389.22-.53Zm.84 1.28L1.5 5.31v5.38l3.81 3.81h5.38l3.81-3.81V5.31L10.69 1.5ZM8 4a.75.75 0 0 1 .75.75v3.5a.75.75 0 0 1-1.5 0v-3.5A.75.75 0 0 1 8 4Zm0 8a1 1 0 1 1 0-2 1 1 0 0 1 0 2Z"};function _X(e,t){if(typeof document>"u")return;const n=document.createElement("textarea");n.value=e,n.setAttribute("readonly",""),n.style={position:"absolute",left:"-9999px"},document.body.appendChild(n);const r=document.getSelection().rangeCount>0?document.getSelection().getRangeAt(0):!1;n.select();let a=!1;try{a=!!document.execCommand("copy")}catch{a=!1}document.body.removeChild(n),r&&document.getSelection&&(document.getSelection().removeAllRanges(),document.getSelection().addRange(r)),t&&t(a)}function PO(e){if(!e)return null;var t=e;return t.dataset.code&&t.classList.contains("copied")?t:t.parentElement?PO(t.parentElement):null}function TX(e){var t=n=>{var r=PO(n.target);r&&(r.classList.add("active"),_X(r.dataset.code,function(){setTimeout(()=>{r.classList.remove("active")},2e3)}))};E.useEffect(()=>{var n,r;return(n=e.current)==null||n.removeEventListener("click",t,!1),(r=e.current)==null||r.addEventListener("click",t,!1),()=>{var a;(a=e.current)==null||a.removeEventListener("click",t,!1)}},[e])}var CX=["prefixCls","className","source","style","disableCopy","skipHtml","onScroll","onMouseOver","pluginsFilter","rehypeRewrite","wrapperElement","warpperElement","urlTransform"],AX=e=>e;const IX=It.forwardRef((e,t)=>{var{prefixCls:n="wmde-markdown wmde-markdown-color",className:r,source:a,style:i,disableCopy:o=!1,skipHtml:l=!0,onScroll:u,onMouseOver:c,pluginsFilter:d,wrapperElement:p={},warpperElement:h={},urlTransform:f}=e,m=td(e,CX),v=It.useRef(null);E.useImperativeHandle(t,()=>tt({},e,{mdp:v}),[v,e]);var y=(n||"")+" "+(r||"");TX(v);var g=[...m.rehypePlugins||[]],x={allowElement:(S,T,A)=>m.allowElement?m.allowElement(S,T,A):/^[A-Za-z0-9]+$/.test(S.tagName)};l||g.push(ri);var w=[SX,...m.remarkPlugins||[],Yi],k=tt({},h,p);return s.jsx("div",tt({ref:v,onScroll:u,onMouseOver:c},k,{className:y,style:i,children:s.jsx(xX,tt({},x,m,{skipHtml:!l,urlTransform:f||AX,rehypePlugins:d?d("rehype",g):g,remarkPlugins:d?d("remark",w):w,children:a||""}))}))});var RX=function(t){return n=>{En(n,r=>{r.type==="element"&&r.tagName==="code"&&r.data&&r.data.meta&&(r.properties=tt({},r.properties,{"data-meta":String(r.data.meta)}))})}},DX=function(t){return n=>{En(n,r=>{if(r.type==="element"&&r.tagName==="code"&&r.properties&&r.properties.dataMeta){r.data||(r.data={});var a=r.properties.dataMeta;typeof a=="string"&&(r.data.meta=a),delete r.properties.dataMeta}})}};const OX=/[\0-\x1F!-,\.\/:-@\[-\^`\{-\xA9\xAB-\xB4\xB6-\xB9\xBB-\xBF\xD7\xF7\u02C2-\u02C5\u02D2-\u02DF\u02E5-\u02EB\u02ED\u02EF-\u02FF\u0375\u0378\u0379\u037E\u0380-\u0385\u0387\u038B\u038D\u03A2\u03F6\u0482\u0530\u0557\u0558\u055A-\u055F\u0589-\u0590\u05BE\u05C0\u05C3\u05C6\u05C8-\u05CF\u05EB-\u05EE\u05F3-\u060F\u061B-\u061F\u066A-\u066D\u06D4\u06DD\u06DE\u06E9\u06FD\u06FE\u0700-\u070F\u074B\u074C\u07B2-\u07BF\u07F6-\u07F9\u07FB\u07FC\u07FE\u07FF\u082E-\u083F\u085C-\u085F\u086B-\u089F\u08B5\u08C8-\u08D2\u08E2\u0964\u0965\u0970\u0984\u098D\u098E\u0991\u0992\u09A9\u09B1\u09B3-\u09B5\u09BA\u09BB\u09C5\u09C6\u09C9\u09CA\u09CF-\u09D6\u09D8-\u09DB\u09DE\u09E4\u09E5\u09F2-\u09FB\u09FD\u09FF\u0A00\u0A04\u0A0B-\u0A0E\u0A11\u0A12\u0A29\u0A31\u0A34\u0A37\u0A3A\u0A3B\u0A3D\u0A43-\u0A46\u0A49\u0A4A\u0A4E-\u0A50\u0A52-\u0A58\u0A5D\u0A5F-\u0A65\u0A76-\u0A80\u0A84\u0A8E\u0A92\u0AA9\u0AB1\u0AB4\u0ABA\u0ABB\u0AC6\u0ACA\u0ACE\u0ACF\u0AD1-\u0ADF\u0AE4\u0AE5\u0AF0-\u0AF8\u0B00\u0B04\u0B0D\u0B0E\u0B11\u0B12\u0B29\u0B31\u0B34\u0B3A\u0B3B\u0B45\u0B46\u0B49\u0B4A\u0B4E-\u0B54\u0B58-\u0B5B\u0B5E\u0B64\u0B65\u0B70\u0B72-\u0B81\u0B84\u0B8B-\u0B8D\u0B91\u0B96-\u0B98\u0B9B\u0B9D\u0BA0-\u0BA2\u0BA5-\u0BA7\u0BAB-\u0BAD\u0BBA-\u0BBD\u0BC3-\u0BC5\u0BC9\u0BCE\u0BCF\u0BD1-\u0BD6\u0BD8-\u0BE5\u0BF0-\u0BFF\u0C0D\u0C11\u0C29\u0C3A-\u0C3C\u0C45\u0C49\u0C4E-\u0C54\u0C57\u0C5B-\u0C5F\u0C64\u0C65\u0C70-\u0C7F\u0C84\u0C8D\u0C91\u0CA9\u0CB4\u0CBA\u0CBB\u0CC5\u0CC9\u0CCE-\u0CD4\u0CD7-\u0CDD\u0CDF\u0CE4\u0CE5\u0CF0\u0CF3-\u0CFF\u0D0D\u0D11\u0D45\u0D49\u0D4F-\u0D53\u0D58-\u0D5E\u0D64\u0D65\u0D70-\u0D79\u0D80\u0D84\u0D97-\u0D99\u0DB2\u0DBC\u0DBE\u0DBF\u0DC7-\u0DC9\u0DCB-\u0DCE\u0DD5\u0DD7\u0DE0-\u0DE5\u0DF0\u0DF1\u0DF4-\u0E00\u0E3B-\u0E3F\u0E4F\u0E5A-\u0E80\u0E83\u0E85\u0E8B\u0EA4\u0EA6\u0EBE\u0EBF\u0EC5\u0EC7\u0ECE\u0ECF\u0EDA\u0EDB\u0EE0-\u0EFF\u0F01-\u0F17\u0F1A-\u0F1F\u0F2A-\u0F34\u0F36\u0F38\u0F3A-\u0F3D\u0F48\u0F6D-\u0F70\u0F85\u0F98\u0FBD-\u0FC5\u0FC7-\u0FFF\u104A-\u104F\u109E\u109F\u10C6\u10C8-\u10CC\u10CE\u10CF\u10FB\u1249\u124E\u124F\u1257\u1259\u125E\u125F\u1289\u128E\u128F\u12B1\u12B6\u12B7\u12BF\u12C1\u12C6\u12C7\u12D7\u1311\u1316\u1317\u135B\u135C\u1360-\u137F\u1390-\u139F\u13F6\u13F7\u13FE-\u1400\u166D\u166E\u1680\u169B-\u169F\u16EB-\u16ED\u16F9-\u16FF\u170D\u1715-\u171F\u1735-\u173F\u1754-\u175F\u176D\u1771\u1774-\u177F\u17D4-\u17D6\u17D8-\u17DB\u17DE\u17DF\u17EA-\u180A\u180E\u180F\u181A-\u181F\u1879-\u187F\u18AB-\u18AF\u18F6-\u18FF\u191F\u192C-\u192F\u193C-\u1945\u196E\u196F\u1975-\u197F\u19AC-\u19AF\u19CA-\u19CF\u19DA-\u19FF\u1A1C-\u1A1F\u1A5F\u1A7D\u1A7E\u1A8A-\u1A8F\u1A9A-\u1AA6\u1AA8-\u1AAF\u1AC1-\u1AFF\u1B4C-\u1B4F\u1B5A-\u1B6A\u1B74-\u1B7F\u1BF4-\u1BFF\u1C38-\u1C3F\u1C4A-\u1C4C\u1C7E\u1C7F\u1C89-\u1C8F\u1CBB\u1CBC\u1CC0-\u1CCF\u1CD3\u1CFB-\u1CFF\u1DFA\u1F16\u1F17\u1F1E\u1F1F\u1F46\u1F47\u1F4E\u1F4F\u1F58\u1F5A\u1F5C\u1F5E\u1F7E\u1F7F\u1FB5\u1FBD\u1FBF-\u1FC1\u1FC5\u1FCD-\u1FCF\u1FD4\u1FD5\u1FDC-\u1FDF\u1FED-\u1FF1\u1FF5\u1FFD-\u203E\u2041-\u2053\u2055-\u2070\u2072-\u207E\u2080-\u208F\u209D-\u20CF\u20F1-\u2101\u2103-\u2106\u2108\u2109\u2114\u2116-\u2118\u211E-\u2123\u2125\u2127\u2129\u212E\u213A\u213B\u2140-\u2144\u214A-\u214D\u214F-\u215F\u2189-\u24B5\u24EA-\u2BFF\u2C2F\u2C5F\u2CE5-\u2CEA\u2CF4-\u2CFF\u2D26\u2D28-\u2D2C\u2D2E\u2D2F\u2D68-\u2D6E\u2D70-\u2D7E\u2D97-\u2D9F\u2DA7\u2DAF\u2DB7\u2DBF\u2DC7\u2DCF\u2DD7\u2DDF\u2E00-\u2E2E\u2E30-\u3004\u3008-\u3020\u3030\u3036\u3037\u303D-\u3040\u3097\u3098\u309B\u309C\u30A0\u30FB\u3100-\u3104\u3130\u318F-\u319F\u31C0-\u31EF\u3200-\u33FF\u4DC0-\u4DFF\u9FFD-\u9FFF\uA48D-\uA4CF\uA4FE\uA4FF\uA60D-\uA60F\uA62C-\uA63F\uA673\uA67E\uA6F2-\uA716\uA720\uA721\uA789\uA78A\uA7C0\uA7C1\uA7CB-\uA7F4\uA828-\uA82B\uA82D-\uA83F\uA874-\uA87F\uA8C6-\uA8CF\uA8DA-\uA8DF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA954-\uA95F\uA97D-\uA97F\uA9C1-\uA9CE\uA9DA-\uA9DF\uA9FF\uAA37-\uAA3F\uAA4E\uAA4F\uAA5A-\uAA5F\uAA77-\uAA79\uAAC3-\uAADA\uAADE\uAADF\uAAF0\uAAF1\uAAF7-\uAB00\uAB07\uAB08\uAB0F\uAB10\uAB17-\uAB1F\uAB27\uAB2F\uAB5B\uAB6A-\uAB6F\uABEB\uABEE\uABEF\uABFA-\uABFF\uD7A4-\uD7AF\uD7C7-\uD7CA\uD7FC-\uD7FF\uE000-\uF8FF\uFA6E\uFA6F\uFADA-\uFAFF\uFB07-\uFB12\uFB18-\uFB1C\uFB29\uFB37\uFB3D\uFB3F\uFB42\uFB45\uFBB2-\uFBD2\uFD3E-\uFD4F\uFD90\uFD91\uFDC8-\uFDEF\uFDFC-\uFDFF\uFE10-\uFE1F\uFE30-\uFE32\uFE35-\uFE4C\uFE50-\uFE6F\uFE75\uFEFD-\uFF0F\uFF1A-\uFF20\uFF3B-\uFF3E\uFF40\uFF5B-\uFF65\uFFBF-\uFFC1\uFFC8\uFFC9\uFFD0\uFFD1\uFFD8\uFFD9\uFFDD-\uFFFF]|\uD800[\uDC0C\uDC27\uDC3B\uDC3E\uDC4E\uDC4F\uDC5E-\uDC7F\uDCFB-\uDD3F\uDD75-\uDDFC\uDDFE-\uDE7F\uDE9D-\uDE9F\uDED1-\uDEDF\uDEE1-\uDEFF\uDF20-\uDF2C\uDF4B-\uDF4F\uDF7B-\uDF7F\uDF9E\uDF9F\uDFC4-\uDFC7\uDFD0\uDFD6-\uDFFF]|\uD801[\uDC9E\uDC9F\uDCAA-\uDCAF\uDCD4-\uDCD7\uDCFC-\uDCFF\uDD28-\uDD2F\uDD64-\uDDFF\uDF37-\uDF3F\uDF56-\uDF5F\uDF68-\uDFFF]|\uD802[\uDC06\uDC07\uDC09\uDC36\uDC39-\uDC3B\uDC3D\uDC3E\uDC56-\uDC5F\uDC77-\uDC7F\uDC9F-\uDCDF\uDCF3\uDCF6-\uDCFF\uDD16-\uDD1F\uDD3A-\uDD7F\uDDB8-\uDDBD\uDDC0-\uDDFF\uDE04\uDE07-\uDE0B\uDE14\uDE18\uDE36\uDE37\uDE3B-\uDE3E\uDE40-\uDE5F\uDE7D-\uDE7F\uDE9D-\uDEBF\uDEC8\uDEE7-\uDEFF\uDF36-\uDF3F\uDF56-\uDF5F\uDF73-\uDF7F\uDF92-\uDFFF]|\uD803[\uDC49-\uDC7F\uDCB3-\uDCBF\uDCF3-\uDCFF\uDD28-\uDD2F\uDD3A-\uDE7F\uDEAA\uDEAD-\uDEAF\uDEB2-\uDEFF\uDF1D-\uDF26\uDF28-\uDF2F\uDF51-\uDFAF\uDFC5-\uDFDF\uDFF7-\uDFFF]|\uD804[\uDC47-\uDC65\uDC70-\uDC7E\uDCBB-\uDCCF\uDCE9-\uDCEF\uDCFA-\uDCFF\uDD35\uDD40-\uDD43\uDD48-\uDD4F\uDD74\uDD75\uDD77-\uDD7F\uDDC5-\uDDC8\uDDCD\uDDDB\uDDDD-\uDDFF\uDE12\uDE38-\uDE3D\uDE3F-\uDE7F\uDE87\uDE89\uDE8E\uDE9E\uDEA9-\uDEAF\uDEEB-\uDEEF\uDEFA-\uDEFF\uDF04\uDF0D\uDF0E\uDF11\uDF12\uDF29\uDF31\uDF34\uDF3A\uDF45\uDF46\uDF49\uDF4A\uDF4E\uDF4F\uDF51-\uDF56\uDF58-\uDF5C\uDF64\uDF65\uDF6D-\uDF6F\uDF75-\uDFFF]|\uD805[\uDC4B-\uDC4F\uDC5A-\uDC5D\uDC62-\uDC7F\uDCC6\uDCC8-\uDCCF\uDCDA-\uDD7F\uDDB6\uDDB7\uDDC1-\uDDD7\uDDDE-\uDDFF\uDE41-\uDE43\uDE45-\uDE4F\uDE5A-\uDE7F\uDEB9-\uDEBF\uDECA-\uDEFF\uDF1B\uDF1C\uDF2C-\uDF2F\uDF3A-\uDFFF]|\uD806[\uDC3B-\uDC9F\uDCEA-\uDCFE\uDD07\uDD08\uDD0A\uDD0B\uDD14\uDD17\uDD36\uDD39\uDD3A\uDD44-\uDD4F\uDD5A-\uDD9F\uDDA8\uDDA9\uDDD8\uDDD9\uDDE2\uDDE5-\uDDFF\uDE3F-\uDE46\uDE48-\uDE4F\uDE9A-\uDE9C\uDE9E-\uDEBF\uDEF9-\uDFFF]|\uD807[\uDC09\uDC37\uDC41-\uDC4F\uDC5A-\uDC71\uDC90\uDC91\uDCA8\uDCB7-\uDCFF\uDD07\uDD0A\uDD37-\uDD39\uDD3B\uDD3E\uDD48-\uDD4F\uDD5A-\uDD5F\uDD66\uDD69\uDD8F\uDD92\uDD99-\uDD9F\uDDAA-\uDEDF\uDEF7-\uDFAF\uDFB1-\uDFFF]|\uD808[\uDF9A-\uDFFF]|\uD809[\uDC6F-\uDC7F\uDD44-\uDFFF]|[\uD80A\uD80B\uD80E-\uD810\uD812-\uD819\uD824-\uD82B\uD82D\uD82E\uD830-\uD833\uD837\uD839\uD83D\uD83F\uD87B-\uD87D\uD87F\uD885-\uDB3F\uDB41-\uDBFF][\uDC00-\uDFFF]|\uD80D[\uDC2F-\uDFFF]|\uD811[\uDE47-\uDFFF]|\uD81A[\uDE39-\uDE3F\uDE5F\uDE6A-\uDECF\uDEEE\uDEEF\uDEF5-\uDEFF\uDF37-\uDF3F\uDF44-\uDF4F\uDF5A-\uDF62\uDF78-\uDF7C\uDF90-\uDFFF]|\uD81B[\uDC00-\uDE3F\uDE80-\uDEFF\uDF4B-\uDF4E\uDF88-\uDF8E\uDFA0-\uDFDF\uDFE2\uDFE5-\uDFEF\uDFF2-\uDFFF]|\uD821[\uDFF8-\uDFFF]|\uD823[\uDCD6-\uDCFF\uDD09-\uDFFF]|\uD82C[\uDD1F-\uDD4F\uDD53-\uDD63\uDD68-\uDD6F\uDEFC-\uDFFF]|\uD82F[\uDC6B-\uDC6F\uDC7D-\uDC7F\uDC89-\uDC8F\uDC9A-\uDC9C\uDC9F-\uDFFF]|\uD834[\uDC00-\uDD64\uDD6A-\uDD6C\uDD73-\uDD7A\uDD83\uDD84\uDD8C-\uDDA9\uDDAE-\uDE41\uDE45-\uDFFF]|\uD835[\uDC55\uDC9D\uDCA0\uDCA1\uDCA3\uDCA4\uDCA7\uDCA8\uDCAD\uDCBA\uDCBC\uDCC4\uDD06\uDD0B\uDD0C\uDD15\uDD1D\uDD3A\uDD3F\uDD45\uDD47-\uDD49\uDD51\uDEA6\uDEA7\uDEC1\uDEDB\uDEFB\uDF15\uDF35\uDF4F\uDF6F\uDF89\uDFA9\uDFC3\uDFCC\uDFCD]|\uD836[\uDC00-\uDDFF\uDE37-\uDE3A\uDE6D-\uDE74\uDE76-\uDE83\uDE85-\uDE9A\uDEA0\uDEB0-\uDFFF]|\uD838[\uDC07\uDC19\uDC1A\uDC22\uDC25\uDC2B-\uDCFF\uDD2D-\uDD2F\uDD3E\uDD3F\uDD4A-\uDD4D\uDD4F-\uDEBF\uDEFA-\uDFFF]|\uD83A[\uDCC5-\uDCCF\uDCD7-\uDCFF\uDD4C-\uDD4F\uDD5A-\uDFFF]|\uD83B[\uDC00-\uDDFF\uDE04\uDE20\uDE23\uDE25\uDE26\uDE28\uDE33\uDE38\uDE3A\uDE3C-\uDE41\uDE43-\uDE46\uDE48\uDE4A\uDE4C\uDE50\uDE53\uDE55\uDE56\uDE58\uDE5A\uDE5C\uDE5E\uDE60\uDE63\uDE65\uDE66\uDE6B\uDE73\uDE78\uDE7D\uDE7F\uDE8A\uDE9C-\uDEA0\uDEA4\uDEAA\uDEBC-\uDFFF]|\uD83C[\uDC00-\uDD2F\uDD4A-\uDD4F\uDD6A-\uDD6F\uDD8A-\uDFFF]|\uD83E[\uDC00-\uDFEF\uDFFA-\uDFFF]|\uD869[\uDEDE-\uDEFF]|\uD86D[\uDF35-\uDF3F]|\uD86E[\uDC1E\uDC1F]|\uD873[\uDEA2-\uDEAF]|\uD87A[\uDFE1-\uDFFF]|\uD87E[\uDE1E-\uDFFF]|\uD884[\uDF4B-\uDFFF]|\uDB40[\uDC00-\uDCFF\uDDF0-\uDFFF]/g,LX=Object.hasOwnProperty;class jX{constructor(){this.occurrences,this.reset()}slug(t,n){const r=this;let a=MX(t,n===!0);const i=a;for(;LX.call(r.occurrences,a);)r.occurrences[i]++,a=i+"-"+r.occurrences[i];return r.occurrences[a]=0,a}reset(){this.occurrences=Object.create(null)}}function MX(e,t){return typeof e!="string"?"":(t||(e=e.toLowerCase()),e.replace(OX,"").replace(/ /g,"-"))}function BO(e){const t=e.type==="element"?e.tagName.toLowerCase():"",n=t.length===2&&t.charCodeAt(0)===104?t.charCodeAt(1):0;return n>48&&n<55?n-48:void 0}const FX={},D2=new jX;function PX(e){const n=(e||FX).prefix||"";return function(r){D2.reset(),En(r,"element",function(a){BO(a)&&!a.properties.id&&(a.properties.id=n+D2.slug(_a(a)))})}}const UO=function(e){if(e==null)return $X;if(typeof e=="string")return UX(e);if(typeof e=="object")return BX(e);if(typeof e=="function")return WS(e);throw new Error("Expected function, string, or array as `test`")};function BX(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=UO(e[n]);return WS(r);function r(...a){let i=-1;for(;++i<t.length;)if(t[i].apply(this,a))return!0;return!1}}function UX(e){return WS(t);function t(n){return n.tagName===e}}function WS(e){return t;function t(n,r,a){return!!(HX(n)&&e.call(this,n,typeof r=="number"?r:void 0,a||void 0))}}function $X(e){return!!(e&&typeof e=="object"&&"type"in e&&e.type==="element"&&"tagName"in e&&typeof e.tagName=="string")}function HX(e){return e!==null&&typeof e=="object"&&"type"in e&&"tagName"in e}const O2={type:"element",tagName:"span",properties:{className:["icon","icon-link"]},children:[]},zX={};function GX(e){const t=e||zX;let n=t.properties;const r=t.headingProperties,a=t.behavior||"prepend",i=t.content,o=t.group,l=UO(t.test);let u;return a==="after"||a==="before"?u=d:a==="wrap"?u=p:(u=c,n||(n={ariaHidden:"true",tabIndex:-1})),function(h){En(h,"element",function(f,m,v){if(BO(f)&&f.properties.id&&l(f,m,v))return Object.assign(f.properties,Bp(r,f)),u(f,m,v)})};function c(h){const f=L2(i||O2,h);return h.children[a==="prepend"?"unshift":"push"](Vg(h,Bp(n,h),f)),[bc]}function d(h,f,m){if(typeof f!="number"||!m)return;const v=L2(i||O2,h),y=Vg(h,Bp(n,h),v);let g=a==="before"?[y,h]:[h,y];if(o){const x=$O(o,h);x&&!Array.isArray(x)&&x.type==="element"&&(x.children=g,g=[x])}return m.children.splice(f,1,...g),[bc,f+g.length]}function p(h){let f=h.children,m=[];return typeof i=="function"?(f=[],m=i(h)):i&&(m=YS(i)),h.children=[Vg(h,Bp(n,h),Array.isArray(m)?[...f,...m]:[...f,m])],[bc]}}function YS(e){return oi(e)}function Vg(e,t,n){return{type:"element",tagName:"a",properties:{...t,href:"#"+e.properties.id},children:n}}function L2(e,t){const n=$O(e,t);return Array.isArray(n)?n:[n]}function $O(e,t){return typeof e=="function"?e(t):YS(e)}function Bp(e,t){return typeof e=="function"?e(t):e?YS(e):{}}const qX=(e={})=>{const{openDelimiter:t="rehype:ignore:start",closeDelimiter:n="rehype:ignore:end"}=e;return r=>{En(r,(a,i,o)=>{if(a.type==="element"||a.type==="root"){let l=!1;a.children=a.children.filter(u=>{if(u.type==="raw"||u.type==="comment"){let c=(u.value||"").trim();if(c=c.replace(/^<!--(.*?)-->/,"$1"),c===t)return l=!0,!1;if(c===n)return l=!1,!1}return!l})}})}};var VX={type:"element",tagName:"svg",properties:{className:"octicon octicon-link",viewBox:"0 0 16 16",version:"1.1",width:"16",height:"16",ariaHidden:"true"},children:[{type:"element",tagName:"path",children:[],properties:{fillRule:"evenodd",d:"M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"}}]};function WX(e){return e===void 0&&(e=""),{type:"element",tagName:"div",properties:{class:"copied","data-code":e},children:[{type:"element",tagName:"svg",properties:{className:"octicon-copy",ariaHidden:"true",viewBox:"0 0 16 16",fill:"currentColor",height:12,width:12},children:[{type:"element",tagName:"path",properties:{fillRule:"evenodd",d:"M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"},children:[]},{type:"element",tagName:"path",properties:{fillRule:"evenodd",d:"M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"},children:[]}]},{type:"element",tagName:"svg",properties:{className:"octicon-check",ariaHidden:"true",viewBox:"0 0 16 16",fill:"currentColor",height:12,width:12},children:[{type:"element",tagName:"path",properties:{fillRule:"evenodd",d:"M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"},children:[]}]}]}}var YX=(e,t)=>(n,r,a)=>{if(n.type==="element"&&a&&a.type==="root"&&/h(1|2|3|4|5|6)/.test(n.tagName)){var i=n.children&&n.children[0];i&&i.properties&&i.properties.ariaHidden==="true"&&(i.properties=tt({class:"anchor"},i.properties),i.children=[VX])}if(n.type==="element"&&n.tagName==="pre"&&!e){var o=MO(n.children);n.children.push(WX(o))}t&&t(n,r===null?void 0:r,a===null?void 0:a)},KX=[PX,GX,qX];const HO=It.forwardRef((e,t)=>{var n,r=[RX,ri,DX,...KX,[pX,{rewrite:YX((n=e.disableCopy)!=null?n:!1,e.rehypeRewrite)}],[mX,{properties:"attr"}],...e.rehypePlugins||[],[HK,{ignoreMissing:!0}]];return s.jsx(IX,tt({},e,{rehypePlugins:r,ref:t}))});function ZX(e,t){return tt({},e,t)}var _o=It.createContext({markdown:""});function XX(e){var{prefixCls:t,groupName:n,commands:r,children:a}=e||{},{barPopup:i={}}=E.useContext(_o);return E.useMemo(()=>s.jsx("div",{className:t+"-toolbar-child "+(n&&i[n]?"active":""),onClick:o=>o.stopPropagation(),children:Array.isArray(r)?s.jsx(zO,tt({commands:r},e,{isChild:!0})):a}),[r,i,n,t])}function j2(e){var{prefixCls:t,overflow:n}=e,{fullscreen:r,preview:a,barPopup:i={},components:o,commandOrchestrator:l,dispatch:u}=E.useContext(_o),c=E.useRef("");function d(p,h){if(u){var f={barPopup:tt({},i)};p.keyCommand==="preview"&&(f.preview=p.value),p.keyCommand==="fullscreen"&&(f.fullscreen=!r),e.commands&&p.keyCommand==="group"?e.commands.forEach(m=>{h===m.groupName?f.barPopup[h]=!0:m.keyCommand&&(f.barPopup[m.groupName]=!1)}):(h||p.parent)&&Object.keys(f.barPopup||{}).forEach(m=>{f.barPopup[m]=!1}),Object.keys(f).length&&u(tt({},f)),l&&l.executeCommand(p)}}return E.useEffect(()=>{document&&n&&(r?document.body.style.overflow="hidden":(c.current||(c.current=window.getComputedStyle(document.body,null).overflow),document.body.style.overflow=c.current))},[r,c,n]),s.jsx("ul",{children:(e.commands||[]).map((p,h)=>{if(p.keyCommand==="divider")return s.jsx("li",tt({},p.liProps,{className:t+"-toolbar-divider"}),h);if(!p.keyCommand)return s.jsx(E.Fragment,{},h);var f=r&&p.keyCommand==="fullscreen"||p.keyCommand==="preview"&&a===p.value,m=p.children&&typeof p.children=="function"?p.children({getState:()=>l.getState(),textApi:l?l.textApi:void 0,close:()=>d({},p.groupName),execute:()=>d({execute:p.execute}),dispatch:u}):void 0,v=i&&a&&a==="preview"&&!/(preview|fullscreen)/.test(p.keyCommand),y=(o==null?void 0:o.toolbar)||p.render,g=y&&typeof y=="function"?y(p,!!v,d,h):null;return s.jsxs("li",tt({},p.liProps,{className:f?"active":"",children:[g&&It.isValidElement(g)&&g,!g&&!p.buttonProps&&p.icon,!g&&p.buttonProps&&It.createElement("button",tt({type:"button",key:h,disabled:v,"data-name":p.name},p.buttonProps,{onClick:x=>{x.stopPropagation(),d(p,p.groupName)}}),p.icon),p.children&&s.jsx(XX,{overflow:n,groupName:p.groupName,prefixCls:t,children:m,commands:Array.isArray(p.children)?p.children:void 0})]}),h)})})}function zO(e){e===void 0&&(e={});var{prefixCls:t,isChild:n,className:r}=e,{commands:a,extraCommands:i}=E.useContext(_o);return s.jsxs("div",{className:t+"-toolbar "+r,children:[s.jsx(j2,tt({},e,{commands:e.commands||a||[]})),!n&&s.jsx(j2,tt({},e,{commands:i||[]}))]})}function M2(e){var{hideToolbar:t,toolbarBottom:n,placement:r,overflow:a,prefixCls:i}=e;if(t||r==="bottom"&&!n||r==="top"&&n)return null;var o=n?"bottom":"";return s.jsx(zO,{prefixCls:i,overflow:a,className:o})}function GO(e,t){return e===void 0&&(e=[]),t===void 0&&(t={}),e.forEach(n=>{n.children&&Array.isArray(n.children)?t=tt({},t,GO(n.children||[])):n.keyCommand&&n.shortcuts&&n.execute&&(t[n.shortcuts.toLocaleLowerCase()]=n)}),t}function qO(e,t,n,r,a){t===void 0&&(t=[]);var i=GO(t||[]),o=[];if(e.altKey&&o.push("alt"),e.shiftKey&&o.push("shift"),e.metaKey&&o.push("cmd"),e.ctrlKey&&o.push("ctrl"),o.length>0&&!/(control|alt|meta|shift)/.test(e.key.toLocaleLowerCase())&&o.push(e.key.toLocaleLowerCase()),/escape/.test(e.key.toLocaleLowerCase())&&o.push("escape"),!(o.length<1)){var l=!!i[o.join("+")],u=l?i[o.join("+")]:void 0;if(Object.keys(i).forEach(c=>{var d=c.split("+").every(p=>/ctrlcmd/.test(p)?o.includes("ctrl")||o.includes("cmd"):o.includes(p));d&&(u=i[c])}),u&&n){e.stopPropagation(),e.preventDefault(),n.executeCommand(u,r,a,o);return}}}function QX(e,t){return t||(t=e.slice(0)),e.raw=t,e}const JX={abandonedHeadElementChild:{reason:"Unexpected metadata element after head",description:"Unexpected element after head. Expected the element before `</head>`",url:!1},abruptClosingOfEmptyComment:{reason:"Unexpected abruptly closed empty comment",description:"Unexpected `>` or `->`. Expected `-->` to close comments"},abruptDoctypePublicIdentifier:{reason:"Unexpected abruptly closed public identifier",description:"Unexpected `>`. Expected a closing `\"` or `'` after the public identifier"},abruptDoctypeSystemIdentifier:{reason:"Unexpected abruptly closed system identifier",description:"Unexpected `>`. Expected a closing `\"` or `'` after the identifier identifier"},absenceOfDigitsInNumericCharacterReference:{reason:"Unexpected non-digit at start of numeric character reference",description:"Unexpected `%c`. Expected `[0-9]` for decimal references or `[0-9a-fA-F]` for hexadecimal references"},cdataInHtmlContent:{reason:"Unexpected CDATA section in HTML",description:"Unexpected `<![CDATA[` in HTML. Remove it, use a comment, or encode special characters instead"},characterReferenceOutsideUnicodeRange:{reason:"Unexpected too big numeric character reference",description:"Unexpectedly high character reference. Expected character references to be at most hexadecimal 10ffff (or decimal 1114111)"},closingOfElementWithOpenChildElements:{reason:"Unexpected closing tag with open child elements",description:"Unexpectedly closing tag. Expected other tags to be closed first",url:!1},controlCharacterInInputStream:{reason:"Unexpected control character",description:"Unexpected control character `%x`. Expected a non-control code point, 0x00, or ASCII whitespace"},controlCharacterReference:{reason:"Unexpected control character reference",description:"Unexpectedly control character in reference. Expected a non-control code point, 0x00, or ASCII whitespace"},disallowedContentInNoscriptInHead:{reason:"Disallowed content inside `<noscript>` in `<head>`",description:"Unexpected text character `%c`. Only use text in `<noscript>`s in `<body>`",url:!1},duplicateAttribute:{reason:"Unexpected duplicate attribute",description:"Unexpectedly double attribute. Expected attributes to occur only once"},endTagWithAttributes:{reason:"Unexpected attribute on closing tag",description:"Unexpected attribute. Expected `>` instead"},endTagWithTrailingSolidus:{reason:"Unexpected slash at end of closing tag",description:"Unexpected `%c-1`. Expected `>` instead"},endTagWithoutMatchingOpenElement:{reason:"Unexpected unopened end tag",description:"Unexpected end tag. Expected no end tag or another end tag",url:!1},eofBeforeTagName:{reason:"Unexpected end of file",description:"Unexpected end of file. Expected tag name instead"},eofInCdata:{reason:"Unexpected end of file in CDATA",description:"Unexpected end of file. Expected `]]>` to close the CDATA"},eofInComment:{reason:"Unexpected end of file in comment",description:"Unexpected end of file. Expected `-->` to close the comment"},eofInDoctype:{reason:"Unexpected end of file in doctype",description:"Unexpected end of file. Expected a valid doctype (such as `<!doctype html>`)"},eofInElementThatCanContainOnlyText:{reason:"Unexpected end of file in element that can only contain text",description:"Unexpected end of file. Expected text or a closing tag",url:!1},eofInScriptHtmlCommentLikeText:{reason:"Unexpected end of file in comment inside script",description:"Unexpected end of file. Expected `-->` to close the comment"},eofInTag:{reason:"Unexpected end of file in tag",description:"Unexpected end of file. Expected `>` to close the tag"},incorrectlyClosedComment:{reason:"Incorrectly closed comment",description:"Unexpected `%c-1`. Expected `-->` to close the comment"},incorrectlyOpenedComment:{reason:"Incorrectly opened comment",description:"Unexpected `%c`. Expected `<!--` to open the comment"},invalidCharacterSequenceAfterDoctypeName:{reason:"Invalid sequence after doctype name",description:"Unexpected sequence at `%c`. Expected `public` or `system`"},invalidFirstCharacterOfTagName:{reason:"Invalid first character in tag name",description:"Unexpected `%c`. Expected an ASCII letter instead"},misplacedDoctype:{reason:"Misplaced doctype",description:"Unexpected doctype. Expected doctype before head",url:!1},misplacedStartTagForHeadElement:{reason:"Misplaced `<head>` start tag",description:"Unexpected start tag `<head>`. Expected `<head>` directly after doctype",url:!1},missingAttributeValue:{reason:"Missing attribute value",description:"Unexpected `%c-1`. Expected an attribute value or no `%c-1` instead"},missingDoctype:{reason:"Missing doctype before other content",description:"Expected a `<!doctype html>` before anything else",url:!1},missingDoctypeName:{reason:"Missing doctype name",description:"Unexpected doctype end at `%c`. Expected `html` instead"},missingDoctypePublicIdentifier:{reason:"Missing public identifier in doctype",description:"Unexpected `%c`. Expected identifier for `public` instead"},missingDoctypeSystemIdentifier:{reason:"Missing system identifier in doctype",description:'Unexpected `%c`. Expected identifier for `system` instead (suggested: `"about:legacy-compat"`)'},missingEndTagName:{reason:"Missing name in end tag",description:"Unexpected `%c`. Expected an ASCII letter instead"},missingQuoteBeforeDoctypePublicIdentifier:{reason:"Missing quote before public identifier in doctype",description:"Unexpected `%c`. Expected `\"` or `'` instead"},missingQuoteBeforeDoctypeSystemIdentifier:{reason:"Missing quote before system identifier in doctype",description:"Unexpected `%c`. Expected `\"` or `'` instead"},missingSemicolonAfterCharacterReference:{reason:"Missing semicolon after character reference",description:"Unexpected `%c`. Expected `;` instead"},missingWhitespaceAfterDoctypePublicKeyword:{reason:"Missing whitespace after public identifier in doctype",description:"Unexpected `%c`. Expected ASCII whitespace instead"},missingWhitespaceAfterDoctypeSystemKeyword:{reason:"Missing whitespace after system identifier in doctype",description:"Unexpected `%c`. Expected ASCII whitespace instead"},missingWhitespaceBeforeDoctypeName:{reason:"Missing whitespace before doctype name",description:"Unexpected `%c`. Expected ASCII whitespace instead"},missingWhitespaceBetweenAttributes:{reason:"Missing whitespace between attributes",description:"Unexpected `%c`. Expected ASCII whitespace instead"},missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers:{reason:"Missing whitespace between public and system identifiers in doctype",description:"Unexpected `%c`. Expected ASCII whitespace instead"},nestedComment:{reason:"Unexpected nested comment",description:"Unexpected `<!--`. Expected `-->`"},nestedNoscriptInHead:{reason:"Unexpected nested `<noscript>` in `<head>`",description:"Unexpected `<noscript>`. Expected a closing tag or a meta element",url:!1},nonConformingDoctype:{reason:"Unexpected non-conforming doctype declaration",description:'Expected `<!doctype html>` or `<!doctype html system "about:legacy-compat">`',url:!1},nonVoidHtmlElementStartTagWithTrailingSolidus:{reason:"Unexpected trailing slash on start tag of non-void element",description:"Unexpected `/`. Expected `>` instead"},noncharacterCharacterReference:{reason:"Unexpected noncharacter code point referenced by character reference",description:"Unexpected code point. Do not use noncharacters in HTML"},noncharacterInInputStream:{reason:"Unexpected noncharacter character",description:"Unexpected code point `%x`. Do not use noncharacters in HTML"},nullCharacterReference:{reason:"Unexpected NULL character referenced by character reference",description:"Unexpected code point. Do not use NULL characters in HTML"},openElementsLeftAfterEof:{reason:"Unexpected end of file",description:"Unexpected end of file. Expected closing tag instead",url:!1},surrogateCharacterReference:{reason:"Unexpected surrogate character referenced by character reference",description:"Unexpected code point. Do not use lone surrogate characters in HTML"},surrogateInInputStream:{reason:"Unexpected surrogate character",description:"Unexpected code point `%x`. Do not use lone surrogate characters in HTML"},unexpectedCharacterAfterDoctypeSystemIdentifier:{reason:"Invalid character after system identifier in doctype",description:"Unexpected character at `%c`. Expected `>`"},unexpectedCharacterInAttributeName:{reason:"Unexpected character in attribute name",description:"Unexpected `%c`. Expected whitespace, `/`, `>`, `=`, or probably an ASCII letter"},unexpectedCharacterInUnquotedAttributeValue:{reason:"Unexpected character in unquoted attribute value",description:"Unexpected `%c`. Quote the attribute value to include it"},unexpectedEqualsSignBeforeAttributeName:{reason:"Unexpected equals sign before attribute name",description:"Unexpected `%c`. Add an attribute name before it"},unexpectedNullCharacter:{reason:"Unexpected NULL character",description:"Unexpected code point `%x`. Do not use NULL characters in HTML"},unexpectedQuestionMarkInsteadOfTagName:{reason:"Unexpected question mark instead of tag name",description:"Unexpected `%c`. Expected an ASCII letter instead"},unexpectedSolidusInTag:{reason:"Unexpected slash in tag",description:"Unexpected `%c-1`. Expected it followed by `>` or in a quoted attribute value"},unknownNamedCharacterReference:{reason:"Unexpected unknown named character reference",description:"Unexpected character reference. Expected known named character references"}},eQ="https://html.spec.whatwg.org/multipage/parsing.html#parse-error-",tQ=/-[a-z]/g,nQ=/%c(?:([-+])(\d+))?/g,rQ=/%x/g,aQ={2:!0,1:!1,0:null},sQ={};function iQ(e,t){const n=t||sQ,r=n.onerror,a=e instanceof Qc?e:new Qc(e),i=n.fragment?jY:LY,o=String(a),l=i(o,{sourceCodeLocationInfo:!0,onParseError:n.onerror?u:null,scriptingEnabled:!1});return vD(l,{file:a,space:n.space,verbose:n.verbose});function u(c){const d=c.code,p=oQ(d),h=n[p],f=h??!0,m=typeof f=="number"?f:f?1:0;if(m){const y=JX[p],g=new An(v(y.reason),{place:{start:{line:c.startLine,column:c.startCol,offset:c.startOffset},end:{line:c.endLine,column:c.endCol,offset:c.endOffset}},ruleId:d,source:"hast-util-from-html"});a.path&&(g.file=a.path,g.name=a.path+":"+g.name),g.fatal=aQ[m],g.note=v(y.description),g.url=y.url===!1?void 0:eQ+d,r(g)}function v(y){return y.replace(nQ,g).replace(rQ,x);function g(w,k,S){const T=(S?Number.parseInt(S,10):0)*(k==="-"?-1:1),A=o.charAt(c.startOffset+T);return uQ(A)}function x(){return cQ(o.charCodeAt(c.startOffset))}}}}function oQ(e){return e.replace(tQ,lQ)}function lQ(e){return e.charAt(1).toUpperCase()}function uQ(e){return e==="`"?"` ` `":e}function cQ(e){return"0x"+e.toString(16).toUpperCase()}function dQ(e){const t=this,{emitParseErrors:n,...r}={...t.data("settings"),...e};t.parser=a;function a(i,o){return iQ(i,{...r,onerror:n?function(l){o.path&&(l.name=o.path+":"+l.name,l.file=o.path),o.messages.push(l)}:void 0})}}class Zd{constructor(t,n,r){this.normal=n,this.property=t,r&&(this.space=r)}}Zd.prototype.normal={};Zd.prototype.property={};Zd.prototype.space=void 0;function VO(e,t){const n={},r={};for(const a of e)Object.assign(n,a.property),Object.assign(r,a.normal);return new Zd(n,r,t)}function Kb(e){return e.toLowerCase()}class br{constructor(t,n){this.attribute=n,this.property=t}}br.prototype.attribute="";br.prototype.booleanish=!1;br.prototype.boolean=!1;br.prototype.commaOrSpaceSeparated=!1;br.prototype.commaSeparated=!1;br.prototype.defined=!1;br.prototype.mustUseProperty=!1;br.prototype.number=!1;br.prototype.overloadedBoolean=!1;br.prototype.property="";br.prototype.spaceSeparated=!1;br.prototype.space=void 0;let pQ=0;const Ye=To(),Jt=To(),Zb=To(),xe=To(),Tt=To(),ml=To(),wr=To();function To(){return 2**++pQ}const Xb=Object.freeze(Object.defineProperty({__proto__:null,boolean:Ye,booleanish:Jt,commaOrSpaceSeparated:wr,commaSeparated:ml,number:xe,overloadedBoolean:Zb,spaceSeparated:Tt},Symbol.toStringTag,{value:"Module"})),Wg=Object.keys(Xb);class KS extends br{constructor(t,n,r,a){let i=-1;if(super(t,n),F2(this,"space",a),typeof r=="number")for(;++i<Wg.length;){const o=Wg[i];F2(this,Wg[i],(r&Xb[o])===Xb[o])}}}KS.prototype.defined=!0;function F2(e,t,n){n&&(e[t]=n)}function Eu(e){const t={},n={};for(const[r,a]of Object.entries(e.properties)){const i=new KS(r,e.transform(e.attributes||{},r),a,e.space);e.mustUseProperty&&e.mustUseProperty.includes(r)&&(i.mustUseProperty=!0),t[r]=i,n[Kb(r)]=r,n[Kb(i.attribute)]=r}return new Zd(t,n,e.space)}const WO=Eu({properties:{ariaActiveDescendant:null,ariaAtomic:Jt,ariaAutoComplete:null,ariaBusy:Jt,ariaChecked:Jt,ariaColCount:xe,ariaColIndex:xe,ariaColSpan:xe,ariaControls:Tt,ariaCurrent:null,ariaDescribedBy:Tt,ariaDetails:null,ariaDisabled:Jt,ariaDropEffect:Tt,ariaErrorMessage:null,ariaExpanded:Jt,ariaFlowTo:Tt,ariaGrabbed:Jt,ariaHasPopup:null,ariaHidden:Jt,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:Tt,ariaLevel:xe,ariaLive:null,ariaModal:Jt,ariaMultiLine:Jt,ariaMultiSelectable:Jt,ariaOrientation:null,ariaOwns:Tt,ariaPlaceholder:null,ariaPosInSet:xe,ariaPressed:Jt,ariaReadOnly:Jt,ariaRelevant:null,ariaRequired:Jt,ariaRoleDescription:Tt,ariaRowCount:xe,ariaRowIndex:xe,ariaRowSpan:xe,ariaSelected:Jt,ariaSetSize:xe,ariaSort:null,ariaValueMax:xe,ariaValueMin:xe,ariaValueNow:xe,ariaValueText:null,role:null},transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()}});function YO(e,t){return t in e?e[t]:t}function KO(e,t){return YO(e,t.toLowerCase())}const hQ=Eu({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:ml,acceptCharset:Tt,accessKey:Tt,action:null,allow:null,allowFullScreen:Ye,allowPaymentRequest:Ye,allowUserMedia:Ye,alt:null,as:null,async:Ye,autoCapitalize:null,autoComplete:Tt,autoFocus:Ye,autoPlay:Ye,blocking:Tt,capture:null,charSet:null,checked:Ye,cite:null,className:Tt,cols:xe,colSpan:null,content:null,contentEditable:Jt,controls:Ye,controlsList:Tt,coords:xe|ml,crossOrigin:null,data:null,dateTime:null,decoding:null,default:Ye,defer:Ye,dir:null,dirName:null,disabled:Ye,download:Zb,draggable:Jt,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:Ye,formTarget:null,headers:Tt,height:xe,hidden:Zb,high:xe,href:null,hrefLang:null,htmlFor:Tt,httpEquiv:Tt,id:null,imageSizes:null,imageSrcSet:null,inert:Ye,inputMode:null,integrity:null,is:null,isMap:Ye,itemId:null,itemProp:Tt,itemRef:Tt,itemScope:Ye,itemType:Tt,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:Ye,low:xe,manifest:null,max:null,maxLength:xe,media:null,method:null,min:null,minLength:xe,multiple:Ye,muted:Ye,name:null,nonce:null,noModule:Ye,noValidate:Ye,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:Ye,optimum:xe,pattern:null,ping:Tt,placeholder:null,playsInline:Ye,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:Ye,referrerPolicy:null,rel:Tt,required:Ye,reversed:Ye,rows:xe,rowSpan:xe,sandbox:Tt,scope:null,scoped:Ye,seamless:Ye,selected:Ye,shadowRootClonable:Ye,shadowRootDelegatesFocus:Ye,shadowRootMode:null,shape:null,size:xe,sizes:null,slot:null,span:xe,spellCheck:Jt,src:null,srcDoc:null,srcLang:null,srcSet:null,start:xe,step:null,style:null,tabIndex:xe,target:null,title:null,translate:null,type:null,typeMustMatch:Ye,useMap:null,value:Jt,width:xe,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:Tt,axis:null,background:null,bgColor:null,border:xe,borderColor:null,bottomMargin:xe,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:Ye,declare:Ye,event:null,face:null,frame:null,frameBorder:null,hSpace:xe,leftMargin:xe,link:null,longDesc:null,lowSrc:null,marginHeight:xe,marginWidth:xe,noResize:Ye,noHref:Ye,noShade:Ye,noWrap:Ye,object:null,profile:null,prompt:null,rev:null,rightMargin:xe,rules:null,scheme:null,scrolling:Jt,standby:null,summary:null,text:null,topMargin:xe,valueType:null,version:null,vAlign:null,vLink:null,vSpace:xe,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:Ye,disableRemotePlayback:Ye,prefix:null,property:null,results:xe,security:null,unselectable:null},space:"html",transform:KO}),fQ=Eu({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:wr,accentHeight:xe,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:xe,amplitude:xe,arabicForm:null,ascent:xe,attributeName:null,attributeType:null,azimuth:xe,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:xe,by:null,calcMode:null,capHeight:xe,className:Tt,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:xe,diffuseConstant:xe,direction:null,display:null,dur:null,divisor:xe,dominantBaseline:null,download:Ye,dx:null,dy:null,edgeMode:null,editable:null,elevation:xe,enableBackground:null,end:null,event:null,exponent:xe,externalResourcesRequired:null,fill:null,fillOpacity:xe,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:ml,g2:ml,glyphName:ml,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:xe,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:xe,horizOriginX:xe,horizOriginY:xe,id:null,ideographic:xe,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:xe,k:xe,k1:xe,k2:xe,k3:xe,k4:xe,kernelMatrix:wr,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:xe,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:xe,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:xe,overlineThickness:xe,paintOrder:null,panose1:null,path:null,pathLength:xe,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:Tt,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:xe,pointsAtY:xe,pointsAtZ:xe,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:wr,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:wr,rev:wr,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:wr,requiredFeatures:wr,requiredFonts:wr,requiredFormats:wr,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:xe,specularExponent:xe,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:xe,strikethroughThickness:xe,string:null,stroke:null,strokeDashArray:wr,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:xe,strokeOpacity:xe,strokeWidth:null,style:null,surfaceScale:xe,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:wr,tabIndex:xe,tableValues:null,target:null,targetX:xe,targetY:xe,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:wr,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:xe,underlineThickness:xe,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:xe,values:null,vAlphabetic:xe,vMathematical:xe,vectorEffect:null,vHanging:xe,vIdeographic:xe,version:null,vertAdvY:xe,vertOriginX:xe,vertOriginY:xe,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:xe,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:YO}),ZO=Eu({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()}}),XO=Eu({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:KO}),QO=Eu({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()}}),mQ=/[A-Z]/g,P2=/-[a-z]/g,gQ=/^data[-\w.:]+$/i;function bQ(e,t){const n=Kb(t);let r=t,a=br;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&gQ.test(t)){if(t.charAt(4)==="-"){const i=t.slice(5).replace(P2,xQ);r="data"+i.charAt(0).toUpperCase()+i.slice(1)}else{const i=t.slice(4);if(!P2.test(i)){let o=i.replace(mQ,yQ);o.charAt(0)!=="-"&&(o="-"+o),t="data"+o}}a=KS}return new a(r,t)}function yQ(e){return"-"+e.toLowerCase()}function xQ(e){return e.charAt(1).toUpperCase()}const vQ=VO([WO,hQ,ZO,XO,QO],"html"),JO=VO([WO,fQ,ZO,XO,QO],"svg"),EQ=/["&'<>`]/g,wQ=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,SQ=/[\x01-\t\v\f\x0E-\x1F\x7F\x81\x8D\x8F\x90\x9D\xA0-\uFFFF]/g,NQ=/[|\\{}()[\]^$+*?.]/g,B2=new WeakMap;function kQ(e,t){if(e=e.replace(t.subset?_Q(t.subset):EQ,r),t.subset||t.escapeOnly)return e;return e.replace(wQ,n).replace(SQ,r);function n(a,i,o){return t.format((a.charCodeAt(0)-55296)*1024+a.charCodeAt(1)-56320+65536,o.charCodeAt(i+2),t)}function r(a,i,o){return t.format(a.charCodeAt(0),o.charCodeAt(i+1),t)}}function _Q(e){let t=B2.get(e);return t||(t=TQ(e),B2.set(e,t)),t}function TQ(e){const t=[];let n=-1;for(;++n<e.length;)t.push(e[n].replace(NQ,"\\$&"));return new RegExp("(?:"+t.join("|")+")","g")}const CQ=/[\dA-Fa-f]/;function AQ(e,t,n){const r="&#x"+e.toString(16).toUpperCase();return n&&t&&!CQ.test(String.fromCharCode(t))?r:r+";"}const IQ=/\d/;function RQ(e,t,n){const r="&#"+String(e);return n&&t&&!IQ.test(String.fromCharCode(t))?r:r+";"}const Yg={nbsp:"",iexcl:"",cent:"",pound:"",curren:"",yen:"",brvbar:"",sect:"",uml:"",copy:"",ordf:"",laquo:"",not:"",shy:"",reg:"",macr:"",deg:"",plusmn:"",sup2:"",sup3:"",acute:"",micro:"",para:"",middot:"",cedil:"",sup1:"",ordm:"",raquo:"",frac14:"",frac12:"",frac34:"",iquest:"",Agrave:"",Aacute:"",Acirc:"",Atilde:"",Auml:"",Aring:"",AElig:"",Ccedil:"",Egrave:"",Eacute:"",Ecirc:"",Euml:"",Igrave:"",Iacute:"",Icirc:"",Iuml:"",ETH:"",Ntilde:"",Ograve:"",Oacute:"",Ocirc:"",Otilde:"",Ouml:"",times:"",Oslash:"",Ugrave:"",Uacute:"",Ucirc:"",Uuml:"",Yacute:"",THORN:"",szlig:"",agrave:"",aacute:"",acirc:"",atilde:"",auml:"",aring:"",aelig:"",ccedil:"",egrave:"",eacute:"",ecirc:"",euml:"",igrave:"",iacute:"",icirc:"",iuml:"",eth:"",ntilde:"",ograve:"",oacute:"",ocirc:"",otilde:"",ouml:"",divide:"",oslash:"",ugrave:"",uacute:"",ucirc:"",uuml:"",yacute:"",thorn:"",yuml:"",fnof:"",Alpha:"",Beta:"",Gamma:"",Delta:"",Epsilon:"",Zeta:"",Eta:"",Theta:"",Iota:"",Kappa:"",Lambda:"",Mu:"",Nu:"",Xi:"",Omicron:"",Pi:"",Rho:"",Sigma:"",Tau:"",Upsilon:"",Phi:"",Chi:"",Psi:"",Omega:"",alpha:"",beta:"",gamma:"",delta:"",epsilon:"",zeta:"",eta:"",theta:"",iota:"",kappa:"",lambda:"",mu:"",nu:"",xi:"",omicron:"",pi:"",rho:"",sigmaf:"",sigma:"",tau:"",upsilon:"",phi:"",chi:"",psi:"",omega:"",thetasym:"",upsih:"",piv:"",bull:"",hellip:"",prime:"",Prime:"",oline:"",frasl:"",weierp:"",image:"",real:"",trade:"",alefsym:"",larr:"",uarr:"",rarr:"",darr:"",harr:"",crarr:"",lArr:"",uArr:"",rArr:"",dArr:"",hArr:"",forall:"",part:"",exist:"",empty:"",nabla:"",isin:"",notin:"",ni:"",prod:"",sum:"",minus:"",lowast:"",radic:"",prop:"",infin:"",ang:"",and:"",or:"",cap:"",cup:"",int:"",there4:"",sim:"",cong:"",asymp:"",ne:"",equiv:"",le:"",ge:"",sub:"",sup:"",nsub:"",sube:"",supe:"",oplus:"",otimes:"",perp:"",sdot:"",lceil:"",rceil:"",lfloor:"",rfloor:"",lang:"",rang:"",loz:"",spades:"",clubs:"",hearts:"",diams:"",quot:'"',amp:"&",lt:"<",gt:">",OElig:"",oelig:"",Scaron:"",scaron:"",Yuml:"",circ:"",tilde:"",ensp:"",emsp:"",thinsp:"",zwnj:"",zwj:"",lrm:"",rlm:"",ndash:"",mdash:"",lsquo:"",rsquo:"",sbquo:"",ldquo:"",rdquo:"",bdquo:"",dagger:"",Dagger:"",permil:"",lsaquo:"",rsaquo:"",euro:""},DQ=["cent","copy","divide","gt","lt","not","para","times"],eL={}.hasOwnProperty,Qb={};let Up;for(Up in Yg)eL.call(Yg,Up)&&(Qb[Yg[Up]]=Up);const OQ=/[^\dA-Za-z]/;function LQ(e,t,n,r){const a=String.fromCharCode(e);if(eL.call(Qb,a)){const i=Qb[a],o="&"+i;return n&&pO.includes(i)&&!DQ.includes(i)&&(!r||t&&t!==61&&OQ.test(String.fromCharCode(t)))?o:o+";"}return""}function jQ(e,t,n){let r=AQ(e,t,n.omitOptionalSemicolons),a;if((n.useNamedReferences||n.useShortestReferences)&&(a=LQ(e,t,n.omitOptionalSemicolons,n.attribute)),(n.useShortestReferences||!a)&&n.useShortestReferences){const i=RQ(e,t,n.omitOptionalSemicolons);i.length<r.length&&(r=i)}return a&&(!n.useShortestReferences||a.length<r.length)?a:r}function gl(e,t){return kQ(e,Object.assign({format:jQ},t))}const MQ=/^>|^->|<!--|-->|--!>|<!-$/g,FQ=[">"],PQ=["<",">"];function BQ(e,t,n,r){return r.settings.bogusComments?"<?"+gl(e.value,Object.assign({},r.settings.characterReferences,{subset:FQ}))+">":"<!--"+e.value.replace(MQ,a)+"-->";function a(i){return gl(i,Object.assign({},r.settings.characterReferences,{subset:PQ}))}}function UQ(e,t,n,r){return"<!"+(r.settings.upperDoctype?"DOCTYPE":"doctype")+(r.settings.tightDoctype?"":" ")+"html>"}const dn=nL(1),tL=nL(-1),$Q=[];function nL(e){return t;function t(n,r,a){const i=n?n.children:$Q;let o=(r||0)+e,l=i[o];if(!a)for(;l&&Rd(l);)o+=e,l=i[o];return l}}const HQ={}.hasOwnProperty;function rL(e){return t;function t(n,r,a){return HQ.call(e,n.tagName)&&e[n.tagName](n,r,a)}}const ZS=rL({body:GQ,caption:Kg,colgroup:Kg,dd:YQ,dt:WQ,head:Kg,html:zQ,li:VQ,optgroup:KQ,option:ZQ,p:qQ,rp:U2,rt:U2,tbody:QQ,td:$2,tfoot:JQ,th:$2,thead:XQ,tr:eJ});function Kg(e,t,n){const r=dn(n,t,!0);return!r||r.type!=="comment"&&!(r.type==="text"&&Rd(r.value.charAt(0)))}function zQ(e,t,n){const r=dn(n,t);return!r||r.type!=="comment"}function GQ(e,t,n){const r=dn(n,t);return!r||r.type!=="comment"}function qQ(e,t,n){const r=dn(n,t);return r?r.type==="element"&&(r.tagName==="address"||r.tagName==="article"||r.tagName==="aside"||r.tagName==="blockquote"||r.tagName==="details"||r.tagName==="div"||r.tagName==="dl"||r.tagName==="fieldset"||r.tagName==="figcaption"||r.tagName==="figure"||r.tagName==="footer"||r.tagName==="form"||r.tagName==="h1"||r.tagName==="h2"||r.tagName==="h3"||r.tagName==="h4"||r.tagName==="h5"||r.tagName==="h6"||r.tagName==="header"||r.tagName==="hgroup"||r.tagName==="hr"||r.tagName==="main"||r.tagName==="menu"||r.tagName==="nav"||r.tagName==="ol"||r.tagName==="p"||r.tagName==="pre"||r.tagName==="section"||r.tagName==="table"||r.tagName==="ul"):!n||!(n.type==="element"&&(n.tagName==="a"||n.tagName==="audio"||n.tagName==="del"||n.tagName==="ins"||n.tagName==="map"||n.tagName==="noscript"||n.tagName==="video"))}function VQ(e,t,n){const r=dn(n,t);return!r||r.type==="element"&&r.tagName==="li"}function WQ(e,t,n){const r=dn(n,t);return!!(r&&r.type==="element"&&(r.tagName==="dt"||r.tagName==="dd"))}function YQ(e,t,n){const r=dn(n,t);return!r||r.type==="element"&&(r.tagName==="dt"||r.tagName==="dd")}function U2(e,t,n){const r=dn(n,t);return!r||r.type==="element"&&(r.tagName==="rp"||r.tagName==="rt")}function KQ(e,t,n){const r=dn(n,t);return!r||r.type==="element"&&r.tagName==="optgroup"}function ZQ(e,t,n){const r=dn(n,t);return!r||r.type==="element"&&(r.tagName==="option"||r.tagName==="optgroup")}function XQ(e,t,n){const r=dn(n,t);return!!(r&&r.type==="element"&&(r.tagName==="tbody"||r.tagName==="tfoot"))}function QQ(e,t,n){const r=dn(n,t);return!r||r.type==="element"&&(r.tagName==="tbody"||r.tagName==="tfoot")}function JQ(e,t,n){return!dn(n,t)}function eJ(e,t,n){const r=dn(n,t);return!r||r.type==="element"&&r.tagName==="tr"}function $2(e,t,n){const r=dn(n,t);return!r||r.type==="element"&&(r.tagName==="td"||r.tagName==="th")}const tJ=rL({body:aJ,colgroup:sJ,head:rJ,html:nJ,tbody:iJ});function nJ(e){const t=dn(e,-1);return!t||t.type!=="comment"}function rJ(e){const t=new Set;for(const r of e.children)if(r.type==="element"&&(r.tagName==="base"||r.tagName==="title")){if(t.has(r.tagName))return!1;t.add(r.tagName)}const n=e.children[0];return!n||n.type==="element"}function aJ(e){const t=dn(e,-1,!0);return!t||t.type!=="comment"&&!(t.type==="text"&&Rd(t.value.charAt(0)))&&!(t.type==="element"&&(t.tagName==="meta"||t.tagName==="link"||t.tagName==="script"||t.tagName==="style"||t.tagName==="template"))}function sJ(e,t,n){const r=tL(n,t),a=dn(e,-1,!0);return n&&r&&r.type==="element"&&r.tagName==="colgroup"&&ZS(r,n.children.indexOf(r),n)?!1:!!(a&&a.type==="element"&&a.tagName==="col")}function iJ(e,t,n){const r=tL(n,t),a=dn(e,-1);return n&&r&&r.type==="element"&&(r.tagName==="thead"||r.tagName==="tbody")&&ZS(r,n.children.indexOf(r),n)?!1:!!(a&&a.type==="element"&&a.tagName==="tr")}const $p={name:[[`	
\f\r &/=>`.split(""),`	
\f\r "&'/=>\``.split("")],[`\0	
\f\r "&'/<=>`.split(""),`\0	
\f\r "&'/<=>\``.split("")]],unquoted:[[`	
\f\r &>`.split(""),`\0	
\f\r "&'<=>\``.split("")],[`\0	
\f\r "&'<=>\``.split(""),`\0	
\f\r "&'<=>\``.split("")]],single:[["&'".split(""),"\"&'`".split("")],["\0&'".split(""),"\0\"&'`".split("")]],double:[['"&'.split(""),"\"&'`".split("")],['\0"&'.split(""),"\0\"&'`".split("")]]};function oJ(e,t,n,r){const a=r.schema,i=a.space==="svg"?!1:r.settings.omitOptionalTags;let o=a.space==="svg"?r.settings.closeEmptyElements:r.settings.voids.includes(e.tagName.toLowerCase());const l=[];let u;a.space==="html"&&e.tagName==="svg"&&(r.schema=JO);const c=lJ(r,e.properties),d=r.all(a.space==="html"&&e.tagName==="template"?e.content:e);return r.schema=a,d&&(o=!1),(c||!i||!tJ(e,t,n))&&(l.push("<",e.tagName,c?" "+c:""),o&&(a.space==="svg"||r.settings.closeSelfClosing)&&(u=c.charAt(c.length-1),(!r.settings.tightSelfClosing||u==="/"||u&&u!=='"'&&u!=="'")&&l.push(" "),l.push("/")),l.push(">")),l.push(d),!o&&(!i||!ZS(e,t,n))&&l.push("</"+e.tagName+">"),l.join("")}function lJ(e,t){const n=[];let r=-1,a;if(t){for(a in t)if(t[a]!==null&&t[a]!==void 0){const i=uJ(e,a,t[a]);i&&n.push(i)}}for(;++r<n.length;){const i=e.settings.tightAttributes?n[r].charAt(n[r].length-1):void 0;r!==n.length-1&&i!=='"'&&i!=="'"&&(n[r]+=" ")}return n.join("")}function uJ(e,t,n){const r=bQ(e.schema,t),a=e.settings.allowParseErrors&&e.schema.space==="html"?0:1,i=e.settings.allowDangerousCharacters?0:1;let o=e.quote,l;if(r.overloadedBoolean&&(n===r.attribute||n==="")?n=!0:(r.boolean||r.overloadedBoolean)&&(typeof n!="string"||n===r.attribute||n==="")&&(n=!!n),n==null||n===!1||typeof n=="number"&&Number.isNaN(n))return"";const u=gl(r.attribute,Object.assign({},e.settings.characterReferences,{subset:$p.name[a][i]}));return n===!0||(n=Array.isArray(n)?(r.commaSeparated?Vf:Wf)(n,{padLeft:!e.settings.tightCommaSeparatedLists}):String(n),e.settings.collapseEmptyAttributes&&!n)?u:(e.settings.preferUnquoted&&(l=gl(n,Object.assign({},e.settings.characterReferences,{attribute:!0,subset:$p.unquoted[a][i]}))),l!==n&&(e.settings.quoteSmart&&Yh(n,o)>Yh(n,e.alternative)&&(o=e.alternative),l=o+gl(n,Object.assign({},e.settings.characterReferences,{subset:(o==="'"?$p.single:$p.double)[a][i],attribute:!0}))+o),u+(l&&"="+l))}const cJ=["<","&"];function aL(e,t,n,r){return n&&n.type==="element"&&(n.tagName==="script"||n.tagName==="style")?e.value:gl(e.value,Object.assign({},r.settings.characterReferences,{subset:cJ}))}function dJ(e,t,n,r){return r.settings.allowDangerousHtml?e.value:aL(e,t,n,r)}function pJ(e,t,n,r){return r.all(e)}const hJ=Jf("type",{invalid:fJ,unknown:mJ,handlers:{comment:BQ,doctype:UQ,element:oJ,raw:dJ,root:pJ,text:aL}});function fJ(e){throw new Error("Expected node, not `"+e+"`")}function mJ(e){const t=e;throw new Error("Cannot compile unknown node `"+t.type+"`")}const gJ={},bJ={},yJ=[];function xJ(e,t){const n=t||gJ,r=n.quote||'"',a=r==='"'?"'":'"';if(r!=='"'&&r!=="'")throw new Error("Invalid quote `"+r+"`, expected `'` or `\"`");return{one:vJ,all:EJ,settings:{omitOptionalTags:n.omitOptionalTags||!1,allowParseErrors:n.allowParseErrors||!1,allowDangerousCharacters:n.allowDangerousCharacters||!1,quoteSmart:n.quoteSmart||!1,preferUnquoted:n.preferUnquoted||!1,tightAttributes:n.tightAttributes||!1,upperDoctype:n.upperDoctype||!1,tightDoctype:n.tightDoctype||!1,bogusComments:n.bogusComments||!1,tightCommaSeparatedLists:n.tightCommaSeparatedLists||!1,tightSelfClosing:n.tightSelfClosing||!1,collapseEmptyAttributes:n.collapseEmptyAttributes||!1,allowDangerousHtml:n.allowDangerousHtml||!1,voids:n.voids||SD,characterReferences:n.characterReferences||bJ,closeSelfClosing:n.closeSelfClosing||!1,closeEmptyElements:n.closeEmptyElements||!1},schema:n.space==="svg"?JO:vQ,quote:r,alternative:a}.one(Array.isArray(e)?{type:"root",children:e}:e,void 0,void 0)}function vJ(e,t,n){return hJ(e,t,n,this)}function EJ(e){const t=[],n=e&&e.children||yJ;let r=-1;for(;++r<n.length;)t[r]=this.one(n[r],r,e);return t.join("")}function wJ(e){const t=this,n={...t.data("settings"),...e};t.compiler=r;function r(a){return xJ(a,n)}}const SJ=Kx().use(dQ).use(wJ).freeze();function Jb(){Jb=function(a,i){return new n(a,void 0,i)};var e=RegExp.prototype,t=new WeakMap;function n(a,i,o){var l=new RegExp(a,i);return t.set(l,o||t.get(a)),nf(l,n.prototype)}function r(a,i){var o=t.get(i);return Object.keys(o).reduce(function(l,u){var c=o[u];if(typeof c=="number")l[u]=a[c];else{for(var d=0;a[c[d]]===void 0&&d+1<c.length;)d++;l[u]=a[c[d]]}return l},Object.create(null))}return function(a,i){if(typeof i!="function"&&i!==null)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(i&&i.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),Object.defineProperty(a,"prototype",{writable:!1}),i&&nf(a,i)}(n,RegExp),n.prototype.exec=function(a){var i=e.exec.call(this,a);if(i){i.groups=r(i,this);var o=i.indices;o&&(o.groups=r(o,this))}return i},n.prototype[Symbol.replace]=function(a,i){if(typeof i=="string"){var o=t.get(this);return e[Symbol.replace].call(this,a,i.replace(/\$<([^>]+)>/g,function(u,c){var d=o[c];return"$"+(Array.isArray(d)?d.join("$"):d)}))}if(typeof i=="function"){var l=this;return e[Symbol.replace].call(this,a,function(){var u=arguments;return typeof u[u.length-1]!="object"&&(u=[].slice.call(u)).push(r(u,l)),i.apply(this,u)})}return e[Symbol.replace].call(this,a,i)},Jb.apply(this,arguments)}function nf(e,t){return nf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},nf(e,t)}function H2(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Zg(e,t){var n=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(a,i){if(a){if(typeof a=="string")return H2(a,i);var o=Object.prototype.toString.call(a).slice(8,-1);return o==="Object"&&a.constructor&&(o=a.constructor.name),o==="Map"||o==="Set"?Array.from(a):o==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?H2(a,i):void 0}}(e))||t){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var NJ=function(e){return function(t){return t===void 0&&(t={}),function(r,a){if(a&&!r.registered(a))throw new Error('The default language "'+a+'" is not registered with refractor.')}(e,t.defaultLanguage),function(r){En(r,"element",n)};function n(r,a,i){var o,l;if(i&&i.tagName==="pre"&&r.tagName==="code"){var u=(r==null||(o=r.data)==null?void 0:o.meta)||(r==null||(l=r.properties)==null?void 0:l.metastring)||"";r.properties.className?typeof r.properties.className=="boolean"?r.properties.className=[]:Array.isArray(r.properties.className)||(r.properties.className=[r.properties.className]):r.properties.className=[];var c,d,p=function(S){for(var T,A=Zg(S.properties.className);!(T=A()).done;){var I=T.value;if(I.slice(0,9)==="language-")return I.slice(9).toLowerCase()}return null}(r);if(!p&&t.defaultLanguage&&r.properties.className.push("language-"+(p=t.defaultLanguage)),r.properties.className.push("code-highlight"),p)try{var h,f;f=(h=p)!=null&&h.includes("diff-")?p.split("-")[1]:p,c=e.highlight(_a(r),f),i.properties.className=(i.properties.className||[]).concat("language-"+f)}catch(S){if(!t.ignoreMissing||!/Unknown language/.test(S.message))throw S;c=r}else c=r;c.children=(d=1,function S(T){return T.reduce(function(A,I){if(I.type==="text"){var C=I.value,N=(C.match(/\n/g)||"").length;if(N===0)I.position={start:{line:d,column:1},end:{line:d,column:1}},A.push(I);else for(var O,D=C.split(`
`),B=Zg(D.entries());!(O=B()).done;){var j=O.value,P=j[0],Y=j[1];A.push({type:"text",value:P===D.length-1?Y:Y+`
`,position:{start:{line:d+P,column:1},end:{line:d+P,column:1}}})}return d+=N,A}if(Object.prototype.hasOwnProperty.call(I,"children")){var K=d;return I.children=S(I.children),A.push(I),I.position={start:{line:K,column:1},end:{line:d,column:1}},A}return A.push(I),A},[])})(c.children),c.position=c.children.length>0?{start:{line:c.children[0].position.start.line,column:0},end:{line:c.children[c.children.length-1].position.end.line,column:0}}:{start:{line:0,column:0},end:{line:0,column:0}};for(var m,v=function(S){var T=/{([\d,-]+)}/,A=S.split(",").map(function(N){return N.trim()}).join();if(T.test(A)){var I=T.exec(A)[1],C=cO(I);return function(N){return C.includes(N+1)}}return function(){return!1}}(u),y=function(S){var T=Jb(/showLineNumbers=(\d+)/i,{lines:1});if(T.test(S)){var A=T.exec(S);return Number(A.groups.lines)}return 1}(u),g=function(S){for(var T=new Array(S),A=0;A<S;A++)T[A]={type:"element",tagName:"span",properties:{className:[]},children:[]};return T}(c.position.end.line),x=["showlinenumbers=false",'showlinenumbers="false"',"showlinenumbers={false}"],w=function(){var S,T,A=m.value,I=A[0],C=A[1];C.properties.className=["code-line"];var N=uO(c,function(O){return O.position.start.line<=I+1&&O.position.end.line>=I+1});C.children=N.children,(u.toLowerCase().includes("showLineNumbers".toLowerCase())||t.showLineNumbers===!0||typeof t.showLineNumbers=="object"&&t.showLineNumbers.includes(p))&&!x.some(function(O){return u.toLowerCase().includes(O)})&&(C.properties.line=[(I+y).toString()],C.properties.className.push("line-number")),v(I)&&C.properties.className.push("highlight-line"),(p==="diff"||(S=p)!=null&&S.includes("diff-"))&&_a(C).substring(0,1)==="-"?C.properties.className.push("deleted"):(p==="diff"||(T=p)!=null&&T.includes("diff-"))&&_a(C).substring(0,1)==="+"&&C.properties.className.push("inserted")},k=Zg(g.entries());!(m=k()).done;)w();g.length>0&&_a(g[g.length-1]).trim()===""&&g.pop(),r.children=g}}}},kJ=NJ(R),z2;function _J(e){return e.replace(/[<&"]/g,t=>({"<":"&lt;",">":"&gt;","&":"&amp;",'"':"&quot;"})[t])}function TJ(e){var{prefixCls:t}=e,{markdown:n="",highlightEnable:r,dispatch:a}=E.useContext(_o),i=It.createRef();if(E.useEffect(()=>{i.current&&a&&a({textareaPre:i.current})},[]),!n)return s.jsx("pre",{ref:i,className:t+"-text-pre wmde-markdown-color"});var o='<pre class="language-markdown '+t+'-text-pre wmde-markdown-color"><code class="language-markdown">'+_J(String.raw(z2||(z2=QX(["",""])),n))+`
</code></pre>`;if(r)try{o=SJ().data("settings",{fragment:!0}).use(kJ,{ignoreMissing:!0}).processSync(o).toString()}catch{}return It.createElement("div",{className:"wmde-markdown-color",dangerouslySetInnerHTML:{__html:o||""}})}var Xg;function G2(e){if(e.nodeName!=="TEXTAREA")return!1;if(typeof Xg>"u"){var t=document.createElement("textarea");t.value="1",Xg=!!t.firstChild}return Xg}function bl(e,t){if(e.focus(),document.selection){var n=document.selection.createRange();n.text=t,n.collapse(!1),n.select();return}var r=!1;if(t!==""?r=document.execCommand&&document.execCommand("insertText",!1,t):r=document.execCommand&&document.execCommand("delete",!1),!r){var a=e.selectionStart,i=e.selectionEnd;if(typeof e.setRangeText=="function")e.setRangeText(t);else{var o=document.createRange(),l=document.createTextNode(t);if(G2(e)){var u=e.firstChild;if(!u)e.appendChild(l);else{for(var c=0,d=null,p=null;u&&(d===null||p===null);){var h=u.nodeValue.length;a>=c&&a<=c+h&&o.setStart(d=u,a-c),i>=c&&i<=c+h&&o.setEnd(p=u,i-c),c+=h,u=u.nextSibling}a!==i&&o.deleteContents()}}if(G2(e)&&o.commonAncestorContainer.nodeName==="#text")o.insertNode(l);else{var f=e.value;e.value=f.slice(0,a)+t+f.slice(i)}}e.setSelectionRange(a+t.length,a+t.length);var m=document.createEvent("UIEvent");m.initEvent("input",!0,!1),e.dispatchEvent(m)}}function Qn(e){var{text:t,selection:n,prefix:r,suffix:a=r}=e,i=n;if(t&&t.length&&n.start===n.end&&(i=CJ(t,n.start)),i.start>=r.length&&i.end<=t.length-a.length){var o=t.slice(i.start-r.length,i.end+a.length);if(o.startsWith(r)&&o.endsWith(a))return{start:i.start-r.length,end:i.end+a.length}}return i}function kc(e){var{text:t,selection:n}=e,r=t.slice(0,n.start).lastIndexOf(`
`)+1,a=t.slice(n.end).indexOf(`
`)+n.end;return a===n.end-1&&(a=t.length),{start:r,end:a}}function sL(e,t){if(e===void 0&&(e=""),t===0)return 0;for(var n=2,r=!0,a=t-1;a>=0&&n>=0;a--)switch(e.charCodeAt(a)){case 32:continue;case 10:n--,r=!1;break;default:return n}return r?0:n}function iL(e,t){if(e===void 0&&(e=""),t===e.length-1)return 0;for(var n=2,r=!0,a=t;a<e.length&&n>=0;a++)switch(e.charCodeAt(a)){case 32:continue;case 10:{n--,r=!1;break}default:return n}return r?0:n}function CJ(e,t){if(!e)throw Error("Argument 'text' should be truthy");for(var n=l=>l===" "||l.charCodeAt(0)===10,r=0,a=e.length,i=t;i-1>-1;i--)if(n(e[i-1])){r=i;break}for(var o=t;o<e.length;o++)if(n(e[o])){a=o;break}return{start:r,end:a}}function kn(e){var{api:t,selectedText:n,selection:r,prefix:a,suffix:i=a}=e;n.length>=a.length+i.length&&n.startsWith(a)&&n.endsWith(i)?(t.replaceSelection(n.slice(a.length,i.length?-i.length:void 0)),t.setSelectionRange({start:r.start-a.length,end:r.end-a.length})):(t.replaceSelection(""+a+n+i),t.setSelectionRange({start:r.start+a.length,end:r.end+a.length}))}function XS(e,t){var n=e.split(/\n/),r=0,a=n.map((i,o)=>{if(typeof t=="string")return i.startsWith(t)?(r-=t.length,i.slice(t.length)):(r+=t.length,t+i);if(typeof t=="function"){if(i.startsWith(t(i,o)))return r-=t(i,o).length,i.slice(t(i,o).length);var l=t(i,o);return r+=l.length,t(i,o)+i}throw Error("insertion is expected to be either a string or a function")}).join(`
`);return{modifiedText:a,insertionLength:r}}var QS={name:"bold",keyCommand:"bold",shortcuts:"ctrlcmd+b",prefix:"**",buttonProps:{"aria-label":"Add bold text (ctrl + b)",title:"Add bold text (ctrl + b)"},icon:s.jsx("svg",{role:"img",width:"12",height:"12",viewBox:"0 0 384 512",children:s.jsx("path",{fill:"currentColor",d:"M304.793 243.891c33.639-18.537 53.657-54.16 53.657-95.693 0-48.236-26.25-87.626-68.626-104.179C265.138 34.01 240.849 32 209.661 32H24c-8.837 0-16 7.163-16 16v33.049c0 8.837 7.163 16 16 16h33.113v318.53H24c-8.837 0-16 7.163-16 16V464c0 8.837 7.163 16 16 16h195.69c24.203 0 44.834-1.289 66.866-7.584C337.52 457.193 376 410.647 376 350.014c0-52.168-26.573-91.684-71.207-106.123zM142.217 100.809h67.444c16.294 0 27.536 2.019 37.525 6.717 15.828 8.479 24.906 26.502 24.906 49.446 0 35.029-20.32 56.79-53.029 56.79h-76.846V100.809zm112.642 305.475c-10.14 4.056-22.677 4.907-31.409 4.907h-81.233V281.943h84.367c39.645 0 63.057 25.38 63.057 63.057.001 28.425-13.66 52.483-34.782 61.284z"})}),execute:(e,t)=>{var n=Qn({text:e.text,selection:e.selection,prefix:e.command.prefix}),r=t.setSelectionRange(n);kn({api:t,selectedText:r.selectedText,selection:e.selection,prefix:e.command.prefix})}},Nm={name:"codeBlock",keyCommand:"codeBlock",shortcuts:"ctrlcmd+shift+j",prefix:"```",buttonProps:{"aria-label":"Insert Code Block (ctrl + shift + j)",title:"Insert Code Block (ctrl + shift +j)"},icon:s.jsx("svg",{width:"13",height:"13",role:"img",viewBox:"0 0 156 156",children:s.jsx("path",{fill:"currentColor",d:"M110.85 120.575 43.7 120.483333 43.7083334 110.091667 110.85 110.191667 110.841667 120.583333 110.85 120.575ZM85.1333334 87.1916666 43.625 86.7083332 43.7083334 76.3166666 85.2083334 76.7916666 85.1333334 87.1916666 85.1333334 87.1916666ZM110.841667 53.4166666 43.7 53.3166666 43.7083334 42.925 110.85 43.025 110.841667 53.4166666ZM36 138C27.2916666 138 20.75 136.216667 16.4 132.666667 12.1333334 129.2 10 124.308333 10 118L10 95.3333332C10 91.0666666 9.25 88.1333332 7.7333334 86.5333332 6.3166668 84.8416666 3.7333334 84 0 84L0 72C3.7333334 72 6.3083334 71.2 7.7333334 69.6 9.2416668 67.9083334 10 64.9333334 10 60.6666666L10 38C10 31.775 12.1333334 26.8833334 16.4 23.3333332 20.7583334 19.7749998 27.2916666 18 36 18L40.6666668 18 40.6666668 30 36 30C34.0212222 29.9719277 32.1263151 30.7979128 30.8 32.2666666 29.3605875 33.8216362 28.5938182 35.8823287 28.6666668 38L28.6666668 60.6666666C28.6666668 67.5083332 26.6666668 72.4 22.6666668 75.3333332 20.9317416 76.7274684 18.8640675 77.6464347 16.6666668 78 18.8916668 78.35 20.8916668 79.2416666 22.6666668 80.6666666 26.6666668 83.95 28.6666668 88.8416666 28.6666668 95.3333332L28.6666668 118C28.6666668 120.308333 29.3750002 122.216667 30.8 123.733333 32.2166666 125.241667 33.9583334 126 36 126L40.6666668 126 40.6666668 138 36 138 36 138ZM114.116667 126 118.783333 126C120.833333 126 122.566667 125.241667 123.983333 123.733333 125.422746 122.178364 126.189515 120.117671 126.116667 118L126.116667 95.3333332C126.116667 88.8333332 128.116667 83.9499998 132.116667 80.6666666 133.9 79.2416666 135.9 78.35 138.116667 78 135.919156 77.6468047 133.851391 76.7277979 132.116667 75.3333332 128.116667 72.3999998 126.116667 67.5 126.116667 60.6666666L126.116667 38C126.189515 35.8823287 125.422746 33.8216361 123.983333 32.2666666 122.657018 30.7979128 120.762111 29.9719277 118.783333 30L114.116667 30 114.116667 18 118.783333 18C127.5 18 133.983333 19.775 138.25 23.3333332 142.608333 26.8833332 144.783333 31.7749998 144.783333 38L144.783333 60.6666666C144.783333 64.9333332 145.5 67.9083332 146.916667 69.6 148.433333 71.2 151.05 72 154.783333 72L154.783333 84C151.05 84 148.433333 84.8333334 146.916667 86.5333332 145.5 88.1333332 144.783333 91.0666666 144.783333 95.3333332L144.783333 118C144.783333 124.308333 142.616667 129.2 138.25 132.666667 133.983333 136.216667 127.5 138 118.783333 138L114.116667 138 114.116667 126 114.116667 126Z"})}),execute:(e,t)=>{var n=Qn({text:e.text,selection:e.selection,prefix:"```\n",suffix:"\n```"}),r=t.setSelectionRange(n),a="\n```\n",i="\n```\n";r.selectedText.length>=a.length+i.length-2&&r.selectedText.startsWith(a)&&r.selectedText.endsWith(i)?(a="```\n",i="\n```"):((r.selection.start>=1&&e.text.slice(r.selection.start-1,r.selection.start)===`
`||r.selection.start===0)&&(a="```\n"),(r.selection.end<=e.text.length-1&&e.text.slice(r.selection.end,r.selection.end+1)===`
`||r.selection.end===e.text.length)&&(i="\n```"));var o=Qn({text:e.text,selection:e.selection,prefix:a,suffix:i}),l=t.setSelectionRange(o);kn({api:t,selectedText:l.selectedText,selection:e.selection,prefix:a,suffix:i})}},JS={name:"code",keyCommand:"code",shortcuts:"ctrlcmd+j",prefix:"`",buttonProps:{"aria-label":"Insert code (ctrl + j)",title:"Insert code (ctrl + j)"},icon:s.jsx("svg",{width:"14",height:"14",role:"img",viewBox:"0 0 640 512",children:s.jsx("path",{fill:"currentColor",d:"M278.9 511.5l-61-17.7c-6.4-1.8-10-8.5-8.2-14.9L346.2 8.7c1.8-6.4 8.5-10 14.9-8.2l61 17.7c6.4 1.8 10 8.5 8.2 14.9L293.8 503.3c-1.9 6.4-8.5 10.1-14.9 8.2zm-114-112.2l43.5-46.4c4.6-4.9 4.3-12.7-.8-17.2L117 256l90.6-79.7c5.1-4.5 5.5-12.3.8-17.2l-43.5-46.4c-4.5-4.8-12.1-5.1-17-.5L3.8 247.2c-5.1 4.7-5.1 12.8 0 17.5l144.1 135.1c4.9 4.6 12.5 4.4 17-.5zm327.2.6l144.1-135.1c5.1-4.7 5.1-12.8 0-17.5L492.1 112.1c-4.8-4.5-12.4-4.3-17 .5L431.6 159c-4.6 4.9-4.3 12.7.8 17.2L523 256l-90.6 79.7c-5.1 4.5-5.5 12.3-.8 17.2l43.5 46.4c4.5 4.9 12.1 5.1 17 .6z"})}),execute:(e,t)=>{if(e.selectedText.indexOf(`
`)===-1){var n=Qn({text:e.text,selection:e.selection,prefix:e.command.prefix}),r=t.setSelectionRange(n);kn({api:t,selectedText:r.selectedText,selection:e.selection,prefix:e.command.prefix})}else Nm.execute(e,t)}},AJ={name:"comment",keyCommand:"comment",shortcuts:"ctrlcmd+/",prefix:"<!-- ",suffix:" -->",buttonProps:{"aria-label":"Insert comment (ctrl + /)",title:"Insert comment (ctrl + /)"},icon:s.jsx("svg",{height:"1em",width:"1em",viewBox:"0 0 25 25",children:s.jsxs("g",{fill:"none",fillRule:"evenodd",children:[s.jsx("polygon",{points:".769 .727 24.981 .727 24.981 24.727 .769 24.727"}),s.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"3",d:"M12.625,23.8787879 L8.125,19.6969697 L5.125,19.6969697 C2.63971863,19.6969697 0.625,17.8247059 0.625,15.5151515 L0.625,7.15151515 C0.625,4.84196074 2.63971863,2.96969697 5.125,2.96969697 L20.125,2.96969697 C22.6102814,2.96969697 24.625,4.84196074 24.625,7.15151515 L24.625,15.5151515 C24.625,17.8247059 22.6102814,19.6969697 20.125,19.6969697 L17.125,19.6969697 L12.625,23.8787879"}),s.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"3",d:"M10.625,8.54545455 L7.25,11.3333333 L10.625,14.1212121 M15.6875,8.54545455 L19.0625,11.3333333 L15.6875,14.1212121"})]})}),execute:(e,t)=>{var n=Qn({text:e.text,selection:e.selection,prefix:e.command.prefix,suffix:e.command.suffix}),r=t.setSelectionRange(n);kn({api:t,selectedText:r.selectedText,selection:e.selection,prefix:e.command.prefix,suffix:e.command.suffix})}},Ra={keyCommand:"divider"},IJ={name:"fullscreen",keyCommand:"fullscreen",shortcuts:"ctrlcmd+0",value:"fullscreen",buttonProps:{"aria-label":"Toggle fullscreen (ctrl + 0)",title:"Toggle fullscreen (ctrl+ 0)"},icon:s.jsx("svg",{width:"12",height:"12",viewBox:"0 0 520 520",children:s.jsx("path",{fill:"currentColor",d:"M118 171.133334L118 342.200271C118 353.766938 126.675 365.333605 141.133333 365.333605L382.634614 365.333605C394.201281 365.333605 405.767948 356.658605 405.767948 342.200271L405.767948 171.133334C405.767948 159.566667 397.092948 148 382.634614 148L141.133333 148C126.674999 148 117.999999 156.675 118 171.133334zM465.353591 413.444444L370 413.444444 370 471.222222 474.0221 471.222222C500.027624 471.222222 520.254143 451 520.254143 425L520.254143 321 462.464089 321 462.464089 413.444444 465.353591 413.444444zM471.0221 43L367 43 367 100.777778 462.353591 100.777778 462.353591 196.111111 520.143647 196.111111 520.143647 89.2222219C517.254144 63.2222219 497.027624 43 471.0221 43zM57.7900547 100.777778L153.143646 100.777778 153.143646 43 46.2320439 43C20.2265191 43 0 63.2222219 0 89.2222219L0 193.222222 57.7900547 193.222222 57.7900547 100.777778zM57.7900547 321L0 321 0 425C0 451 20.2265191 471.222222 46.2320439 471.222223L150.254143 471.222223 150.254143 413.444445 57.7900547 413.444445 57.7900547 321z"})}),execute:(e,t,n,r,a)=>{t.textArea.focus(),a&&n&&r&&n({fullscreen:!r.fullscreen})}};function RJ(e){if(e==null)throw new TypeError("Cannot destructure "+e)}var DJ=(e,t)=>{var n=tt({children:e,icon:s.jsx("svg",{width:"12",height:"12",viewBox:"0 0 520 520",children:s.jsx("path",{fill:"currentColor",d:"M15.7083333,468 C7.03242448,468 0,462.030833 0,454.666667 L0,421.333333 C0,413.969167 7.03242448,408 15.7083333,408 L361.291667,408 C369.967576,408 377,413.969167 377,421.333333 L377,454.666667 C377,462.030833 369.967576,468 361.291667,468 L15.7083333,468 Z M21.6666667,366 C9.69989583,366 0,359.831861 0,352.222222 L0,317.777778 C0,310.168139 9.69989583,304 21.6666667,304 L498.333333,304 C510.300104,304 520,310.168139 520,317.777778 L520,352.222222 C520,359.831861 510.300104,366 498.333333,366 L21.6666667,366 Z M136.835938,64 L136.835937,126 L107.25,126 L107.25,251 L40.75,251 L40.75,126 L-5.68434189e-14,126 L-5.68434189e-14,64 L136.835938,64 Z M212,64 L212,251 L161.648438,251 L161.648438,64 L212,64 Z M378,64 L378,126 L343.25,126 L343.25,251 L281.75,251 L281.75,126 L238,126 L238,64 L378,64 Z M449.047619,189.550781 L520,189.550781 L520,251 L405,251 L405,64 L449.047619,64 L449.047619,189.550781 Z"})}),execute:()=>{}},t,{keyCommand:"group"});return Array.isArray(n.children)&&(n.children=n.children.map(r=>{var a=tt({},(RJ(r),r));return a.parent=n,tt({},a)})),n},eN={name:"hr",keyCommand:"hr",shortcuts:"ctrlcmd+h",prefix:`

---
`,suffix:"",buttonProps:{"aria-label":"Insert HR (ctrl + h)",title:"Insert HR (ctrl + h)"},icon:s.jsx("svg",{width:"12",height:"12",viewBox:"0 0 175 175",children:s.jsx("path",{fill:"currentColor",d:"M0,129 L175,129 L175,154 L0,154 L0,129 Z M3,9 L28.2158203,9 L28.2158203,47.9824219 L55.7695313,47.9824219 L55.7695313,9 L81.0966797,9 L81.0966797,107.185547 L55.7695313,107.185547 L55.7695313,68.0214844 L28.2158203,68.0214844 L28.2158203,107.185547 L3,107.185547 L3,9 Z M93.1855469,100.603516 L93.1855469,19 L135.211914,19 C143.004922,19 148.960917,19.6679621 153.080078,21.0039063 C157.199239,22.3398504 160.520495,24.8168764 163.043945,28.4350586 C165.567395,32.0532407 166.829102,36.459935 166.829102,41.6552734 C166.829102,46.1826398 165.864267,50.0883625 163.93457,53.3725586 C162.004873,56.6567547 159.351579,59.3193257 155.974609,61.3603516 C153.822255,62.6591862 150.872089,63.7353473 147.124023,64.5888672 C150.129898,65.5908253 152.319329,66.5927684 153.692383,67.5947266 C154.620122,68.2626987 155.965323,69.6913953 157.728027,71.8808594 C159.490731,74.0703234 160.668942,75.7587831 161.262695,76.9462891 L173,100.603516 L144.953125,100.603516 L131.482422,75.6660156 C129.775382,72.4374839 128.253913,70.3408251 126.917969,69.3759766 C125.0996,68.1142515 123.040051,67.4833984 120.739258,67.4833984 L118.512695,67.4833984 L118.512695,100.603516 L93.1855469,100.603516 Z M118.512695,52.0644531 L129.144531,52.0644531 C130.294928,52.0644531 132.521468,51.6933631 135.824219,50.9511719 C137.494149,50.6171858 138.857905,49.7636787 139.915527,48.390625 C140.97315,47.0175713 141.501953,45.4404386 141.501953,43.6591797 C141.501953,41.0244009 140.667001,39.0019602 138.99707,37.5917969 C137.32714,36.1816336 134.191429,35.4765625 129.589844,35.4765625 L117.512695,35.4765625 L118.512695,52.0644531 Z",transform:"translate(0 9)"})}),execute:(e,t)=>{var n=Qn({text:e.text,selection:e.selection,prefix:e.command.prefix,suffix:e.command.suffix}),r=t.setSelectionRange(n);r.selectedText.length>=e.command.prefix.length&&r.selectedText.startsWith(e.command.prefix)?kn({api:t,selectedText:r.selectedText,selection:e.selection,prefix:e.command.prefix,suffix:e.command.suffix}):(r=t.setSelectionRange({start:e.selection.start,end:e.selection.start}),kn({api:t,selectedText:r.selectedText,selection:e.selection,prefix:e.command.prefix,suffix:e.command.suffix}))}},tN={name:"image",keyCommand:"image",shortcuts:"ctrlcmd+k",prefix:"![image](",suffix:")",buttonProps:{"aria-label":"Add image (ctrl + k)",title:"Add image (ctrl + k)"},icon:s.jsx("svg",{width:"13",height:"13",viewBox:"0 0 20 20",children:s.jsx("path",{fill:"currentColor",d:"M15 9c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm4-7H1c-.55 0-1 .45-1 1v14c0 .55.45 1 1 1h18c.55 0 1-.45 1-1V3c0-.55-.45-1-1-1zm-1 13l-6-5-2 2-4-5-4 8V4h16v11z"})}),execute:(e,t)=>{var n=Qn({text:e.text,selection:e.selection,prefix:e.command.prefix,suffix:e.command.suffix}),r=t.setSelectionRange(n);r.selectedText.includes("http")||r.selectedText.includes("www")?kn({api:t,selectedText:r.selectedText,selection:e.selection,prefix:e.command.prefix,suffix:e.command.suffix}):(n=Qn({text:e.text,selection:e.selection,prefix:"![",suffix:"]()"}),r=t.setSelectionRange(n),r.selectedText.length===0?kn({api:t,selectedText:r.selectedText,selection:e.selection,prefix:"![image",suffix:"](url)"}):kn({api:t,selectedText:r.selectedText,selection:e.selection,prefix:"![",suffix:"]()"}))}},nN={name:"italic",keyCommand:"italic",shortcuts:"ctrlcmd+i",prefix:"*",buttonProps:{"aria-label":"Add italic text (ctrl + i)",title:"Add italic text (ctrl + i)"},icon:s.jsx("svg",{"data-name":"italic",width:"12",height:"12",role:"img",viewBox:"0 0 320 512",children:s.jsx("path",{fill:"currentColor",d:"M204.758 416h-33.849l62.092-320h40.725a16 16 0 0 0 15.704-12.937l6.242-32C297.599 41.184 290.034 32 279.968 32H120.235a16 16 0 0 0-15.704 12.937l-6.242 32C96.362 86.816 103.927 96 113.993 96h33.846l-62.09 320H46.278a16 16 0 0 0-15.704 12.935l-6.245 32C22.402 470.815 29.967 480 40.034 480h158.479a16 16 0 0 0 15.704-12.935l6.245-32c1.927-9.88-5.638-19.065-15.704-19.065z"})}),execute:(e,t)=>{var n=Qn({text:e.text,selection:e.selection,prefix:e.command.prefix}),r=t.setSelectionRange(n);kn({api:t,selectedText:r.selectedText,selection:e.selection,prefix:e.command.prefix})}},rN={name:"link",keyCommand:"link",shortcuts:"ctrlcmd+l",prefix:"[",suffix:"](url)",buttonProps:{"aria-label":"Add a link (ctrl + l)",title:"Add a link (ctrl + l)"},icon:s.jsx("svg",{"data-name":"italic",width:"12",height:"12",role:"img",viewBox:"0 0 520 520",children:s.jsx("path",{fill:"currentColor",d:"M331.751196,182.121107 C392.438214,241.974735 391.605313,337.935283 332.11686,396.871226 C332.005129,396.991316 331.873084,397.121413 331.751196,397.241503 L263.493918,464.491645 C203.291404,523.80587 105.345257,523.797864 45.151885,464.491645 C-15.0506283,405.187427 -15.0506283,308.675467 45.151885,249.371249 L82.8416853,212.237562 C92.836501,202.39022 110.049118,208.9351 110.56511,222.851476 C111.223305,240.5867 114.451306,258.404985 120.407566,275.611815 C122.424812,281.438159 120.983487,287.882964 116.565047,292.23621 L103.272145,305.332975 C74.8052033,333.379887 73.9123737,379.047937 102.098973,407.369054 C130.563883,435.969378 177.350591,436.139505 206.033884,407.879434 L274.291163,340.6393 C302.9257,312.427264 302.805844,266.827265 274.291163,238.733318 C270.531934,235.036561 266.74528,232.16442 263.787465,230.157924 C259.544542,227.2873 256.928256,222.609848 256.731165,217.542518 C256.328935,206.967633 260.13184,196.070508 268.613213,187.714278 L289.998463,166.643567 C295.606326,161.118448 304.403592,160.439942 310.906317,164.911276 C318.353355,170.034591 325.328531,175.793397 331.751196,182.121107 Z M240.704978,55.4828366 L172.447607,122.733236 C172.325719,122.853326 172.193674,122.983423 172.081943,123.103513 C117.703294,179.334654 129.953294,261.569283 185.365841,328.828764 C191.044403,335.721376 198.762988,340.914712 206.209732,346.037661 C212.712465,350.509012 221.510759,349.829503 227.117615,344.305363 L248.502893,323.234572 C256.984277,314.87831 260.787188,303.981143 260.384957,293.406218 C260.187865,288.338869 257.571576,283.661398 253.328648,280.790763 C250.370829,278.78426 246.58417,275.912107 242.824936,272.215337 C214.310216,244.121282 206.209732,204.825874 229.906702,179.334654 L298.164073,112.094263 C326.847404,83.8340838 373.633159,84.0042113 402.099123,112.604645 C430.285761,140.92587 429.393946,186.594095 400.92595,214.641114 L387.63303,227.737929 C383.214584,232.091191 381.773257,238.536021 383.790506,244.362388 C389.746774,261.569283 392.974779,279.387637 393.632975,297.122928 C394.149984,311.039357 411.361608,317.584262 421.356437,307.736882 L459.046288,270.603053 C519.249898,211.29961 519.249898,114.787281 459.047304,55.4828366 C398.853851,-3.82360914 300.907572,-3.83161514 240.704978,55.4828366 Z"})}),execute:(e,t)=>{var n=Qn({text:e.text,selection:e.selection,prefix:e.command.prefix,suffix:e.command.suffix}),r=t.setSelectionRange(n);r.selectedText.includes("http")||r.selectedText.includes("www")?(n=Qn({text:e.text,selection:e.selection,prefix:"[](",suffix:")"}),r=t.setSelectionRange(n),kn({api:t,selectedText:r.selectedText,selection:e.selection,prefix:"[](",suffix:")"})):r.selectedText.length===0?kn({api:t,selectedText:r.selectedText,selection:e.selection,prefix:"[title",suffix:"](url)"}):kn({api:t,selectedText:r.selectedText,selection:e.selection,prefix:e.command.prefix,suffix:e.command.suffix})}},aN=(e,t,n)=>{var r=Qn({text:e.text,selection:e.selection,prefix:e.command.prefix}),a=t.setSelectionRange(r),i=sL(a.text,a.selection.start),o=Array(i+1).join(`
`),l=iL(a.text,a.selection.end),u=Array(l+1).join(`
`),{modifiedText:c,insertionLength:d}=XS(a.selectedText,n);if(d<0){var p=a.selection.start,h=a.selection.end;a.selection.start>0&&e.text.slice(a.selection.start-1,a.selection.start)===`
`&&(p-=1),a.selection.end<e.text.length-1&&e.text.slice(a.selection.end,a.selection.end+1)===`
`&&(h+=1),t.setSelectionRange({start:p,end:h}),t.replaceSelection(""+c),t.setSelectionRange({start:p,end:p+c.length})}else{t.replaceSelection(""+o+c+u);var f=a.selection.start+i,m=f+c.length;t.setSelectionRange({start:f,end:m})}},OJ={name:"unordered-list",keyCommand:"list",shortcuts:"ctrl+shift+u",prefix:"- ",buttonProps:{"aria-label":"Add unordered list (ctrl + shift + u)",title:"Add unordered list (ctrl + shift + u)"},icon:s.jsx("svg",{"data-name":"unordered-list",width:"12",height:"12",viewBox:"0 0 512 512",children:s.jsx("path",{fill:"currentColor",d:"M96 96c0 26.51-21.49 48-48 48S0 122.51 0 96s21.49-48 48-48 48 21.49 48 48zM48 208c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zm0 160c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zm96-236h352c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H144c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h352c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H144c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h352c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H144c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"})}),execute:(e,t)=>{aN(e,t,"- ")}},LJ={name:"ordered-list",keyCommand:"list",shortcuts:"ctrl+shift+o",prefix:"1. ",buttonProps:{"aria-label":"Add ordered list (ctrl + shift + o)",title:"Add ordered list (ctrl + shift + o)"},icon:s.jsx("svg",{"data-name":"ordered-list",width:"12",height:"12",role:"img",viewBox:"0 0 512 512",children:s.jsx("path",{fill:"currentColor",d:"M3.263 139.527c0-7.477 3.917-11.572 11.573-11.572h15.131V88.078c0-5.163.534-10.503.534-10.503h-.356s-1.779 2.67-2.848 3.738c-4.451 4.273-10.504 4.451-15.666-1.068l-5.518-6.231c-5.342-5.341-4.984-11.216.534-16.379l21.72-19.938C32.815 33.602 36.732 32 42.785 32H54.89c7.656 0 11.749 3.916 11.749 11.572v84.384h15.488c7.655 0 11.572 4.094 11.572 11.572v8.901c0 7.477-3.917 11.572-11.572 11.572H14.836c-7.656 0-11.573-4.095-11.573-11.572v-8.902zM2.211 304.591c0-47.278 50.955-56.383 50.955-69.165 0-7.18-5.954-8.755-9.28-8.755-3.153 0-6.479 1.051-9.455 3.852-5.079 4.903-10.507 7.004-16.111 2.451l-8.579-6.829c-5.779-4.553-7.18-9.805-2.803-15.409C13.592 201.981 26.025 192 47.387 192c19.437 0 44.476 10.506 44.476 39.573 0 38.347-46.753 46.402-48.679 56.909h39.049c7.529 0 11.557 4.027 11.557 11.382v8.755c0 7.354-4.028 11.382-11.557 11.382h-67.94c-7.005 0-12.083-4.028-12.083-11.382v-4.028zM5.654 454.61l5.603-9.28c3.853-6.654 9.105-7.004 15.584-3.152 4.903 2.101 9.63 3.152 14.359 3.152 10.155 0 14.358-3.502 14.358-8.23 0-6.654-5.604-9.106-15.934-9.106h-4.728c-5.954 0-9.28-2.101-12.258-7.88l-1.05-1.926c-2.451-4.728-1.226-9.806 2.801-14.884l5.604-7.004c6.829-8.405 12.257-13.483 12.257-13.483v-.35s-4.203 1.051-12.608 1.051H16.685c-7.53 0-11.383-4.028-11.383-11.382v-8.755c0-7.53 3.853-11.382 11.383-11.382h58.484c7.529 0 11.382 4.027 11.382 11.382v3.327c0 5.778-1.401 9.806-5.079 14.183l-17.509 20.137c19.611 5.078 28.716 20.487 28.716 34.845 0 21.363-14.358 44.126-48.503 44.126-16.636 0-28.192-4.728-35.896-9.455-5.779-4.202-6.304-9.805-2.626-15.934zM144 132h352c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H144c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h352c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H144c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h352c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H144c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"})}),execute:(e,t)=>{aN(e,t,(n,r)=>r+1+". ")}},jJ={name:"checked-list",keyCommand:"list",shortcuts:"ctrl+shift+c",prefix:"- [ ] ",buttonProps:{"aria-label":"Add checked list (ctrl + shift + c)",title:"Add checked list (ctrl + shift + c)"},icon:s.jsx("svg",{"data-name":"checked-list",width:"12",height:"12",role:"img",viewBox:"0 0 512 512",children:s.jsx("path",{fill:"currentColor",d:"M208 132h288c8.8 0 16-7.2 16-16V76c0-8.8-7.2-16-16-16H208c-8.8 0-16 7.2-16 16v40c0 8.8 7.2 16 16 16zm0 160h288c8.8 0 16-7.2 16-16v-40c0-8.8-7.2-16-16-16H208c-8.8 0-16 7.2-16 16v40c0 8.8 7.2 16 16 16zm0 160h288c8.8 0 16-7.2 16-16v-40c0-8.8-7.2-16-16-16H208c-8.8 0-16 7.2-16 16v40c0 8.8 7.2 16 16 16zM64 368c-26.5 0-48.6 21.5-48.6 48s22.1 48 48.6 48 48-21.5 48-48-21.5-48-48-48zm92.5-299l-72.2 72.2-15.6 15.6c-4.7 4.7-12.9 4.7-17.6 0L3.5 109.4c-4.7-4.7-4.7-12.3 0-17l15.7-15.7c4.7-4.7 12.3-4.7 17 0l22.7 22.1 63.7-63.3c4.7-4.7 12.3-4.7 17 0l17 16.5c4.6 4.7 4.6 12.3-.1 17zm0 159.6l-72.2 72.2-15.7 15.7c-4.7 4.7-12.9 4.7-17.6 0L3.5 269c-4.7-4.7-4.7-12.3 0-17l15.7-15.7c4.7-4.7 12.3-4.7 17 0l22.7 22.1 63.7-63.7c4.7-4.7 12.3-4.7 17 0l17 17c4.6 4.6 4.6 12.2-.1 16.9z"})}),execute:(e,t)=>{aN(e,t,(n,r)=>"- [ ] ")}},MJ={name:"preview",keyCommand:"preview",value:"preview",shortcuts:"ctrlcmd+9",buttonProps:{"aria-label":"Preview code (ctrl + 9)",title:"Preview code (ctrl + 9)"},icon:s.jsxs("svg",{width:"12",height:"12",viewBox:"0 0 520 520",children:[s.jsx("polygon",{fill:"currentColor",points:"0 71.293 0 122 38.023 123 38.023 398 0 397 0 449.707 91.023 450.413 91.023 72.293"}),s.jsx("polygon",{fill:"currentColor",points:"148.023 72.293 520 71.293 520 122 200.023 124 200.023 397 520 396 520 449.707 148.023 450.413"})]}),execute:(e,t,n,r,a)=>{t.textArea.focus(),a&&n&&r&&n({preview:"preview"})}},FJ={name:"edit",keyCommand:"preview",value:"edit",shortcuts:"ctrlcmd+7",buttonProps:{"aria-label":"Edit code (ctrl + 7)",title:"Edit code (ctrl + 7)"},icon:s.jsxs("svg",{width:"12",height:"12",viewBox:"0 0 520 520",children:[s.jsx("polygon",{fill:"currentColor",points:"0 71.293 0 122 319 122 319 397 0 397 0 449.707 372 449.413 372 71.293"}),s.jsx("polygon",{fill:"currentColor",points:"429 71.293 520 71.293 520 122 481 123 481 396 520 396 520 449.707 429 449.413"})]}),execute:(e,t,n,r,a)=>{t.textArea.focus(),a&&n&&r&&n({preview:"edit"})}},PJ={name:"live",keyCommand:"preview",value:"live",shortcuts:"ctrlcmd+8",buttonProps:{"aria-label":"Live code (ctrl + 8)",title:"Live code (ctrl + 8)"},icon:s.jsxs("svg",{width:"12",height:"12",viewBox:"0 0 520 520",children:[s.jsx("polygon",{fill:"currentColor",points:"0 71.293 0 122 179 122 179 397 0 397 0 449.707 232 449.413 232 71.293"}),s.jsx("polygon",{fill:"currentColor",points:"289 71.293 520 71.293 520 122 341 123 341 396 520 396 520 449.707 289 449.413"})]}),execute:(e,t,n,r,a)=>{t.textArea.focus(),a&&n&&r&&n({preview:"live"})}},sN={name:"quote",keyCommand:"quote",shortcuts:"ctrlcmd+q",prefix:"> ",buttonProps:{"aria-label":"Insert a quote (ctrl + q)",title:"Insert a quote (ctrl + q)"},icon:s.jsx("svg",{width:"12",height:"12",viewBox:"0 0 520 520",children:s.jsx("path",{fill:"currentColor",d:"M520,95.75 L520,225.75 C520,364.908906 457.127578,437.050625 325.040469,472.443125 C309.577578,476.586875 294.396016,464.889922 294.396016,448.881641 L294.396016,414.457031 C294.396016,404.242891 300.721328,395.025078 310.328125,391.554687 C377.356328,367.342187 414.375,349.711094 414.375,274.5 L341.25,274.5 C314.325781,274.5 292.5,252.674219 292.5,225.75 L292.5,95.75 C292.5,68.8257812 314.325781,47 341.25,47 L471.25,47 C498.174219,47 520,68.8257812 520,95.75 Z M178.75,47 L48.75,47 C21.8257813,47 0,68.8257812 0,95.75 L0,225.75 C0,252.674219 21.8257813,274.5 48.75,274.5 L121.875,274.5 C121.875,349.711094 84.8563281,367.342187 17.828125,391.554687 C8.22132813,395.025078 1.89601563,404.242891 1.89601563,414.457031 L1.89601563,448.881641 C1.89601563,464.889922 17.0775781,476.586875 32.5404687,472.443125 C164.627578,437.050625 227.5,364.908906 227.5,225.75 L227.5,95.75 C227.5,68.8257812 205.674219,47 178.75,47 Z"})}),execute:(e,t)=>{var n=Qn({text:e.text,selection:e.selection,prefix:e.command.prefix}),r=t.setSelectionRange(n),a=sL(r.text,r.selection.start),i=Array(a+1).join(`
`),o=iL(r.text,r.selection.end),l=Array(o+1).join(`
`),u=XS(r.selectedText,e.command.prefix);t.replaceSelection(""+i+u.modifiedText+l);var c=r.selection.start+a,d=c+u.modifiedText.length;t.setSelectionRange({start:c,end:d})}},iN={name:"strikethrough",keyCommand:"strikethrough",shortcuts:"ctrl+shift+x",buttonProps:{"aria-label":"Add strikethrough text (ctrl + shift + x)",title:"Add strikethrough text (ctrl + shift + x)"},prefix:"~~",icon:s.jsx("svg",{"data-name":"strikethrough",width:"12",height:"12",role:"img",viewBox:"0 0 512 512",children:s.jsx("path",{fill:"currentColor",d:"M496 288H16c-8.837 0-16-7.163-16-16v-32c0-8.837 7.163-16 16-16h480c8.837 0 16 7.163 16 16v32c0 8.837-7.163 16-16 16zm-214.666 16c27.258 12.937 46.524 28.683 46.524 56.243 0 33.108-28.977 53.676-75.621 53.676-32.325 0-76.874-12.08-76.874-44.271V368c0-8.837-7.164-16-16-16H113.75c-8.836 0-16 7.163-16 16v19.204c0 66.845 77.717 101.82 154.487 101.82 88.578 0 162.013-45.438 162.013-134.424 0-19.815-3.618-36.417-10.143-50.6H281.334zm-30.952-96c-32.422-13.505-56.836-28.946-56.836-59.683 0-33.92 30.901-47.406 64.962-47.406 42.647 0 64.962 16.593 64.962 32.985V136c0 8.837 7.164 16 16 16h45.613c8.836 0 16-7.163 16-16v-30.318c0-52.438-71.725-79.875-142.575-79.875-85.203 0-150.726 40.972-150.726 125.646 0 22.71 4.665 41.176 12.777 56.547h129.823z"})}),execute:(e,t)=>{var n=Qn({text:e.text,selection:e.selection,prefix:e.command.prefix}),r=t.setSelectionRange(n);kn({api:t,selectedText:r.selectedText,selection:e.selection,prefix:e.command.prefix})}},oL={name:"heading1",keyCommand:"heading1",shortcuts:"ctrlcmd+1",prefix:"# ",suffix:"",buttonProps:{"aria-label":"Insert Heading 1 (ctrl + 1)",title:"Insert Heading 1 (ctrl + 1)"},icon:s.jsx("div",{style:{fontSize:18,textAlign:"left"},children:"Heading 1"}),execute:(e,t)=>{wu({state:e,api:t,prefix:e.command.prefix,suffix:e.command.suffix})}},BJ=oL;function wu(e){var{state:t,api:n,prefix:r,suffix:a=r}=e,i=kc({text:t.text,selection:t.selection}),o=n.setSelectionRange(i);kn({api:n,selectedText:o.selectedText,selection:t.selection,prefix:r,suffix:a})}var UJ=tt({},oL,{icon:s.jsx("svg",{width:"12",height:"12",viewBox:"0 0 520 520",children:s.jsx("path",{fill:"currentColor",d:"M15.7083333,468 C7.03242448,468 0,462.030833 0,454.666667 L0,421.333333 C0,413.969167 7.03242448,408 15.7083333,408 L361.291667,408 C369.967576,408 377,413.969167 377,421.333333 L377,454.666667 C377,462.030833 369.967576,468 361.291667,468 L15.7083333,468 Z M21.6666667,366 C9.69989583,366 0,359.831861 0,352.222222 L0,317.777778 C0,310.168139 9.69989583,304 21.6666667,304 L498.333333,304 C510.300104,304 520,310.168139 520,317.777778 L520,352.222222 C520,359.831861 510.300104,366 498.333333,366 L21.6666667,366 Z M136.835938,64 L136.835937,126 L107.25,126 L107.25,251 L40.75,251 L40.75,126 L-5.68434189e-14,126 L-5.68434189e-14,64 L136.835938,64 Z M212,64 L212,251 L161.648438,251 L161.648438,64 L212,64 Z M378,64 L378,126 L343.25,126 L343.25,251 L281.75,251 L281.75,126 L238,126 L238,64 L378,64 Z M449.047619,189.550781 L520,189.550781 L520,251 L405,251 L405,64 L449.047619,64 L449.047619,189.550781 Z"})})}),lL=UJ,$J={name:"heading2",keyCommand:"heading2",shortcuts:"ctrlcmd+2",prefix:"## ",suffix:"",buttonProps:{"aria-label":"Insert Heading 2 (ctrl + 2)",title:"Insert Heading 2 (ctrl + 2)"},icon:s.jsx("div",{style:{fontSize:16,textAlign:"left"},children:"Heading 2"}),execute:(e,t)=>{wu({state:e,api:t,prefix:e.command.prefix,suffix:e.command.suffix})}},HJ=$J,zJ={name:"heading3",keyCommand:"heading3",shortcuts:"ctrlcmd+3",prefix:"### ",suffix:"",buttonProps:{"aria-label":"Insert Heading 3 (ctrl + 3)",title:"Insert Heading 3 (ctrl + 3)"},icon:s.jsx("div",{style:{fontSize:15,textAlign:"left"},children:"Heading 3"}),execute:(e,t)=>{wu({state:e,api:t,prefix:e.command.prefix,suffix:e.command.suffix})}},GJ=zJ,qJ={name:"heading4",keyCommand:"heading4",shortcuts:"ctrlcmd+4",prefix:"#### ",suffix:"",buttonProps:{"aria-label":"Insert Heading 4 (ctrl + 4)",title:"Insert Heading 4 (ctrl + 4)"},icon:s.jsx("div",{style:{fontSize:14,textAlign:"left"},children:"Heading 4"}),execute:(e,t)=>{wu({state:e,api:t,prefix:e.command.prefix,suffix:e.command.suffix})}},VJ=qJ,WJ={name:"heading5",keyCommand:"heading5",shortcuts:"ctrlcmd+5",prefix:"##### ",suffix:"",buttonProps:{"aria-label":"Insert Heading 5 (ctrl + 5)",title:"Insert Heading 5 (ctrl + 5)"},icon:s.jsx("div",{style:{fontSize:12,textAlign:"left"},children:"Heading 5"}),execute:(e,t)=>{wu({state:e,api:t,prefix:e.command.prefix,suffix:e.command.suffix})}},YJ=WJ,KJ={name:"heading6",keyCommand:"heading6",shortcuts:"ctrlcmd+6",prefix:"###### ",suffix:"",buttonProps:{"aria-label":"Insert Heading 6 (ctrl + 6)",title:"Insert Heading 6 (ctrl + 6)"},icon:s.jsx("div",{style:{fontSize:12,textAlign:"left"},children:"Heading 6"}),execute:(e,t)=>{wu({state:e,api:t,prefix:e.command.prefix,suffix:e.command.suffix})}},ZJ=KJ,XJ={name:"table",keyCommand:"table",prefix:`
| Header | Header |
|--------|--------|
| Cell | Cell |
| Cell | Cell |
| Cell | Cell |

`,suffix:"",buttonProps:{"aria-label":"Add table",title:"Add table"},icon:s.jsx("svg",{role:"img",width:"12",height:"12",viewBox:"0 0 512 512",children:s.jsx("path",{fill:"currentColor",d:"M64 256V160H224v96H64zm0 64H224v96H64V320zm224 96V320H448v96H288zM448 256H288V160H448v96zM64 32C28.7 32 0 60.7 0 96V416c0 35.3 28.7 64 64 64H448c35.3 0 64-28.7 64-64V96c0-35.3-28.7-64-64-64H64z"})}),execute:(e,t)=>{var n=Qn({text:e.text,selection:e.selection,prefix:e.command.prefix,suffix:e.command.suffix}),r=t.setSelectionRange(n);r.selectedText.length>=e.command.prefix.length+e.command.suffix.length&&r.selectedText.startsWith(e.command.prefix)?kn({api:t,selectedText:r.selectedText,selection:e.selection,prefix:e.command.prefix,suffix:e.command.suffix}):(r=t.setSelectionRange({start:e.selection.start,end:e.selection.start}),kn({api:t,selectedText:r.selectedText,selection:e.selection,prefix:e.command.prefix,suffix:e.command.suffix}))}},QJ={name:"help",keyCommand:"help",buttonProps:{"aria-label":"Open help",title:"Open help"},icon:s.jsx("svg",{viewBox:"0 0 16 16",width:"12px",height:"12px",children:s.jsx("path",{d:"M8 0C3.6 0 0 3.6 0 8s3.6 8 8 8 8-3.6 8-8-3.6-8-8-8Zm.9 13H7v-1.8h1.9V13Zm-.1-3.6v.5H7.1v-.6c.2-2.1 2-1.9 1.9-3.2.1-.7-.3-1.1-1-1.1-.8 0-1.2.7-1.2 1.6H5c0-1.7 1.2-3 2.9-3 2.3 0 3 1.4 3 2.3.1 2.3-1.9 2-2.1 3.5Z",fill:"currentColor"})}),execute:()=>{window.open("https://www.markdownguide.org/basic-syntax/","_blank","noreferrer")}},JJ=()=>[QS,nN,iN,eN,DJ([BJ,HJ,GJ,VJ,YJ,ZJ],{name:"title",groupName:"title",buttonProps:{"aria-label":"Insert title",title:"Insert title"}}),Ra,rN,sN,JS,Nm,AJ,tN,XJ,Ra,OJ,LJ,jJ,Ra,QJ],eee=()=>[FJ,PJ,MJ,Ra,IJ];function rf(e){var t;return{selection:{start:e.selectionStart,end:e.selectionEnd},text:e.value,selectedText:(t=e.value)==null?void 0:t.slice(e.selectionStart,e.selectionEnd)}}class oN{constructor(t){this.textArea=void 0,this.textArea=t}replaceSelection(t){return bl(this.textArea,t),rf(this.textArea)}setSelectionRange(t){return this.textArea.focus(),this.textArea.selectionStart=t.start,this.textArea.selectionEnd=t.end,rf(this.textArea)}}class lN{constructor(t){this.textArea=void 0,this.textApi=void 0,this.textArea=t,this.textApi=new oN(t)}getState(){return this.textArea?rf(this.textArea):!1}executeCommand(t,n,r,a){t.execute&&t.execute(tt({command:t},rf(this.textArea)),this.textApi,n,r,a)}}function dh(e){e.stopPropagation(),e.preventDefault()}function q2(e,t){dh(e);var n=e.target,r=new oN(n),a={start:n.selectionStart,end:n.selectionEnd};if(a=kc({text:n.value,selection:a}),!(t<0&&a.start<=0||t>0&&a.end>=n.value.length)){var i=n.value.slice(a.start,a.end);if(t<0){var o=kc({text:n.value,selection:{start:a.start-1,end:a.start-1}}),l=n.value.slice(o.start,o.end);r.setSelectionRange({start:o.start,end:a.end}),bl(n,i+`
`+l),r.setSelectionRange({start:o.start,end:o.start+i.length})}else{var u=kc({text:n.value,selection:{start:a.end+1,end:a.end+1}}),c=n.value.slice(u.start,u.end);r.setSelectionRange({start:a.start,end:u.end}),bl(n,c+`
`+i),r.setSelectionRange({start:u.end-i.length,end:u.end})}}}function tee(e,t,n){t===void 0&&(t=2),n===void 0&&(n=!1);var r=e.target,a=r.value.substr(0,r.selectionStart),i=a.split(`
`),o=i[i.length-1],l=new oN(r);if(!n&&e.code&&e.code.toLowerCase()==="tab"){dh(e);var u=new Array(t+1).join("  ");if(r.selectionStart!==r.selectionEnd){var c=r.value.substring(0,r.selectionStart).split(`
`),d=r.value.substring(0,r.selectionEnd).split(`
`),p=[];d.forEach((A,I)=>{A!==c[I]&&p.push(A)});var h=p.join(`
`),f=r.value.substring(r.selectionStart,r.selectionEnd),m=r.value.substring(0,r.selectionStart).length;l.setSelectionRange({start:r.value.indexOf(h),end:r.selectionEnd});var v=XS(h,e.shiftKey?"":u),y=v.modifiedText;e.shiftKey&&(y=y.split(`
`).map(A=>A.replace(new RegExp("^"+u),"")).join(`
`)),l.replaceSelection(y);var g=e.shiftKey?-t:t,x=e.shiftKey?-p.length*t:p.length*t;l.setSelectionRange({start:m+g,end:m+f.length+x})}else return bl(r,u)}else if(e.keyCode===13&&e.code.toLowerCase()==="enter"&&(/^(-|\*)\s/.test(o)||/^\d+.\s/.test(o))&&!e.shiftKey){dh(e);var w=`
- `;return o.startsWith("*")&&(w=`
* `),(o.startsWith("- [ ]")||o.startsWith("- [X]")||o.startsWith("- [x]"))&&(w=`
- [ ] `),/^\d+.\s/.test(o)&&(w=`
`+(parseInt(o)+1)+". "),bl(r,w)}else if(e.code&&e.code.toLowerCase()==="keyd"&&e.ctrlKey){dh(e);var k={start:r.selectionStart,end:r.selectionEnd},S=k;k=kc({text:r.value,selection:k});var T=r.value.slice(k.start,k.end);l.setSelectionRange({start:k.end,end:k.end}),bl(r,`
`+T),l.setSelectionRange({start:S.start,end:S.end})}else e.code&&e.code.toLowerCase()==="arrowup"&&e.altKey?q2(e,-1):e.code&&e.code.toLowerCase()==="arrowdown"&&e.altKey&&q2(e,1)}var nee=["prefixCls","onChange"],ree=["markdown","commands","fullscreen","preview","highlightEnable","extraCommands","tabSize","defaultTabEnable","autoFocusEnd","textareaWarp","dispatch"];function aee(e){var{prefixCls:t,onChange:n}=e,r=td(e,nee),a=E.useContext(_o),{markdown:i,commands:o,fullscreen:l,preview:u,highlightEnable:c,extraCommands:d,tabSize:p,defaultTabEnable:h,autoFocusEnd:f,textareaWarp:m,dispatch:v}=a;td(a,ree);var y=It.useRef(null),g=It.useRef(),x=It.useRef({fullscreen:l,preview:u});E.useEffect(()=>{x.current={fullscreen:l,preview:u,highlightEnable:c}},[l,u,c]),E.useEffect(()=>{if(y.current&&v){var k=new lN(y.current);g.current=k,v({textarea:y.current,commandOrchestrator:k})}},[]),E.useEffect(()=>{if(f&&y.current&&m){y.current.focus();var k=y.current.value.length;y.current.setSelectionRange(k,k),setTimeout(()=>{m&&(m.scrollTop=m.scrollHeight),y.current&&(y.current.scrollTop=y.current.scrollHeight)},0)}},[m]);var w=k=>{tee(k,p,h),qO(k,[...o||[],...d||[]],g.current,v,x.current)};return E.useEffect(()=>(y.current&&y.current.addEventListener("keydown",w),()=>{y.current&&y.current.removeEventListener("keydown",w)}),[]),s.jsx("textarea",tt({autoComplete:"off",autoCorrect:"off",autoCapitalize:"off",spellCheck:!1},r,{ref:y,className:t+"-text-input "+(r.className?r.className:""),value:i,onChange:k=>{v&&v({markdown:k.target.value}),n&&n(k)}}))}var see=["prefixCls","className","onScroll","renderTextarea"];function iee(e){var t=e||{},{prefixCls:n,className:r,onScroll:a,renderTextarea:i}=t,o=td(t,see),{markdown:l,scrollTop:u,commands:c,minHeight:d,highlightEnable:p,extraCommands:h,dispatch:f}=E.useContext(_o),m=It.useRef(null),v=It.useRef(),y=It.createRef();E.useEffect(()=>{var x={};y.current&&(x.textareaWarp=y.current||void 0,y.current.scrollTop=u||0),f&&f(tt({},x))},[]),E.useEffect(()=>{if(m.current&&f){var x=new lN(m.current);v.current=x,f({textarea:m.current,commandOrchestrator:x})}},[]);var g=p?{}:{WebkitTextFillColor:"initial",overflow:"auto"};return s.jsx("div",{ref:y,className:n+"-area "+(r||""),onScroll:a,children:s.jsx("div",{className:n+"-text",style:{minHeight:d},children:i?It.cloneElement(i(tt({},o,{value:l,autoComplete:"off",autoCorrect:"off",spellCheck:"false",autoCapitalize:"off",className:n+"-text-input",style:{WebkitTextFillColor:"inherit",overflow:"auto"}}),{dispatch:f,onChange:o.onChange,shortcuts:qO,useContext:{commands:c,extraCommands:h,commandOrchestrator:v.current}}),{ref:m}):s.jsxs(E.Fragment,{children:[p&&s.jsx(TJ,{prefixCls:n}),s.jsx(aee,tt({prefixCls:n},o,{style:g}))]})})})}var oee=e=>{var{prefixCls:t,onChange:n}=e||{},r=E.useRef(null),a=E.useRef(),i=E.useRef(e.height);E.useEffect(()=>{i.current!==e.height&&(i.current=e.height)},[e.height]);function o(d){if(a.current){var p,h=d.clientY||((p=d.changedTouches[0])==null?void 0:p.clientY),f=a.current.height+h-a.current.dragY;f>=e.minHeight&&f<=e.maxHeight&&n&&n(a.current.height+(h-a.current.dragY))}}function l(){var d,p;a.current=void 0,document.removeEventListener("mousemove",o),document.removeEventListener("mouseup",l),(d=r.current)==null||d.removeEventListener("touchmove",o),(p=r.current)==null||p.removeEventListener("touchend",l)}function u(d){var p,h,f;d.preventDefault();var m=d.clientY||((p=d.changedTouches[0])==null?void 0:p.clientY);a.current={height:i.current,dragY:m},document.addEventListener("mousemove",o),document.addEventListener("mouseup",l),(h=r.current)==null||h.addEventListener("touchmove",o,{passive:!1}),(f=r.current)==null||f.addEventListener("touchend",l,{passive:!1})}E.useEffect(()=>{if(document){var d,p;(d=r.current)==null||d.addEventListener("touchstart",u,{passive:!1}),(p=r.current)==null||p.addEventListener("mousedown",u)}return()=>{if(document){var h;(h=r.current)==null||h.removeEventListener("touchstart",u),document.removeEventListener("mousemove",o)}}},[]);var c=E.useMemo(()=>s.jsx("svg",{viewBox:"0 0 512 512",height:"100%",children:s.jsx("path",{fill:"currentColor",d:"M304 256c0 26.5-21.5 48-48 48s-48-21.5-48-48 21.5-48 48-48 48 21.5 48 48zm120-48c-26.5 0-48 21.5-48 48s21.5 48 48 48 48-21.5 48-48-21.5-48-48-48zm-336 0c-26.5 0-48 21.5-48 48s21.5 48 48 48 48-21.5 48-48-21.5-48-48-48z"})}),[]);return s.jsx("div",{className:t+"-bar",ref:r,children:c})},lee=["prefixCls","className","value","commands","commandsFilter","direction","extraCommands","height","enableScroll","visibleDragbar","highlightEnable","preview","fullscreen","overflow","previewOptions","textareaProps","maxHeight","minHeight","autoFocus","autoFocusEnd","tabSize","defaultTabEnable","onChange","onStatistics","onHeightChange","hideToolbar","toolbarBottom","components","renderTextarea"];function uee(e){return e===void 0&&(e={}),Object.keys(e).forEach(t=>{e[t]=!1}),e}var cee=It.forwardRef((e,t)=>{var n=e||{},{prefixCls:r="w-md-editor",className:a,value:i,commands:o=JJ(),commandsFilter:l,direction:u,extraCommands:c=eee(),height:d=200,enableScroll:p=!0,visibleDragbar:h=typeof e.visiableDragbar=="boolean"?e.visiableDragbar:!0,highlightEnable:f=!0,preview:m="live",fullscreen:v=!1,overflow:y=!0,previewOptions:g={},textareaProps:x,maxHeight:w=1200,minHeight:k=100,autoFocus:S,autoFocusEnd:T=!1,tabSize:A=2,defaultTabEnable:I=!1,onChange:C,onStatistics:N,onHeightChange:O,hideToolbar:D,toolbarBottom:B=!1,components:j,renderTextarea:P}=n,Y=td(n,lee),K=o.map(_e=>l?l(_e,!1):_e).filter(Boolean),$=c.map(_e=>l?l(_e,!0):_e).filter(Boolean),[z,_]=E.useReducer(ZX,{markdown:i,preview:m,components:j,height:d,minHeight:k,highlightEnable:f,tabSize:A,defaultTabEnable:I,scrollTop:0,scrollTopPreview:0,commands:K,extraCommands:$,fullscreen:v,barPopup:{}}),U=E.useRef(null),X=E.useRef(null),L=E.useRef(p);E.useImperativeHandle(t,()=>tt({},z,{container:U.current,dispatch:_})),E.useMemo(()=>L.current=p,[p]),E.useEffect(()=>{var _e={};U.current&&(_e.container=U.current||void 0),_e.markdown=i||"",_e.barPopup={},_&&_(tt({},z,_e))},[]);var ie=[a,"wmde-markdown-var",u?r+"-"+u:null,r,z.preview?r+"-show-"+z.preview:null,z.fullscreen?r+"-fullscreen":null].filter(Boolean).join(" ").trim();E.useMemo(()=>i!==z.markdown&&_({markdown:i||""}),[i,z.markdown]),E.useMemo(()=>m!==z.preview&&_({preview:m}),[m]),E.useMemo(()=>A!==z.tabSize&&_({tabSize:A}),[A]),E.useMemo(()=>f!==z.highlightEnable&&_({highlightEnable:f}),[f]),E.useMemo(()=>S!==z.autoFocus&&_({autoFocus:S}),[S]),E.useMemo(()=>T!==z.autoFocusEnd&&_({autoFocusEnd:T}),[T]),E.useMemo(()=>v!==z.fullscreen&&_({fullscreen:v}),[v]),E.useMemo(()=>d!==z.height&&_({height:d}),[d]),E.useMemo(()=>d!==z.height&&O&&O(z.height,d,z),[d,O,z]),E.useMemo(()=>o!==z.commands&&_({commands:K}),[e.commands]),E.useMemo(()=>c!==z.extraCommands&&_({extraCommands:$}),[e.extraCommands]);var W=E.useRef(),Q=E.useRef("preview"),q=E.useRef(!1);E.useMemo(()=>{W.current=z.textareaWarp,z.textareaWarp&&(z.textareaWarp.addEventListener("mouseover",()=>{Q.current="text"}),z.textareaWarp.addEventListener("mouseleave",()=>{Q.current="preview"}))},[z.textareaWarp]);var ee=(_e,$e)=>{if(L.current){var xt=W.current,gt=X.current?X.current:void 0;if(q.current||(Q.current=$e,q.current=!0),xt&&gt){var Dn=(xt.scrollHeight-xt.offsetHeight)/(gt.scrollHeight-gt.offsetHeight);_e.target===xt&&Q.current==="text"&&(gt.scrollTop=xt.scrollTop/Dn),_e.target===gt&&Q.current==="preview"&&(xt.scrollTop=gt.scrollTop*Dn);var lt=0;Q.current==="text"?lt=xt.scrollTop||0:Q.current==="preview"&&(lt=gt.scrollTop||0),_({scrollTop:lt})}}},ve=r+"-preview "+(g.className||""),Ie=_e=>ee(_e,"preview"),te=E.useMemo(()=>s.jsx("div",{ref:X,className:ve,children:s.jsx(HO,tt({},g,{onScroll:Ie,source:z.markdown||""}))}),[ve,g,z.markdown]),oe=(j==null?void 0:j.preview)&&(j==null?void 0:j.preview(z.markdown||"",z,_));oe&&It.isValidElement(oe)&&(te=s.jsx("div",{className:ve,ref:X,onScroll:Ie,children:oe}));var ge=tt({},Y.style,{height:z.height||"100%"}),pe=()=>_({barPopup:tt({},uee(z.barPopup))}),dt=_e=>_({height:_e}),qe=_e=>{if(C&&C(_e.target.value,_e,z),x&&x.onChange&&x.onChange(_e),z.textarea&&z.textarea instanceof HTMLTextAreaElement&&N){var $e=new lN(z.textarea),xt=$e.getState()||{};N(tt({},xt,{lineCount:_e.target.value.split(`
`).length,length:_e.target.value.length}))}};return s.jsx(_o.Provider,{value:tt({},z,{dispatch:_}),children:s.jsxs("div",tt({ref:U,className:ie},Y,{onClick:pe,style:ge,children:[s.jsx(M2,{hideToolbar:D,toolbarBottom:B,prefixCls:r,overflow:y,placement:"top"}),s.jsxs("div",{className:r+"-content",children:[/(edit|live)/.test(z.preview||"")&&s.jsx(iee,tt({className:r+"-input",prefixCls:r,autoFocus:S},x,{onChange:qe,renderTextarea:(j==null?void 0:j.textarea)||P,onScroll:_e=>ee(_e,"text")})),/(live|preview)/.test(z.preview||"")&&te]}),h&&!z.fullscreen&&s.jsx(oee,{prefixCls:r,height:z.height,maxHeight:w,minHeight:k,onChange:dt}),s.jsx(M2,{hideToolbar:D,toolbarBottom:B,prefixCls:r,overflow:y,placement:"bottom"})]}))})}),af=cee;af.Markdown=HO;const dee=`\`\`\`\`markdown
\`\`\`monster
## Monster Name
*Size type (tag), alignment*
___
- **Armor Class** 10
- **Hit Points** 10 (3d6)
- **Speed** 30 ft.
___
|STR|DEX|CON|INT|WIS|CHA|
|:---:|:---:|:---:|:---:|:---:|:---:|
|10 (+0)|10 (+0)|10 (+0)|10 (+0)|10 (+0)|10 (+0)|
___
- **Senses** passive Perception 10
- **Languages** --
- **Challenge** 1 (200 XP)
___
***Trait Name.*** Trait description.
### Actions
***Action Name.*** *Attack Style:* +0 to hit, reach 5 ft., one target. *Hit:* 1 (1d4) damage type.
\`\`\`
\`\`\`\``,pee="````markdown\n```note\nYour content here. Use standard markdown for paragraphs, lists, etc.\n```\n````",hee="````markdown\n```spell\n#### Spell Name\n*level School*\n___\n- **Casting Time:** 1 Action\n- **Range:** 60 feet\n- **Components:** V, S, M (a pinch of salt)\n- **Duration:** Instantaneous\n___\nSpell description goes here.\n\n***At Higher Levels.*** When you cast this spell...\n```\n````",fee={name:"monsterBlock",keyCommand:"monsterBlock",buttonProps:{"aria-label":"Insert Monster Block"},icon:s.jsx(Tn,{size:12}),execute:(e,t)=>{t.replaceSelection(dee)}},mee={name:"noteBlock",keyCommand:"noteBlock",buttonProps:{"aria-label":"Insert Note Block"},icon:s.jsx(ii,{size:12}),execute:(e,t)=>{t.replaceSelection(pee)}},gee={name:"spellBlock",keyCommand:"spellBlock",buttonProps:{"aria-label":"Insert Spell Block"},icon:s.jsx(Aa,{size:12}),execute:(e,t)=>{t.replaceSelection(hee)}};function bee({entry:e,onClose:t,onSave:n}){const[r,a]=E.useState(e),[i,o]=E.useState(!1),l=async()=>{o(!0);try{await n(r)}finally{o(!1)}};return s.jsxs("div",{className:"fixed inset-0 bg-white z-50 overflow-hidden flex flex-col",children:[s.jsxs("div",{className:"border-b p-4 flex items-center justify-between bg-white flex-shrink-0",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(V,{variant:"secondary",icon:fx,onClick:t,children:"Back"}),s.jsxs("h2",{className:"text-xl font-bold",children:["Editing: ",r.title]})]}),s.jsx(V,{variant:"primary",icon:vn,onClick:l,loading:i,children:"Save"})]}),s.jsx("div",{className:"p-4 border-b bg-gray-50 flex-shrink-0",children:s.jsxs("div",{className:"max-w-4xl mx-auto grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Title"}),s.jsx("input",{type:"text",value:r.title,onChange:u=>a({...r,title:u.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Category"}),s.jsx("input",{type:"text",value:r.category,onChange:u=>a({...r,category:u.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md"})]})]})}),s.jsx("div",{className:"flex-1 overflow-hidden","data-color-mode":"light",children:s.jsx(af,{height:"100%",value:r.content,onChange:u=>{a({...r,content:u||""})},previewOptions:{style:{backgroundColor:"transparent",padding:0},wrapper:({children:u})=>s.jsx("div",{className:"phb",children:u}),components:{markdown:u=>s.jsx(hl,{remarkPlugins:[Yi,Sc],rehypePlugins:[ri],...u})}},commands:[QS,nN,iN,eN,Ra,lL,sN,JS,Nm,Ra,rN,tN,Ra,fee,mee,gee]})})]})}function yee(){const{user:e,isAdmin:t}=cn(),n=nr(),[r,a]=E.useState(""),[i,o]=E.useState(null),[l,u]=E.useState(null),[c,d]=E.useState([]),[p,h]=E.useState(new Set),{data:f=[],isLoading:m,error:v}=Vt({queryKey:["compendiumEntries"],queryFn:$7});E.useEffect(()=>{const A=localStorage.getItem("compendium_bookmarks");if(A)try{d(JSON.parse(A))}catch(I){console.error("Failed to parse bookmarks",I)}},[]);const y=A=>{const I=A.content.replace(/[#*`]/g,"").slice(0,120)+"...";d(C=>{const O=C.some(D=>D.id===A.id)?C.filter(D=>D.id!==A.id):[...C,{...A,preview:I}];return localStorage.setItem("compendium_bookmarks",JSON.stringify(O)),O})},g=A=>{h(I=>{const C=new Set(I);return C.has(A)?C.delete(A):C.add(A),C})},x=Ct({mutationFn:async A=>{const I={title:A.title,content:A.content,category:A.category};if(A.id){const{error:C}=await se.from("compendium").update(I).eq("id",A.id);if(C)throw C}else{const{error:C}=await se.from("compendium").insert([{...I,created_by:e==null?void 0:e.id}]);if(C)throw C}},onSuccess:()=>{n.invalidateQueries({queryKey:["compendiumEntries"]}),u(null)},onError:A=>console.error("Save error:",A)}),w=E.useMemo(()=>{if(!r)return f;const A=r.toLowerCase();return f.filter(I=>{var C;return I.title.toLowerCase().includes(A)||((C=I.category)==null?void 0:C.toLowerCase().includes(A))})},[f,r]),k=E.useMemo(()=>{const A=w.reduce((I,C)=>{const N=C.category||"Uncategorized";return I[N]||(I[N]=[]),I[N].push(C),I},{});return Object.entries(A).sort(([I],[C])=>I.localeCompare(C))},[w]),S=()=>{u({id:void 0,title:"New Entry",content:`# New Entry
Write your content here...`,category:"General",created_by:e==null?void 0:e.id})};if(m)return s.jsx("div",{className:"flex items-center justify-center h-96",children:s.jsx(et,{size:"lg"})});if(v)return s.jsx("div",{className:"p-8",children:s.jsx(He,{message:v.message})});const T=A=>c.some(I=>I.id===A);return s.jsxs("div",{className:"flex h-[calc(100vh-6rem)] bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:[s.jsxs("div",{className:"w-80 bg-gray-50 border-r border-gray-200 flex flex-col flex-shrink-0",children:[s.jsxs("div",{className:"p-4 border-b border-gray-200 bg-white",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center gap-2 font-bold text-gray-800 cursor-pointer hover:text-indigo-600 transition-colors",onClick:()=>o(null),children:[s.jsx(RP,{className:"w-5 h-5"}),s.jsx("span",{children:"Compendium"})]}),t()&&s.jsx(V,{variant:"ghost",size:"icon_sm",onClick:S,title:"Create New Entry",children:s.jsx(Ht,{className:"w-5 h-5 text-indigo-600"})})]}),s.jsxs("div",{className:"relative",children:[s.jsx(mr,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 w-4 h-4"}),s.jsx("input",{type:"text",placeholder:"Search...",value:r,onChange:A=>{a(A.target.value),A.target.value},className:"w-full pl-9 pr-3 py-2 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 outline-none"})]})]}),s.jsx("div",{className:"flex-1 overflow-y-auto p-2",children:k.length===0?s.jsx("p",{className:"text-center text-gray-400 text-sm py-8",children:"No entries found."}):s.jsx("div",{className:"space-y-1",children:k.map(([A,I])=>{const C=r?!0:p.has(A);return s.jsxs("div",{className:"select-none",children:[s.jsxs("button",{onClick:()=>g(A),className:"w-full flex items-center justify-between px-3 py-2 text-sm font-semibold text-gray-700 hover:bg-gray-100 rounded-lg transition-colors",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[C?s.jsx(iu,{size:14,className:"text-gray-400"}):s.jsx(wa,{size:14,className:"text-gray-400"}),A]}),s.jsx("span",{className:"text-xs text-gray-400 bg-gray-100 px-1.5 py-0.5 rounded",children:I.length})]}),C&&s.jsx("div",{className:"mt-1 ml-2 space-y-0.5 border-l-2 border-gray-200 pl-2",children:I.map(N=>s.jsxs("button",{onClick:()=>o(N),className:`
                              w-full text-left px-3 py-2 text-sm rounded-md transition-all flex items-center justify-between group
                              ${(i==null?void 0:i.id)===N.id?"bg-white text-indigo-700 font-medium shadow-sm ring-1 ring-indigo-100":"text-gray-600 hover:bg-gray-100 hover:text-gray-900"}
                            `,children:[s.jsx("span",{className:"truncate",children:N.title}),T(N.id)&&s.jsx(dg,{size:12,className:"text-indigo-400 fill-indigo-400 shrink-0"})]},N.id))})]},A)})})})]}),s.jsx("div",{className:"flex-1 overflow-y-auto bg-white relative",children:i?s.jsxs("div",{className:"max-w-4xl mx-auto min-h-full flex flex-col",children:[s.jsxs("div",{className:"sticky top-0 z-10 bg-white/95 backdrop-blur border-b border-gray-100 px-8 py-4 flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-xs font-bold text-indigo-600 uppercase tracking-wide mb-1",children:i.category}),s.jsx("h1",{className:"text-2xl font-extrabold text-gray-900",children:i.title})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(V,{variant:"ghost",size:"sm",onClick:()=>y(i),className:T(i.id)?"text-indigo-600 bg-indigo-50":"text-gray-400",title:T(i.id)?"Remove Bookmark":"Bookmark",children:T(i.id)?s.jsx(dg,{className:"fill-current w-5 h-5"}):s.jsx(hP,{className:"w-5 h-5"})}),t()&&s.jsx(V,{variant:"secondary",size:"sm",icon:Cd,onClick:()=>u(i),children:"Edit"})]})]}),s.jsx("div",{className:"p-8",children:s.jsx(pK,{content:i.content})}),s.jsxs("div",{className:"mt-auto p-8 border-t border-gray-50 text-center text-gray-400 text-xs",children:["Entry Title: ",i.title]})]}):s.jsxs("div",{className:"p-8 max-w-5xl mx-auto",children:[s.jsxs("div",{className:"text-center mb-10 pt-10",children:[s.jsx("div",{className:"w-20 h-20 bg-indigo-50 text-indigo-600 rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx(_d,{size:40})}),s.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Compendium"}),s.jsx("p",{className:"text-gray-500",children:"Select a topic from the sidebar or browse your bookmarks below."})]}),s.jsxs("div",{className:"mb-6 flex items-center gap-2 pb-2 border-b border-gray-200",children:[s.jsx(dg,{size:18,className:"text-indigo-600"}),s.jsx("h2",{className:"font-bold text-gray-800",children:"Quick Access"})]}),c.length>0?s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:c.map(A=>s.jsxs("div",{onClick:()=>o(f.find(I=>I.id===A.id)||A),className:"bg-white border border-gray-200 rounded-lg p-4 cursor-pointer hover:shadow-md hover:border-indigo-300 transition-all group relative",children:[s.jsxs("div",{className:"flex justify-between items-start mb-2",children:[s.jsx("h3",{className:"font-bold text-gray-800 group-hover:text-indigo-700",children:A.title}),s.jsx("span",{className:"text-[10px] uppercase font-bold text-gray-400 bg-gray-50 px-1.5 py-0.5 rounded",children:A.category})]}),s.jsx("p",{className:"text-xs text-gray-500 line-clamp-3 leading-relaxed",children:A.preview}),s.jsxs("div",{className:"mt-3 flex items-center text-xs text-indigo-600 font-medium opacity-0 group-hover:opacity-100 transition-opacity",children:["Read Entry ",s.jsx(wa,{size:14,className:"ml-1"})]})]},A.id))}):s.jsx("div",{className:"text-center py-12 border-2 border-dashed border-gray-200 rounded-lg bg-gray-50",children:s.jsx("p",{className:"text-gray-400 text-sm",children:"You haven't bookmarked any entries yet."})})]})}),l&&s.jsx(bee,{entry:l,onClose:()=>u(null),onSave:async A=>{await x.mutateAsync(A)}})]})}async function xee(e,t){if(!e)return[];let n=se.from("parties").select(`
    id,
    name,
    description,
    created_by,
    created_at,
    members:party_members!left (
      characters!inner (
        *
      )
    )
  `);t?n=n.eq("created_by",e):n=n.eq("members.characters.user_id",e);const{data:r,error:a}=await n.order("created_at",{ascending:!1});if(a)throw console.error("Error fetching parties:",a),new Error(a.message||"Failed to fetch parties");return(r||[]).map(o=>({...o,members:(o.members||[]).map(l=>l.characters?uu(l.characters):null).filter(l=>!!l)}))}async function uL(e){if(!e)return[];const{data:t,error:n}=await se.from("party_members").select("character_id");if(n)throw console.error("Error fetching party member IDs:",n),new Error(n.message||"Failed to fetch member data");const r=(t||[]).map(l=>l.character_id);let a=se.from("characters").select("*").eq("user_id",e);r.length>0&&(a=a.not("id","in",`(${r.join(",")})`));const{data:i,error:o}=await a;if(o)throw console.error("Error fetching available characters:",o),new Error(o.message||"Failed to fetch available characters");return(i||[]).map(uu)}async function vee(e){if(!e)return null;const t=`
    id,
    name,
    description,
    created_by,
    created_at,
    invite_code,
    members:party_members (
      characters (
        id,
        user_id,
        name,
        kin,
        profession,
        attributes,
        max_hp,
        current_hp,
        max_wp,
        current_wp,
        skill_levels,
        spells,
        heroic_ability,
        equipment,
        conditions,
        weak_spot 
      )
    )
  `,{data:n,error:r}=await se.from("parties").select(t).eq("id",e).single();if(r)throw console.error("Error fetching party by ID:",r),r.code==="PGRST116"?new Error("Party not found"):new Error(r.message||"Failed to fetch party");return n?{...n,members:(n.members||[]).map(i=>i.characters?uu(i.characters):null).filter(i=>!!i)}:null}async function cL(e,t){const{error:n}=await se.from("party_members").delete().match({party_id:e,character_id:t});if(n)throw console.error("Error removing party member:",n),new Error(n.message||"Failed to remove party member");const{error:r}=await se.from("characters").update({party_id:null}).eq("id",t);r&&console.error("Error clearing character party link:",r)}async function Eee(e){const{error:t}=await se.from("parties").delete().eq("id",e);if(t)throw console.error("Error deleting party:",t),new Error(t.message||"Failed to delete party")}function wee(){const{user:e,isDM:t}=cn(),n=Mr(),r=nr(),[a,i]=E.useState(!1),[o,l]=E.useState(""),[u,c]=E.useState([]),{data:d=[],isLoading:p,error:h}=Vt({queryKey:["parties",e==null?void 0:e.id,t()],queryFn:()=>xee(e==null?void 0:e.id,t()),enabled:!!e}),{data:f=[],isLoading:m,error:v}=Vt({queryKey:["availableCharacters",e==null?void 0:e.id],queryFn:()=>uL(e==null?void 0:e.id),enabled:!!e&&a}),y=p||a&&m,g=(h==null?void 0:h.message)||(v==null?void 0:v.message)||null,x=Ct({mutationFn:async({name:k,characterIds:S})=>{if(!k.trim())throw new Error("Party name is required");if(!e)throw new Error("User not authenticated");const{data:T,error:A}=await se.from("parties").insert([{name:k,created_by:e.id}]).select().single();if(A)throw A;if(!T)throw new Error("Party creation failed");if(S.length>0){const I=S.map(N=>({party_id:T.id,character_id:N})),{error:C}=await se.from("party_members").insert(I);if(C)throw await se.from("parties").delete().eq("id",T.id),C}return T},onSuccess:()=>{r.invalidateQueries({queryKey:["parties",e==null?void 0:e.id,t()]}),r.invalidateQueries({queryKey:["availableCharacters",e==null?void 0:e.id]}),l(""),c([]),i(!1)}}),w=()=>{x.mutate({name:o,characterIds:u})};return y&&!a?s.jsx("div",{className:"p-8 flex justify-center",children:s.jsx(et,{size:"lg"})}):g&&!a?s.jsx("div",{className:"p-8",children:s.jsx(He,{message:g})}):s.jsxs("div",{className:"p-6 max-w-7xl mx-auto",children:[s.jsxs("div",{className:"flex justify-between items-start mb-6",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Cr,{className:"w-6 h-6 text-blue-600"}),s.jsx("h1",{className:"text-2xl font-bold",children:"Adventure Parties"})]}),t()&&s.jsx(V,{variant:"primary",icon:Ht,onClick:()=>i(!0),disabled:a,children:"Create Party"})]}),g&&!x.error&&!a&&s.jsx("div",{className:"mb-6",children:s.jsx(He,{message:g})}),a&&s.jsxs("div",{className:"mb-6 bg-white rounded-lg shadow-md p-6 border border-blue-200",children:[s.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Create New Party"}),x.error&&s.jsx("div",{className:"mb-4",children:s.jsx(He,{message:x.error.message})}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"partyName",className:"block text-sm font-medium text-gray-700 mb-1",children:"Party Name"}),s.jsx("input",{type:"text",id:"partyName",value:o,onChange:k=>l(k.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter party name"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Select Initial Characters (Optional)"}),m?s.jsx(et,{}):v?s.jsx(He,{message:v.message}):f.length>0?s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 max-h-60 overflow-y-auto p-2 border rounded-md",children:f.map(k=>s.jsx("div",{className:`p-3 border rounded-lg cursor-pointer ${u.includes(k.id||"")?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-blue-300"}`,onClick:()=>{k.id&&c(S=>S.includes(k.id)?S.filter(T=>T!==k.id):[...S,k.id])},children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Or,{className:"w-4 h-4 text-gray-600"}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium text-sm",children:k.name}),s.jsxs("p",{className:"text-xs text-gray-500",children:[k.kin," ",k.profession]})]})]})},k.id))}):s.jsx("p",{className:"text-sm text-gray-500 italic",children:"No available characters to add."})]}),s.jsxs("div",{className:"flex justify-end gap-4",children:[s.jsx(V,{variant:"secondary",onClick:()=>i(!1),disabled:x.isPending,children:"Cancel"}),s.jsx(V,{variant:"primary",onClick:w,loading:x.isPending,disabled:!o.trim()||x.isPending,children:"Create Party"})]})]})]}),!a&&(d.length>0?s.jsx("div",{className:"grid gap-6",children:d.map(k=>s.jsxs("div",{onClick:()=>n(`/party/${k.id}`),className:"bg-white rounded-lg shadow-md p-6 hover:shadow-lg hover:border-blue-400 border border-transparent transition-all cursor-pointer",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:k.name}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[k.members.map(S=>s.jsx("div",{className:"p-4 border border-gray-200 rounded-lg bg-gray-50",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Or,{className:"w-5 h-5 text-gray-600"}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium",children:S.name}),s.jsxs("p",{className:"text-sm text-gray-500",children:[S.kin," ",S.profession]})]})]})},S.id)),k.members.length===0&&s.jsx("p",{className:"text-sm text-gray-500 italic col-span-full",children:"No members yet."})]})]},k.id))}):s.jsx(vb,{icon:Cr,title:"No Adventure Parties",description:t()?"You haven't created any parties yet.":"You're not currently in any adventure parties.",action:t()?s.jsx(V,{variant:"primary",icon:Ht,onClick:()=>i(!0),children:"Create Your First Party"}):void 0}))]})}function See(){const{user:e,isDM:t}=cn(),[n,r]=E.useState([]),[a,i]=E.useState([]),[o,l]=E.useState([]),[u,c]=E.useState("view"),[d,p]=E.useState(null),[h,f]=E.useState(!0),[m,v]=E.useState(null),[y,g]=E.useState(null),[x,w]=E.useState(!1),k=E.useRef(null),[S,T]=E.useState(""),[A,I]=E.useState("all"),[C,N]=E.useState(""),[O,D]=E.useState(""),[B,j]=E.useState(""),[P,Y]=E.useState(""),K=(q,ee="")=>{const ve=k.current;if(!ve)return;const Ie=ve.selectionStart,te=ve.selectionEnd,oe=ve.value,ge=oe.substring(0,Ie),pe=oe.substring(Ie,te),dt=oe.substring(te),qe=ge+q+pe+ee+dt;D(qe),setTimeout(()=>{ve.focus();const _e=Ie+q.length+pe.length+ee.length;ve.setSelectionRange(_e,_e)},0)},$=()=>{K(`
| Header 1 | Header 2 |
| -------- | -------- |
| Cell 1   | Cell 2   |
`)},z=E.useCallback(()=>{N(""),D(""),j(""),Y(""),g(null),w(!1)},[]),_=()=>{z(),c("create"),p(null)},U=q=>{p(q),N(q.title),D(q.content),j(q.character_id||""),Y(q.party_id||""),c("edit"),g(null),w(!1)},X=()=>{c("view"),z(),u==="create"&&p(null)},L=E.useCallback(async()=>{if(e){f(!0),v(null);try{const{data:q}=await se.from("characters").select("id, name").eq("user_id",e.id);if(i(q||[]),t()){const{data:te}=await se.from("parties").select("id, name").eq("created_by",e.id);l(te||[])}let ee=se.from("notes").select(`
        *,
        character:characters(name),
        party:parties(name)
      `).eq("user_id",e.id);const{data:ve,error:Ie}=await ee.order("created_at",{ascending:!1});if(Ie)throw Ie;r(ve||[])}catch(q){console.error("Load error:",q),v("Failed to load notes.")}finally{f(!1)}}},[e,t]);E.useEffect(()=>{L()},[L]);const ie=async()=>{if(!e)return;if(!C.trim()){g("Title is required.");return}if(B&&P){g("Please link to either a Character OR a Party, not both.");return}const q={title:C.trim(),content:O,user_id:e.id,character_id:B||null,party_id:P||null,updated_at:new Date().toISOString()};try{let ee=null;if(u==="edit"&&d){const{data:ve,error:Ie}=await se.from("notes").update(q).eq("id",d.id).select("*, character:characters(name), party:parties(name)").single();if(Ie)throw Ie;ee=ve}else{const{data:ve,error:Ie}=await se.from("notes").insert([q]).select("*, character:characters(name), party:parties(name)").single();if(Ie)throw Ie;ee=ve}await L(),X(),ee&&p(ee)}catch{g("Failed to save note.")}},W=async q=>{if(window.confirm("Delete this note?"))try{await se.from("notes").delete().eq("id",q),await L(),(d==null?void 0:d.id)===q&&p(null),u==="edit"&&X()}catch{v("Failed to delete note.")}},Q=n.filter(q=>{const ee=(q.title+q.content).toLowerCase().includes(S.toLowerCase()),ve=A==="all"||A==="personal"&&!q.character_id&&!q.party_id||A==="character"&&!!q.character_id||A==="party"&&!!q.party_id;return ee&&ve});return h&&n.length===0?s.jsx("div",{className:"h-96 flex justify-center items-center",children:s.jsx(et,{})}):s.jsxs("div",{className:"flex h-[calc(100vh-100px)] bg-white border rounded-xl overflow-hidden shadow-sm",children:[s.jsxs("div",{className:"w-full md:w-1/3 lg:w-1/4 border-r border-gray-200 flex flex-col bg-gray-50",children:[s.jsxs("div",{className:"p-4 border-b border-gray-200 bg-white",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsxs("h2",{className:"text-lg font-bold flex items-center gap-2 text-gray-800",children:[s.jsx(_d,{className:"w-5 h-5 text-blue-600"})," My Notes"]}),s.jsx(V,{size:"sm",onClick:_,icon:Ht,children:"New"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"relative",children:[s.jsx(mr,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 w-4 h-4"}),s.jsx("input",{type:"text",placeholder:"Search...",className:"w-full pl-9 pr-3 py-1.5 text-sm border rounded-md focus:ring-2 focus:ring-blue-500 outline-none",value:S,onChange:q=>T(q.target.value)})]}),s.jsxs("div",{className:"relative",children:[s.jsx(Td,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 w-4 h-4"}),s.jsxs("select",{className:"w-full pl-9 pr-8 py-1.5 text-sm border rounded-md appearance-none bg-white focus:ring-2 focus:ring-blue-500 outline-none",value:A,onChange:q=>I(q.target.value),children:[s.jsx("option",{value:"all",children:"All Notes"}),s.jsx("option",{value:"personal",children:"Personal"}),s.jsx("option",{value:"character",children:"Character Links"}),s.jsx("option",{value:"party",children:"Party Links"})]}),s.jsx(iu,{className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 w-3 h-3 pointer-events-none"})]})]})]}),s.jsx("div",{className:"flex-1 overflow-y-auto p-2 space-y-1",children:Q.length===0?s.jsxs("div",{className:"text-center py-8 text-gray-400",children:[s.jsx(ii,{className:"w-8 h-8 mx-auto mb-2 opacity-50"}),s.jsx("p",{className:"text-sm",children:"No notes found."})]}):Q.map(q=>s.jsxs("div",{onClick:()=>{p(q),c("view")},className:`
                   p-3 rounded-lg cursor-pointer border transition-all group
                   ${(d==null?void 0:d.id)===q.id?"bg-white border-blue-500 shadow-sm ring-1 ring-blue-100 z-10":"bg-white border-gray-200 hover:border-blue-300 hover:shadow-sm"}
                 `,children:[s.jsx("h4",{className:`font-semibold text-sm mb-1 ${(d==null?void 0:d.id)===q.id?"text-blue-700":"text-gray-800"}`,children:q.title}),s.jsxs("div",{className:"flex items-center gap-2",children:[q.character&&s.jsxs("span",{className:"inline-flex items-center gap-1 px-1.5 py-0.5 rounded bg-purple-50 text-purple-700 text-[10px] font-medium border border-purple-100",children:[s.jsx(ms,{size:10})," ",q.character.name]}),q.party&&s.jsxs("span",{className:"inline-flex items-center gap-1 px-1.5 py-0.5 rounded bg-green-50 text-green-700 text-[10px] font-medium border border-green-100",children:[s.jsx(Cr,{size:10})," ",q.party.name]}),!q.character&&!q.party&&s.jsxs("span",{className:"inline-flex items-center gap-1 px-1.5 py-0.5 rounded bg-gray-100 text-gray-600 text-[10px] font-medium border border-gray-200",children:[s.jsx(ou,{size:10})," Personal"]})]})]},q.id))})]}),s.jsx("div",{className:"flex-1 bg-white p-6 overflow-y-auto",children:u==="create"||u==="edit"?s.jsxs("div",{className:"max-w-2xl mx-auto animate-in fade-in slide-in-from-bottom-2",children:[s.jsxs("div",{className:"flex justify-between items-center mb-6 pb-2 border-b",children:[s.jsx("h2",{className:"text-xl font-bold",children:u==="edit"?"Edit Note":"New Note"}),s.jsx("button",{onClick:X,className:"text-gray-400 hover:text-gray-600",children:s.jsx(mt,{size:24})})]}),y&&s.jsxs("div",{className:"mb-4 p-3 bg-red-50 text-red-700 text-sm rounded flex items-center gap-2",children:[s.jsx(wt,{size:16}),y]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:"Title"}),s.jsx("input",{className:"w-full p-2 border rounded focus:ring-2 focus:ring-blue-500 outline-none",value:C,onChange:q=>N(q.target.value),placeholder:"Note Title",autoFocus:!0})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:"Character Link (Opt)"}),s.jsxs("select",{className:"w-full p-2 border rounded bg-white focus:ring-2 focus:ring-blue-500 outline-none disabled:bg-gray-100 disabled:text-gray-400",value:B,onChange:q=>{j(q.target.value),q.target.value&&Y("")},disabled:!!P,children:[s.jsx("option",{value:"",children:"None"}),a.map(q=>s.jsx("option",{value:q.id,children:q.name},q.id))]})]}),t()&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:"Party Link (Opt)"}),s.jsxs("select",{className:"w-full p-2 border rounded bg-white focus:ring-2 focus:ring-blue-500 outline-none disabled:bg-gray-100 disabled:text-gray-400",value:P,onChange:q=>{Y(q.target.value),q.target.value&&j("")},disabled:!!B,children:[s.jsx("option",{value:"",children:"None"}),o.map(q=>s.jsx("option",{value:q.id,children:q.name},q.id))]})]})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between items-end mb-1",children:[s.jsxs("label",{className:"block text-sm font-bold text-gray-700",children:["Content ",s.jsx("span",{className:"text-xs font-normal text-gray-400",children:"(Markdown)"})]}),s.jsx("button",{type:"button",onClick:()=>w(!x),className:"text-xs flex items-center gap-1 text-blue-600 hover:text-blue-800 font-medium",children:x?s.jsxs(s.Fragment,{children:[s.jsx(yx,{size:14})," Edit"]}):s.jsxs(s.Fragment,{children:[s.jsx(Uf,{size:14})," Preview"]})})]}),s.jsxs("div",{className:"border rounded-lg overflow-hidden border-gray-300 focus-within:ring-2 focus-within:ring-blue-500 focus-within:border-blue-500 transition-all",children:[!x&&s.jsxs("div",{className:"flex items-center gap-1 p-2 bg-gray-50 border-b border-gray-200 overflow-x-auto",children:[s.jsx(Va,{icon:mx,label:"Bold",onClick:()=>K("**","**")}),s.jsx(Va,{icon:Ex,label:"Italic",onClick:()=>K("*","*")}),s.jsx("div",{className:"w-px h-4 bg-gray-300 mx-1"}),s.jsx(Va,{icon:xx,label:"Heading",onClick:()=>K("# ","")}),s.jsx(Va,{icon:Tx,label:"Quote",onClick:()=>K("> ","")}),s.jsx(Va,{icon:Bf,label:"Code Block",onClick:()=>K("```\n","\n```")}),s.jsx("div",{className:"w-px h-4 bg-gray-300 mx-1"}),s.jsx(Va,{icon:Hf,label:"Bullet List",onClick:()=>K("- ","")}),s.jsx(Va,{icon:wx,label:"Numbered List",onClick:()=>K("1. ","")}),s.jsx("div",{className:"w-px h-4 bg-gray-300 mx-1"}),s.jsx(Va,{icon:$f,label:"Link",onClick:()=>K("[","](url)")}),s.jsx(Va,{icon:Ox,label:"Table",onClick:$})]}),x?s.jsx("div",{className:"p-4 h-96 overflow-y-auto prose prose-sm max-w-none bg-gray-50/50",children:s.jsx(Vl,{content:O||"*No content*"})}):s.jsx("textarea",{ref:k,className:"w-full p-3 h-96 font-mono text-sm outline-none resize-none bg-white",value:O,onChange:q=>D(q.target.value),placeholder:"Write your notes here..."})]})]}),s.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[s.jsx(V,{variant:"ghost",onClick:X,children:"Cancel"}),s.jsx(V,{variant:"primary",icon:vn,onClick:ie,children:"Save Note"})]})]})]}):d?s.jsxs("div",{className:"max-w-3xl mx-auto animate-in fade-in duration-200",children:[s.jsxs("div",{className:"flex justify-between items-start mb-6 border-b pb-4",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:d.title}),s.jsxs("div",{className:"flex gap-2 text-sm",children:[d.character&&s.jsxs("span",{className:"bg-purple-100 text-purple-800 px-2 py-0.5 rounded-full font-medium",children:["Character: ",d.character.name]}),d.party&&s.jsxs("span",{className:"bg-green-100 text-green-800 px-2 py-0.5 rounded-full font-medium",children:["Party: ",d.party.name]}),!d.character&&!d.party&&s.jsx("span",{className:"bg-gray-100 text-gray-600 px-2 py-0.5 rounded-full font-medium",children:"Personal Note"})]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(V,{variant:"secondary",size:"sm",icon:Cd,onClick:()=>U(d),children:"Edit"}),s.jsx(V,{variant:"danger_outline",size:"sm",icon:Cn,onClick:()=>W(d.id),children:"Delete"})]})]}),s.jsx("div",{className:"prose prose-blue max-w-none text-gray-700 min-h-[200px]",children:s.jsx(Vl,{content:d.content})}),s.jsxs("div",{className:"mt-12 pt-4 border-t text-xs text-gray-400 text-center",children:["Created ",new Date(d.created_at).toLocaleDateString()]})]}):s.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-gray-400",children:[s.jsx("div",{className:"w-20 h-20 bg-gray-100 rounded-full flex items-center justify-center mb-4",children:s.jsx(ii,{className:"w-8 h-8 text-gray-300"})}),s.jsx("h3",{className:"text-lg font-medium text-gray-600",children:"Select a note to read"}),s.jsx("p",{className:"text-sm mb-6",children:"Or create a new one to get started."}),s.jsx(V,{variant:"primary",icon:Ht,onClick:_,children:"Create Note"})]})})]})}function Va({icon:e,label:t,onClick:n}){return s.jsx("button",{type:"button",onClick:n,title:t,className:"p-1.5 text-gray-600 hover:text-blue-600 hover:bg-white hover:shadow-sm rounded transition-all",children:s.jsx(e,{size:16})})}var ut;(function(e){e.assertEqual=a=>a;function t(a){}e.assertIs=t;function n(a){throw new Error}e.assertNever=n,e.arrayToEnum=a=>{const i={};for(const o of a)i[o]=o;return i},e.getValidEnumValues=a=>{const i=e.objectKeys(a).filter(l=>typeof a[a[l]]!="number"),o={};for(const l of i)o[l]=a[l];return e.objectValues(o)},e.objectValues=a=>e.objectKeys(a).map(function(i){return a[i]}),e.objectKeys=typeof Object.keys=="function"?a=>Object.keys(a):a=>{const i=[];for(const o in a)Object.prototype.hasOwnProperty.call(a,o)&&i.push(o);return i},e.find=(a,i)=>{for(const o of a)if(i(o))return o},e.isInteger=typeof Number.isInteger=="function"?a=>Number.isInteger(a):a=>typeof a=="number"&&isFinite(a)&&Math.floor(a)===a;function r(a,i=" | "){return a.map(o=>typeof o=="string"?`'${o}'`:o).join(i)}e.joinValues=r,e.jsonStringifyReplacer=(a,i)=>typeof i=="bigint"?i.toString():i})(ut||(ut={}));var ey;(function(e){e.mergeShapes=(t,n)=>({...t,...n})})(ey||(ey={}));const Ce=ut.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Ja=e=>{switch(typeof e){case"undefined":return Ce.undefined;case"string":return Ce.string;case"number":return isNaN(e)?Ce.nan:Ce.number;case"boolean":return Ce.boolean;case"function":return Ce.function;case"bigint":return Ce.bigint;case"symbol":return Ce.symbol;case"object":return Array.isArray(e)?Ce.array:e===null?Ce.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?Ce.promise:typeof Map<"u"&&e instanceof Map?Ce.map:typeof Set<"u"&&e instanceof Set?Ce.set:typeof Date<"u"&&e instanceof Date?Ce.date:Ce.object;default:return Ce.unknown}},fe=ut.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),Nee=e=>JSON.stringify(e,null,2).replace(/"([^"]+)":/g,"$1:");class Rr extends Error{get errors(){return this.issues}constructor(t){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=t}format(t){const n=t||function(i){return i.message},r={_errors:[]},a=i=>{for(const o of i.issues)if(o.code==="invalid_union")o.unionErrors.map(a);else if(o.code==="invalid_return_type")a(o.returnTypeError);else if(o.code==="invalid_arguments")a(o.argumentsError);else if(o.path.length===0)r._errors.push(n(o));else{let l=r,u=0;for(;u<o.path.length;){const c=o.path[u];u===o.path.length-1?(l[c]=l[c]||{_errors:[]},l[c]._errors.push(n(o))):l[c]=l[c]||{_errors:[]},l=l[c],u++}}};return a(this),r}static assert(t){if(!(t instanceof Rr))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,ut.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=n=>n.message){const n={},r=[];for(const a of this.issues)a.path.length>0?(n[a.path[0]]=n[a.path[0]]||[],n[a.path[0]].push(t(a))):r.push(t(a));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}Rr.create=e=>new Rr(e);const Yl=(e,t)=>{let n;switch(e.code){case fe.invalid_type:e.received===Ce.undefined?n="Required":n=`Expected ${e.expected}, received ${e.received}`;break;case fe.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(e.expected,ut.jsonStringifyReplacer)}`;break;case fe.unrecognized_keys:n=`Unrecognized key(s) in object: ${ut.joinValues(e.keys,", ")}`;break;case fe.invalid_union:n="Invalid input";break;case fe.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${ut.joinValues(e.options)}`;break;case fe.invalid_enum_value:n=`Invalid enum value. Expected ${ut.joinValues(e.options)}, received '${e.received}'`;break;case fe.invalid_arguments:n="Invalid function arguments";break;case fe.invalid_return_type:n="Invalid function return type";break;case fe.invalid_date:n="Invalid date";break;case fe.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(n=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?n=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?n=`Invalid input: must end with "${e.validation.endsWith}"`:ut.assertNever(e.validation):e.validation!=="regex"?n=`Invalid ${e.validation}`:n="Invalid";break;case fe.too_small:e.type==="array"?n=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?n=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?n=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?n=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:n="Invalid input";break;case fe.too_big:e.type==="array"?n=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?n=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?n=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?n=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?n=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:n="Invalid input";break;case fe.custom:n="Invalid input";break;case fe.invalid_intersection_types:n="Intersection results could not be merged";break;case fe.not_multiple_of:n=`Number must be a multiple of ${e.multipleOf}`;break;case fe.not_finite:n="Number must be finite";break;default:n=t.defaultError,ut.assertNever(e)}return{message:n}};let dL=Yl;function kee(e){dL=e}function sf(){return dL}const of=e=>{const{data:t,path:n,errorMaps:r,issueData:a}=e,i=[...n,...a.path||[]],o={...a,path:i};if(a.message!==void 0)return{...a,path:i,message:a.message};let l="";const u=r.filter(c=>!!c).slice().reverse();for(const c of u)l=c(o,{data:t,defaultError:l}).message;return{...a,path:i,message:l}},_ee=[];function we(e,t){const n=sf(),r=of({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,n,n===Yl?void 0:Yl].filter(a=>!!a)});e.common.issues.push(r)}class $n{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,n){const r=[];for(const a of n){if(a.status==="aborted")return Be;a.status==="dirty"&&t.dirty(),r.push(a.value)}return{status:t.value,value:r}}static async mergeObjectAsync(t,n){const r=[];for(const a of n){const i=await a.key,o=await a.value;r.push({key:i,value:o})}return $n.mergeObjectSync(t,r)}static mergeObjectSync(t,n){const r={};for(const a of n){const{key:i,value:o}=a;if(i.status==="aborted"||o.status==="aborted")return Be;i.status==="dirty"&&t.dirty(),o.status==="dirty"&&t.dirty(),i.value!=="__proto__"&&(typeof o.value<"u"||a.alwaysSet)&&(r[i.value]=o.value)}return{status:t.value,value:r}}}const Be=Object.freeze({status:"aborted"}),el=e=>({status:"dirty",value:e}),Jn=e=>({status:"valid",value:e}),ty=e=>e.status==="aborted",ny=e=>e.status==="dirty",uo=e=>e.status==="valid",nd=e=>typeof Promise<"u"&&e instanceof Promise;function lf(e,t,n,r){if(typeof t=="function"?e!==t||!0:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t.get(e)}function pL(e,t,n,r,a){if(typeof t=="function"?e!==t||!0:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return t.set(e,n),n}var De;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t==null?void 0:t.message})(De||(De={}));var Ju,ec;class ja{constructor(t,n,r,a){this._cachedPath=[],this.parent=t,this.data=n,this._path=r,this._key=a}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const V2=(e,t)=>{if(uo(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new Rr(e.common.issues);return this._error=n,this._error}}};function Ge(e){if(!e)return{};const{errorMap:t,invalid_type_error:n,required_error:r,description:a}=e;if(t&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:a}:{errorMap:(o,l)=>{var u,c;const{message:d}=e;return o.code==="invalid_enum_value"?{message:d??l.defaultError}:typeof l.data>"u"?{message:(u=d??r)!==null&&u!==void 0?u:l.defaultError}:o.code!=="invalid_type"?{message:l.defaultError}:{message:(c=d??n)!==null&&c!==void 0?c:l.defaultError}},description:a}}class Xe{get description(){return this._def.description}_getType(t){return Ja(t.data)}_getOrReturnCtx(t,n){return n||{common:t.parent.common,data:t.data,parsedType:Ja(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new $n,ctx:{common:t.parent.common,data:t.data,parsedType:Ja(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const n=this._parse(t);if(nd(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(t){const n=this._parse(t);return Promise.resolve(n)}parse(t,n){const r=this.safeParse(t,n);if(r.success)return r.data;throw r.error}safeParse(t,n){var r;const a={common:{issues:[],async:(r=n==null?void 0:n.async)!==null&&r!==void 0?r:!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Ja(t)},i=this._parseSync({data:t,path:a.path,parent:a});return V2(a,i)}"~validate"(t){var n,r;const a={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Ja(t)};if(!this["~standard"].async)try{const i=this._parseSync({data:t,path:[],parent:a});return uo(i)?{value:i.value}:{issues:a.common.issues}}catch(i){!((r=(n=i==null?void 0:i.message)===null||n===void 0?void 0:n.toLowerCase())===null||r===void 0)&&r.includes("encountered")&&(this["~standard"].async=!0),a.common={issues:[],async:!0}}return this._parseAsync({data:t,path:[],parent:a}).then(i=>uo(i)?{value:i.value}:{issues:a.common.issues})}async parseAsync(t,n){const r=await this.safeParseAsync(t,n);if(r.success)return r.data;throw r.error}async safeParseAsync(t,n){const r={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Ja(t)},a=this._parse({data:t,path:r.path,parent:r}),i=await(nd(a)?a:Promise.resolve(a));return V2(r,i)}refine(t,n){const r=a=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(a):n;return this._refinement((a,i)=>{const o=t(a),l=()=>i.addIssue({code:fe.custom,...r(a)});return typeof Promise<"u"&&o instanceof Promise?o.then(u=>u?!0:(l(),!1)):o?!0:(l(),!1)})}refinement(t,n){return this._refinement((r,a)=>t(r)?!0:(a.addIssue(typeof n=="function"?n(r,a):n),!1))}_refinement(t){return new ca({schema:this,typeName:Pe.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:n=>this["~validate"](n)}}optional(){return Da.create(this,this._def)}nullable(){return di.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return la.create(this)}promise(){return Zl.create(this,this._def)}or(t){return id.create([this,t],this._def)}and(t){return od.create(this,t,this._def)}transform(t){return new ca({...Ge(this._def),schema:this,typeName:Pe.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const n=typeof t=="function"?t:()=>t;return new pd({...Ge(this._def),innerType:this,defaultValue:n,typeName:Pe.ZodDefault})}brand(){return new uN({typeName:Pe.ZodBranded,type:this,...Ge(this._def)})}catch(t){const n=typeof t=="function"?t:()=>t;return new hd({...Ge(this._def),innerType:this,catchValue:n,typeName:Pe.ZodCatch})}describe(t){const n=this.constructor;return new n({...this._def,description:t})}pipe(t){return Xd.create(this,t)}readonly(){return fd.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const Tee=/^c[^\s-]{8,}$/i,Cee=/^[0-9a-z]+$/,Aee=/^[0-9A-HJKMNP-TV-Z]{26}$/i,Iee=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,Ree=/^[a-z0-9_-]{21}$/i,Dee=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,Oee=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,Lee=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,jee="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Qg;const Mee=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,Fee=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,Pee=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,Bee=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,Uee=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,$ee=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,hL="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",Hee=new RegExp(`^${hL}$`);function fL(e){let t="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return e.precision?t=`${t}\\.\\d{${e.precision}}`:e.precision==null&&(t=`${t}(\\.\\d+)?`),t}function zee(e){return new RegExp(`^${fL(e)}$`)}function mL(e){let t=`${hL}T${fL(e)}`;const n=[];return n.push(e.local?"Z?":"Z"),e.offset&&n.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${n.join("|")})`,new RegExp(`^${t}$`)}function Gee(e,t){return!!((t==="v4"||!t)&&Mee.test(e)||(t==="v6"||!t)&&Pee.test(e))}function qee(e,t){if(!Dee.test(e))return!1;try{const[n]=e.split("."),r=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),a=JSON.parse(atob(r));return!(typeof a!="object"||a===null||!a.typ||!a.alg||t&&a.alg!==t)}catch{return!1}}function Vee(e,t){return!!((t==="v4"||!t)&&Fee.test(e)||(t==="v6"||!t)&&Bee.test(e))}class sa extends Xe{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==Ce.string){const i=this._getOrReturnCtx(t);return we(i,{code:fe.invalid_type,expected:Ce.string,received:i.parsedType}),Be}const r=new $n;let a;for(const i of this._def.checks)if(i.kind==="min")t.data.length<i.value&&(a=this._getOrReturnCtx(t,a),we(a,{code:fe.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),r.dirty());else if(i.kind==="max")t.data.length>i.value&&(a=this._getOrReturnCtx(t,a),we(a,{code:fe.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),r.dirty());else if(i.kind==="length"){const o=t.data.length>i.value,l=t.data.length<i.value;(o||l)&&(a=this._getOrReturnCtx(t,a),o?we(a,{code:fe.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):l&&we(a,{code:fe.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),r.dirty())}else if(i.kind==="email")Lee.test(t.data)||(a=this._getOrReturnCtx(t,a),we(a,{validation:"email",code:fe.invalid_string,message:i.message}),r.dirty());else if(i.kind==="emoji")Qg||(Qg=new RegExp(jee,"u")),Qg.test(t.data)||(a=this._getOrReturnCtx(t,a),we(a,{validation:"emoji",code:fe.invalid_string,message:i.message}),r.dirty());else if(i.kind==="uuid")Iee.test(t.data)||(a=this._getOrReturnCtx(t,a),we(a,{validation:"uuid",code:fe.invalid_string,message:i.message}),r.dirty());else if(i.kind==="nanoid")Ree.test(t.data)||(a=this._getOrReturnCtx(t,a),we(a,{validation:"nanoid",code:fe.invalid_string,message:i.message}),r.dirty());else if(i.kind==="cuid")Tee.test(t.data)||(a=this._getOrReturnCtx(t,a),we(a,{validation:"cuid",code:fe.invalid_string,message:i.message}),r.dirty());else if(i.kind==="cuid2")Cee.test(t.data)||(a=this._getOrReturnCtx(t,a),we(a,{validation:"cuid2",code:fe.invalid_string,message:i.message}),r.dirty());else if(i.kind==="ulid")Aee.test(t.data)||(a=this._getOrReturnCtx(t,a),we(a,{validation:"ulid",code:fe.invalid_string,message:i.message}),r.dirty());else if(i.kind==="url")try{new URL(t.data)}catch{a=this._getOrReturnCtx(t,a),we(a,{validation:"url",code:fe.invalid_string,message:i.message}),r.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(t.data)||(a=this._getOrReturnCtx(t,a),we(a,{validation:"regex",code:fe.invalid_string,message:i.message}),r.dirty())):i.kind==="trim"?t.data=t.data.trim():i.kind==="includes"?t.data.includes(i.value,i.position)||(a=this._getOrReturnCtx(t,a),we(a,{code:fe.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),r.dirty()):i.kind==="toLowerCase"?t.data=t.data.toLowerCase():i.kind==="toUpperCase"?t.data=t.data.toUpperCase():i.kind==="startsWith"?t.data.startsWith(i.value)||(a=this._getOrReturnCtx(t,a),we(a,{code:fe.invalid_string,validation:{startsWith:i.value},message:i.message}),r.dirty()):i.kind==="endsWith"?t.data.endsWith(i.value)||(a=this._getOrReturnCtx(t,a),we(a,{code:fe.invalid_string,validation:{endsWith:i.value},message:i.message}),r.dirty()):i.kind==="datetime"?mL(i).test(t.data)||(a=this._getOrReturnCtx(t,a),we(a,{code:fe.invalid_string,validation:"datetime",message:i.message}),r.dirty()):i.kind==="date"?Hee.test(t.data)||(a=this._getOrReturnCtx(t,a),we(a,{code:fe.invalid_string,validation:"date",message:i.message}),r.dirty()):i.kind==="time"?zee(i).test(t.data)||(a=this._getOrReturnCtx(t,a),we(a,{code:fe.invalid_string,validation:"time",message:i.message}),r.dirty()):i.kind==="duration"?Oee.test(t.data)||(a=this._getOrReturnCtx(t,a),we(a,{validation:"duration",code:fe.invalid_string,message:i.message}),r.dirty()):i.kind==="ip"?Gee(t.data,i.version)||(a=this._getOrReturnCtx(t,a),we(a,{validation:"ip",code:fe.invalid_string,message:i.message}),r.dirty()):i.kind==="jwt"?qee(t.data,i.alg)||(a=this._getOrReturnCtx(t,a),we(a,{validation:"jwt",code:fe.invalid_string,message:i.message}),r.dirty()):i.kind==="cidr"?Vee(t.data,i.version)||(a=this._getOrReturnCtx(t,a),we(a,{validation:"cidr",code:fe.invalid_string,message:i.message}),r.dirty()):i.kind==="base64"?Uee.test(t.data)||(a=this._getOrReturnCtx(t,a),we(a,{validation:"base64",code:fe.invalid_string,message:i.message}),r.dirty()):i.kind==="base64url"?$ee.test(t.data)||(a=this._getOrReturnCtx(t,a),we(a,{validation:"base64url",code:fe.invalid_string,message:i.message}),r.dirty()):ut.assertNever(i);return{status:r.value,value:t.data}}_regex(t,n,r){return this.refinement(a=>t.test(a),{validation:n,code:fe.invalid_string,...De.errToObj(r)})}_addCheck(t){return new sa({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...De.errToObj(t)})}url(t){return this._addCheck({kind:"url",...De.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...De.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...De.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...De.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...De.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...De.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...De.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...De.errToObj(t)})}base64url(t){return this._addCheck({kind:"base64url",...De.errToObj(t)})}jwt(t){return this._addCheck({kind:"jwt",...De.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...De.errToObj(t)})}cidr(t){return this._addCheck({kind:"cidr",...De.errToObj(t)})}datetime(t){var n,r;return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,offset:(n=t==null?void 0:t.offset)!==null&&n!==void 0?n:!1,local:(r=t==null?void 0:t.local)!==null&&r!==void 0?r:!1,...De.errToObj(t==null?void 0:t.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,...De.errToObj(t==null?void 0:t.message)})}duration(t){return this._addCheck({kind:"duration",...De.errToObj(t)})}regex(t,n){return this._addCheck({kind:"regex",regex:t,...De.errToObj(n)})}includes(t,n){return this._addCheck({kind:"includes",value:t,position:n==null?void 0:n.position,...De.errToObj(n==null?void 0:n.message)})}startsWith(t,n){return this._addCheck({kind:"startsWith",value:t,...De.errToObj(n)})}endsWith(t,n){return this._addCheck({kind:"endsWith",value:t,...De.errToObj(n)})}min(t,n){return this._addCheck({kind:"min",value:t,...De.errToObj(n)})}max(t,n){return this._addCheck({kind:"max",value:t,...De.errToObj(n)})}length(t,n){return this._addCheck({kind:"length",value:t,...De.errToObj(n)})}nonempty(t){return this.min(1,De.errToObj(t))}trim(){return new sa({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new sa({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new sa({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isCIDR(){return!!this._def.checks.find(t=>t.kind==="cidr")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get isBase64url(){return!!this._def.checks.find(t=>t.kind==="base64url")}get minLength(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxLength(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}}sa.create=e=>{var t;return new sa({checks:[],typeName:Pe.ZodString,coerce:(t=e==null?void 0:e.coerce)!==null&&t!==void 0?t:!1,...Ge(e)})};function Wee(e,t){const n=(e.toString().split(".")[1]||"").length,r=(t.toString().split(".")[1]||"").length,a=n>r?n:r,i=parseInt(e.toFixed(a).replace(".","")),o=parseInt(t.toFixed(a).replace(".",""));return i%o/Math.pow(10,a)}class li extends Xe{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==Ce.number){const i=this._getOrReturnCtx(t);return we(i,{code:fe.invalid_type,expected:Ce.number,received:i.parsedType}),Be}let r;const a=new $n;for(const i of this._def.checks)i.kind==="int"?ut.isInteger(t.data)||(r=this._getOrReturnCtx(t,r),we(r,{code:fe.invalid_type,expected:"integer",received:"float",message:i.message}),a.dirty()):i.kind==="min"?(i.inclusive?t.data<i.value:t.data<=i.value)&&(r=this._getOrReturnCtx(t,r),we(r,{code:fe.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),a.dirty()):i.kind==="max"?(i.inclusive?t.data>i.value:t.data>=i.value)&&(r=this._getOrReturnCtx(t,r),we(r,{code:fe.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),a.dirty()):i.kind==="multipleOf"?Wee(t.data,i.value)!==0&&(r=this._getOrReturnCtx(t,r),we(r,{code:fe.not_multiple_of,multipleOf:i.value,message:i.message}),a.dirty()):i.kind==="finite"?Number.isFinite(t.data)||(r=this._getOrReturnCtx(t,r),we(r,{code:fe.not_finite,message:i.message}),a.dirty()):ut.assertNever(i);return{status:a.value,value:t.data}}gte(t,n){return this.setLimit("min",t,!0,De.toString(n))}gt(t,n){return this.setLimit("min",t,!1,De.toString(n))}lte(t,n){return this.setLimit("max",t,!0,De.toString(n))}lt(t,n){return this.setLimit("max",t,!1,De.toString(n))}setLimit(t,n,r,a){return new li({...this._def,checks:[...this._def.checks,{kind:t,value:n,inclusive:r,message:De.toString(a)}]})}_addCheck(t){return new li({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:De.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:De.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:De.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:De.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:De.toString(t)})}multipleOf(t,n){return this._addCheck({kind:"multipleOf",value:t,message:De.toString(n)})}finite(t){return this._addCheck({kind:"finite",message:De.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:De.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:De.toString(t)})}get minValue(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxValue(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&ut.isInteger(t.value))}get isFinite(){let t=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(t===null||r.value<t)&&(t=r.value)}return Number.isFinite(n)&&Number.isFinite(t)}}li.create=e=>new li({checks:[],typeName:Pe.ZodNumber,coerce:(e==null?void 0:e.coerce)||!1,...Ge(e)});class ui extends Xe{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce)try{t.data=BigInt(t.data)}catch{return this._getInvalidInput(t)}if(this._getType(t)!==Ce.bigint)return this._getInvalidInput(t);let r;const a=new $n;for(const i of this._def.checks)i.kind==="min"?(i.inclusive?t.data<i.value:t.data<=i.value)&&(r=this._getOrReturnCtx(t,r),we(r,{code:fe.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),a.dirty()):i.kind==="max"?(i.inclusive?t.data>i.value:t.data>=i.value)&&(r=this._getOrReturnCtx(t,r),we(r,{code:fe.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),a.dirty()):i.kind==="multipleOf"?t.data%i.value!==BigInt(0)&&(r=this._getOrReturnCtx(t,r),we(r,{code:fe.not_multiple_of,multipleOf:i.value,message:i.message}),a.dirty()):ut.assertNever(i);return{status:a.value,value:t.data}}_getInvalidInput(t){const n=this._getOrReturnCtx(t);return we(n,{code:fe.invalid_type,expected:Ce.bigint,received:n.parsedType}),Be}gte(t,n){return this.setLimit("min",t,!0,De.toString(n))}gt(t,n){return this.setLimit("min",t,!1,De.toString(n))}lte(t,n){return this.setLimit("max",t,!0,De.toString(n))}lt(t,n){return this.setLimit("max",t,!1,De.toString(n))}setLimit(t,n,r,a){return new ui({...this._def,checks:[...this._def.checks,{kind:t,value:n,inclusive:r,message:De.toString(a)}]})}_addCheck(t){return new ui({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:De.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:De.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:De.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:De.toString(t)})}multipleOf(t,n){return this._addCheck({kind:"multipleOf",value:t,message:De.toString(n)})}get minValue(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxValue(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}}ui.create=e=>{var t;return new ui({checks:[],typeName:Pe.ZodBigInt,coerce:(t=e==null?void 0:e.coerce)!==null&&t!==void 0?t:!1,...Ge(e)})};class rd extends Xe{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==Ce.boolean){const r=this._getOrReturnCtx(t);return we(r,{code:fe.invalid_type,expected:Ce.boolean,received:r.parsedType}),Be}return Jn(t.data)}}rd.create=e=>new rd({typeName:Pe.ZodBoolean,coerce:(e==null?void 0:e.coerce)||!1,...Ge(e)});class co extends Xe{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==Ce.date){const i=this._getOrReturnCtx(t);return we(i,{code:fe.invalid_type,expected:Ce.date,received:i.parsedType}),Be}if(isNaN(t.data.getTime())){const i=this._getOrReturnCtx(t);return we(i,{code:fe.invalid_date}),Be}const r=new $n;let a;for(const i of this._def.checks)i.kind==="min"?t.data.getTime()<i.value&&(a=this._getOrReturnCtx(t,a),we(a,{code:fe.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),r.dirty()):i.kind==="max"?t.data.getTime()>i.value&&(a=this._getOrReturnCtx(t,a),we(a,{code:fe.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),r.dirty()):ut.assertNever(i);return{status:r.value,value:new Date(t.data.getTime())}}_addCheck(t){return new co({...this._def,checks:[...this._def.checks,t]})}min(t,n){return this._addCheck({kind:"min",value:t.getTime(),message:De.toString(n)})}max(t,n){return this._addCheck({kind:"max",value:t.getTime(),message:De.toString(n)})}get minDate(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t!=null?new Date(t):null}}co.create=e=>new co({checks:[],coerce:(e==null?void 0:e.coerce)||!1,typeName:Pe.ZodDate,...Ge(e)});class uf extends Xe{_parse(t){if(this._getType(t)!==Ce.symbol){const r=this._getOrReturnCtx(t);return we(r,{code:fe.invalid_type,expected:Ce.symbol,received:r.parsedType}),Be}return Jn(t.data)}}uf.create=e=>new uf({typeName:Pe.ZodSymbol,...Ge(e)});class ad extends Xe{_parse(t){if(this._getType(t)!==Ce.undefined){const r=this._getOrReturnCtx(t);return we(r,{code:fe.invalid_type,expected:Ce.undefined,received:r.parsedType}),Be}return Jn(t.data)}}ad.create=e=>new ad({typeName:Pe.ZodUndefined,...Ge(e)});class sd extends Xe{_parse(t){if(this._getType(t)!==Ce.null){const r=this._getOrReturnCtx(t);return we(r,{code:fe.invalid_type,expected:Ce.null,received:r.parsedType}),Be}return Jn(t.data)}}sd.create=e=>new sd({typeName:Pe.ZodNull,...Ge(e)});class Kl extends Xe{constructor(){super(...arguments),this._any=!0}_parse(t){return Jn(t.data)}}Kl.create=e=>new Kl({typeName:Pe.ZodAny,...Ge(e)});class Xi extends Xe{constructor(){super(...arguments),this._unknown=!0}_parse(t){return Jn(t.data)}}Xi.create=e=>new Xi({typeName:Pe.ZodUnknown,...Ge(e)});class ps extends Xe{_parse(t){const n=this._getOrReturnCtx(t);return we(n,{code:fe.invalid_type,expected:Ce.never,received:n.parsedType}),Be}}ps.create=e=>new ps({typeName:Pe.ZodNever,...Ge(e)});class cf extends Xe{_parse(t){if(this._getType(t)!==Ce.undefined){const r=this._getOrReturnCtx(t);return we(r,{code:fe.invalid_type,expected:Ce.void,received:r.parsedType}),Be}return Jn(t.data)}}cf.create=e=>new cf({typeName:Pe.ZodVoid,...Ge(e)});class la extends Xe{_parse(t){const{ctx:n,status:r}=this._processInputParams(t),a=this._def;if(n.parsedType!==Ce.array)return we(n,{code:fe.invalid_type,expected:Ce.array,received:n.parsedType}),Be;if(a.exactLength!==null){const o=n.data.length>a.exactLength.value,l=n.data.length<a.exactLength.value;(o||l)&&(we(n,{code:o?fe.too_big:fe.too_small,minimum:l?a.exactLength.value:void 0,maximum:o?a.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:a.exactLength.message}),r.dirty())}if(a.minLength!==null&&n.data.length<a.minLength.value&&(we(n,{code:fe.too_small,minimum:a.minLength.value,type:"array",inclusive:!0,exact:!1,message:a.minLength.message}),r.dirty()),a.maxLength!==null&&n.data.length>a.maxLength.value&&(we(n,{code:fe.too_big,maximum:a.maxLength.value,type:"array",inclusive:!0,exact:!1,message:a.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((o,l)=>a.type._parseAsync(new ja(n,o,n.path,l)))).then(o=>$n.mergeArray(r,o));const i=[...n.data].map((o,l)=>a.type._parseSync(new ja(n,o,n.path,l)));return $n.mergeArray(r,i)}get element(){return this._def.type}min(t,n){return new la({...this._def,minLength:{value:t,message:De.toString(n)}})}max(t,n){return new la({...this._def,maxLength:{value:t,message:De.toString(n)}})}length(t,n){return new la({...this._def,exactLength:{value:t,message:De.toString(n)}})}nonempty(t){return this.min(1,t)}}la.create=(e,t)=>new la({type:e,minLength:null,maxLength:null,exactLength:null,typeName:Pe.ZodArray,...Ge(t)});function Uo(e){if(e instanceof Ft){const t={};for(const n in e.shape){const r=e.shape[n];t[n]=Da.create(Uo(r))}return new Ft({...e._def,shape:()=>t})}else return e instanceof la?new la({...e._def,type:Uo(e.element)}):e instanceof Da?Da.create(Uo(e.unwrap())):e instanceof di?di.create(Uo(e.unwrap())):e instanceof Ma?Ma.create(e.items.map(t=>Uo(t))):e}class Ft extends Xe{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),n=ut.objectKeys(t);return this._cached={shape:t,keys:n}}_parse(t){if(this._getType(t)!==Ce.object){const c=this._getOrReturnCtx(t);return we(c,{code:fe.invalid_type,expected:Ce.object,received:c.parsedType}),Be}const{status:r,ctx:a}=this._processInputParams(t),{shape:i,keys:o}=this._getCached(),l=[];if(!(this._def.catchall instanceof ps&&this._def.unknownKeys==="strip"))for(const c in a.data)o.includes(c)||l.push(c);const u=[];for(const c of o){const d=i[c],p=a.data[c];u.push({key:{status:"valid",value:c},value:d._parse(new ja(a,p,a.path,c)),alwaysSet:c in a.data})}if(this._def.catchall instanceof ps){const c=this._def.unknownKeys;if(c==="passthrough")for(const d of l)u.push({key:{status:"valid",value:d},value:{status:"valid",value:a.data[d]}});else if(c==="strict")l.length>0&&(we(a,{code:fe.unrecognized_keys,keys:l}),r.dirty());else if(c!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const c=this._def.catchall;for(const d of l){const p=a.data[d];u.push({key:{status:"valid",value:d},value:c._parse(new ja(a,p,a.path,d)),alwaysSet:d in a.data})}}return a.common.async?Promise.resolve().then(async()=>{const c=[];for(const d of u){const p=await d.key,h=await d.value;c.push({key:p,value:h,alwaysSet:d.alwaysSet})}return c}).then(c=>$n.mergeObjectSync(r,c)):$n.mergeObjectSync(r,u)}get shape(){return this._def.shape()}strict(t){return De.errToObj,new Ft({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(n,r)=>{var a,i,o,l;const u=(o=(i=(a=this._def).errorMap)===null||i===void 0?void 0:i.call(a,n,r).message)!==null&&o!==void 0?o:r.defaultError;return n.code==="unrecognized_keys"?{message:(l=De.errToObj(t).message)!==null&&l!==void 0?l:u}:{message:u}}}:{}})}strip(){return new Ft({...this._def,unknownKeys:"strip"})}passthrough(){return new Ft({...this._def,unknownKeys:"passthrough"})}extend(t){return new Ft({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new Ft({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:Pe.ZodObject})}setKey(t,n){return this.augment({[t]:n})}catchall(t){return new Ft({...this._def,catchall:t})}pick(t){const n={};return ut.objectKeys(t).forEach(r=>{t[r]&&this.shape[r]&&(n[r]=this.shape[r])}),new Ft({...this._def,shape:()=>n})}omit(t){const n={};return ut.objectKeys(this.shape).forEach(r=>{t[r]||(n[r]=this.shape[r])}),new Ft({...this._def,shape:()=>n})}deepPartial(){return Uo(this)}partial(t){const n={};return ut.objectKeys(this.shape).forEach(r=>{const a=this.shape[r];t&&!t[r]?n[r]=a:n[r]=a.optional()}),new Ft({...this._def,shape:()=>n})}required(t){const n={};return ut.objectKeys(this.shape).forEach(r=>{if(t&&!t[r])n[r]=this.shape[r];else{let i=this.shape[r];for(;i instanceof Da;)i=i._def.innerType;n[r]=i}}),new Ft({...this._def,shape:()=>n})}keyof(){return gL(ut.objectKeys(this.shape))}}Ft.create=(e,t)=>new Ft({shape:()=>e,unknownKeys:"strip",catchall:ps.create(),typeName:Pe.ZodObject,...Ge(t)});Ft.strictCreate=(e,t)=>new Ft({shape:()=>e,unknownKeys:"strict",catchall:ps.create(),typeName:Pe.ZodObject,...Ge(t)});Ft.lazycreate=(e,t)=>new Ft({shape:e,unknownKeys:"strip",catchall:ps.create(),typeName:Pe.ZodObject,...Ge(t)});class id extends Xe{_parse(t){const{ctx:n}=this._processInputParams(t),r=this._def.options;function a(i){for(const l of i)if(l.result.status==="valid")return l.result;for(const l of i)if(l.result.status==="dirty")return n.common.issues.push(...l.ctx.common.issues),l.result;const o=i.map(l=>new Rr(l.ctx.common.issues));return we(n,{code:fe.invalid_union,unionErrors:o}),Be}if(n.common.async)return Promise.all(r.map(async i=>{const o={...n,common:{...n.common,issues:[]},parent:null};return{result:await i._parseAsync({data:n.data,path:n.path,parent:o}),ctx:o}})).then(a);{let i;const o=[];for(const u of r){const c={...n,common:{...n.common,issues:[]},parent:null},d=u._parseSync({data:n.data,path:n.path,parent:c});if(d.status==="valid")return d;d.status==="dirty"&&!i&&(i={result:d,ctx:c}),c.common.issues.length&&o.push(c.common.issues)}if(i)return n.common.issues.push(...i.ctx.common.issues),i.result;const l=o.map(u=>new Rr(u));return we(n,{code:fe.invalid_union,unionErrors:l}),Be}}get options(){return this._def.options}}id.create=(e,t)=>new id({options:e,typeName:Pe.ZodUnion,...Ge(t)});const Ka=e=>e instanceof ud?Ka(e.schema):e instanceof ca?Ka(e.innerType()):e instanceof cd?[e.value]:e instanceof ci?e.options:e instanceof dd?ut.objectValues(e.enum):e instanceof pd?Ka(e._def.innerType):e instanceof ad?[void 0]:e instanceof sd?[null]:e instanceof Da?[void 0,...Ka(e.unwrap())]:e instanceof di?[null,...Ka(e.unwrap())]:e instanceof uN||e instanceof fd?Ka(e.unwrap()):e instanceof hd?Ka(e._def.innerType):[];class km extends Xe{_parse(t){const{ctx:n}=this._processInputParams(t);if(n.parsedType!==Ce.object)return we(n,{code:fe.invalid_type,expected:Ce.object,received:n.parsedType}),Be;const r=this.discriminator,a=n.data[r],i=this.optionsMap.get(a);return i?n.common.async?i._parseAsync({data:n.data,path:n.path,parent:n}):i._parseSync({data:n.data,path:n.path,parent:n}):(we(n,{code:fe.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),Be)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(t,n,r){const a=new Map;for(const i of n){const o=Ka(i.shape[t]);if(!o.length)throw new Error(`A discriminator value for key \`${t}\` could not be extracted from all schema options`);for(const l of o){if(a.has(l))throw new Error(`Discriminator property ${String(t)} has duplicate value ${String(l)}`);a.set(l,i)}}return new km({typeName:Pe.ZodDiscriminatedUnion,discriminator:t,options:n,optionsMap:a,...Ge(r)})}}function ry(e,t){const n=Ja(e),r=Ja(t);if(e===t)return{valid:!0,data:e};if(n===Ce.object&&r===Ce.object){const a=ut.objectKeys(t),i=ut.objectKeys(e).filter(l=>a.indexOf(l)!==-1),o={...e,...t};for(const l of i){const u=ry(e[l],t[l]);if(!u.valid)return{valid:!1};o[l]=u.data}return{valid:!0,data:o}}else if(n===Ce.array&&r===Ce.array){if(e.length!==t.length)return{valid:!1};const a=[];for(let i=0;i<e.length;i++){const o=e[i],l=t[i],u=ry(o,l);if(!u.valid)return{valid:!1};a.push(u.data)}return{valid:!0,data:a}}else return n===Ce.date&&r===Ce.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class od extends Xe{_parse(t){const{status:n,ctx:r}=this._processInputParams(t),a=(i,o)=>{if(ty(i)||ty(o))return Be;const l=ry(i.value,o.value);return l.valid?((ny(i)||ny(o))&&n.dirty(),{status:n.value,value:l.data}):(we(r,{code:fe.invalid_intersection_types}),Be)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([i,o])=>a(i,o)):a(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}od.create=(e,t,n)=>new od({left:e,right:t,typeName:Pe.ZodIntersection,...Ge(n)});class Ma extends Xe{_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==Ce.array)return we(r,{code:fe.invalid_type,expected:Ce.array,received:r.parsedType}),Be;if(r.data.length<this._def.items.length)return we(r,{code:fe.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Be;!this._def.rest&&r.data.length>this._def.items.length&&(we(r,{code:fe.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const i=[...r.data].map((o,l)=>{const u=this._def.items[l]||this._def.rest;return u?u._parse(new ja(r,o,r.path,l)):null}).filter(o=>!!o);return r.common.async?Promise.all(i).then(o=>$n.mergeArray(n,o)):$n.mergeArray(n,i)}get items(){return this._def.items}rest(t){return new Ma({...this._def,rest:t})}}Ma.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Ma({items:e,typeName:Pe.ZodTuple,rest:null,...Ge(t)})};class ld extends Xe{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==Ce.object)return we(r,{code:fe.invalid_type,expected:Ce.object,received:r.parsedType}),Be;const a=[],i=this._def.keyType,o=this._def.valueType;for(const l in r.data)a.push({key:i._parse(new ja(r,l,r.path,l)),value:o._parse(new ja(r,r.data[l],r.path,l)),alwaysSet:l in r.data});return r.common.async?$n.mergeObjectAsync(n,a):$n.mergeObjectSync(n,a)}get element(){return this._def.valueType}static create(t,n,r){return n instanceof Xe?new ld({keyType:t,valueType:n,typeName:Pe.ZodRecord,...Ge(r)}):new ld({keyType:sa.create(),valueType:t,typeName:Pe.ZodRecord,...Ge(n)})}}class df extends Xe{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==Ce.map)return we(r,{code:fe.invalid_type,expected:Ce.map,received:r.parsedType}),Be;const a=this._def.keyType,i=this._def.valueType,o=[...r.data.entries()].map(([l,u],c)=>({key:a._parse(new ja(r,l,r.path,[c,"key"])),value:i._parse(new ja(r,u,r.path,[c,"value"]))}));if(r.common.async){const l=new Map;return Promise.resolve().then(async()=>{for(const u of o){const c=await u.key,d=await u.value;if(c.status==="aborted"||d.status==="aborted")return Be;(c.status==="dirty"||d.status==="dirty")&&n.dirty(),l.set(c.value,d.value)}return{status:n.value,value:l}})}else{const l=new Map;for(const u of o){const c=u.key,d=u.value;if(c.status==="aborted"||d.status==="aborted")return Be;(c.status==="dirty"||d.status==="dirty")&&n.dirty(),l.set(c.value,d.value)}return{status:n.value,value:l}}}}df.create=(e,t,n)=>new df({valueType:t,keyType:e,typeName:Pe.ZodMap,...Ge(n)});class po extends Xe{_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==Ce.set)return we(r,{code:fe.invalid_type,expected:Ce.set,received:r.parsedType}),Be;const a=this._def;a.minSize!==null&&r.data.size<a.minSize.value&&(we(r,{code:fe.too_small,minimum:a.minSize.value,type:"set",inclusive:!0,exact:!1,message:a.minSize.message}),n.dirty()),a.maxSize!==null&&r.data.size>a.maxSize.value&&(we(r,{code:fe.too_big,maximum:a.maxSize.value,type:"set",inclusive:!0,exact:!1,message:a.maxSize.message}),n.dirty());const i=this._def.valueType;function o(u){const c=new Set;for(const d of u){if(d.status==="aborted")return Be;d.status==="dirty"&&n.dirty(),c.add(d.value)}return{status:n.value,value:c}}const l=[...r.data.values()].map((u,c)=>i._parse(new ja(r,u,r.path,c)));return r.common.async?Promise.all(l).then(u=>o(u)):o(l)}min(t,n){return new po({...this._def,minSize:{value:t,message:De.toString(n)}})}max(t,n){return new po({...this._def,maxSize:{value:t,message:De.toString(n)}})}size(t,n){return this.min(t,n).max(t,n)}nonempty(t){return this.min(1,t)}}po.create=(e,t)=>new po({valueType:e,minSize:null,maxSize:null,typeName:Pe.ZodSet,...Ge(t)});class yl extends Xe{constructor(){super(...arguments),this.validate=this.implement}_parse(t){const{ctx:n}=this._processInputParams(t);if(n.parsedType!==Ce.function)return we(n,{code:fe.invalid_type,expected:Ce.function,received:n.parsedType}),Be;function r(l,u){return of({data:l,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,sf(),Yl].filter(c=>!!c),issueData:{code:fe.invalid_arguments,argumentsError:u}})}function a(l,u){return of({data:l,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,sf(),Yl].filter(c=>!!c),issueData:{code:fe.invalid_return_type,returnTypeError:u}})}const i={errorMap:n.common.contextualErrorMap},o=n.data;if(this._def.returns instanceof Zl){const l=this;return Jn(async function(...u){const c=new Rr([]),d=await l._def.args.parseAsync(u,i).catch(f=>{throw c.addIssue(r(u,f)),c}),p=await Reflect.apply(o,this,d);return await l._def.returns._def.type.parseAsync(p,i).catch(f=>{throw c.addIssue(a(p,f)),c})})}else{const l=this;return Jn(function(...u){const c=l._def.args.safeParse(u,i);if(!c.success)throw new Rr([r(u,c.error)]);const d=Reflect.apply(o,this,c.data),p=l._def.returns.safeParse(d,i);if(!p.success)throw new Rr([a(d,p.error)]);return p.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...t){return new yl({...this._def,args:Ma.create(t).rest(Xi.create())})}returns(t){return new yl({...this._def,returns:t})}implement(t){return this.parse(t)}strictImplement(t){return this.parse(t)}static create(t,n,r){return new yl({args:t||Ma.create([]).rest(Xi.create()),returns:n||Xi.create(),typeName:Pe.ZodFunction,...Ge(r)})}}class ud extends Xe{get schema(){return this._def.getter()}_parse(t){const{ctx:n}=this._processInputParams(t);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}ud.create=(e,t)=>new ud({getter:e,typeName:Pe.ZodLazy,...Ge(t)});class cd extends Xe{_parse(t){if(t.data!==this._def.value){const n=this._getOrReturnCtx(t);return we(n,{received:n.data,code:fe.invalid_literal,expected:this._def.value}),Be}return{status:"valid",value:t.data}}get value(){return this._def.value}}cd.create=(e,t)=>new cd({value:e,typeName:Pe.ZodLiteral,...Ge(t)});function gL(e,t){return new ci({values:e,typeName:Pe.ZodEnum,...Ge(t)})}class ci extends Xe{constructor(){super(...arguments),Ju.set(this,void 0)}_parse(t){if(typeof t.data!="string"){const n=this._getOrReturnCtx(t),r=this._def.values;return we(n,{expected:ut.joinValues(r),received:n.parsedType,code:fe.invalid_type}),Be}if(lf(this,Ju)||pL(this,Ju,new Set(this._def.values)),!lf(this,Ju).has(t.data)){const n=this._getOrReturnCtx(t),r=this._def.values;return we(n,{received:n.data,code:fe.invalid_enum_value,options:r}),Be}return Jn(t.data)}get options(){return this._def.values}get enum(){const t={};for(const n of this._def.values)t[n]=n;return t}get Values(){const t={};for(const n of this._def.values)t[n]=n;return t}get Enum(){const t={};for(const n of this._def.values)t[n]=n;return t}extract(t,n=this._def){return ci.create(t,{...this._def,...n})}exclude(t,n=this._def){return ci.create(this.options.filter(r=>!t.includes(r)),{...this._def,...n})}}Ju=new WeakMap;ci.create=gL;class dd extends Xe{constructor(){super(...arguments),ec.set(this,void 0)}_parse(t){const n=ut.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(t);if(r.parsedType!==Ce.string&&r.parsedType!==Ce.number){const a=ut.objectValues(n);return we(r,{expected:ut.joinValues(a),received:r.parsedType,code:fe.invalid_type}),Be}if(lf(this,ec)||pL(this,ec,new Set(ut.getValidEnumValues(this._def.values))),!lf(this,ec).has(t.data)){const a=ut.objectValues(n);return we(r,{received:r.data,code:fe.invalid_enum_value,options:a}),Be}return Jn(t.data)}get enum(){return this._def.values}}ec=new WeakMap;dd.create=(e,t)=>new dd({values:e,typeName:Pe.ZodNativeEnum,...Ge(t)});class Zl extends Xe{unwrap(){return this._def.type}_parse(t){const{ctx:n}=this._processInputParams(t);if(n.parsedType!==Ce.promise&&n.common.async===!1)return we(n,{code:fe.invalid_type,expected:Ce.promise,received:n.parsedType}),Be;const r=n.parsedType===Ce.promise?n.data:Promise.resolve(n.data);return Jn(r.then(a=>this._def.type.parseAsync(a,{path:n.path,errorMap:n.common.contextualErrorMap})))}}Zl.create=(e,t)=>new Zl({type:e,typeName:Pe.ZodPromise,...Ge(t)});class ca extends Xe{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Pe.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:n,ctx:r}=this._processInputParams(t),a=this._def.effect||null,i={addIssue:o=>{we(r,o),o.fatal?n.abort():n.dirty()},get path(){return r.path}};if(i.addIssue=i.addIssue.bind(i),a.type==="preprocess"){const o=a.transform(r.data,i);if(r.common.async)return Promise.resolve(o).then(async l=>{if(n.value==="aborted")return Be;const u=await this._def.schema._parseAsync({data:l,path:r.path,parent:r});return u.status==="aborted"?Be:u.status==="dirty"||n.value==="dirty"?el(u.value):u});{if(n.value==="aborted")return Be;const l=this._def.schema._parseSync({data:o,path:r.path,parent:r});return l.status==="aborted"?Be:l.status==="dirty"||n.value==="dirty"?el(l.value):l}}if(a.type==="refinement"){const o=l=>{const u=a.refinement(l,i);if(r.common.async)return Promise.resolve(u);if(u instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l};if(r.common.async===!1){const l=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return l.status==="aborted"?Be:(l.status==="dirty"&&n.dirty(),o(l.value),{status:n.value,value:l.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(l=>l.status==="aborted"?Be:(l.status==="dirty"&&n.dirty(),o(l.value).then(()=>({status:n.value,value:l.value}))))}if(a.type==="transform")if(r.common.async===!1){const o=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!uo(o))return o;const l=a.transform(o.value,i);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:l}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(o=>uo(o)?Promise.resolve(a.transform(o.value,i)).then(l=>({status:n.value,value:l})):o);ut.assertNever(a)}}ca.create=(e,t,n)=>new ca({schema:e,typeName:Pe.ZodEffects,effect:t,...Ge(n)});ca.createWithPreprocess=(e,t,n)=>new ca({schema:t,effect:{type:"preprocess",transform:e},typeName:Pe.ZodEffects,...Ge(n)});class Da extends Xe{_parse(t){return this._getType(t)===Ce.undefined?Jn(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}Da.create=(e,t)=>new Da({innerType:e,typeName:Pe.ZodOptional,...Ge(t)});class di extends Xe{_parse(t){return this._getType(t)===Ce.null?Jn(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}di.create=(e,t)=>new di({innerType:e,typeName:Pe.ZodNullable,...Ge(t)});class pd extends Xe{_parse(t){const{ctx:n}=this._processInputParams(t);let r=n.data;return n.parsedType===Ce.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}pd.create=(e,t)=>new pd({innerType:e,typeName:Pe.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...Ge(t)});class hd extends Xe{_parse(t){const{ctx:n}=this._processInputParams(t),r={...n,common:{...n.common,issues:[]}},a=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return nd(a)?a.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new Rr(r.common.issues)},input:r.data})})):{status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new Rr(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}hd.create=(e,t)=>new hd({innerType:e,typeName:Pe.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...Ge(t)});class pf extends Xe{_parse(t){if(this._getType(t)!==Ce.nan){const r=this._getOrReturnCtx(t);return we(r,{code:fe.invalid_type,expected:Ce.nan,received:r.parsedType}),Be}return{status:"valid",value:t.data}}}pf.create=e=>new pf({typeName:Pe.ZodNaN,...Ge(e)});const Yee=Symbol("zod_brand");class uN extends Xe{_parse(t){const{ctx:n}=this._processInputParams(t),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class Xd extends Xe{_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.common.async)return(async()=>{const i=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?Be:i.status==="dirty"?(n.dirty(),el(i.value)):this._def.out._parseAsync({data:i.value,path:r.path,parent:r})})();{const a=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return a.status==="aborted"?Be:a.status==="dirty"?(n.dirty(),{status:"dirty",value:a.value}):this._def.out._parseSync({data:a.value,path:r.path,parent:r})}}static create(t,n){return new Xd({in:t,out:n,typeName:Pe.ZodPipeline})}}class fd extends Xe{_parse(t){const n=this._def.innerType._parse(t),r=a=>(uo(a)&&(a.value=Object.freeze(a.value)),a);return nd(n)?n.then(a=>r(a)):r(n)}unwrap(){return this._def.innerType}}fd.create=(e,t)=>new fd({innerType:e,typeName:Pe.ZodReadonly,...Ge(t)});function W2(e,t){const n=typeof e=="function"?e(t):typeof e=="string"?{message:e}:e;return typeof n=="string"?{message:n}:n}function bL(e,t={},n){return e?Kl.create().superRefine((r,a)=>{var i,o;const l=e(r);if(l instanceof Promise)return l.then(u=>{var c,d;if(!u){const p=W2(t,r),h=(d=(c=p.fatal)!==null&&c!==void 0?c:n)!==null&&d!==void 0?d:!0;a.addIssue({code:"custom",...p,fatal:h})}});if(!l){const u=W2(t,r),c=(o=(i=u.fatal)!==null&&i!==void 0?i:n)!==null&&o!==void 0?o:!0;a.addIssue({code:"custom",...u,fatal:c})}}):Kl.create()}const Kee={object:Ft.lazycreate};var Pe;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(Pe||(Pe={}));const Zee=(e,t={message:`Input not instance of ${e.name}`})=>bL(n=>n instanceof e,t),yL=sa.create,xL=li.create,Xee=pf.create,Qee=ui.create,vL=rd.create,Jee=co.create,ete=uf.create,tte=ad.create,nte=sd.create,rte=Kl.create,ate=Xi.create,ste=ps.create,ite=cf.create,ote=la.create,lte=Ft.create,ute=Ft.strictCreate,cte=id.create,dte=km.create,pte=od.create,hte=Ma.create,fte=ld.create,mte=df.create,gte=po.create,bte=yl.create,yte=ud.create,xte=cd.create,vte=ci.create,Ete=dd.create,wte=Zl.create,Y2=ca.create,Ste=Da.create,Nte=di.create,kte=ca.createWithPreprocess,_te=Xd.create,Tte=()=>yL().optional(),Cte=()=>xL().optional(),Ate=()=>vL().optional(),Ite={string:e=>sa.create({...e,coerce:!0}),number:e=>li.create({...e,coerce:!0}),boolean:e=>rd.create({...e,coerce:!0}),bigint:e=>ui.create({...e,coerce:!0}),date:e=>co.create({...e,coerce:!0})},Rte=Be;var kr=Object.freeze({__proto__:null,defaultErrorMap:Yl,setErrorMap:kee,getErrorMap:sf,makeIssue:of,EMPTY_PATH:_ee,addIssueToContext:we,ParseStatus:$n,INVALID:Be,DIRTY:el,OK:Jn,isAborted:ty,isDirty:ny,isValid:uo,isAsync:nd,get util(){return ut},get objectUtil(){return ey},ZodParsedType:Ce,getParsedType:Ja,ZodType:Xe,datetimeRegex:mL,ZodString:sa,ZodNumber:li,ZodBigInt:ui,ZodBoolean:rd,ZodDate:co,ZodSymbol:uf,ZodUndefined:ad,ZodNull:sd,ZodAny:Kl,ZodUnknown:Xi,ZodNever:ps,ZodVoid:cf,ZodArray:la,ZodObject:Ft,ZodUnion:id,ZodDiscriminatedUnion:km,ZodIntersection:od,ZodTuple:Ma,ZodRecord:ld,ZodMap:df,ZodSet:po,ZodFunction:yl,ZodLazy:ud,ZodLiteral:cd,ZodEnum:ci,ZodNativeEnum:dd,ZodPromise:Zl,ZodEffects:ca,ZodTransformer:ca,ZodOptional:Da,ZodNullable:di,ZodDefault:pd,ZodCatch:hd,ZodNaN:pf,BRAND:Yee,ZodBranded:uN,ZodPipeline:Xd,ZodReadonly:fd,custom:bL,Schema:Xe,ZodSchema:Xe,late:Kee,get ZodFirstPartyTypeKind(){return Pe},coerce:Ite,any:rte,array:ote,bigint:Qee,boolean:vL,date:Jee,discriminatedUnion:dte,effect:Y2,enum:vte,function:bte,instanceof:Zee,intersection:pte,lazy:yte,literal:xte,map:mte,nan:Xee,nativeEnum:Ete,never:ste,null:nte,nullable:Nte,number:xL,object:lte,oboolean:Ate,onumber:Cte,optional:Ste,ostring:Tte,pipeline:_te,preprocess:kte,promise:wte,record:fte,set:gte,strictObject:ute,string:yL,symbol:ete,transformer:Y2,tuple:hte,undefined:tte,union:cte,unknown:ate,void:ite,NEVER:Rte,ZodIssueCode:fe,quotelessJson:Nee,ZodError:Rr});const Dte=kr.object({email:kr.string().email({message:"Invalid email address"}),password:kr.string().min(1,{message:"Password is required"})}),Ote=kr.object({username:kr.string().min(3,{message:"Username must be at least 3 characters long"}).max(50,{message:"Username cannot exceed 50 characters"}),email:kr.string().email({message:"Invalid email address"}),password:kr.string().min(8,{message:"Password must be at least 8 characters long"}),confirmPassword:kr.string(),role:kr.enum(["player","dm"],{required_error:"Please select a role"})}).refine(e=>e.password===e.confirmPassword,{message:"Passwords don't match",path:["confirmPassword"]}),Lte=kr.object({currentPassword:kr.string().min(1,"Current password is required"),newPassword:kr.string().min(8,"New password must be at least 8 characters"),confirmNewPassword:kr.string()}).refine(e=>e.newPassword===e.confirmNewPassword,{message:"New passwords don't match",path:["confirmNewPassword"]});function jte(){const[e,t]=E.useState(""),[n,r]=E.useState(""),[a,i]=E.useState(""),[o,l]=E.useState(null),[u,c]=E.useState(null),[d,p]=E.useState(!1),[h,f]=E.useState({}),{updateUserPassword:m}=cn(),v=async y=>{y.preventDefault(),l(null),c(null),f({});const g=Lte.safeParse({currentPassword:e,newPassword:n,confirmPassword:a});if(!g.success){const x={};g.error.errors.forEach(w=>{const k=w.path[0];k?x[k]=w.message:l(w.message)}),f(x),!o&&Object.keys(x).length>0&&l("Please fix the errors in the form.");return}p(!0);try{const{currentPassword:x,newPassword:w}=g.data;await m(x,w),c("Password updated successfully!"),t(""),r(""),i("")}catch(x){console.error("Password update error:",x),l(x instanceof Error?x.message:"Failed to update password.")}finally{p(!1)}};return s.jsxs("form",{onSubmit:v,className:"space-y-6",children:[s.jsx("h3",{className:"text-lg font-medium leading-6 text-gray-900",children:"Change Password"}),o&&s.jsx("div",{className:"rounded-md bg-red-50 p-4",children:s.jsxs("div",{className:"flex",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx(wt,{className:"h-5 w-5 text-red-400","aria-hidden":"true"})}),s.jsx("div",{className:"ml-3",children:s.jsx("p",{className:"text-sm font-medium text-red-800",children:o})})]})}),u&&s.jsx("div",{className:"rounded-md bg-green-50 p-4",children:s.jsxs("div",{className:"flex",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx(Wi,{className:"h-5 w-5 text-green-400","aria-hidden":"true"})}),s.jsx("div",{className:"ml-3",children:s.jsx("p",{className:"text-sm font-medium text-green-800",children:u})})]})}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"current-password",className:"block text-sm font-medium text-gray-700",children:"Current Password"}),s.jsxs("div",{className:"mt-1 relative",children:[s.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:s.jsx(hc,{className:"h-5 w-5 text-gray-400"})}),s.jsx("input",{id:"current-password",name:"currentPassword",type:"password",autoComplete:"current-password",required:!0,value:e,onChange:y=>t(y.target.value),className:`pl-10 block w-full shadow-sm sm:text-sm border rounded-md px-3 py-2 ${h.currentPassword?"border-red-500 focus:ring-red-500 focus:border-red-500":"border-gray-300 focus:ring-blue-500 focus:border-blue-500"}`})]}),h.currentPassword&&s.jsx("p",{className:"mt-1 text-xs text-red-600",children:h.currentPassword})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"new-password",className:"block text-sm font-medium text-gray-700",children:"New Password"}),s.jsxs("div",{className:"mt-1 relative",children:[s.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:s.jsx(hc,{className:"h-5 w-5 text-gray-400"})}),s.jsx("input",{id:"new-password",name:"newPassword",type:"password",autoComplete:"new-password",required:!0,value:n,onChange:y=>r(y.target.value),className:`pl-10 block w-full shadow-sm sm:text-sm border rounded-md px-3 py-2 ${h.newPassword?"border-red-500 focus:ring-red-500 focus:border-red-500":"border-gray-300 focus:ring-blue-500 focus:border-blue-500"}`})]}),h.newPassword&&s.jsx("p",{className:"mt-1 text-xs text-red-600",children:h.newPassword})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"confirm-password",className:"block text-sm font-medium text-gray-700",children:"Confirm New Password"}),s.jsxs("div",{className:"mt-1 relative",children:[s.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:s.jsx(hc,{className:"h-5 w-5 text-gray-400"})}),s.jsx("input",{id:"confirm-password",name:"confirmPassword",type:"password",autoComplete:"new-password",required:!0,value:a,onChange:y=>i(y.target.value),className:`pl-10 block w-full shadow-sm sm:text-sm border rounded-md px-3 py-2 ${h.confirmPassword?"border-red-500 focus:ring-red-500 focus:border-red-500":"border-gray-300 focus:ring-blue-500 focus:border-blue-500"}`})]}),h.confirmPassword&&s.jsx("p",{className:"mt-1 text-xs text-red-600",children:h.confirmPassword})]}),s.jsx("div",{className:"flex justify-end",children:s.jsx(V,{type:"submit",variant:"primary",loading:d,disabled:d,children:"Update Password"})})]})}async function EL(e){if(!e)return console.error("getUserProfile: No user ID provided."),null;try{const{data:t,error:n,status:r}=await se.from("users").select("id, username, first_name, last_name, avatar_url, bio").eq("id",e).single();if(n){if(r===406||n.code==="PGRST116")return console.warn(`No profile found for user ID: ${e}. This might be expected.`),null;throw console.error("Error fetching user profile:",n.message),new Error(`Failed to fetch user profile: ${n.message}`)}return t}catch(t){throw console.error("Unexpected error in getUserProfile:",t),t instanceof Error?t:new Error("An unknown error occurred while fetching the user profile.")}}async function Mte(e,t){if(!e)throw new Error("updateUserProfile: No user ID provided.");if(!t||Object.keys(t).length===0)throw new Error("updateUserProfile: No updates provided.");const n={username:t.username,first_name:t.first_name,last_name:t.last_name,avatar_url:t.avatar_url,bio:t.bio};if(Object.keys(n).forEach(r=>{const a=r;n[a]===void 0&&delete n[a]}),Object.keys(n).length===0){console.warn("updateUserProfile: No valid fields to update after filtering.");const r=await EL(e);if(!r)throw new Error("Could not retrieve current profile after filtering updates.");return r}try{const{data:r,error:a}=await se.from("users").update({...n,updated_at:new Date().toISOString()}).eq("id",e).select("id, username, first_name, last_name, avatar_url, bio").single();if(a)throw console.error("Error updating user profile:",a.message),a.code==="23505"?a.message.includes("users_username_key")?new Error(`Failed to update profile: Username '${n.username}' is already taken.`):new Error(`Failed to update profile: ${a.details||"A unique value constraint was violated."}`):new Error(`Failed to update user profile: ${a.message}`);if(!r)throw new Error("Failed to update user profile: No data returned.");return r}catch(r){throw console.error("Unexpected error in updateUserProfile:",r),r instanceof Error?r:new Error("An unknown error occurred while updating the user profile.")}}async function Fte(e){if(!e)throw new Error("updateUserAuthEmail: No new email provided.");if(!/\S+@\S+\.\S+/.test(e))throw new Error("updateUserAuthEmail: Invalid email format provided.");try{const{data:t,error:n}=await se.auth.updateUser({email:e});if(n)throw console.error("Error updating user auth email:",n.message),n.message.includes("User not found")||n.status===404?new Error("Failed to initiate email update: Could not find the current user."):n.message.includes("Email rate limit exceeded")?new Error("Failed to initiate email update: Please wait before trying again."):n.message.includes("same as the existing email")?new Error("The new email address is the same as the current one."):new Error(`Failed to initiate email update: ${n.message}`);console.log("User auth email update initiated. Verification required.",t)}catch(t){throw console.error("Unexpected error in updateUserAuthEmail:",t),t instanceof Error?t:new Error("An unknown error occurred while updating the user's email.")}}function K2(){var A;const{user:e,session:t}=cn(),[n,r]=E.useState(null),[a,i]=E.useState({first_name:"",last_name:"",username:"",avatar_url:"",bio:""}),[o,l]=E.useState(""),[u,c]=E.useState(""),[d,p]=E.useState(!0),[h,f]=E.useState(!1),[m,v]=E.useState(null),[y,g]=E.useState(null),x=E.useCallback(async I=>{var C,N,O;p(!0),v(null),g(null);try{const D=await EL(I.id),B=I.email??"";D?(r(D),i({first_name:D.first_name??"",last_name:D.last_name??"",username:D.username??((C=I.user_metadata)==null?void 0:C.username)??"",avatar_url:D.avatar_url??"",bio:D.bio??""})):(console.warn("User profile not found in 'users' table, initializing form with defaults/metadata."),i({first_name:"",last_name:"",username:((N=I.user_metadata)==null?void 0:N.username)??"",avatar_url:"",bio:""})),l(B),c(B)}catch(D){console.error("Failed to load profile:",D),v(D instanceof Error?D.message:"Failed to load profile data.");const B=(e==null?void 0:e.email)??"";l(B),c(B),i({first_name:"",last_name:"",username:((O=e==null?void 0:e.user_metadata)==null?void 0:O.username)??"",avatar_url:"",bio:""})}finally{p(!1)}},[]);E.useEffect(()=>{e?x(e):(p(!1),r(null),i({first_name:"",last_name:"",username:"",avatar_url:"",bio:""}),l(""),c(""),v(null),g(null))},[e,x]);const w=I=>{const{name:C,value:N}=I.target;i(O=>({...O,[C]:N})),v(null),g(null)},k=I=>{l(I.target.value),v(null),g(null)},S=async I=>{var B;if(I.preventDefault(),!e){v("You must be logged in to update your profile.");return}f(!0),v(null),g(null);let C=!1,N=!1,O="",D=!1;try{const j={},P=n??{username:((B=e.user_metadata)==null?void 0:B.username)??"",first_name:null,last_name:null,avatar_url:null,bio:null};if(a.first_name!==(P.first_name??"")&&(j.first_name=a.first_name),a.last_name!==(P.last_name??"")&&(j.last_name=a.last_name),a.username!==(P.username??"")&&(j.username=a.username),a.avatar_url!==(P.avatar_url??"")&&(j.avatar_url=a.avatar_url),a.bio!==(P.bio??"")&&(j.bio=a.bio),Object.keys(j).length>0){D=!0;const K=await Mte(e.id,j);r($=>$?{...$,...K}:K),i({first_name:K.first_name??"",last_name:K.last_name??"",username:K.username??"",avatar_url:K.avatar_url??"",bio:K.bio??""}),C=!0}else C=!0;const Y=o.trim();if(Y!==u){if(!Y)throw new Error("Email cannot be empty.");D=!0,await Fte(Y),N=!0,O=" Email update initiated. Please check both your current and new email addresses for a verification link to complete the change."}if(D){let K="";C&&Object.keys(j).length>0&&(K+="Profile fields updated successfully."),K+=O,g(K.trim())}else g("No changes were detected.")}catch(j){console.error("Failed to update profile:",j);const P=j instanceof Error?j.message:"An unknown error occurred during update.";v(P)}finally{f(!1)}},T=I=>{var O;const C=I.currentTarget;C.style.display="none";const N=(O=C.parentElement)==null?void 0:O.querySelector(".fallback-icon");N&&(N.style.display="flex")};return d?s.jsx("div",{className:"flex justify-center items-center h-40",children:s.jsx(et,{})}):!e||!t?s.jsx("p",{className:"text-center text-red-600",children:"Please log in to view or edit your profile."}):s.jsxs("div",{className:"space-y-8",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Profile Settings"}),s.jsxs("div",{className:"flex flex-col sm:flex-row items-center gap-6 mb-8",children:[s.jsx("div",{className:"relative w-24 h-24",children:s.jsxs("div",{className:"w-full h-full rounded-full bg-gray-200 flex items-center justify-center overflow-hidden border",children:[a.avatar_url&&s.jsx("img",{src:a.avatar_url,alt:"Profile",className:"w-full h-full object-cover",onError:T,style:{display:"block"}},a.avatar_url),s.jsx("div",{className:"absolute inset-0 flex items-center justify-center fallback-icon",style:{display:a.avatar_url?"none":"flex"},children:s.jsx(ms,{className:"w-12 h-12 text-gray-400"})})]})}),s.jsxs("div",{className:"flex-grow w-full sm:w-auto",children:[s.jsx("h3",{className:"font-medium text-lg text-center sm:text-left",children:a.username||((A=e==null?void 0:e.user_metadata)==null?void 0:A.username)||"User"}),s.jsxs("p",{className:"text-sm text-gray-600 flex items-center justify-center sm:justify-start gap-1",children:[s.jsx(Nx,{className:"w-4 h-4"}),o||"No email set"]}),s.jsxs("div",{className:"mt-2",children:[s.jsx("label",{htmlFor:"avatar_url",className:"block text-xs font-medium text-gray-600 mb-1",children:"Avatar URL"}),s.jsx("input",{id:"avatar_url",name:"avatar_url",type:"url",value:a.avatar_url??"",onChange:w,placeholder:"https://example.com/avatar.png",className:"w-full px-2 py-1 border border-gray-300 rounded-md text-sm focus:ring-1 focus:ring-blue-500 focus:border-transparent"})]})]})]}),s.jsxs("form",{onSubmit:S,className:"space-y-6",children:[y&&s.jsxs("div",{className:"p-4 mb-4 text-sm text-green-700 bg-green-100 rounded-lg flex items-start gap-2",role:"alert",children:[s.jsx(Wi,{className:"w-5 h-5 mt-px flex-shrink-0"}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Success!"})," ",y]})]}),m&&s.jsxs("div",{className:"p-4 mb-4 text-sm text-red-700 bg-red-100 rounded-lg flex items-start gap-2",role:"alert",children:[s.jsx(wt,{className:"w-5 h-5 mt-px flex-shrink-0"}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Error!"})," ",m]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"first_name",className:"block text-sm font-medium text-gray-700 mb-1",children:"First Name"}),s.jsx("input",{id:"first_name",name:"first_name",type:"text",value:a.first_name??"",onChange:w,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"last_name",className:"block text-sm font-medium text-gray-700 mb-1",children:"Last Name"}),s.jsx("input",{id:"last_name",name:"last_name",type:"text",value:a.last_name??"",onChange:w,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:"Email Address"}),s.jsx("input",{id:"email",name:"email",type:"email",value:o,onChange:k,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent disabled:bg-gray-100 disabled:cursor-not-allowed","aria-describedby":"email-description"}),s.jsx("p",{id:"email-description",className:"text-xs text-gray-500 mt-1",children:"Changing your email requires verification via links sent to both addresses."})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"username",className:"block text-sm font-medium text-gray-700 mb-1",children:"Username"}),s.jsx("input",{id:"username",name:"username",type:"text",value:a.username??"",onChange:w,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent disabled:bg-gray-100 disabled:cursor-not-allowed"}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Must be unique. Used for display and potentially logging in."})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"bio",className:"block text-sm font-medium text-gray-700 mb-1",children:"Bio"}),s.jsx("textarea",{id:"bio",name:"bio",value:a.bio??"",onChange:w,rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent disabled:bg-gray-100 disabled:cursor-not-allowed",placeholder:"Tell us a little about yourself..."})]}),s.jsx("div",{className:"flex justify-end pt-4",children:s.jsx(V,{type:"submit",variant:"primary",icon:vn,loading:h,disabled:h||d,children:"Save Changes"})})]})]}),s.jsxs("div",{className:"border-t pt-8 mt-12",children:[s.jsx("h3",{className:"text-lg font-semibold mb-6",children:"Change Password"}),s.jsx(jte,{})]})]})}function Pte(){const[e,t]=E.useState("system"),[n,r]=E.useState("medium"),[a,i]=E.useState(!1),[o,l]=E.useState(!1),u=async c=>{c.preventDefault(),l(!0),await new Promise(d=>setTimeout(d,1e3)),l(!1)};return s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Appearance Settings"}),s.jsxs("form",{onSubmit:u,className:"space-y-8",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-4",children:"Theme"}),s.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[s.jsxs("button",{type:"button",onClick:()=>t("light"),className:`p-4 border rounded-lg flex flex-col items-center gap-2 ${e==="light"?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-blue-300"}`,children:[s.jsx(WP,{className:"w-6 h-6 text-amber-500"}),s.jsx("span",{className:"text-sm font-medium",children:"Light"})]}),s.jsxs("button",{type:"button",onClick:()=>t("dark"),className:`p-4 border rounded-lg flex flex-col items-center gap-2 ${e==="dark"?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-blue-300"}`,children:[s.jsx(FP,{className:"w-6 h-6 text-blue-500"}),s.jsx("span",{className:"text-sm font-medium",children:"Dark"})]}),s.jsxs("button",{type:"button",onClick:()=>t("system"),className:`p-4 border rounded-lg flex flex-col items-center gap-2 ${e==="system"?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-blue-300"}`,children:[s.jsx(MP,{className:"w-6 h-6 text-gray-500"}),s.jsx("span",{className:"text-sm font-medium",children:"System"})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Font Size"}),s.jsxs("select",{value:n,onChange:c=>r(c.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsx("option",{value:"small",children:"Small"}),s.jsx("option",{value:"medium",children:"Medium"}),s.jsx("option",{value:"large",children:"Large"})]})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",checked:a,onChange:c=>i(c.target.checked),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),s.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Reduce motion"})]}),s.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Minimize animations and transitions"})]}),s.jsxs("div",{className:"p-6 border rounded-lg",children:[s.jsx("h4",{className:"font-medium mb-2",children:"Preview"}),s.jsx("div",{className:`p-4 rounded-lg ${e==="dark"?"bg-gray-800 text-white":"bg-white text-gray-900"}`,children:s.jsx("p",{className:`${n==="small"?"text-sm":n==="large"?"text-lg":"text-base"}`,children:"This is how your content will look with the selected theme and font size."})})]}),s.jsx("div",{className:"flex justify-end",children:s.jsx(V,{type:"submit",variant:"primary",icon:vn,loading:o,children:"Save Changes"})})]})]})}function Bte(){const[e,t]=E.useState({email:{newMessage:!0,partyInvite:!0,sessionScheduled:!0,systemUpdates:!1},desktop:{newMessage:!0,partyInvite:!0,sessionScheduled:!0,diceRolls:!0},sounds:{enabled:!0,volume:80,diceRolls:!0,notifications:!0}}),[n,r]=E.useState(!1),a=async i=>{i.preventDefault(),r(!0),await new Promise(o=>setTimeout(o,1e3)),r(!1)};return s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Notification Settings"}),s.jsxs("form",{onSubmit:a,className:"space-y-8",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[s.jsx(Nx,{className:"w-5 h-5 text-gray-500"}),s.jsx("h3",{className:"font-medium",children:"Email Notifications"})]}),s.jsx("div",{className:"space-y-3",children:Object.entries(e.email).map(([i,o])=>s.jsxs("label",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",checked:o,onChange:l=>t({...e,email:{...e.email,[i]:l.target.checked}}),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),s.jsx("span",{className:"text-sm text-gray-700",children:i.replace(/([A-Z])/g," $1").replace(/^./,l=>l.toUpperCase())})]},i))})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[s.jsx(IP,{className:"w-5 h-5 text-gray-500"}),s.jsx("h3",{className:"font-medium",children:"Desktop Notifications"})]}),s.jsx("div",{className:"space-y-3",children:Object.entries(e.desktop).map(([i,o])=>s.jsxs("label",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",checked:o,onChange:l=>t({...e,desktop:{...e.desktop,[i]:l.target.checked}}),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),s.jsx("span",{className:"text-sm text-gray-700",children:i.replace(/([A-Z])/g," $1").replace(/^./,l=>l.toUpperCase())})]},i))})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[s.jsx(dP,{className:"w-5 h-5 text-gray-500"}),s.jsx("h3",{className:"font-medium",children:"Sound Settings"})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("label",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",checked:e.sounds.enabled,onChange:i=>t({...e,sounds:{...e.sounds,enabled:i.target.checked}}),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),s.jsx("span",{className:"text-sm text-gray-700",children:"Enable Sounds"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm text-gray-700 mb-1",children:["Volume (",e.sounds.volume,"%)"]}),s.jsx("input",{type:"range",min:"0",max:"100",value:e.sounds.volume,onChange:i=>t({...e,sounds:{...e.sounds,volume:parseInt(i.target.value)}}),className:"w-full"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("label",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",checked:e.sounds.diceRolls,onChange:i=>t({...e,sounds:{...e.sounds,diceRolls:i.target.checked}}),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),s.jsx("span",{className:"text-sm text-gray-700",children:"Dice Roll Sounds"})]}),s.jsxs("label",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",checked:e.sounds.notifications,onChange:i=>t({...e,sounds:{...e.sounds,notifications:i.target.checked}}),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),s.jsx("span",{className:"text-sm text-gray-700",children:"Notification Sounds"})]})]})]})]}),s.jsx("div",{className:"flex justify-end",children:s.jsx(V,{type:"submit",variant:"primary",icon:vn,loading:n,children:"Save Changes"})})]})]})}const Ute=[{value:"en",label:"English"},{value:"et",label:"Estonian"},{value:"fi",label:"Finnish"},{value:"sv",label:"Swedish"}],$te=[{value:"Europe/Tallinn",label:"Europe/Tallinn (UTC+2)"},{value:"Europe/Helsinki",label:"Europe/Helsinki (UTC+2)"},{value:"Europe/Stockholm",label:"Europe/Stockholm (UTC+1)"},{value:"UTC",label:"UTC"}],Hte=[{value:"DD/MM/YYYY",label:"DD/MM/YYYY"},{value:"MM/DD/YYYY",label:"MM/DD/YYYY"},{value:"YYYY-MM-DD",label:"YYYY-MM-DD"}],zte=[{value:"24h",label:"24-hour (14:30)"},{value:"12h",label:"12-hour (2:30 PM)"}];function Gte(){const[e,t]=E.useState({language:"en",timeZone:"Europe/Tallinn",dateFormat:"DD/MM/YYYY",timeFormat:"24h",firstDayOfWeek:1,useMetricSystem:!0}),[n,r]=E.useState(!1),a=async l=>{l.preventDefault(),r(!0),await new Promise(u=>setTimeout(u,1e3)),r(!1)},i=new Date,o=new Intl.DateTimeFormat("en-GB",{dateStyle:"full",timeStyle:"long",timeZone:e.timeZone}).format(i);return s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Localization Settings"}),s.jsxs("form",{onSubmit:a,className:"space-y-8",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[s.jsx(kP,{className:"w-5 h-5 text-gray-500"}),s.jsx("h3",{className:"font-medium",children:"Language & Region"})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Interface Language"}),s.jsx("select",{value:e.language,onChange:l=>t({...e,language:l.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:Ute.map(l=>s.jsx("option",{value:l.value,children:l.label},l.value))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Time Zone"}),s.jsx("select",{value:e.timeZone,onChange:l=>t({...e,timeZone:l.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:$te.map(l=>s.jsx("option",{value:l.value,children:l.label},l.value))})]})]})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[s.jsx(SR,{className:"w-5 h-5 text-gray-500"}),s.jsx("h3",{className:"font-medium",children:"Date & Time Format"})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date Format"}),s.jsx("select",{value:e.dateFormat,onChange:l=>t({...e,dateFormat:l.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:Hte.map(l=>s.jsx("option",{value:l.value,children:l.label},l.value))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Time Format"}),s.jsx("select",{value:e.timeFormat,onChange:l=>t({...e,timeFormat:l.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:zte.map(l=>s.jsx("option",{value:l.value,children:l.label},l.value))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"First Day of Week"}),s.jsxs("select",{value:e.firstDayOfWeek,onChange:l=>t({...e,firstDayOfWeek:parseInt(l.target.value)}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsx("option",{value:1,children:"Monday"}),s.jsx("option",{value:0,children:"Sunday"})]})]})]})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[s.jsx(Pf,{className:"w-5 h-5 text-gray-500"}),s.jsx("h3",{className:"font-medium",children:"Measurement System"})]}),s.jsx("div",{children:s.jsxs("label",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",checked:e.useMetricSystem,onChange:l=>t({...e,useMetricSystem:l.target.checked}),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),s.jsx("span",{className:"text-sm text-gray-700",children:"Use Metric System"})]})})]}),s.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[s.jsx("h4",{className:"font-medium mb-2",children:"Preview"}),s.jsxs("p",{className:"text-sm text-gray-600",children:["Current date and time: ",o]})]}),s.jsx("div",{className:"flex justify-end",children:s.jsx(V,{type:"submit",variant:"primary",icon:vn,loading:n,children:"Save Changes"})})]})]})}function qte({onClose:e,onUserCreated:t}){const[n,r]=E.useState(""),[a,i]=E.useState(""),[o,l]=E.useState("player"),[u,c]=E.useState(null),[d,p]=E.useState(!1),[h,f]=E.useState(!1),[m,v]=E.useState(null),[y,g]=E.useState(!1),[x,w]=E.useState([]),[k,S]=E.useState(!1),[T,A]=E.useState(null),I=async()=>{S(!0),A(null);const{data:O,error:D}=await se.from("users").select("*");D?A(D.message):w(O),S(!1)};E.useEffect(()=>{I()},[]);const C=async O=>{O.preventDefault(),c(null),f(!0);try{const D=Math.random().toString(36).slice(-12),{data:B,error:j}=await se.auth.signUp({email:n,password:D,options:{data:{username:a}}});if(j)throw j;if(!B.user)throw new Error("Failed to create user");const{error:P}=await se.from("users").update({role:o}).eq("id",B.user.id);if(P)throw P;const Y=new URL(window.location.origin);Y.searchParams.set("email",n),Y.searchParams.set("password",D),v(Y.toString()),p(!0),t(),I()}catch(D){c(D instanceof Error?D.message:"Failed to create user")}finally{f(!1)}},N=async()=>{if(m)try{await navigator.clipboard.writeText(m),g(!0),setTimeout(()=>g(!1),2e3)}catch{c("Failed to copy link to clipboard")}};return s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:s.jsxs("div",{className:"bg-white rounded-lg max-w-4xl w-full",children:[s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsx("h2",{className:"text-xl font-bold",children:"Create New User"}),s.jsx("button",{onClick:e,className:"text-gray-500 hover:text-gray-700",children:s.jsx(mt,{className:"w-6 h-6"})})]}),u&&s.jsxs("div",{className:"mb-6 flex items-start gap-2 p-4 bg-red-50 border border-red-200 rounded-lg",children:[s.jsx(wt,{className:"w-5 h-5 text-red-500 flex-shrink-0 mt-0.5"}),s.jsx("p",{className:"text-sm text-red-700",children:u})]}),d&&m?s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"p-4 bg-green-50 border border-green-200 rounded-lg",children:[s.jsx("h3",{className:"font-medium text-green-800 mb-2",children:"User Created Successfully!"}),s.jsx("p",{className:"text-sm text-green-700",children:"Share the following link with the user to let them sign in:"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("input",{type:"text",value:m,readOnly:!0,className:"flex-1 px-3 py-2 border border-gray-300 rounded-md bg-gray-50"}),s.jsx(V,{variant:"secondary",icon:y?Vs:gx,onClick:N,children:y?"Copied!":"Copy"})]}),s.jsx("div",{className:"flex justify-end",children:s.jsx(V,{variant:"primary",onClick:e,children:"Done"})})]}):s.jsxs("form",{onSubmit:C,className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),s.jsx("input",{type:"email",required:!0,value:n,onChange:O=>r(O.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Username"}),s.jsx("input",{type:"text",required:!0,value:a,onChange:O=>i(O.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Role"}),s.jsxs("select",{value:o,onChange:O=>l(O.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsx("option",{value:"player",children:"Player"}),s.jsx("option",{value:"dm",children:"Dungeon Master"})]})]}),s.jsxs("div",{className:"flex justify-end gap-4",children:[s.jsx(V,{variant:"secondary",onClick:e,children:"Cancel"}),s.jsx(V,{type:"submit",variant:"primary",icon:ms,loading:h,children:"Create User"})]})]})]}),s.jsxs("div",{className:"p-6 border-t",children:[s.jsx("h3",{className:"text-lg font-bold mb-4",children:"Created Users"}),k?s.jsx("p",{children:"Loading users..."}):T?s.jsxs("p",{className:"text-red-600",children:["Error loading users: ",T]}):x.length>0?s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Username"}),s.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Email"}),s.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Role"}),s.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Created At"}),s.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Account Status"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:x.map(O=>s.jsxs("tr",{children:[s.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:O.username}),s.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:O.email}),s.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:O.role}),s.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:new Date(O.created_at).toLocaleString()}),s.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:O.account_status||"N/A"})]},O.id))})]})}):s.jsx("p",{children:"No users found."})]})]})})}function Vte(){const[e,t]=E.useState([]),[n,r]=E.useState(!0),[a,i]=E.useState(null),[o,l]=E.useState(""),[u,c]=E.useState("all"),[d,p]=E.useState(!1),h=E.useCallback(async()=>{r(!0),i(null);try{const{data:g,error:x}=await se.from("users").select("id, email, username, role, created_at, last_login, first_name, last_name, is_active").order("created_at",{ascending:!1});if(x)throw x;t(g||[])}catch(g){console.error("Error fetching users:",g),i(`Failed to load users: ${g.message||"Unknown error"}`),t([])}finally{r(!1)}},[]);E.useEffect(()=>{h()},[h]);const f=()=>{p(!1),h()},m=e.filter(g=>{const x=o.toLowerCase(),w=g.username&&g.username.toLowerCase().includes(x)||g.email&&g.email.toLowerCase().includes(x)||g.first_name&&g.first_name.toLowerCase().includes(x)||g.last_name&&g.last_name.toLowerCase().includes(x),k=u==="all"||g.role&&g.role.toLowerCase()===u.toLowerCase();return w&&k}),v=g=>{const x=g==null?void 0:g.toLowerCase();return x==="admin"?"bg-purple-100 text-purple-800":x==="dm"||x==="dungeon master"?"bg-blue-100 text-blue-800":x==="player"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"},y=g=>g.username?g.username:g.first_name&&g.last_name?`${g.first_name} ${g.last_name}`:g.first_name?g.first_name:g.email.split("@")[0];return s.jsxs("div",{className:"space-y-6 p-4 md:p-6 bg-white shadow-lg rounded-xl",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[s.jsx("h3",{className:"text-2xl font-semibold text-gray-800",children:"User Management"}),s.jsx(V,{variant:"primary",icon:Ht,onClick:()=>p(!0),className:"w-full sm:w-auto",children:"Create User"})]}),a&&s.jsxs("div",{className:"flex items-start gap-3 p-4 bg-red-50 border border-red-200 rounded-lg shadow-sm",children:[s.jsx(wt,{className:"w-6 h-6 text-red-500 flex-shrink-0 mt-0.5"}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-red-800",children:"Error Loading Users"}),s.jsx("p",{className:"text-sm text-red-700",children:a})]})]}),s.jsxs("div",{className:"flex flex-col md:flex-row gap-4 pb-4 border-b border-gray-200",children:[s.jsxs("div",{className:"relative flex-grow",children:[s.jsx(mr,{className:"absolute left-3.5 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5 pointer-events-none"}),s.jsx("input",{type:"text",placeholder:"Search by name, email, username...",value:o,onChange:g=>l(g.target.value),className:"w-full pl-11 pr-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent shadow-sm transition-colors",disabled:n})]}),s.jsxs("div",{className:"relative md:min-w-[200px]",children:[s.jsx(Td,{className:"absolute left-3.5 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5 pointer-events-none"}),s.jsxs("select",{value:u,onChange:g=>c(g.target.value),className:"w-full pl-11 pr-8 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent appearance-none bg-white shadow-sm transition-colors",disabled:n,children:[s.jsx("option",{value:"all",children:"All Roles"}),s.jsx("option",{value:"player",children:"Players"}),s.jsx("option",{value:"dm",children:"Dungeon Masters"}),s.jsx("option",{value:"admin",children:"Administrators"})]}),s.jsx("div",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-3 text-gray-700",children:s.jsx("svg",{className:"fill-current h-4 w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",children:s.jsx("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})})})]})]}),n&&e.length===0?s.jsxs("div",{className:"text-center py-10",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),s.jsx("p",{className:"mt-4 text-gray-600",children:"Loading users..."})]}):!n&&e.length===0&&!a?s.jsxs("div",{className:"text-center py-10 px-4",children:[s.jsx(Users,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),s.jsx("h4",{className:"text-xl font-semibold text-gray-700 mb-1",children:"No Users Found"}),s.jsx("p",{className:"text-gray-500",children:"There are currently no users to display. Try creating one!"})]}):s.jsx("div",{className:"overflow-x-auto shadow-md rounded-lg border border-gray-200",children:s.jsxs("table",{className:"w-full min-w-[700px]",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-5 py-3.5 text-left text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"User"}),s.jsx("th",{className:"px-5 py-3.5 text-left text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Role"}),s.jsx("th",{className:"px-5 py-3.5 text-left text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Status"}),s.jsx("th",{className:"px-5 py-3.5 text-left text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Created"}),s.jsx("th",{className:"px-5 py-3.5 text-left text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Last Login"}),s.jsx("th",{className:"px-5 py-3.5 text-left text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:m.map(g=>s.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[s.jsx("td",{className:"px-5 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"flex items-center",children:[s.jsxs("div",{className:"flex-shrink-0 h-10 w-10 bg-blue-100 rounded-full flex items-center justify-center text-blue-600 font-semibold",children:[g.first_name?g.first_name.charAt(0).toUpperCase():g.email.charAt(0).toUpperCase(),g.last_name?g.last_name.charAt(0).toUpperCase():g.username?g.username.charAt(0).toUpperCase():""]}),s.jsxs("div",{className:"ml-4",children:[s.jsx("div",{className:"text-sm font-medium text-gray-900",children:y(g)}),s.jsx("div",{className:"text-xs text-gray-500",children:g.email})]})]})}),s.jsx("td",{className:"px-5 py-4 whitespace-nowrap",children:s.jsx("span",{className:`inline-flex items-center px-2.5 py-1 rounded-full text-xs font-semibold ${v(g.role||"N/A")}`,children:g.role?g.role.charAt(0).toUpperCase()+g.role.slice(1):"N/A"})}),s.jsx("td",{className:"px-5 py-4 whitespace-nowrap",children:g.is_active===void 0||g.is_active===null?s.jsx("span",{className:"text-xs text-gray-500",children:"Unknown"}):g.is_active?s.jsxs("span",{className:"inline-flex items-center px-2.5 py-1 rounded-full text-xs font-semibold bg-green-100 text-green-800",children:[s.jsx(Wi,{className:"w-3.5 h-3.5 mr-1.5"})," Active"]}):s.jsxs("span",{className:"inline-flex items-center px-2.5 py-1 rounded-full text-xs font-semibold bg-red-100 text-red-800",children:[s.jsx(yi,{className:"w-3.5 h-3.5 mr-1.5"})," Inactive"]})}),s.jsx("td",{className:"px-5 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(g.created_at).toLocaleDateString()}),s.jsx("td",{className:"px-5 py-4 whitespace-nowrap text-sm text-gray-500",children:g.last_login?new Date(g.last_login).toLocaleString():"Never"}),s.jsx("td",{className:"px-5 py-4 whitespace-nowrap text-sm",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(V,{variant:"icon",size:"sm",title:"Edit User",className:"text-gray-500 hover:text-blue-600",children:s.jsx(_x,{className:"w-4 h-4"})}),s.jsx(V,{variant:"icon",size:"sm",title:"Delete User",className:"text-gray-500 hover:text-red-600",children:s.jsx(Cn,{className:"w-4 h-4"})})]})})]},g.id))})]})}),m.length===0&&!n&&e.length>0&&s.jsxs("div",{className:"text-center py-10 px-4",children:[s.jsx(mr,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),s.jsx("h4",{className:"text-xl font-semibold text-gray-700 mb-1",children:"No Users Match Your Search"}),s.jsx("p",{className:"text-gray-500",children:"Try adjusting your search term or role filter."})]}),d&&s.jsx(qte,{onClose:()=>p(!1),onUserCreated:f})]})}var wL={exports:{}},Wte="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Yte=Wte,Kte=Yte;function SL(){}function NL(){}NL.resetWarningCache=SL;var Zte=function(){function e(r,a,i,o,l,u){if(u!==Kte){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}e.isRequired=e;function t(){return e}var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:NL,resetWarningCache:SL};return n.PropTypes=n,n};wL.exports=Zte();var Xte=wL.exports;const Hp=Xl(Xte);function ay(){return ay=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ay.apply(this,arguments)}function Qte(e,t){if(e==null)return{};var n=Jte(e,t),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Jte(e,t){if(e==null)return{};var n={},r=Object.keys(e),a,i;for(i=0;i<r.length;i++)a=r[i],!(t.indexOf(a)>=0)&&(n[a]=e[a]);return n}var cN=E.forwardRef(function(e,t){var n=e.color,r=n===void 0?"currentColor":n,a=e.size,i=a===void 0?24:a,o=Qte(e,["color","size"]);return It.createElement("svg",ay({ref:t,xmlns:"http://www.w3.org/2000/svg",width:i,height:i,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),It.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),It.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"}))});cN.propTypes={color:Hp.string,size:Hp.oneOfType([Hp.string,Hp.number])};cN.displayName="X";function ene({entry:e,onChange:t}){const[n,r]=E.useState(e),[a,i]=E.useState({gold:0,silver:0,copper:0}),[o,l]=E.useState([]);E.useEffect(()=>{if(r(e),e.cost){const d=e.cost.split(",").map(h=>h.trim()),p={gold:0,silver:0,copper:0};d.forEach(h=>{h.includes("gold")?p.gold=parseInt(h.replace("gold","").trim())||0:h.includes("silver")?p.silver=parseInt(h.replace("silver","").trim())||0:h.includes("copper")&&(p.copper=parseInt(h.replace("copper","").trim())||0)}),i(p)}l(e.features||[])},[e]);const u=(d,p)=>{const h=parseInt(p)||0,f={...a,[d]:h};i(f),t("cost",`${f.gold} gold, ${f.silver} silver, ${f.copper} copper`)},c=d=>{const p=o.filter((h,f)=>f!==d);l(p),t("features",p)};return s.jsxs("div",{className:"space-y-4 p-4 border rounded-lg bg-gray-50",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Name"}),s.jsx("input",{type:"text",value:n.name||"",onChange:d=>t("name",d.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Category"}),s.jsxs("select",{value:n.category||"",onChange:d=>t("category",d.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500",children:[s.jsx("option",{value:"",children:"Select Category"}),s.jsx("option",{value:"ARMOR & HELMETS",children:"Armor & Helmets"}),s.jsx("option",{value:"MELEE WEAPONS",children:"Melee Weapons"}),s.jsx("option",{value:"RANGED WEAPONS",children:"Ranged Weapons"}),s.jsx("option",{value:"CLOTHES",children:"Clothes"}),s.jsx("option",{value:"MUSICAL INSTRUMENTS",children:"Musical Instruments"}),s.jsx("option",{value:"TRADE GOODS",children:"Trade Goods"}),s.jsx("option",{value:"STUDIES & MAGIC",children:"Studies & Magic"}),s.jsx("option",{value:"LIGHT SOURCES",children:"Light Sources"}),s.jsx("option",{value:"TOOLS",children:"Tools"}),s.jsx("option",{value:"CONTAINERS",children:"Containers"}),s.jsx("option",{value:"MEDICINE",children:"Medicine"}),s.jsx("option",{value:"SERVICES",children:"Services"}),s.jsx("option",{value:"HUNTING & FISHING",children:"Hunting & Fishing"}),s.jsx("option",{value:"MEANS OF TRAVEL",children:"Means of Travel"}),s.jsx("option",{value:"ANIMALS",children:"Animals"})]})]}),(n.category==="ARMOR & HELMETS"||n.category==="MELEE WEAPONS"||n.category==="RANGED WEAPONS")&&s.jsxs("div",{className:"p-3 border rounded-md bg-white space-y-4",children:[s.jsx("h3",{className:"text-md font-semibold text-gray-800 border-b pb-2",children:"Weapon/Armor Stats"}),n.category==="ARMOR & HELMETS"&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Armor Rating"}),s.jsx("input",{type:"number",value:n.armor_rating||"",onChange:d=>t("armor_rating",parseInt(d.target.value)),className:"w-full px-3 py-2 border rounded-md"})]}),(n.category==="MELEE WEAPONS"||n.category==="RANGED WEAPONS")&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Grip"}),s.jsxs("select",{value:n.grip||"1H",onChange:d=>t("grip",d.target.value),className:"w-full px-3 py-2 border rounded-md",children:[s.jsx("option",{value:"1H",children:"1H"}),s.jsx("option",{value:"2H",children:"2H"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"STR Requirement"}),s.jsx("input",{type:"number",value:n.strength_requirement||"",onChange:d=>t("strength_requirement",parseInt(d.target.value)),className:"w-full px-3 py-2 border rounded-md"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Range"}),s.jsx("input",{type:"text",value:n.range||"",onChange:d=>t("range",d.target.value),placeholder:"Enter range value or STR",className:"w-full px-3 py-2 border rounded-md"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Damage"}),s.jsx("input",{type:"text",value:n.damage||"",onChange:d=>t("damage",d.target.value),placeholder:"e.g. D6, D8, 2D8",className:"w-full px-3 py-2 border rounded-md"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Durability"}),s.jsx("input",{type:"number",value:n.durability||"",onChange:d=>t("durability",parseInt(d.target.value)),className:"w-full px-3 py-2 border rounded-md"})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Cost"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-2",children:[s.jsxs("div",{className:"flex",children:[s.jsx("input",{type:"number",value:a.gold,onChange:d=>u("gold",d.target.value),className:"w-full px-3 py-2 border rounded-l-md",placeholder:"0"}),s.jsx("span",{className:"inline-flex items-center px-3 border border-l-0 rounded-r-md bg-gray-100 text-gray-700",children:"Gold"})]}),s.jsxs("div",{className:"flex",children:[s.jsx("input",{type:"number",value:a.silver,onChange:d=>u("silver",d.target.value),className:"w-full px-3 py-2 border rounded-l-md",placeholder:"0"}),s.jsx("span",{className:"inline-flex items-center px-3 border border-l-0 rounded-r-md bg-gray-100 text-gray-700",children:"Silver"})]}),s.jsxs("div",{className:"flex",children:[s.jsx("input",{type:"number",value:a.copper,onChange:d=>u("copper",d.target.value),className:"w-full px-3 py-2 border rounded-l-md",placeholder:"0"}),s.jsx("span",{className:"inline-flex items-center px-3 border border-l-0 rounded-r-md bg-gray-100 text-gray-700",children:"Copper"})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Supply"}),s.jsxs("select",{value:n.supply||"",onChange:d=>t("supply",d.target.value),className:"w-full px-3 py-2 border rounded-md",children:[s.jsx("option",{value:"",children:"Select Supply"}),s.jsx("option",{value:"Common",children:"Common"}),s.jsx("option",{value:"Uncommon",children:"Uncommon"}),s.jsx("option",{value:"Rare",children:"Rare"}),s.jsx("option",{value:"Unique",children:"Unique"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Weight"}),s.jsx("input",{type:"number",value:n.weight||"",onChange:d=>t("weight",parseFloat(d.target.value)),className:"w-full px-3 py-2 border rounded-md",min:"0",step:"0.1"})]}),s.jsxs("div",{className:"space-y-4 pt-4 border-t",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("input",{id:"equippable",type:"checkbox",checked:!!n.equippable,onChange:d=>t("equippable",d.target.checked),className:"h-4 w-4 text-indigo-600 border-gray-300 rounded focus:ring-indigo-500"}),s.jsx("label",{htmlFor:"equippable",className:"ml-2 block text-sm font-medium text-gray-800",children:"Equippable"})]}),n.equippable&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Encumbrance Bonus"}),s.jsx("input",{type:"number",value:n.encumbrance_modifier||"",onChange:d=>t("encumbrance_modifier",parseInt(d.target.value)||0),className:"w-full px-3 py-2 border rounded-md",placeholder:"e.g., 2 for a backpack",min:"0"}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Increases carrying capacity by this amount when equipped."})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Effect/Description"}),s.jsx("textarea",{value:n.effect||"",onChange:d=>t("effect",d.target.value.toUpperCase()),rows:3,className:"w-full px-3 py-2 border rounded-md"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Features"}),s.jsxs("div",{className:"p-2 border rounded-md bg-white",children:[s.jsx("div",{className:"flex flex-wrap gap-2",children:o.map((d,p)=>s.jsxs("div",{className:"flex items-center bg-gray-100 rounded-md px-2 py-1 text-sm",children:[s.jsx("span",{children:d}),s.jsx("button",{type:"button",onClick:()=>c(p),className:"ml-2 text-red-500 hover:text-red-700",children:s.jsx(cN,{className:"w-4 h-4"})})]},p))}),s.jsx("input",{type:"text",onKeyDown:d=>{if(d.key==="Enter"&&d.currentTarget.value.trim()){d.preventDefault();const p=d.currentTarget.value.trim().toUpperCase(),h=[...o,p];l(h),t("features",h),d.currentTarget.value=""}},className:"mt-2 w-full px-3 py-2 border rounded-md",placeholder:"Add feature and press Enter..."})]})]})]})}const tne=({entry:e,onChange:t})=>s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Name"}),s.jsx("input",{type:"text",value:e.name||"",onChange:n=>t("name",n.target.value),className:"w-full px-3 py-2 border rounded-md"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),s.jsx("textarea",{value:e.description||"",onChange:n=>t("description",n.target.value),rows:3,className:"w-full px-3 py-2 border rounded-md"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Heroic Ability"}),s.jsx("input",{type:"text",value:e.heroic_ability||"",onChange:n=>t("heroic_ability",n.target.value),className:"w-full px-3 py-2 border rounded-md"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Abilities"}),(e.abilities||[]).map((n,r)=>s.jsxs("div",{className:"flex gap-2 items-center mb-1",children:[s.jsx("input",{type:"text",placeholder:"Ability Description",value:n.description||"",onChange:a=>{const i=[...e.abilities||[]];i[r]={...i[r],description:a.target.value},t("abilities",i)},className:"border rounded-md px-2 py-1 flex-1"}),s.jsx("input",{type:"number",placeholder:"Willpower Points",value:n.willpower_points||0,onChange:a=>{const i=[...e.abilities||[]];i[r]={...i[r],willpower_points:parseInt(a.target.value)},t("abilities",i)},className:"border rounded-md px-2 py-1 w-20",min:"0"}),s.jsx("button",{onClick:()=>{const a=[...e.abilities||[]];a.splice(r,1),t("abilities",a)},className:"text-red-600",children:"Remove"})]},r)),s.jsx("button",{onClick:()=>{const n=[...e.abilities||[],{description:"",willpower_points:0}];t("abilities",n)},className:"mt-2 text-blue-600",children:"Add Ability"})]})]}),nne=({onClose:e,onSave:t,loading:n,error:r})=>{const[a,i]=E.useState(""),[o,l]=E.useState(""),[u,c]=E.useState(""),[d,p]=E.useState(""),h=()=>{if(!a||!u){alert("School Name and Key Attribute are required.");return}const f={name:a,description:o,key_attribute:u,base_skills:d.split(",").map(m=>m.trim()).filter(Boolean)};t(f)};return s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center p-4 z-[60]",children:s.jsxs("div",{className:"bg-white rounded-lg max-w-lg w-full p-6 flex flex-col gap-4",children:[s.jsxs("div",{className:"flex justify-between items-center border-b pb-2",children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Create New Magic School"}),s.jsx("button",{onClick:e,className:"text-gray-500 hover:text-gray-700",children:s.jsx(mt,{className:"w-6 h-6"})})]}),r&&s.jsx("p",{className:"text-red-600 bg-red-100 p-2 rounded-md",children:r}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"School Name"}),s.jsx("input",{type:"text",value:a,onChange:f=>i(f.target.value),className:"w-full px-3 py-2 border rounded-md"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),s.jsx("textarea",{value:o,onChange:f=>l(f.target.value),rows:3,className:"w-full px-3 py-2 border rounded-md"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Key Attribute"}),s.jsx("input",{type:"text",value:u,onChange:f=>c(f.target.value),className:"w-full px-3 py-2 border rounded-md"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Base Skills (comma-separated)"}),s.jsx("input",{type:"text",value:d,onChange:f=>p(f.target.value),className:"w-full px-3 py-2 border rounded-md",placeholder:"e.g., Awareness, Myths & Legends"})]}),s.jsxs("div",{className:"flex justify-end gap-4 mt-4 border-t pt-4",children:[s.jsx(V,{variant:"secondary",onClick:e,disabled:n,children:"Cancel"}),s.jsx(V,{variant:"primary",icon:vn,onClick:h,disabled:n,children:n?"Saving...":"Save School"})]})]})})},rne=({entry:e,onChange:t})=>{const[n,r]=E.useState("skills"),[a,i]=E.useState([]),[o,l]=E.useState(!0),[u,c]=E.useState(null),[d,p]=E.useState([]),[h,f]=E.useState(!0),[m,v]=E.useState(null),[y,g]=E.useState(!1),[x,w]=E.useState(!1),[k,S]=E.useState(null),T=E.useCallback(async()=>{l(!0),c(null);const{data:j,error:P}=await se.from("game_skills").select("id, name, is_magic").order("name");P?(console.error("Error fetching skills:",P),c("Failed to load skills.")):i(j||[]),l(!1)},[]),A=E.useCallback(async()=>{f(!0),v(null);const{data:j,error:P}=await se.from("magic_schools").select("id, name").order("name");P?(console.error("Error fetching magic schools:",P),v("Failed to load magic schools.")):p(j||[]),f(!1)},[]);E.useEffect(()=>{T(),A()},[T,A]);const I=async j=>{w(!0),S(null);const{data:P,error:Y}=await se.from("magic_schools").insert([j]).select("id").single();w(!1),Y?(console.error("Error creating magic school:",Y),S(`Failed to save: ${Y.message}`)):(g(!1),await A(),P!=null&&P.id&&t("magic_school_id",P.id))},C=E.useMemo(()=>a.filter(j=>j.is_magic),[a]),N=e.starting_equipment||["","",""],O=e.equipment_description||["","",""],D=(j,P,Y)=>{if(P==="equipment"){const K=[...N];K[j]=Y,t("starting_equipment",K)}else{const K=[...O];K[j]=Y,t("equipment_description",K)}},B=j=>{t("is_magic",j),j||t("associated_skill",null)};return s.jsxs(s.Fragment,{children:[y&&s.jsx(nne,{onClose:()=>g(!1),onSave:I,loading:x,error:k}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Name"}),s.jsx("input",{type:"text",value:e.name||"",onChange:j=>t("name",j.target.value),className:"w-full px-3 py-2 border rounded-md"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),s.jsx("textarea",{value:e.description||"",onChange:j=>t("description",j.target.value),rows:3,className:"w-full px-3 py-2 border rounded-md"})]}),s.jsxs("div",{className:"space-y-4 p-4 border rounded-md bg-gray-50",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{id:"is_magic",type:"checkbox",checked:e.is_magic||!1,onChange:j=>B(j.target.checked),className:"h-4 w-4 rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),s.jsx("label",{htmlFor:"is_magic",className:"text-sm font-medium text-gray-900",children:"Is this a magic profession?"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"associated_skill",className:"block text-sm font-medium text-gray-700 mb-1",children:"Associated Magic Skill"}),s.jsx("select",{id:"associated_skill",value:e.associated_skill||"",onChange:j=>t("associated_skill",j.target.value||null),className:"w-full px-3 py-2 border rounded-md disabled:bg-gray-200",disabled:!e.is_magic||o||!!u,children:o?s.jsx("option",{children:"Loading..."}):s.jsxs(s.Fragment,{children:[s.jsx("option",{value:"",children:"None"}),C.map(j=>s.jsx("option",{value:j.name,children:j.name},j.id))]})})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Key Attribute"}),s.jsx("input",{type:"text",value:e.key_attribute||"",onChange:j=>t("key_attribute",j.target.value),className:"w-full px-3 py-2 border rounded-md"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Heroic Ability"}),s.jsx("input",{type:"text",value:e.heroic_ability||"",onChange:j=>t("heroic_ability",j.target.value),className:"w-full px-3 py-2 border rounded-md"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Magic School"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("select",{value:e.magic_school_id||"",onChange:j=>t("magic_school_id",j.target.value||null),className:"flex-grow w-full px-3 py-2 border rounded-md",disabled:h,children:[s.jsx("option",{value:"",children:"None"}),h&&s.jsx("option",{disabled:!0,children:"Loading schools..."}),m&&s.jsx("option",{disabled:!0,children:m}),!h&&!m&&d.map(j=>s.jsx("option",{value:j.id,children:j.name},j.id))]}),s.jsx(V,{variant:"secondary",icon:Ht,onClick:()=>{S(null),g(!0)},disabled:h,children:"Create"})]})]}),s.jsxs("div",{className:"mt-4",children:[s.jsxs("div",{className:"flex border-b",children:[s.jsx("button",{type:"button",onClick:()=>r("skills"),className:`px-4 py-2 -mb-px font-medium ${n==="skills"?"border-b-2 border-blue-600 text-blue-600":"text-gray-600"}`,children:"Skills"}),s.jsx("button",{type:"button",onClick:()=>r("startingEquipment"),className:`px-4 py-2 -mb-px font-medium ${n==="startingEquipment"?"border-b-2 border-blue-600 text-blue-600":"text-gray-600"}`,children:"Starting Equipment"})]}),n==="skills"&&s.jsxs("div",{className:"mt-4",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Skills"}),o?s.jsx("p",{children:"Loading..."}):u?s.jsx("p",{className:"text-red-500",children:u}):s.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-2",children:a.map(j=>{var P;return s.jsxs("label",{className:"flex items-center gap-1.5",children:[s.jsx("input",{type:"checkbox",checked:((P=e.skills)==null?void 0:P.includes(j.name))??!1,onChange:Y=>{const K=new Set(e.skills||[]);Y.target.checked?K.add(j.name):K.delete(j.name),t("skills",Array.from(K))}}),s.jsx("span",{className:"text-sm",children:j.name})]},j.id)})})]}),n==="startingEquipment"&&s.jsx("div",{className:"mt-4 space-y-4",children:[0,1,2].map(j=>s.jsxs("div",{className:"border p-3 rounded-md bg-gray-50",children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Equipment Option ",j+1]}),s.jsx("input",{type:"text",placeholder:"e.g., Horn or Flute, knife, torch",value:N[j]||"",onChange:P=>D(j,"equipment",P.target.value),className:"w-full px-3 py-2 border rounded-md mb-2"}),s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),s.jsx("textarea",{placeholder:"e.g., D6 food rations, D8 silver",value:O[j]||"",onChange:P=>D(j,"description",P.target.value),rows:2,className:"w-full px-3 py-2 border rounded-md"})]},j))})]})]})]})},ane=({entry:e,onChange:t})=>{const{skills:n,loading:r,error:a}=ZR(),[i,o]=E.useState(!1),[l,u]=E.useState(!1),[c,d]=E.useState({}),p=E.useCallback(()=>{if(r||!n||n.length===0)return;u(!0);const m=e.requirement;let v={};if(Mx(m))v=m,console.log("AbilityForm: Initial requirement is already name-based:",m);else if(z_(m)){console.log("AbilityForm: Initial requirement is UUID-based, converting:",m);const y=new Map(n.map(g=>[g.id,g.name]));for(const[g,x]of Object.entries(m)){const w=y.get(g);w?v[w]=x:console.warn(`AbilityForm: Could not find skill name for UUID ${g} during initialization.`)}console.log("AbilityForm: Converted to name-based requirements:",v)}else typeof m=="string"||m===null||m===void 0?(console.log("AbilityForm: Initial requirement is simple string, null, or undefined:",m),v={}):(console.warn("AbilityForm: Unrecognized requirement format during initialization:",m),v={});d(v),u(!1)},[e.requirement,n,r]);E.useEffect(()=>{p()},[p]),E.useEffect(()=>{t("requirement",c)},[c,t]);const h=(m,v)=>{typeof m=="string"&&d(y=>{const g={...y};return v?g.hasOwnProperty(m)||(g[m]=null):delete g[m],g})},f=(m,v)=>{if(typeof m!="string")return;const y=v===""?null:parseInt(v,10);c.hasOwnProperty(m)&&d(g=>({...g,[m]:isNaN(y)?null:y}))};return s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"ability-name",className:"block text-sm font-medium text-gray-700 mb-1",children:"Name"}),s.jsx("input",{id:"ability-name",type:"text",value:e.name||"",onChange:m=>t("name",m.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"ability-description",className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),s.jsx("textarea",{id:"ability-description",value:e.description||"",onChange:m=>t("description",m.target.value),rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"ability-willpower_cost",className:"block text-sm font-medium text-gray-700 mb-1",children:"Willpower Cost"}),s.jsx("input",{id:"ability-willpower_cost",type:"number",value:e.willpower_cost===null||e.willpower_cost===void 0?"":e.willpower_cost,onChange:m=>t("willpower_cost",m.target.value===""?null:parseInt(m.target.value,10)),className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500",min:"0"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"ability-profession",className:"block text-sm font-medium text-gray-700 mb-1",children:"Profession (Optional)"}),s.jsx("input",{id:"ability-profession",type:"text",value:e.profession||"",onChange:m=>t("profession",m.target.value||null),placeholder:"Leave blank if applicable to all",className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500"}),s.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Specify if this ability is restricted to a certain profession."})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"ability-kin",className:"block text-sm font-medium text-gray-700 mb-1",children:"Kin (Optional)"}),s.jsx("input",{id:"ability-kin",type:"text",value:e.kin||"",onChange:m=>t("kin",m.target.value||null),placeholder:"Leave blank if applicable to all",className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500"}),s.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Specify if this ability is restricted to a certain kin."})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Skill Requirements (Optional)"}),s.jsxs("details",{className:"border border-gray-300 rounded-md shadow-sm overflow-hidden",open:i,onToggle:m=>o(m.target.open),children:[s.jsx("summary",{className:"px-3 py-2 cursor-pointer bg-gray-50 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-1 rounded-t-md",children:Object.keys(c).length>0?`${Object.keys(c).length} skill(s) selected`:"Select required skills..."}),s.jsx("div",{className:"p-4 border-t border-gray-200 max-h-60 overflow-y-auto",children:r||l?s.jsxs("div",{className:"flex justify-center items-center py-4",children:[s.jsx(et,{size:"md"}),s.jsx("span",{className:"ml-2 text-gray-500",children:"Loading skills..."})]}):a?s.jsx(He,{message:`Error loading skills: ${a}`}):n.length===0?s.jsx("p",{className:"text-gray-500",children:"No skills available."}):s.jsx("ul",{className:"space-y-2",children:n.map(m=>{const v=m.name,y=c.hasOwnProperty(v),g=c[v];return s.jsxs("li",{className:"flex items-center space-x-3",children:[" ",s.jsx("input",{id:`skill-req-${m.id}`,type:"checkbox",checked:y,onChange:x=>h(v,x.target.checked),className:"h-4 w-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),s.jsxs("label",{htmlFor:`skill-req-${m.id}`,className:"flex-1 text-sm text-gray-700",children:[m.name," ",m.attribute?`(${m.attribute})`:""]}),y&&s.jsx("input",{type:"number",min:"1",placeholder:"Level (Opt.)",value:g??"",onChange:x=>f(v,x.target.value),className:"w-24 px-2 py-1 border border-gray-300 rounded-md shadow-sm text-sm focus:ring-blue-500 focus:border-blue-500"})]},m.id)})})})]}),s.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Select skills required for this ability and optionally specify a minimum level. Requirements are now stored by skill name."}),typeof e.requirement=="string"&&e.requirement&&s.jsx("div",{className:"mt-2 p-2 bg-yellow-50 border border-yellow-200 rounded",children:s.jsxs("p",{className:"text-xs text-yellow-700",children:[s.jsx("strong",{children:"Note:"}),' This ability has a non-skill requirement text: "',e.requirement,'". Saving will overwrite this if skills are selected above.']})}),z_(e.requirement)&&l&&s.jsx("div",{className:"mt-2 p-2 bg-orange-50 border border-orange-200 rounded",children:s.jsx("p",{className:"text-xs text-orange-700",children:"Attempting to convert legacy UUID-based requirements..."})})]}),e.created_at&&s.jsx("div",{className:"mt-4 pt-2 border-t border-gray-200",children:s.jsxs("p",{className:"text-xs text-gray-500",children:["Created: ",new Date(e.created_at).toLocaleString()]})})]})};function kL(e){return typeof e!="object"||e===null||!e.type?!1:e.type==="logical"?(e.operator==="AND"||e.operator==="OR")&&Array.isArray(e.conditions)&&e.conditions.every(kL):["spell","school","skill","attribute"].includes(e.type)?typeof e.name=="string":e.type==="anySchool"}function sne({entry:e,onChange:t,magicSchools:n=[]}){const[r,a]=E.useState(""),[i,o]=E.useState(null);E.useEffect(()=>{if(e.prerequisite)try{typeof e.prerequisite=="object"&&e.prerequisite!==null?a(JSON.stringify(e.prerequisite,null,2)):typeof e.prerequisite=="string"&&a(JSON.stringify(JSON.parse(e.prerequisite),null,2))}catch{a(e.prerequisite)}else a("")},[e.prerequisite]);const l=d=>{const p=d.target.value;if(a(p),p.trim()===""){t("prerequisite",null),o(null);return}try{const h=JSON.parse(p);kL(h)?(t("prerequisite",JSON.stringify(h)),o(null)):o("Invalid prerequisite JSON structure. Please check the format.")}catch{o("Invalid JSON. Please ensure correct JSON syntax.")}},u=d=>{const{name:p,value:h,type:f}=d.target;let m=h;f==="number"&&d.target instanceof HTMLInputElement&&(m=h===""?null:parseInt(h,10),isNaN(m)&&(m=null)),p==="school_id"&&h===""&&(m=null),t(p,m)},c=d=>{const{name:p,checked:h}=d.target;t(p,h?"yes":"none")};return s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700",children:"Name"}),s.jsx("input",{type:"text",name:"name",id:"name",value:e.name||"",onChange:u,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700",children:"Description"}),s.jsx("textarea",{name:"description",id:"description",rows:3,value:e.description||"",onChange:u,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"school_id",className:"block text-sm font-medium text-gray-700",children:"Magic School"}),s.jsxs("select",{name:"school_id",id:"school_id",value:e.school_id??"",onChange:u,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm bg-white",children:[s.jsx("option",{value:"",children:"General"}),n.map(d=>s.jsx("option",{value:d.id,children:d.name},d.id))]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"rank",className:"block text-sm font-medium text-gray-700",children:"Rank (0 for Trick)"}),s.jsx("input",{type:"number",name:"rank",id:"rank",min:"0",max:"5",value:e.rank??0,onChange:u,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"casting_time",className:"block text-sm font-medium text-gray-700",children:"Casting Time"}),s.jsx("input",{type:"text",name:"casting_time",id:"casting_time",value:e.casting_time||"",onChange:u,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"range",className:"block text-sm font-medium text-gray-700",children:"Range"}),s.jsx("input",{type:"text",name:"range",id:"range",value:e.range||"",onChange:u,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"duration",className:"block text-sm font-medium text-gray-700",children:"Duration"}),s.jsx("input",{type:"text",name:"duration",id:"duration",value:e.duration||"",onChange:u,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 items-end",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"willpower_cost",className:"block text-sm font-medium text-gray-700",children:"Willpower Cost"}),s.jsx("input",{type:"number",name:"willpower_cost",id:"willpower_cost",min:"0",value:e.willpower_cost??0,onChange:u,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"dice",className:"block text-sm font-medium text-gray-700",children:"Dice"}),s.jsx("input",{type:"text",name:"dice",id:"dice",value:e.dice||"",onChange:u,placeholder:"e.g., D6, 2D8",className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm"})]}),s.jsxs("div",{className:"flex items-center h-11",children:[s.jsx("input",{type:"checkbox",name:"power_level",id:"power_level",checked:e.power_level==="yes",onChange:c,className:"h-4 w-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),s.jsx("label",{htmlFor:"power_level",className:"ml-2 block text-sm font-medium text-gray-700",children:"Has Power Levels?"})]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"prerequisite",className:"block text-sm font-medium text-gray-700",children:"Learning Prerequisite (JSON or leave empty)"}),s.jsx("textarea",{name:"prerequisite",id:"prerequisite",rows:6,value:r,onChange:l,placeholder:'JSON for learning, e.g., {"type": "spell", "name": "Light"}. Leave empty for no prerequisite.',className:`mt-1 block w-full border rounded-md shadow-sm py-2 px-3 focus:outline-none sm:text-sm ${i?"border-red-500 focus:border-red-500 focus:ring-red-500":"border-gray-300 focus:border-blue-500 focus:ring-blue-500"}`}),i&&s.jsx("p",{className:"mt-2 text-sm text-red-600",children:i}),s.jsxs("p",{className:"mt-1 text-xs text-gray-500",children:["Use JSON format for learning prerequisites. Examples: ",s.jsx("br",{}),s.jsx("code",{children:'{"type": "anySchool"}'})," ",s.jsx("br",{}),s.jsx("code",{children:'{"type": "spell", "name": "Example Spell"}'})," ",s.jsx("br",{}),s.jsx("code",{children:'{"type": "logical", "operator": "AND", "conditions": [...]}'})]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"requirement",className:"block text-sm font-medium text-gray-700",children:"Casting Requirement (Text or leave empty)"}),s.jsx("textarea",{name:"requirement",id:"requirement",rows:3,value:e.requirement||"",onChange:u,placeholder:"e.g., Requires a free hand, or Verbal component only. Leave empty if none.",className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm"}),s.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Describe any requirements for casting the spell (e.g., components, conditions)."})]})]})}const ine=({entry:e,onChange:t})=>s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"skill-name",className:"block text-sm font-medium text-gray-700 mb-1",children:"Skill Name"}),s.jsx("input",{id:"skill-name",type:"text",value:e.name||"",onChange:n=>t("name",n.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"skill-description",className:"block text-sm font-medium text-gray-700 mb-1",children:"Description (Optional)"}),s.jsx("textarea",{id:"skill-description",value:e.description||"",onChange:n=>t("description",n.target.value),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500"})]}),s.jsxs("div",{className:"flex items-center gap-3 pt-2",children:[s.jsx("input",{id:"is_magic_skill",type:"checkbox",checked:e.is_magic||!1,onChange:n=>t("is_magic",n.target.checked),className:"h-4 w-4 rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"is_magic_skill",className:"text-sm font-medium text-gray-900",children:"Is this a magic skill?"}),s.jsx("p",{className:"text-xs text-gray-500",children:"Check if this skill is related to magic or spellcasting."})]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"skill-attribute",className:"block text-sm font-medium text-gray-700 mb-1",children:"Key Attribute (Optional)"}),s.jsx("input",{id:"skill-attribute",type:"text",value:e.attribute||"",onChange:n=>t("attribute",n.target.value||null),placeholder:"e.g., STR, AGL, WIL...",className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500"}),s.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"The primary attribute associated with this skill."})]}),e.created_at&&s.jsx("div",{className:"mt-4 pt-2 border-t border-gray-200",children:s.jsxs("p",{className:"text-xs text-gray-500",children:["Created: ",new Date(e.created_at).toLocaleString()]})})]}),one=["Small","Normal","Large","Huge","Swarm"],Z2=()=>({FEROCITY:0,SIZE:"Normal",MOVEMENT:0,ARMOR:0,HP:0}),lne=()=>({id:crypto.randomUUID(),roll_values:"",name:"",description:"",effects:[]}),une=()=>({id:crypto.randomUUID(),roll_values:"",name:"",description:""});function cne({entry:e,onChange:t}){const[n,r]=E.useState({...e,stats:e.stats||Z2(),attacks:(e.attacks||[]).map(h=>({...h,id:h.id||crypto.randomUUID(),effects:(h.effects||[]).map(f=>({...f,id:f.id||crypto.randomUUID()}))}))});E.useEffect(()=>{r({...e,stats:e.stats||Z2(),attacks:(e.attacks||[]).map(h=>({...h,id:h.id||crypto.randomUUID(),effects:(h.effects||[]).map(f=>({...f,id:f.id||crypto.randomUUID()}))}))})},[e]);const a=E.useCallback((h,f)=>{const m={...n,[h]:f};r(m),t(h,f)},[n,t]),i=E.useCallback((h,f)=>{const m={...n.stats,[h]:f};a("stats",m)},[n.stats,a]),o=E.useCallback(()=>{const h=[...n.attacks,lne()];a("attacks",h)},[n.attacks,a]),l=E.useCallback((h,f,m)=>{const v=[...n.attacks];v[h]={...v[h],[f]:m},a("attacks",v)},[n.attacks,a]),u=E.useCallback(h=>{const f=n.attacks.filter((m,v)=>v!==h);a("attacks",f)},[n.attacks,a]),c=E.useCallback(h=>{const f=[...n.attacks];f[h].effects=[...f[h].effects||[],une()],a("attacks",f)},[n.attacks,a]),d=E.useCallback((h,f,m,v)=>{const y=[...n.attacks];y[h].effects&&(y[h].effects[f]={...y[h].effects[f],[m]:v},a("attacks",y))},[n.attacks,a]),p=E.useCallback((h,f)=>{const m=[...n.attacks];m[h].effects&&(m[h].effects=m[h].effects.filter((v,y)=>y!==f),a("attacks",m))},[n.attacks,a]);return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Name"}),s.jsx("input",{type:"text",value:n.name||"",onChange:h=>a("name",h.target.value),className:"w-full px-3 py-2 border rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Category"}),s.jsx("input",{type:"text",value:n.category||"",onChange:h=>a("category",h.target.value),placeholder:"e.g., Beast, Undead, Humanoid",className:"w-full px-3 py-2 border rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),s.jsx("textarea",{value:n.description||"",onChange:h=>a("description",h.target.value),rows:4,className:"w-full px-3 py-2 border rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500"})]}),s.jsxs("div",{className:"p-4 border rounded-md shadow-sm",children:[s.jsx("h3",{className:"text-lg font-semibold mb-3 text-gray-800",children:"Statistics"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Ferocity"}),s.jsx("input",{type:"number",value:n.stats.FEROCITY,onChange:h=>i("FEROCITY",parseInt(h.target.value,10)||0),className:"w-full px-3 py-2 border rounded-md"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Size"}),s.jsx("select",{value:n.stats.SIZE,onChange:h=>i("SIZE",h.target.value),className:"w-full px-3 py-2 border rounded-md",children:one.map(h=>s.jsx("option",{value:h,children:h},h))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Movement"}),s.jsx("input",{type:"number",value:n.stats.MOVEMENT,onChange:h=>i("MOVEMENT",parseInt(h.target.value,10)||0),className:"w-full px-3 py-2 border rounded-md"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Armor"}),s.jsx("input",{type:"number",value:n.stats.ARMOR,onChange:h=>i("ARMOR",parseInt(h.target.value,10)||0),className:"w-full px-3 py-2 border rounded-md"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"HP"}),s.jsx("input",{type:"number",value:n.stats.HP,onChange:h=>i("HP",parseInt(h.target.value,10)||0),className:"w-full px-3 py-2 border rounded-md"})]})]}),s.jsxs("div",{className:"mt-4",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Effects Summary"}),s.jsx("textarea",{value:n.effectsSummary||"",onChange:h=>a("effectsSummary",h.target.value),rows:3,placeholder:"Describe any special effects or abilities here...",className:"w-full px-3 py-2 border rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500"})]})]}),s.jsxs("div",{className:"p-4 border rounded-md shadow-sm",children:[s.jsxs("div",{className:"flex justify-between items-center mb-3",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Attacks (D6 Rollable Table)"}),s.jsx(V,{variant:"secondary",size:"sm",icon:Yc,onClick:o,children:"Add Attack"})]}),n.attacks.length===0&&s.jsx("p",{className:"text-gray-500",children:'No attacks defined. Click "Add Attack" to create one.'}),n.attacks.map((h,f)=>s.jsxs("div",{className:"p-3 border rounded-md mb-4 bg-gray-50",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3 mb-2",children:[s.jsx("input",{type:"text",placeholder:"Roll Values (e.g., 1, 2-3)",value:h.roll_values,onChange:m=>l(f,"roll_values",m.target.value),className:"px-3 py-2 border rounded-md"}),s.jsx("input",{type:"text",placeholder:"Attack Name",value:h.name,onChange:m=>l(f,"name",m.target.value),className:"md:col-span-2 px-3 py-2 border rounded-md"})]}),s.jsx("textarea",{placeholder:"Attack Description",value:h.description,onChange:m=>l(f,"description",m.target.value),rows:2,className:"w-full px-3 py-2 border rounded-md mb-2"}),s.jsxs("div",{className:"ml-4 mt-2 p-3 border-l-2 border-gray-200",children:[s.jsxs("div",{className:"flex justify-between items-center mb-2",children:[s.jsx("h4",{className:"text-md font-semibold text-gray-700",children:"Effects (Optional D6 Table)"}),s.jsx(V,{variant:"outline",size:"xs",icon:Yc,onClick:()=>c(f),children:"Add Effect"})]}),h.effects.length===0&&s.jsx("p",{className:"text-gray-500",children:'No effects for this attack. Click "Add Effect" to create one.'}),h.effects.map((m,v)=>s.jsxs("div",{className:"p-2 border rounded-md mb-2 bg-white",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-2 mb-1",children:[s.jsx("input",{type:"text",placeholder:"Roll (e.g., 1-2)",value:m.roll_values,onChange:y=>d(f,v,"roll_values",y.target.value),className:"px-2 py-1 border rounded-md text-sm"}),s.jsx("input",{type:"text",placeholder:"Effect Name",value:m.name,onChange:y=>d(f,v,"name",y.target.value),className:"md:col-span-2 px-2 py-1 border rounded-md text-sm"})]}),s.jsx("textarea",{placeholder:"Effect Description",value:m.description,onChange:y=>d(f,v,"description",y.target.value),rows:1,className:"w-full px-2 py-1 border rounded-md text-sm"}),s.jsx("div",{className:"text-right mt-1",children:s.jsx(V,{variant:"danger",size:"xs",icon:Cn,onClick:()=>p(f,v),children:"Remove Effect"})})]},m.id))]}),s.jsx("div",{className:"text-right",children:s.jsx(V,{variant:"danger",size:"sm",icon:Cn,onClick:()=>u(f),children:"Remove Attack"})})]},h.id))]})]})}const Jg=({title:e,items:t,onAdd:n,onRemove:r,onUpdate:a})=>s.jsxs("div",{className:"space-y-3",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:e}),t.map((i,o)=>s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"text",value:i,onChange:l=>a(o,l.target.value),className:"w-full px-3 py-2 border rounded-md flex-grow",placeholder:`Enter ${e.replace(/s$/,"").toLowerCase()}...`}),s.jsx(V,{variant:"danger",size:"sm",icon:Cn,onClick:()=>r(o),"aria-label":`Remove ${e.slice(0,-1)}`})]},o)),s.jsxs(V,{variant:"secondary",size:"sm",icon:Ht,onClick:n,children:["Add ",e.replace(/s$/,"")]})]}),dne=({entry:e,onChange:t})=>{const n=(r,a,i,o)=>{const l=[...e[r]||[]];switch(a){case"add":l.push("");break;case"remove":i!==void 0&&l.splice(i,1);break;case"update":i!==void 0&&o!==void 0&&(l[i]=o);break}t(r,l)};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"bio-name",className:"block text-sm font-medium text-gray-700",children:"Set Name"}),s.jsx("input",{id:"bio-name",type:"text",value:e.name||"",onChange:r=>t("name",r.target.value),className:"mt-1 w-full px-3 py-2 border rounded-md",placeholder:"e.g., General, Human Commoner, Elven Ranger"}),s.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"A unique name for this collection of bio options."})]}),s.jsx(Jg,{title:"Appearance Options",items:e.appearance||[],onAdd:()=>n("appearance","add"),onRemove:r=>n("appearance","remove",r),onUpdate:(r,a)=>n("appearance","update",r,a)}),s.jsx(Jg,{title:"Mementos",items:e.mementos||[],onAdd:()=>n("mementos","add"),onRemove:r=>n("mementos","remove",r),onUpdate:(r,a)=>n("mementos","update",r,a)}),s.jsx(Jg,{title:"Flaws / Weak Spots",items:e.flaws||[],onAdd:()=>n("flaws","add"),onRemove:r=>n("flaws","remove",r),onUpdate:(r,a)=>n("flaws","update",r,a)})]})};function pne(e){const[t,n]=E.useState([]),[r,a]=E.useState(!0),[i,o]=E.useState(null),[l,u]=E.useState(e),c=E.useCallback(m=>{switch(m){case"spells":return"game_spells";case"items":return"game_items";case"abilities":return"heroic_abilities";case"kin":return"kin";case"profession":return"professions";case"skills":return"game_skills";case"monsters":return"monsters";case"bio":return"bio_data";default:throw console.error(`Invalid data category passed to getTableName: ${m}`),new Error(`Invalid data category: ${m}`)}},[]),d=E.useCallback(async m=>{a(!0),o(null);let v;try{v=c(m),console.log(`[useGameData] Attempting to load category: ${m}, using table: ${v}`);let y=se.from(v);m==="spells"?y=y.select(`
                *,
                magic_schools ( name )
              `):y=y.select("*"),y=y.order("name"),console.log(`[useGameData] Executing query for table: ${v}`);const{data:g,error:x}=await y;if(x)throw console.error(`[useGameData] Supabase fetch error for ${v}:`,x),x;const w=(g||[]).map(k=>{var T;let S={...k};if(m==="spells"&&(S.magic_schools=(T=k.magic_schools)==null?void 0:T.name),m==="abilities"&&typeof k.requirement=="string")try{S.requirement=JSON.parse(k.requirement)}catch{}return S});console.log(`[useGameData] Loaded ${w.length} entries for ${m} from ${v}`),n(w)}catch(y){const g=v||m;console.error(`[useGameData] Error in loadEntries for ${g}:`,y);const x=(y==null?void 0:y.message)||`Failed to load ${g}`,w=y!=null&&y.details?`: ${y.details}`:"";o(`${x}${w}`),n([])}finally{a(!1)}},[c]),p=E.useCallback(async(m,v,y,g)=>{let x="";try{g(null),a(!0),x=c(m);const{id:w,...k}=v;let S={...k};if(!S.name||String(S.name).trim()==="")throw new Error(`Cannot save ${m} without a name.`);if(m==="abilities"&&(S.willpower_cost=S.willpower_cost===""||S.willpower_cost===void 0?null:Number(S.willpower_cost),typeof S.requirement=="object"&&S.requirement!==null?Object.keys(S.requirement).length>0?S.requirement=JSON.stringify(S.requirement):S.requirement=null:(S.requirement===""||S.requirement===void 0)&&(S.requirement=null),S.kin=S.kin||null,S.profession=S.profession||null),m==="spells"&&(S.rank=Number(S.rank??0),S.willpower_cost=Number(S.willpower_cost??0),S.school_id=S.school_id||null,S.requirement=S.requirement||null),m==="skills"&&(S.attribute=S.attribute||null),m==="monsters"){const I=v;if(S.stats=I.stats||{FEROCITY:0,SIZE:"Normal",MOVEMENT:0,ARMOR:0,HP:0},S.attacks=I.attacks||[],Array.isArray(S.attacks)&&(S.attacks=S.attacks.map(C=>{const{id:N,effects:O,...D}=C;return Array.isArray(O)&&(D.effects=O.map(B=>{const{id:j,...P}=B;return P})),D})),!w){const{data:C,error:N}=await se.auth.getSession();if(N||!C.session)throw new Error("User not authenticated. Cannot save monster.");S.created_by=C.session.user.id}}console.log(`[useGameData] Saving entry to ${x} (ID: ${w||"new"}):`,S);let T=null,A=null;if(w){const{data:I,error:C}=await se.from(x).update(S).eq("id",w).select().single();T=C,A=I}else{const{data:I,error:C}=await se.from(x).insert([S]).select().single();T=C,A=I}if(T)throw console.error(`[useGameData] Supabase Save Error (${x}):`,T),T;A?(console.log(`[useGameData] Save operation successful for ${m} (ID: ${A.id})`),y(A)):(console.warn(`[useGameData] Save operation for ${m} (ID: ${w||"new"}) did not return data. Using input data for callback.`),y({...v,id:w||(A==null?void 0:A.id)})),await d(m)}catch(w){const k=x||m,S=(w==null?void 0:w.message)||(typeof w=="string"?w:"An unexpected error occurred during save."),T=w!=null&&w.details?` (Details: ${w.details})`:"",A=w!=null&&w.code?` (Code: ${w.code})`:"",I=`Error saving ${k}: ${S}${T}${A}`;console.error(`[useGameData] Error in handleSave for ${k}:`,w),g(I)}finally{a(!1)}},[c,d]),h=E.useCallback(async(m,v)=>{if(!window.confirm(`Are you sure you want to delete this ${m} entry (ID: ${v})? This action cannot be undone.`))return;let y="";try{o(null),a(!0),y=c(m),console.log(`[useGameData] Deleting entry from ${y}, ID: ${v}`);const{error:g}=await se.from(y).delete().eq("id",v);if(g)throw console.error(`[useGameData] Error deleting from ${y}:`,g),g;console.log(`[useGameData] Delete successful for ID: ${v} in ${m}`),await d(m)}catch(g){const x=y||m,w=(g==null?void 0:g.message)||"An unexpected error occurred during deletion.",k=g!=null&&g.details?` (Details: ${g.details})`:"",S=g!=null&&g.code?` (Code: ${g.code})`:"",T=`Error deleting ${x}: ${w}${k}${S}`;console.error(`[useGameData] Error in handleDelete for ${x}:`,g),o(T)}finally{a(!1)}},[c,d]),f=E.useCallback(m=>{console.log(`[useGameData] Switching category from ${l} to ${m}`),u(m),d(m)},[l,d]);return E.useEffect(()=>{console.log(`[useGameData] Initial load effect for category: ${e}`);try{c(e),d(e)}catch(m){console.error(`[useGameData] Invalid initial category: ${e}`,m),o(`Invalid initial category: ${e}`),a(!1)}},[e,c,d]),{entries:t,loading:r,error:i,activeCategory:l,switchCategory:f,handleSave:p,handleDelete:h}}const hne=[{id:"items",label:"Items",icon:Or},{id:"spells",label:"Spells",icon:zh},{id:"abilities",label:"Abilities",icon:Tn},{id:"kin",label:"Kin",icon:Cr},{id:"profession",label:"Professions",icon:mP},{id:"skills",label:"Skills",icon:$P},{id:"monsters",label:"Monsters",icon:ds},{id:"bio",label:"Bio Options",icon:pP}],X2=e=>{try{if(Mx(e)){const t=Object.entries(e);return t.length===0?"None":t.map(([n,r])=>`${n}${r!==null?` (Lvl ${r})`:""}`).join(", ")||"None"}if(typeof e=="string"&&e)return e;if(typeof e=="object"&&e!==null){const t=Object.keys(e);if(t.length>0)return/^[0-9a-fA-F]{8}-/.test(t[0])?`${t.length} skill(s) (Legacy UUIDs)`:t.length===1&&typeof e[t[0]]=="object"?`Requirement: ${t[0]} (Invalid Format)`:`${t.length} requirement(s) (Unknown format)`}return"None"}catch(t){return console.error("Error formatting requirement:",e,t),"Error: Invalid Format"}},fne=()=>{const[e,t]=E.useState(null),[n,r]=E.useState(""),[a,i]=E.useState(null),[o,l]=E.useState(""),[u,c]=E.useState([]),[d,p]=E.useState([]),[h,f]=E.useState([]),{entries:m,loading:v,error:y,handleSave:g,handleDelete:x,switchCategory:w,activeCategory:k}=pne("items"),S=E.useCallback(async(j,P)=>{const{data:Y,error:K}=await se.from(j).select("category");K?console.error(`Error fetching ${j} categories:`,K):Y&&P([...new Set(Y.map($=>$.category).filter(Boolean))])},[]),T=E.useCallback(async()=>{const{data:j,error:P}=await se.from("magic_schools").select("id, name").order("name");P?console.error("Error fetching magic schools:",P):j&&p(j)},[]);E.useEffect(()=>{l(""),k==="items"?S("game_items",c):k==="spells"?T():k==="monsters"&&S("monsters",f)},[k,S,T]);const A=E.useCallback(()=>{t(null),i(null),k==="items"&&S("game_items",c),k==="monsters"&&S("monsters",f)},[k,S]),I=E.useCallback(async()=>{if(!e)return;let j=e;if(k==="spells"){const{magic_schools:P,...Y}=e;j=Y}await g(k,j,A,i)},[e,k,g,A]),C=E.useCallback(async j=>{j&&window.confirm("Are you sure you want to delete this entry?")&&(await x(k,j),k==="items"&&S("game_items",c),k==="monsters"&&S("monsters",f))},[k,x,S]),N=E.useCallback((j,P)=>{t(Y=>Y?{...Y,[j]:P}:null)},[]),O=E.useCallback(()=>{i(null);let j={name:""};switch(k){case"spells":j={...j,description:"",rank:1,school_id:null,casting_time:"",range:"",duration:"",willpower_cost:0};break;case"items":j={...j,description:"",category:"",cost:0,weight:0};break;case"abilities":j={...j,description:"",willpower_cost:null,requirement:{},profession:null,kin:null};break;case"kin":j={...j,description:"",key_attribute:"",typical_profession:"",kin_abilities:[]};break;case"profession":j={...j,description:"",key_attribute:"",skills:[]};break;case"skills":j={...j,description:"",attribute:null};break;case"monsters":j={name:"",description:"",category:"",stats:{FEROCITY:0,SIZE:"Normal",MOVEMENT:0,ARMOR:0,HP:10},attacks:[]};break;case"bio":j={name:"",appearance:[],mementos:[],flaws:[]};break}t(j)},[k]),D=E.useMemo(()=>m.filter(j=>{var Y,K,$,z;if(!((Y=j.name)==null?void 0:Y.toLowerCase().includes(n.toLowerCase())))return!1;if(o){if(k==="items")return((K=j.category)==null?void 0:K.toLowerCase())===o.toLowerCase();if(k==="spells"){if(o==="General")return!j.school_id;const _=d.find(U=>U.id===j.school_id);return(($=_==null?void 0:_.name)==null?void 0:$.toLowerCase())===o.toLowerCase()}if(k==="monsters")return((z=j.category)==null?void 0:z.toLowerCase())===o.toLowerCase()}return!0}),[m,n,o,k,d]),B=E.useCallback(()=>{t(null),i(null)},[]);return{editingEntry:e,setEditingEntry:t,searchTerm:n,setSearchTerm:r,saveError:a,setSaveError:i,selectedSubCategory:o,setSelectedSubCategory:l,itemCategories:u,magicSchools:d,monsterCategories:h,entries:m,loading:v,loadError:y,handleSave:I,handleDelete:C,switchCategory:w,activeCategory:k,handleFieldChange:N,createNewEntry:O,filteredEntries:D,closeModal:B}},mne=({activeCategory:e,switchCategory:t,loading:n})=>s.jsx("div",{className:"flex gap-2 border-b border-gray-200 overflow-x-auto pb-1 no-scrollbar",children:hne.map(({id:r,label:a,icon:i})=>s.jsxs("button",{onClick:()=>t(r),className:`
                    px-4 py-2.5 text-sm font-medium rounded-t-lg flex items-center gap-2 whitespace-nowrap transition-colors
                    ${e===r?"bg-white border-x border-t border-gray-200 text-indigo-600 border-b-white -mb-px relative z-10":"text-gray-500 hover:text-gray-800 hover:bg-gray-50"}
                `,disabled:n,children:[s.jsx(i,{className:"w-4 h-4"}),a]},r))}),gne=({searchTerm:e,setSearchTerm:t,activeCategory:n,loading:r,currentSubCategories:a,selectedSubCategory:i,setSelectedSubCategory:o})=>s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-6 p-1",children:[s.jsxs("div",{className:"relative flex-1",children:[s.jsx(mr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),s.jsx("input",{type:"text",placeholder:`Search ${n}...`,value:e,onChange:l=>t(l.target.value),className:"w-full pl-9 pr-4 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-indigo-500 focus:border-transparent outline-none transition-shadow",disabled:r})]}),a.length>0&&s.jsxs("div",{className:"relative flex-1 sm:flex-none sm:w-56",children:[s.jsx(Td,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),s.jsxs("select",{value:i,onChange:l=>o(l.target.value),className:"w-full pl-9 pr-8 py-2 border border-gray-300 rounded-lg text-sm appearance-none bg-white focus:ring-2 focus:ring-indigo-500 focus:border-transparent outline-none cursor-pointer",disabled:r,children:[s.jsxs("option",{value:"",children:["All ",n==="spells"?"Schools":"Categories"]}),a.map(l=>s.jsx("option",{value:l,children:l},l))]}),s.jsx("div",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-500",children:s.jsx("svg",{className:"fill-current h-4 w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",children:s.jsx("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})})})]})]}),bne=({columns:e,entries:t,onEdit:n,onDelete:r,loading:a,activeCategory:i,searchTerm:o,selectedSubCategory:l,loadError:u})=>s.jsxs("div",{className:"border border-gray-200 rounded-lg overflow-hidden shadow-sm bg-white",children:[s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full min-w-[600px]",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"bg-gray-50 border-b border-gray-200",children:[e.map(c=>s.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold text-gray-500 uppercase tracking-wider",children:c.header},c.header)),s.jsx("th",{className:"px-4 py-3 text-right text-xs font-bold text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),s.jsx("tbody",{className:"divide-y divide-gray-200",children:t.map(c=>s.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[e.map(d=>s.jsx("td",{className:`px-4 py-3 text-sm text-gray-700 align-top ${d.className||""}`,title:d.titleAccessor?d.titleAccessor(c):void 0,children:d.accessor(c)},d.header)),s.jsx("td",{className:"px-4 py-3 text-sm align-top text-right whitespace-nowrap",children:s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx(V,{variant:"secondary",size:"sm",icon:Cd,onClick:()=>n(c),disabled:!c.id,children:"Edit"}),s.jsx(V,{variant:"danger_outline",size:"sm",icon:Cn,onClick:()=>c.id&&r(c.id),disabled:!c.id||a,children:"Delete"})]})})]},c.id||c.name))})]})}),t.length===0&&!a&&!u&&s.jsxs("div",{className:"text-center py-12 bg-white",children:[s.jsx("div",{className:"text-gray-400 mb-2",children:o||l?s.jsx(mr,{className:"w-8 h-8 mx-auto opacity-20"}):s.jsx(Ht,{className:"w-8 h-8 mx-auto opacity-20"})}),s.jsx("p",{className:"text-gray-500 text-sm",children:o||l?`No ${i} found matching your filters.`:`No entries found for '${i}'.`})]})]}),yne=({entry:e,onClose:t,onSave:n,loading:r,activeCategory:a,saveError:i,onFieldChange:o,magicSchools:l})=>{const u=E.useCallback(()=>{if(!e)return null;switch(a){case"spells":return s.jsx(sne,{entry:e,onChange:o,magicSchools:l});case"items":return s.jsx(ene,{entry:e,onChange:o});case"abilities":return s.jsx(ane,{entry:e,onChange:o});case"kin":return s.jsx(tne,{entry:e,onChange:o});case"profession":return s.jsx(rne,{entry:e,onChange:o});case"skills":return s.jsx(ine,{entry:e,onChange:o});case"monsters":return s.jsx(cne,{entry:e,onChange:o});case"bio":return s.jsx(dne,{entry:e,onChange:o});default:return s.jsx("p",{className:"text-gray-500 italic text-center py-8",children:"No form available for this category."})}},[e,a,o,l]);return s.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center p-4 z-50",children:s.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-2xl max-h-[90vh] flex flex-col animate-in zoom-in-95 duration-200",children:[s.jsxs("div",{className:"flex justify-between items-center px-6 py-4 border-b border-gray-200",children:[s.jsx("h3",{className:"text-lg font-bold text-gray-900 capitalize",children:e.id?`Edit ${a}`:`New ${a}`}),s.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 hover:bg-gray-100 p-1 rounded-full transition-colors",children:s.jsx(mt,{className:"w-5 h-5"})})]}),s.jsxs("div",{className:"flex-grow overflow-y-auto p-6",children:[i&&s.jsx("div",{className:"mb-6",children:s.jsx(He,{message:i})}),u()]}),s.jsxs("div",{className:"flex justify-end gap-3 px-6 py-4 border-t border-gray-200 bg-gray-50 rounded-b-xl",children:[s.jsx(V,{variant:"ghost",onClick:t,disabled:r,children:"Cancel"}),s.jsx(V,{variant:"primary",icon:vn,onClick:n,disabled:r,children:r?"Saving...":e.id?"Update":"Create"})]})]})})};function _L(){const{editingEntry:e,setEditingEntry:t,searchTerm:n,setSearchTerm:r,saveError:a,setSaveError:i,selectedSubCategory:o,setSelectedSubCategory:l,itemCategories:u,magicSchools:c,monsterCategories:d,entries:p,loading:h,loadError:f,handleSave:m,handleDelete:v,switchCategory:y,activeCategory:g,handleFieldChange:x,createNewEntry:w,filteredEntries:k,closeModal:S}=fne(),T=E.useMemo(()=>g==="items"?u.sort():g==="spells"?["General",...c.map(I=>I.name)].sort():g==="monsters"?d.sort():[],[g,u,c,d]),A=E.useMemo(()=>{const I=[{header:"Name",accessor:N=>s.jsx("span",{className:"font-medium text-gray-900",children:N.name})}],C="text-sm text-gray-500 max-w-xs truncate";switch(g){case"spells":return[...I,{header:"School",accessor:N=>{if(!N.school_id)return s.jsx("span",{className:"text-gray-400 italic",children:"General"});const O=c.find(D=>D.id===N.school_id);return s.jsx("span",{className:"text-indigo-600 font-medium",children:(O==null?void 0:O.name)||"Unknown"})}},{header:"Rank",accessor:N=>N.rank===0?s.jsx("span",{className:"px-2 py-0.5 bg-gray-100 rounded text-xs",children:"Trick"}):`Rank ${N.rank}`},{header:"Cost",accessor:N=>`${N.willpower_cost} WP`}];case"items":return[...I,{header:"Category",accessor:N=>s.jsx("span",{className:"capitalize",children:N.category})},{header:"Cost",accessor:N=>`${N.cost}g`},{header:"Weight",accessor:N=>N.weight}];case"abilities":return[...I,{header:"Cost",accessor:N=>N.willpower_cost?`${N.willpower_cost} WP`:s.jsx("span",{className:"text-gray-400",children:"-"})},{header:"Requirement",accessor:N=>X2(N.requirement),className:C,titleAccessor:N=>X2(N.requirement)}];case"kin":return[...I,{header:"Key Attribute",accessor:N=>s.jsx("span",{className:"font-mono text-xs bg-gray-100 px-2 py-1 rounded",children:N.key_attribute})},{header:"Typical Profession",accessor:N=>N.typical_profession}];case"profession":return[...I,{header:"Key Attribute",accessor:N=>s.jsx("span",{className:"font-mono text-xs bg-gray-100 px-2 py-1 rounded",children:N.key_attribute})},{header:"Skills",accessor:N=>Array.isArray(N.skills)?N.skills.join(", "):"",className:C}];case"skills":return[...I,{header:"Attribute",accessor:N=>N.attribute?s.jsx("span",{className:"font-mono text-xs bg-gray-100 px-2 py-1 rounded",children:N.attribute}):s.jsx("span",{className:"text-gray-400",children:"-"})},{header:"Description",accessor:N=>N.description,className:C,titleAccessor:N=>N.description||""}];case"monsters":return[...I,{header:"Category",accessor:N=>s.jsx("span",{className:"capitalize",children:N.category})},{header:"HP",accessor:N=>{var O;return s.jsx("span",{className:"font-bold text-red-600",children:(O=N.stats)==null?void 0:O.HP})}},{header:"Armor",accessor:N=>{var O;return(O=N.stats)==null?void 0:O.ARMOR}},{header:"Size",accessor:N=>{var O;return(O=N.stats)==null?void 0:O.SIZE}}];case"bio":return[...I,{header:"Appearance",accessor:N=>`${(N.appearance||[]).length} options`},{header:"Mementos",accessor:N=>`${(N.mementos||[]).length} options`},{header:"Flaws",accessor:N=>`${(N.flaws||[]).length} options`}];default:return I}},[g,c]);return s.jsxs("div",{className:"max-w-7xl mx-auto p-4 md:p-8 space-y-8 min-h-[calc(100vh-4rem)]",children:[s.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4 border-b border-gray-200 pb-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 tracking-tight",children:"Game Data"}),s.jsx("p",{className:"text-gray-500 mt-1",children:"Manage core rules, items, and compendium data."})]}),s.jsx(V,{variant:"primary",icon:Ht,onClick:w,disabled:h,className:"shadow-sm",children:"Add Entry"})]}),f&&s.jsx(He,{message:`Error loading data: ${f}`}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:[s.jsx("div",{className:"bg-gray-50 px-4 pt-2 border-b border-gray-200",children:s.jsx(mne,{activeCategory:g,switchCategory:y,loading:h})}),s.jsx("div",{className:"p-4 bg-white border-b border-gray-100",children:s.jsx(gne,{searchTerm:n,setSearchTerm:r,activeCategory:g,loading:h,currentSubCategories:T,selectedSubCategory:o,setSelectedSubCategory:l})}),s.jsx("div",{children:h&&!p.length?s.jsx("div",{className:"flex justify-center items-center h-64 text-gray-400",children:s.jsxs("p",{children:["Loading ",g,"..."]})}):s.jsx(bne,{columns:A,entries:k,onEdit:I=>{i(null),t(I)},onDelete:v,loading:h,activeCategory:g,searchTerm:n,selectedSubCategory:o,loadError:f})})]}),e&&s.jsx(yne,{entry:e,onClose:S,onSave:m,loading:h,activeCategory:g,saveError:a,onFieldChange:x,magicSchools:c})]})}function xne(){const{user:e}=cn(),[t,n]=E.useState(!1),[r,a]=E.useState(null),[i,o]=E.useState(""),[l,u]=E.useState(""),[c,d]=E.useState(""),[p,h]=E.useState(null),[f,m]=E.useState(!1),v=async y=>{y.preventDefault();try{if(!i.trim()||!l.trim()||!c.trim()){h("All fields are required");return}if(!e){h("You must be logged in to create or edit entries");return}if(r){const{error:g}=await se.from("compendium").update({title:i,content:l,category:c}).eq("id",r);if(g)throw g}else{const{error:g}=await se.from("compendium").insert([{title:i,content:l,category:c,created_by:e.id}]);if(g)throw g}o(""),u(""),d(""),n(!1),a(null)}catch(g){h(g instanceof Error?g.message:"Failed to save entry")}};return s.jsx("div",{className:"bg-white p-6 rounded-lg shadow",children:s.jsxs("form",{onSubmit:v,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Title"}),s.jsx("input",{type:"text",value:i,onChange:y=>o(y.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Category"}),s.jsx("input",{type:"text",value:c,onChange:y=>d(y.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between items-center mb-1",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Content"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{type:"button",onClick:()=>m(!1),className:`p-2 rounded-lg ${f?"text-gray-600 hover:bg-gray-100":"bg-blue-100 text-blue-700"}`,children:s.jsx(Bf,{className:"w-5 h-5"})}),s.jsx("button",{type:"button",onClick:()=>m(!0),className:`p-2 rounded-lg ${f?"bg-blue-100 text-blue-700":"text-gray-600 hover:bg-gray-100"}`,children:s.jsx(Uf,{className:"w-5 h-5"})})]})]}),f?s.jsx("div",{className:"min-h-[300px] p-4 border border-gray-300 rounded-md bg-white overflow-auto",children:s.jsx(Vl,{content:l})}):s.jsx("textarea",{value:l,onChange:y=>u(y.target.value),rows:12,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent font-mono",placeholder:`# Heading 1
## Heading 2

Regular text with **bold** and *italic* formatting.

> Blockquote for important notes

| Table | Header |
|--------|---------|
| Cell 1 | Cell 2 |`})]}),s.jsxs("div",{className:"flex justify-end gap-4",children:[s.jsx("button",{type:"button",onClick:()=>{n(!1),a(null),o(""),u(""),d(""),m(!1)},className:"px-4 py-2 text-gray-700 hover:bg-gray-100 rounded-lg",children:"Cancel"}),s.jsxs("button",{type:"submit",className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:[s.jsx(vn,{className:"w-5 h-5"}),r?"Update Entry":"Save Entry"]})]})]})})}function vne(){const[e,t]=E.useState("users"),n=()=>{switch(e){case"users":return s.jsx(Vte,{});case"gameData":return s.jsx(_L,{});case"compendium":return s.jsx(xne,{});default:return null}},r=[{key:"users",label:"Users",Icon:zf}];return s.jsxs("div",{className:"",children:[r.length>0&&s.jsx("nav",{className:"border-b",children:s.jsx("ul",{className:"flex -mb-px",children:r.map(({key:a,label:i,Icon:o})=>s.jsx("li",{className:"mr-6",children:s.jsxs("button",{onClick:()=>t(a),className:e===a?"flex items-center py-2 px-4 text-blue-600 border-b-2 border-blue-600 font-semibold":"flex items-center py-2 px-4 text-gray-600 hover:text-gray-800 hover:border-b-2 hover:border-gray-300",children:[s.jsx(o,{className:"w-5 h-5 mr-2"}),i]})},a))})}),s.jsx("div",{className:"mt-6 bg-white p-6 rounded-lg shadow",children:n()})]})}const zp=[{id:"profile",label:"Profile",icon:ms,description:"Manage your personal information",category:"account"},{id:"game-data",label:"Game Data",icon:Or,description:"Edit spells, items, and monsters",adminOnly:!0,category:"admin"},{id:"admin",label:"Admin Panel",icon:Tn,description:"User management and system logs",adminOnly:!0,category:"admin"}];function Ene(){const{isAdmin:e}=cn(),[t,n]=E.useState("profile");E.useEffect(()=>{const o=zp.find(l=>l.id===t);o!=null&&o.adminOnly&&!e()&&n("profile")},[t,e]);const r=o=>{const l=zp.find(u=>u.id===o);l&&(!l.adminOnly||e())&&n(o)},a=()=>{if(["admin","game-data"].includes(t)&&!e())return s.jsx(lx,{to:"/settings",replace:!0});switch(t){case"profile":return s.jsx(K2,{});case"appearance":return s.jsx(Pte,{});case"notifications":return s.jsx(Bte,{});case"localization":return s.jsx(Gte,{});case"game-data":return s.jsx(_L,{});case"admin":return s.jsx(vne,{});default:return s.jsx(K2,{})}},i=zp.find(o=>o.id===t);return s.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8 min-h-[calc(100vh-4rem)]",children:[s.jsxs("div",{className:"mb-8",children:[s.jsxs("h1",{className:"text-3xl font-bold text-gray-900 flex items-center gap-3",children:[s.jsx(Uh,{className:"w-8 h-8 text-indigo-600"}),"Settings"]}),s.jsx("p",{className:"text-gray-500 mt-2",children:"Manage your account preferences and system configurations."})]}),s.jsxs("div",{className:"flex flex-col lg:flex-row gap-8",children:[s.jsxs("div",{className:"w-full lg:w-72 flex-shrink-0 space-y-8",children:[s.jsx("nav",{className:"space-y-1",children:zp.filter(o=>!o.adminOnly||e()).map(o=>{const l=t===o.id;return s.jsxs("button",{onClick:()=>r(o.id),className:`
                      w-full flex items-center justify-between px-4 py-3 text-sm font-medium rounded-xl transition-all duration-200
                      ${l?"bg-white text-indigo-600 shadow-sm ring-1 ring-indigo-100":"text-gray-600 hover:bg-gray-100 hover:text-gray-900"}
                    `,children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(o.icon,{size:20,className:l?"text-indigo-600":"text-gray-400"}),s.jsx("span",{children:o.label})]}),l&&s.jsx(wa,{size:16,className:"text-indigo-400"})]},o.id)})}),e()&&s.jsxs("div",{className:"px-4 py-3 bg-indigo-50 rounded-xl border border-indigo-100",children:[s.jsxs("div",{className:"flex items-center gap-2 text-indigo-800 font-bold text-xs uppercase tracking-wide mb-1",children:[s.jsx(Tn,{size:12})," Admin Access"]}),s.jsx("p",{className:"text-xs text-indigo-600",children:"You have elevated privileges."})]})]}),s.jsx("div",{className:"flex-1 min-w-0",children:s.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 overflow-hidden",children:[s.jsxs("div",{className:"border-b border-gray-100 px-6 py-5 bg-gray-50/50",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-800",children:i==null?void 0:i.label}),s.jsx("p",{className:"text-sm text-gray-500 mt-1",children:i==null?void 0:i.description})]}),s.jsx("div",{className:"p-6",children:a()})]})})]})]})}function wne(){const[e,t]=E.useState(!0),[n,r]=E.useState(""),[a,i]=E.useState(""),[o,l]=E.useState(""),[u,c]=E.useState(""),[d,p]=E.useState("player"),[h,f]=E.useState(null),[m,v]=E.useState(null),[y,g]=E.useState({}),[x,w]=E.useState(!1),[k,S]=E.useState(navigator.onLine),{signIn:T,signUp:A}=cn(),I=Mr(),C=gi();E.useEffect(()=>{var P;(P=C.state)!=null&&P.message&&(v(C.state.message),I(C.pathname,{replace:!0,state:{}}))},[C,I]),E.useEffect(()=>{const P=()=>S(!0),Y=()=>S(!1);return window.addEventListener("online",P),window.addEventListener("offline",Y),()=>{window.removeEventListener("online",P),window.removeEventListener("offline",Y)}},[]);const N=()=>{r(""),i(""),l(""),c(""),p("player"),f(null),v(null),g({})},O=()=>{t(!e),N()},D=async()=>{const P=Dte.safeParse({email:n.trim(),password:a});if(!P.success){const Y={};return P.error.errors.forEach(K=>{K.path[0]&&(Y[String(K.path[0])]=K.message)}),g(Y),f("Please fix the errors in the form."),!1}try{w(!0);const{email:Y,password:K}=P.data;return await T(Y,K),!0}catch(Y){return f(Y instanceof Error?Y.message:"Login failed. Please try again."),!1}finally{w(!1)}},B=async()=>{const P=Ote.safeParse({username:o.trim(),email:n.trim(),password:a,confirmPassword:u,role:d});if(!P.success){const Y={};return P.error.errors.forEach(K=>{K.path[0]&&(Y[String(K.path[0])]=K.message)}),g(Y),f("Please fix the errors in the form."),!1}try{w(!0);const{email:Y,password:K,username:$,role:z}=P.data;return await A(Y,K,$,z),v("Registration successful! Please check your email to verify your account before logging in."),t(!0),N(),r(Y),!0}catch(Y){return f(Y instanceof Error?Y.message:"Signup failed. Please try again."),!1}finally{w(!1)}},j=async P=>{if(P.preventDefault(),f(null),v(null),g({}),!k){f("No internet connection");return}e?await D():await B()};return s.jsx("div",{className:"min-h-screen bg-gray-100 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"max-w-md w-full space-y-8",children:[s.jsxs("div",{className:"text-center",children:[s.jsx(Tn,{className:"mx-auto h-12 w-12 text-blue-600"}),s.jsx("h2",{className:"mt-6 text-3xl font-bold text-gray-900",children:e?"Log in to DragonBane":"Create your DragonBane Account"}),s.jsx("p",{className:"mt-2 text-sm text-gray-600",children:e?"Enter your details to access your account":"Fill in the details to register"})]}),!k&&s.jsx("div",{className:"mb-6 rounded-md bg-yellow-50 p-4",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(wt,{className:"h-5 w-5 text-yellow-400 mr-2"}),s.jsxs("div",{className:"ml-3",children:[s.jsx("h3",{className:"text-sm font-medium text-yellow-800",children:"No internet connection"}),s.jsx("p",{className:"mt-2 text-sm text-yellow-700",children:"Please check your internet connection and try again."})]})]})}),h&&s.jsx("div",{className:"rounded-md bg-red-50 p-4",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(wt,{className:"h-5 w-5 text-red-400 mr-2"}),s.jsxs("div",{className:"ml-3",children:[s.jsx("h3",{className:"text-sm font-medium text-red-800",children:e?"Login Error":"Signup Error"}),s.jsx("p",{className:"mt-2 text-sm text-red-700",children:h})]})]})}),m&&s.jsx("div",{className:"rounded-md bg-green-50 p-4",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(wt,{className:"h-5 w-5 text-green-400 mr-2"})," ",s.jsxs("div",{className:"ml-3",children:[s.jsx("h3",{className:"text-sm font-medium text-green-800",children:"Success"}),s.jsx("p",{className:"mt-2 text-sm text-green-700",children:m})]})]})}),s.jsxs("form",{className:"mt-8 space-y-6",onSubmit:j,noValidate:!0,children:[s.jsxs("div",{className:"space-y-4",children:[!e&&s.jsxs("div",{children:[s.jsx("label",{htmlFor:"username",className:"block text-sm font-medium text-gray-700",children:"Username"}),s.jsxs("div",{className:"mt-1 relative",children:[s.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:s.jsx(ms,{className:"h-5 w-5 text-gray-400"})}),s.jsx("input",{id:"username",name:"username",type:"text",required:!0,autoComplete:"username",value:o,onChange:P=>l(P.target.value),className:`pl-10 w-full px-3 py-2 border rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm ${y.username?"border-red-500":"border-gray-300"}`,placeholder:"Choose a username",disabled:x})]}),y.username&&s.jsx("p",{className:"mt-1 text-xs text-red-600",children:y.username})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email address"}),s.jsxs("div",{className:"mt-1 relative",children:[s.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:s.jsx(Nx,{className:"h-5 w-5 text-gray-400"})}),s.jsx("input",{id:"email",name:"email",type:"email",required:!0,autoComplete:"email",value:n,onChange:P=>r(P.target.value),className:`pl-10 w-full px-3 py-2 border rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm ${y.email?"border-red-500":"border-gray-300"}`,placeholder:"Enter email address",disabled:x})]}),y.email&&s.jsx("p",{className:"mt-1 text-xs text-red-600",children:y.email})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Password"}),s.jsxs("div",{className:"mt-1 relative",children:[s.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:s.jsx(hc,{className:"h-5 w-5 text-gray-400"})}),s.jsx("input",{id:"password",name:"password",type:"password",required:!0,autoComplete:e?"current-password":"new-password",value:a,onChange:P=>i(P.target.value),className:`pl-10 w-full px-3 py-2 border rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm ${y.password?"border-red-500":"border-gray-300"}`,placeholder:"Enter password",disabled:x})]}),y.password&&s.jsx("p",{className:"mt-1 text-xs text-red-600",children:y.password})]}),!e&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700",children:"Confirm Password"}),s.jsxs("div",{className:"mt-1 relative",children:[s.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:s.jsx(hc,{className:"h-5 w-5 text-gray-400"})}),s.jsx("input",{id:"confirmPassword",name:"confirmPassword",type:"password",required:!0,autoComplete:"new-password",value:u,onChange:P=>c(P.target.value),className:`pl-10 w-full px-3 py-2 border rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm ${y.confirmPassword?"border-red-500":"border-gray-300"}`,placeholder:"Confirm password",disabled:x})]}),y.confirmPassword&&s.jsx("p",{className:"mt-1 text-xs text-red-600",children:y.confirmPassword})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Register as"}),s.jsxs("div",{className:"mt-2 flex items-center space-x-4",children:[s.jsxs("label",{className:"inline-flex items-center",children:[s.jsx("input",{type:"radio",className:"form-radio text-blue-600",name:"role",value:"player",checked:d==="player",onChange:()=>p("player"),disabled:x}),s.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"Player"})]}),s.jsxs("label",{className:"inline-flex items-center",children:[s.jsx("input",{type:"radio",className:"form-radio text-blue-600",name:"role",value:"dm",checked:d==="dm",onChange:()=>p("dm"),disabled:x}),s.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"Dungeon Master (DM)"})]})]}),y.role&&s.jsx("p",{className:"mt-1 text-xs text-red-600",children:y.role})]})]})]}),s.jsx(V,{type:"submit",variant:"primary",fullWidth:!0,loading:x,disabled:!k||x,icon:e?Sx:zf,iconPosition:"left",children:e?"Log in":"Sign up"})]}),s.jsx("div",{className:"text-sm text-center",children:s.jsx("button",{type:"button",onClick:O,className:"font-medium text-blue-600 hover:text-blue-500 disabled:opacity-50",disabled:x,children:e?"Don't have an account? Sign up":"Already have an account? Log in"})})]})})}const Sne=({type:e})=>s.jsx("span",{className:"font-semibold text-xs uppercase",children:e}),Nne={d4:4,d6:6,d8:8,d10:10,d12:12,d20:20};function Q2(e){return Math.floor(Math.random()*Nne[e])+1}function kne({className:e}){return s.jsx("svg",{className:e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:s.jsx("path",{d:"M21 12a9 9 0 1 1-6.219-8.56"})})}function _ne(){const{showDiceRoller:e,toggleDiceRoller:t,currentConfig:n,dicePool:r,addDie:a,removeLastDie:i,clearDicePool:o,isBoonActive:l,isBaneActive:u,setBoon:c,setBane:d,addRollToHistory:p,rollHistory:h,clearHistory:f}=Kr(),{markSkillThisSession:m}=un(),[v,y]=E.useState([]),[g,x]=E.useState([]),[w,k]=E.useState(null),[S,T]=E.useState(!1),[A,I]=E.useState(void 0),[C,N]=E.useState(!1),[O,D]=E.useState(1),[B,j]=E.useState(!1),[P,Y]=E.useState("..."),K=E.useRef(null),$=(n==null?void 0:n.rollMode)==="skillCheck",z=(n==null?void 0:n.rollMode)==="deathRoll",_=(n==null?void 0:n.rollMode)==="rallyRoll",U=(n==null?void 0:n.rollMode)==="recoveryRoll",X=(n==null?void 0:n.rollMode)==="advancementRoll";E.useEffect(()=>()=>{K.current&&clearInterval(K.current)},[]),E.useEffect(()=>{!l&&!u&&D(1)},[l,u]);const L=()=>{u?(d(!1),c(!0),D(1)):l?O<3?D(ve=>ve+1):(c(!1),D(1)):(c(!0),D(1))},ie=()=>{l?(c(!1),d(!0),D(1)):u?O<3?D(ve=>ve+1):(d(!1),D(1)):(d(!0),D(1))},W=E.useCallback(()=>{if(r.length===0)return;j(!0),y([]),x([]),k(null),T(!1),I(void 0);const ve=r.map(_e=>({type:_e,value:Q2(_e)}));let Ie=[],te=ve.reduce((_e,$e)=>_e+$e.value,0),oe=Number(te),ge=!1,pe,dt=n==null?void 0:n.skillName;if(r.length===1&&r[0]==="d20"){if(l||u){for(let xt=0;xt<O;xt++)Ie.push({type:"d20",value:Q2("d20")});const $e=[ve[0].value,...Ie.map(xt=>xt.value)];oe=l?Math.min(...$e):Math.max(...$e),te=oe}else oe=ve[0].value,te=oe;const _e=oe;_e===1&&(ge=!0,te="Dragon!",pe=!0),_e===20&&(ge=!0,te="Demon!",pe=!1),(n==null?void 0:n.targetValue)!==void 0&&!ge&&($||_||X||z)&&(pe=_e<=n.targetValue),$&&dt&&(_e===1||_e===20)&&m(dt)}else U&&r.length===1&&r[0]==="d6"&&(oe=ve[0].value,te=oe,pe=void 0,ge=!1);let qe=0;K.current&&clearInterval(K.current),K.current=setInterval(()=>{if(qe++,Y(Math.floor(Math.random()*20)+1),qe>6){K.current&&clearInterval(K.current),j(!1),y(ve),x(Ie),k(te),Y(te),T(ge),I(pe);const _e={description:(n==null?void 0:n.description)||`${r.join(", ")} Roll`,dicePool:[...r],results:ve,boonResults:Ie.length>0?Ie:void 0,finalOutcome:te,isBoon:l,isBane:u,targetValue:n==null?void 0:n.targetValue,isSuccess:pe,isCritical:ge,skillName:dt};p(_e),n!=null&&n.onRollComplete&&n.onRollComplete(_e),n!=null&&n.onRoll&&n.onRoll({total:oe})}},60)},[r,l,u,O,n,p,m,U,$,_,X,z]);if(E.useEffect(()=>{e||(y([]),x([]),k(null),Y("..."),T(!1),I(void 0),N(!1),j(!1),K.current&&clearInterval(K.current))},[e]),!e)return null;const Q=()=>n!=null&&n.description?n.description:z?"Death Save (d20 vs CON)":_?"Rally Roll (d20 vs WIL)":U?"Recovery Roll (1d6 HP)":X?"Advancement Roll":$?"Skill Check":"Dice Roller",q=()=>z?s.jsx(ds,{className:"w-5 h-5"}):_?s.jsx(CR,{className:"w-5 h-5"}):U?s.jsx(vx,{className:"w-5 h-5"}):X?s.jsx(Xu,{className:"w-5 h-5"}):s.jsx(Ut,{className:"w-5 h-5"}),ee=B||z||_||U||X;return s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black bg-opacity-60 backdrop-blur-sm animate-in fade-in duration-200",children:s.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-md flex flex-col max-h-[90vh] border border-gray-200 overflow-hidden transform transition-all scale-100",children:[s.jsxs("div",{className:"p-4 border-b bg-gray-50 flex justify-between items-center text-lg font-bold text-gray-800",children:[s.jsxs("div",{className:"flex items-center gap-2 text-indigo-700",children:[q()," ",Q()]}),s.jsx("button",{onClick:()=>t(),className:"text-gray-400 hover:text-gray-700 transition-colors",children:s.jsx(mt,{className:"w-6 h-6"})})]}),s.jsx("div",{className:"p-5 overflow-y-auto flex-grow flex flex-col",children:C?s.jsxs("div",{className:"animate-in slide-in-from-right-4 duration-200",children:[s.jsxs("div",{className:"flex justify-between items-center mb-3 border-b pb-2",children:[s.jsx("h3",{className:"text-sm font-bold text-gray-500 uppercase tracking-wider",children:"Roll History"}),s.jsxs(V,{onClick:f,variant:"danger",size:"xs",disabled:h.length===0,children:[s.jsx(Cn,{className:"w-3 h-3 mr-1"})," Clear"]})]}),h.length===0?s.jsx("p",{className:"text-gray-400 text-center py-8 text-sm italic",children:"No rolls yet."}):s.jsx("ul",{className:"space-y-3 max-h-60 overflow-y-auto pr-2",children:h.map(ve=>s.jsxs("li",{className:"text-sm p-2 rounded bg-gray-50 border border-gray-100",children:[s.jsxs("div",{className:"flex justify-between font-bold text-gray-700 mb-1",children:[s.jsx("span",{children:ve.description}),s.jsx("span",{className:ve.isSuccess?"text-green-600":ve.isSuccess===!1?"text-red-600":"",children:String(ve.finalOutcome)})]}),s.jsxs("div",{className:"text-xs text-gray-500 flex justify-between",children:[s.jsxs("span",{children:[ve.dicePool.join("+")," ",ve.isBoon&&"(Boon)",ve.isBane&&"(Bane)"]}),ve.isCritical&&s.jsx("span",{className:"text-purple-600 font-bold",children:"CRITICAL"})]})]},ve.id))})]}):s.jsxs("div",{className:"flex flex-col h-full",children:[s.jsx("div",{className:"mb-6 p-4 border-2 border-dashed border-gray-300 rounded-xl bg-gray-50 min-h-[80px] flex flex-wrap gap-2 items-center justify-center",children:r.length===0?s.jsx("span",{className:"text-gray-400 text-sm font-medium",children:"Add dice to roll..."}):r.map((ve,Ie)=>s.jsx("button",{onClick:()=>!ee&&i(),className:`
                        w-12 h-12 rounded-lg flex items-center justify-center shadow-sm transition-all transform hover:scale-105
                        ${ee?"bg-gray-200 cursor-not-allowed opacity-50":"bg-white border border-gray-200 hover:border-red-300 hover:text-red-500"}
                      `,disabled:ee,children:s.jsx(Sne,{type:ve})},Ie))}),!ee&&s.jsx("div",{className:"grid grid-cols-6 gap-2 mb-6",children:["d4","d6","d8","d10","d12","d20"].map(ve=>s.jsx(V,{onClick:()=>a(ve),variant:"outline",size:"sm",disabled:B,className:"h-10 font-mono text-xs",children:ve},ve))}),r.length===1&&r[0]==="d20"&&!ee&&s.jsxs("div",{className:"flex justify-center gap-4 mb-6",children:[s.jsxs("button",{onClick:L,className:`
                      relative flex items-center justify-center w-32 py-2 rounded-lg border-2 font-bold text-sm transition-all duration-200
                      ${l?"bg-emerald-600 border-emerald-600 text-white shadow-md scale-105 ring-2 ring-emerald-200 ring-offset-1":"bg-white border-gray-200 text-gray-500 hover:border-emerald-400 hover:text-emerald-600 hover:bg-emerald-50"}
                    `,children:[s.jsx(Ia,{className:`w-4 h-4 mr-2 ${l?"fill-white":""}`}),"Boon ",l&&O>1&&s.jsxs("span",{className:"ml-1 bg-white/20 px-1.5 rounded text-xs",children:["x",O]})]}),s.jsxs("button",{onClick:ie,className:`
                      relative flex items-center justify-center w-32 py-2 rounded-lg border-2 font-bold text-sm transition-all duration-200
                      ${u?"bg-rose-600 border-rose-600 text-white shadow-md scale-105 ring-2 ring-rose-200 ring-offset-1":"bg-white border-gray-200 text-gray-500 hover:border-rose-400 hover:text-rose-600 hover:bg-rose-50"}
                    `,children:[s.jsx(HP,{className:"w-4 h-4 mr-2"}),"Bane ",u&&O>1&&s.jsxs("span",{className:"ml-1 bg-white/20 px-1.5 rounded text-xs",children:["x",O]})]})]}),(B||w!==null)&&s.jsxs("div",{className:`
                  mt-auto mb-2 p-6 rounded-xl text-center transition-all duration-300 transform
                  ${B?"bg-gray-100 scale-95 opacity-80":"bg-indigo-50 border-2 border-indigo-100 scale-100 opacity-100 shadow-inner"}
                `,children:[s.jsx("div",{className:`text-5xl font-black mb-2 ${S?"text-purple-600 animate-bounce":B?"text-gray-400 blur-sm":"text-indigo-900"}`,children:P}),!B&&s.jsxs("div",{className:"animate-in fade-in slide-in-from-bottom-2 duration-300",children:[(n==null?void 0:n.targetValue)!==void 0&&!S&&s.jsxs("p",{className:"text-xs text-gray-500 font-medium uppercase tracking-wide mb-1",children:["Target: ",n.targetValue]}),A===!0&&!S&&s.jsxs("div",{className:"inline-flex items-center gap-1 px-3 py-1 rounded-full bg-green-100 text-green-700 text-sm font-bold",children:[s.jsx(Ia,{size:14,className:"fill-current"})," Success"]}),A===!1&&!S&&s.jsxs("div",{className:"inline-flex items-center gap-1 px-3 py-1 rounded-full bg-red-100 text-red-700 text-sm font-bold",children:[s.jsx(mt,{size:14})," Failure"]}),g.length>0&&s.jsxs("p",{className:"text-xs text-indigo-400 mt-2",children:["Rolls: [",v[0].value,", ",g.map(ve=>ve.value).join(", "),"]",s.jsx("br",{}),s.jsx("span",{className:"font-semibold",children:l?"Took Lowest":"Took Highest"})]})]})]})]})}),s.jsxs("div",{className:"p-4 border-t flex justify-between items-center bg-gray-50",children:[s.jsxs("div",{children:[s.jsxs(V,{onClick:()=>N(!C),variant:"ghost",size:"sm",className:"text-gray-500 hover:text-gray-800",children:[s.jsx(kR,{className:"w-4 h-4 mr-1"})," ",C?"Back to Roller":"History"]}),!C&&!ee&&r.length>0&&s.jsx(V,{onClick:o,variant:"ghost",size:"sm",className:"ml-2 text-red-400 hover:text-red-600 hover:bg-red-50",children:"Clear"})]}),!C&&s.jsx(V,{onClick:W,disabled:r.length===0||B,size:"lg",className:`w-32 shadow-lg transition-all ${B?"bg-indigo-400 cursor-wait":"bg-indigo-600 hover:bg-indigo-700 hover:scale-105"}`,children:B?s.jsx(kne,{className:"w-5 h-5 animate-spin mx-auto"}):s.jsxs(s.Fragment,{children:[s.jsx(Ut,{className:"w-5 h-5 mr-2"})," Roll"]})})]})]})})}function Tne({children:e}){const{user:t,isLoading:n}=cn(),r=gi();return console.log("--- PrivateRoute Decision ---",{isLoading:n,user:t?`User ID: ${t.id}`:null}),n?s.jsx("div",{className:"flex h-screen w-full items-center justify-center",children:s.jsx("p",{className:"text-xl text-gray-600",children:"Loading Session..."})}):t?s.jsx(s.Fragment,{children:e}):s.jsx(lx,{to:"/login",state:{from:r},replace:!0})}function Cne({textToCopy:e}){const[t,n]=E.useState(!1),r=async()=>{try{await navigator.clipboard.writeText(e),n(!0),setTimeout(()=>n(!1),2e3)}catch(a){console.error("Failed to copy text: ",a)}};return s.jsx(V,{variant:"ghost",size:"icon",onClick:r,"aria-label":t?"Copied":"Copy to clipboard",children:t?s.jsx(Vs,{className:"w-5 h-5 text-green-500"}):s.jsx(gx,{className:"w-5 h-5 text-gray-500"})})}const Ane=({member:e,isDM:t,onRemove:n,onView:r})=>{const a=Math.min(100,Math.max(0,e.current_hp/e.attributes.CON*100)),i=Math.min(100,Math.max(0,e.current_wp/e.attributes.WIL*100)),o=Object.entries(e.conditions).filter(([u,c])=>c),l=e.name.slice(0,2).toUpperCase();return s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden hover:shadow-md transition-shadow flex flex-col h-full group",children:[s.jsxs("div",{className:"p-5 border-b border-gray-50 flex items-start justify-between gap-4",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-12 h-12 rounded-full bg-indigo-100 text-indigo-600 flex items-center justify-center font-bold text-lg border-2 border-white shadow-sm",children:l}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-gray-900 text-lg leading-tight",children:e.name}),s.jsxs("p",{className:"text-xs font-medium text-gray-500 uppercase tracking-wide",children:[e.kin," ",e.profession]})]})]}),s.jsx(V,{variant:"ghost",size:"icon_sm",onClick:()=>r(e.id),title:"View Character Sheet",children:s.jsx(ou,{className:"w-5 h-5 text-gray-400 hover:text-indigo-600"})})]}),s.jsxs("div",{className:"p-5 space-y-5 flex-grow",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between text-xs font-bold mb-1",children:[s.jsxs("span",{className:"flex items-center gap-1 text-gray-600",children:[s.jsx(xi,{className:"w-3 h-3 text-red-500 fill-red-500"})," Health"]}),s.jsxs("span",{className:e.current_hp===0?"text-red-600":"text-gray-700",children:[e.current_hp," / ",e.attributes.CON]})]}),s.jsx("div",{className:"h-2 w-full bg-gray-100 rounded-full overflow-hidden",children:s.jsx("div",{className:"h-full bg-red-500 transition-all duration-500",style:{width:`${a}%`}})})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between text-xs font-bold mb-1",children:[s.jsxs("span",{className:"flex items-center gap-1 text-gray-600",children:[s.jsx(Ar,{className:"w-3 h-3 text-blue-500 fill-blue-500"})," Willpower"]}),s.jsxs("span",{className:"text-gray-700",children:[e.current_wp," / ",e.attributes.WIL]})]}),s.jsx("div",{className:"h-2 w-full bg-gray-100 rounded-full overflow-hidden",children:s.jsx("div",{className:"h-full bg-blue-500 transition-all duration-500",style:{width:`${i}%`}})})]})]}),o.length>0?s.jsx("div",{className:"flex flex-wrap gap-1.5",children:o.map(([u])=>s.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 rounded-md bg-red-50 text-red-700 text-[10px] font-bold uppercase border border-red-100",children:[s.jsx(ds,{size:10})," ",u]},u))}):s.jsx("div",{className:"text-xs text-gray-400 italic",children:"Healthy and ready."}),s.jsxs("div",{className:"pt-4 border-t border-gray-100",children:[s.jsx("h4",{className:"text-xs font-bold text-gray-400 uppercase mb-2",children:"Loadout"}),s.jsxs("div",{className:"space-y-2 text-sm text-gray-700",children:[e.equipment.equipped.armor?s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Tn,{className:"w-4 h-4 text-gray-400"}),s.jsx("span",{className:"truncate",children:e.equipment.equipped.armor.name})]}):s.jsxs("div",{className:"flex items-center gap-2 text-gray-400 italic",children:[s.jsx(Tn,{className:"w-4 h-4 opacity-50"})," ",s.jsx("span",{children:"No Armor"})]}),e.equipment.equipped.weapons.length>0?e.equipment.equipped.weapons.slice(0,2).map((u,c)=>s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Or,{className:"w-4 h-4 text-gray-400"}),s.jsx("span",{className:"truncate",children:u.name})]},c)):s.jsxs("div",{className:"flex items-center gap-2 text-gray-400 italic",children:[s.jsx(Or,{className:"w-4 h-4 opacity-50"})," ",s.jsx("span",{children:"Unarmed"})]})]})]})]}),t&&s.jsx("div",{className:"p-3 bg-gray-50 border-t border-gray-100 mt-auto",children:s.jsx(V,{variant:"ghost",className:"w-full text-gray-500 hover:text-red-600 hover:bg-red-50 justify-center",size:"sm",icon:AR,onClick:()=>n(e.id,e.name),children:"Remove from Party"})})]})};function Ine({party:e,isDM:t,currentUserId:n,onUpdate:r}){const a=Mr(),i=nr(),o=async(c,d)=>{if(window.confirm(`Are you sure you want to remove ${d} from the party?`))try{await cL(e.id,c),i.invalidateQueries({queryKey:["party",e.id]}),r()}catch(p){console.error("Failed to remove member:",p),alert("Failed to remove member. Please try again.")}},u=t&&n===e.created_by;return e.members.length===0?s.jsxs("div",{className:"flex flex-col items-center justify-center py-16 bg-gray-50 rounded-xl border-2 border-dashed border-gray-200",children:[s.jsx("div",{className:"w-16 h-16 bg-white rounded-full flex items-center justify-center shadow-sm mb-4",children:s.jsx(Cr,{className:"w-8 h-8 text-gray-300"})}),s.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Waiting for Adventurers"}),s.jsx("p",{className:"text-gray-500 text-sm mt-1 max-w-sm text-center",children:"Share the party code with your players to have them join the roster."})]}):s.jsx("div",{children:s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.members.map(c=>s.jsx(Ane,{member:c,isDM:u,onRemove:o,onView:d=>a(`/character/${d}`)},c.id))})})}function Rne({partyId:e}){const{user:t}=cn(),[n,r]=E.useState([]),[a,i]=E.useState([]),[o,l]=E.useState(null),[u,c]=E.useState("view"),[d,p]=E.useState(""),[h,f]=E.useState(""),[m,v]=E.useState(""),[y,g]=E.useState(!1),x=E.useRef(null),[w,k]=E.useState("all"),[S,T]=E.useState(""),[A,I]=E.useState(!0),[C,N]=E.useState(null),[O,D]=E.useState(null),[B,j]=E.useState(!1),P=(W,Q="")=>{const q=x.current;if(!q)return;const ee=q.selectionStart,ve=q.selectionEnd,Ie=q.value,te=Ie.substring(0,ee),oe=Ie.substring(ee,ve),ge=Ie.substring(ve),pe=te+W+oe+Q+ge;f(pe),setTimeout(()=>{q.focus();const dt=ee+W.length+oe.length+Q.length;q.setSelectionRange(dt,dt)},0)},Y=()=>{P(`
| Header 1 | Header 2 |
| -------- | -------- |
| Cell 1   | Cell 2   |
`)},K=E.useCallback(()=>{p(""),f(""),v(w!=="all"?w:""),D(null),g(!1)},[w]),$=()=>{K(),c("create"),l(null)},z=W=>{l(W),c("edit"),p(W.title),f(W.content),v(W.category),D(null),g(!1)},_=()=>{c("view"),K(),u==="create"&&l(null)},U=E.useCallback(async()=>{if(e){I(!0),N(null);try{const{data:W,error:Q}=await se.from("notes").select("*").eq("party_id",e).order("created_at",{ascending:!1});if(Q)throw Q;r(W||[]);const q=Array.from(new Set((W==null?void 0:W.map(ee=>ee.category).filter(Boolean))||[]));if(i(q.sort()),o){const ee=W==null?void 0:W.find(ve=>ve.id===o.id);l(ee||null)}}catch(W){console.error("Error loading party notes:",W),N(W instanceof Error?W.message:"Failed to load party notes")}finally{I(!1)}}},[e,o]);E.useEffect(()=>{U()},[e]);const X=async()=>{if(!t){D("You must be logged in to save notes.");return}if(!d.trim()){D("Title is required.");return}if(!m.trim()){D("Category is required.");return}j(!0),D(null);const W={title:d.trim(),content:h||"",category:m.trim(),party_id:e,user_id:t.id,updated_at:new Date().toISOString()};try{let Q=null;if(u==="edit"&&o){const{data:q,error:ee}=await se.from("notes").update(W).eq("id",o.id).select().single();if(ee)throw ee;Q=q}else{const{data:q,error:ee}=await se.from("notes").insert([W]).select().single();if(ee)throw ee;Q=q}await U(),c("view"),Q&&l(Q)}catch(Q){console.error("Save error:",Q),D(Q instanceof Error?Q.message:"Failed to save note.")}finally{j(!1)}},L=async W=>{if(window.confirm("Are you sure you want to delete this note?"))try{const{error:Q}=await se.from("notes").delete().eq("id",W);if(Q)throw Q;l(null),c("view"),await U()}catch(Q){console.error("Delete error:",Q),N(Q instanceof Error?Q.message:"Failed to delete note.")}},ie=n.filter(W=>{const Q=S.toLowerCase(),q=W.title.toLowerCase().includes(Q)||W.content.toLowerCase().includes(Q)||W.category.toLowerCase().includes(Q),ee=w==="all"||W.category===w;return q&&ee});return A&&n.length===0?s.jsx("div",{className:"flex justify-center items-center h-96",children:s.jsx(et,{size:"lg"})}):s.jsxs("div",{className:"flex flex-col md:flex-row h-[calc(100vh-140px)] bg-gray-50 border-t border-gray-200",children:[s.jsxs("div",{className:"w-full md:w-1/3 lg:w-1/4 bg-white border-r border-gray-200 flex flex-col h-full",children:[s.jsxs("div",{className:"p-4 border-b border-gray-100 space-y-3 bg-white z-10",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("h2",{className:"text-lg font-bold text-gray-800 flex items-center gap-2",children:[s.jsx(_d,{className:"w-5 h-5 text-indigo-600"})," ",s.jsx("span",{children:"Notes"})]}),s.jsx(V,{size:"sm",onClick:$,icon:Ht,children:"New"})]}),s.jsxs("div",{className:"relative",children:[s.jsx(mr,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 w-4 h-4 pointer-events-none"}),s.jsx("input",{type:"text",placeholder:"Search...",value:S,onChange:W=>T(W.target.value),className:"w-full pl-9 pr-3 py-2 text-sm border border-gray-300 rounded-md focus:ring-2 focus:ring-indigo-500 outline-none"})]}),s.jsxs("div",{className:"relative",children:[s.jsx(Td,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 w-4 h-4 pointer-events-none"}),s.jsxs("select",{value:w,onChange:W=>k(W.target.value),className:"w-full pl-9 pr-8 py-2 text-sm border border-gray-300 rounded-md focus:ring-2 focus:ring-indigo-500 outline-none appearance-none bg-white cursor-pointer",children:[s.jsx("option",{value:"all",children:"All Categories"}),a.map(W=>s.jsx("option",{value:W,children:W},W))]}),s.jsx(iu,{className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 w-4 h-4 pointer-events-none"})]})]}),s.jsxs("div",{className:"flex-1 overflow-y-auto p-2 space-y-1 bg-gray-50",children:[C&&s.jsxs("div",{className:"p-3 mb-2 bg-red-50 text-red-700 text-sm rounded-md flex gap-2",children:[s.jsx(wt,{className:"w-4 h-4 mt-0.5"})," ",C]}),ie.length===0?s.jsxs("div",{className:"text-center py-12 px-4 text-gray-400",children:[s.jsx(ou,{className:"w-10 h-10 mx-auto mb-2 opacity-20"}),s.jsx("p",{className:"text-sm",children:S?"No matches found.":"No notes created yet."})]}):ie.map(W=>s.jsxs("div",{onClick:()=>{l(W),c("view")},className:`p-3 rounded-lg cursor-pointer border transition-all group relative ${(o==null?void 0:o.id)===W.id?"bg-white border-indigo-500 shadow-sm ring-1 ring-indigo-500 z-10":"bg-white border-gray-200 hover:border-indigo-300 hover:shadow-sm"}`,children:[s.jsxs("div",{className:"flex justify-between items-start mb-1",children:[s.jsx("h3",{className:`font-semibold text-sm truncate pr-2 ${(o==null?void 0:o.id)===W.id?"text-indigo-700":"text-gray-800"}`,children:W.title}),s.jsx("span",{className:"text-[10px] text-gray-400 whitespace-nowrap",children:new Date(W.created_at).toLocaleDateString()})]}),s.jsx("div",{className:"flex items-center gap-1.5",children:s.jsxs("span",{className:`text-[10px] font-medium px-1.5 py-0.5 rounded-full flex items-center gap-1 truncate max-w-[150px] ${(o==null?void 0:o.id)===W.id?"bg-indigo-100 text-indigo-700":"bg-gray-100 text-gray-600"}`,children:[s.jsx(f_,{size:10})," ",W.category]})})]},W.id))]})]}),s.jsx("div",{className:"flex-1 bg-white overflow-y-auto p-6 md:p-8 h-full",children:u==="create"||u==="edit"?s.jsxs("div",{className:"max-w-3xl mx-auto animate-in fade-in slide-in-from-bottom-2 duration-300",children:[s.jsxs("div",{className:"flex justify-between items-center mb-6 pb-4 border-b border-gray-100",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:u==="edit"?"Edit Note":"Create New Note"}),s.jsx("button",{onClick:_,className:"text-gray-400 hover:text-gray-600 p-2 hover:bg-gray-100 rounded-full transition-colors",children:s.jsx(mt,{size:24})})]}),O&&s.jsxs("div",{className:"bg-red-50 text-red-700 p-4 rounded-lg mb-6 flex items-center gap-3 border border-red-100",children:[s.jsx(wt,{size:20}),s.jsx("p",{className:"text-sm font-medium",children:O})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1.5",children:"Title"}),s.jsx("input",{type:"text",value:d,onChange:W=>p(W.target.value),className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 outline-none",placeholder:"e.g. The Goblin King's Weakness",autoFocus:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1.5",children:"Category"}),s.jsx("input",{type:"text",list:"categories",value:m,onChange:W=>v(W.target.value),className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 outline-none",placeholder:"e.g. Lore"}),s.jsx("datalist",{id:"categories",children:a.map(W=>s.jsx("option",{value:W},W))})]})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between items-end mb-1.5",children:[s.jsxs("label",{className:"block text-sm font-semibold text-gray-700",children:["Content ",s.jsx("span",{className:"text-xs font-normal text-gray-400",children:"(Markdown)"})]}),s.jsx("button",{type:"button",onClick:()=>g(!y),className:"text-xs flex items-center gap-1 text-indigo-600 hover:text-indigo-800 font-medium",children:y?s.jsxs(s.Fragment,{children:[s.jsx(yx,{size:14})," Edit"]}):s.jsxs(s.Fragment,{children:[s.jsx(Uf,{size:14})," Preview"]})})]}),s.jsxs("div",{className:"border rounded-lg overflow-hidden border-gray-300 focus-within:ring-2 focus-within:ring-indigo-500 focus-within:border-indigo-500 transition-all",children:[!y&&s.jsxs("div",{className:"flex items-center gap-1 p-2 bg-gray-50 border-b border-gray-200 overflow-x-auto",children:[s.jsx(Wa,{icon:mx,label:"Bold",onClick:()=>P("**","**")}),s.jsx(Wa,{icon:Ex,label:"Italic",onClick:()=>P("*","*")}),s.jsx("div",{className:"w-px h-4 bg-gray-300 mx-1"}),s.jsx(Wa,{icon:xx,label:"Heading",onClick:()=>P("# ","")}),s.jsx(Wa,{icon:Tx,label:"Quote",onClick:()=>P("> ","")}),s.jsx(Wa,{icon:Bf,label:"Code Block",onClick:()=>P("```\n","\n```")}),s.jsx("div",{className:"w-px h-4 bg-gray-300 mx-1"}),s.jsx(Wa,{icon:Hf,label:"Bullet List",onClick:()=>P("- ","")}),s.jsx(Wa,{icon:wx,label:"Numbered List",onClick:()=>P("1. ","")}),s.jsx("div",{className:"w-px h-4 bg-gray-300 mx-1"}),s.jsx(Wa,{icon:$f,label:"Link",onClick:()=>P("[","](url)")}),s.jsx(Wa,{icon:Ox,label:"Table",onClick:Y})]}),y?s.jsx("div",{className:"p-4 h-96 overflow-y-auto prose prose-sm max-w-none bg-gray-50/50",children:s.jsx(Vl,{content:h||"*No content*"})}):s.jsx("textarea",{ref:x,value:h,onChange:W=>f(W.target.value),className:"w-full p-4 h-96 font-mono text-sm outline-none resize-none bg-white",placeholder:`# Section Header
Write your notes here...`})]})]}),s.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t border-gray-100",children:[s.jsx(V,{variant:"ghost",onClick:_,children:"Cancel"}),s.jsx(V,{variant:"primary",icon:vn,onClick:X,isLoading:B,disabled:!d||!m,children:"Save Note"})]})]})]}):o?s.jsxs("div",{className:"max-w-4xl mx-auto animate-in fade-in duration-300",children:[s.jsxs("div",{className:"flex flex-wrap justify-between items-start gap-4 mb-8 pb-6 border-b border-gray-100",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-3",children:o.title}),s.jsxs("div",{className:"flex flex-wrap gap-3 items-center text-sm",children:[s.jsxs("span",{className:"inline-flex items-center gap-1.5 px-3 py-1 rounded-full bg-indigo-50 text-indigo-700 font-medium border border-indigo-100",children:[s.jsx(f_,{size:14})," ",o.category]}),s.jsxs("span",{className:"text-gray-400",children:["Last updated: ",new Date(o.updated_at).toLocaleDateString()]})]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(V,{variant:"secondary",size:"sm",icon:Cd,onClick:()=>z(o),children:"Edit"}),s.jsx(V,{variant:"danger_outline",size:"sm",icon:Cn,onClick:()=>L(o.id),children:"Delete"})]})]}),s.jsx("div",{className:"prose prose-indigo max-w-none text-gray-700",children:s.jsx(Vl,{content:o.content||"*No content provided.*"})})]}):s.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-gray-400",children:[s.jsx("div",{className:"w-24 h-24 bg-gray-100 rounded-full flex items-center justify-center mb-6",children:s.jsx(ii,{className:"w-10 h-10 text-gray-300"})}),s.jsx("h3",{className:"text-xl font-bold text-gray-600 mb-2",children:"Select a Note"}),s.jsx("p",{className:"max-w-xs text-center mb-8 text-gray-500",children:"Choose a note from the sidebar or create a new one."}),s.jsx(V,{variant:"primary",onClick:$,icon:Ht,children:"Create New Note"})]})})]})}function Wa({icon:e,label:t,onClick:n}){return s.jsx("button",{type:"button",onClick:n,title:t,className:"p-1.5 text-gray-600 hover:text-indigo-600 hover:bg-white hover:shadow-sm rounded transition-all",children:s.jsx(e,{size:16})})}async function Dne(e){if(!e)return console.warn("fetchTasks called without partyId"),[];const{data:t,error:n}=await se.from("party_tasks").select("*").eq("party_id",e).order("created_at",{ascending:!1});if(n)throw console.error("Error fetching tasks:",n),new Error(n.message||"Failed to fetch tasks");return t||[]}async function One(e,t){if(!t)throw new Error("User must be authenticated to create a task.");if(!e.party_id)throw new Error("Party ID is required to create a task.");if(!e.title||e.title.trim()==="")throw new Error("Task title cannot be empty.");const{data:n,error:r}=await se.from("party_tasks").insert({party_id:e.party_id,title:e.title,description:e.description,created_by_user_id:t.id,status:"open"}).select().single();if(r)throw console.error("Error creating task:",r),new Error(r.message||"Failed to create task");if(!n)throw new Error("Task creation did not return data.");return n}async function Lne(e,t){if(!e)throw new Error("Task ID is required to update a task.");const n={...t};t.status&&(t.status==="completed"?n.completed_at=new Date().toISOString():t.status==="open"&&(n.completed_at=null));const{data:r,error:a}=await se.from("party_tasks").update(n).eq("id",e).select().single();if(a)throw console.error("Error updating task:",a),new Error(a.message||"Failed to update task");if(!r)throw new Error("Task update did not return data.");return r}async function jne(e){if(!e)throw new Error("Task ID is required to delete a task.");const{error:t}=await se.from("party_tasks").delete().eq("id",e);if(t)throw console.error("Error deleting task:",t),new Error(t.message||"Failed to delete task")}function Mne(){const e=Mr(),{setGlobalError:t}=RR(),n=E.useCallback((i,o)=>{const l=i instanceof Error?i.message:String(i);ul.handleError(i,{action:o==null?void 0:o.action,additionalData:{critical:o==null?void 0:o.critical}}),(o==null?void 0:o.showError)!==!1&&t(l),o!=null&&o.redirect&&e(o.redirect),o!=null&&o.critical&&e("/error",{state:{error:l}})},[e,t]),r=E.useCallback((i,o)=>{ul.handleAuthError(i,{action:o==null?void 0:o.action});const l=i instanceof Error?i.message:String(i);t(l),e((o==null?void 0:o.redirect)||"/login")},[e,t]),a=E.useCallback((i,o)=>{ul.handleNetworkError(i,{action:o==null?void 0:o.action}),t("Network error. Please check your connection and try again."),o!=null&&o.retry&&setTimeout(o.retry,1e3)},[t]);return{handleError:n,handleAuthError:r,handleNetworkError:a}}const J2=({task:e,onToggle:t,onDelete:n,canManage:r})=>{const a=e.status==="completed";return s.jsxs("div",{className:`
      group relative flex items-start p-4 rounded-xl border transition-all
      ${a?"bg-green-50/50 border-green-200 opacity-80 hover:opacity-100":"bg-white border-gray-200 shadow-sm hover:shadow-md hover:border-indigo-200"}
    `,children:[s.jsx("button",{onClick:()=>t(e),className:`mt-0.5 mr-4 flex-shrink-0 transition-colors ${a?"text-green-600 hover:text-green-700":"text-gray-400 hover:text-indigo-600"}`,"aria-label":a?"Mark as incomplete":"Mark as completed",children:a?s.jsx(Wc,{size:24}):s.jsx(xP,{size:24})}),s.jsxs("div",{className:"flex-grow min-w-0",children:[s.jsx("h3",{className:`font-semibold text-gray-900 ${a?"line-through text-gray-500":""}`,children:e.title}),e.description&&s.jsx("p",{className:`mt-1 text-sm leading-relaxed ${a?"text-gray-400 line-through decoration-gray-300":"text-gray-600"}`,children:e.description}),s.jsxs("div",{className:"mt-2 flex items-center gap-3 text-xs text-gray-400 font-medium",children:[s.jsxs("span",{children:["Added ",new Date(e.created_at).toLocaleDateString()]}),a&&e.completed_at&&s.jsxs("span",{className:"text-green-700 bg-green-100 px-2 py-0.5 rounded-full",children:["Completed ",new Date(e.completed_at).toLocaleDateString()]})]})]}),r&&s.jsx("button",{onClick:()=>n(e.id),className:"opacity-0 group-hover:opacity-100 focus:opacity-100 transition-opacity p-2 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded-lg absolute top-2 right-2",title:"Delete Task",children:s.jsx(Cn,{size:18})})]})};function Fne({partyId:e,isDM:t}){const{user:n}=cn(),r=nr(),{handleError:a}=Mne(),[i,o]=E.useState(""),[l,u]=E.useState(""),[c,d]=E.useState(!1),[p,h]=E.useState(null),{data:f,isLoading:m,error:v}=Vt({queryKey:["partyTasks",e],queryFn:()=>Dne(e),enabled:!!e}),y=Ct({mutationFn:I=>One(I,n),onSuccess:()=>{r.invalidateQueries({queryKey:["partyTasks",e]}),o(""),u(""),d(!1),h(null)},onError:I=>a(I,{action:"creating task"})}),g=Ct({mutationFn:({taskId:I,updates:C})=>Lne(I,C),onSuccess:()=>r.invalidateQueries({queryKey:["partyTasks",e]}),onError:I=>a(I,{action:"updating task"})}),x=Ct({mutationFn:I=>jne(I),onSuccess:()=>r.invalidateQueries({queryKey:["partyTasks",e]}),onError:I=>a(I,{action:"deleting task"})}),w=I=>{if(I.preventDefault(),!i.trim()){h("Task title is required.");return}y.mutate({party_id:e,title:i.trim(),description:l.trim()||void 0})},k=I=>{window.confirm("Delete this task permanently?")&&x.mutate(I)},S=I=>t||I.created_by_user_id===(n==null?void 0:n.id),T=(f==null?void 0:f.filter(I=>I.status!=="completed"))||[],A=(f==null?void 0:f.filter(I=>I.status==="completed"))||[];return m?s.jsxs("div",{className:"flex flex-col items-center justify-center h-64 text-gray-500",children:[s.jsx(et,{size:"lg"}),s.jsx("p",{className:"mt-3",children:"Loading tasks..."})]}):v?s.jsx(He,{message:`Failed to load tasks: ${v.message}`}):s.jsxs("div",{className:"max-w-4xl mx-auto p-6 h-full overflow-y-auto",children:[s.jsxs("div",{className:"flex justify-between items-end mb-8 border-b pb-4",children:[s.jsxs("div",{children:[s.jsxs("h2",{className:"text-2xl font-bold text-gray-900 flex items-center gap-2",children:[s.jsx(DP,{className:"w-8 h-8 text-indigo-600"}),"Quest Log"]}),s.jsx("p",{className:"text-gray-500 text-sm mt-1",children:"Track your party's objectives and quests."})]}),t&&!c&&s.jsx(V,{onClick:()=>d(!0),icon:Ht,variant:"primary",children:"New Task"})]}),t&&c&&s.jsxs("div",{className:"mb-8 bg-white rounded-xl border border-indigo-100 shadow-sm p-5 animate-in fade-in slide-in-from-top-2",children:[s.jsxs("div",{className:"flex justify-between items-start mb-4",children:[s.jsx("h3",{className:"font-semibold text-gray-800",children:"Add New Quest / Task"}),s.jsx("button",{onClick:()=>d(!1),className:"text-gray-400 hover:text-gray-600",children:s.jsx(mt,{size:20})})]}),p&&s.jsx(He,{message:p,onClose:()=>h(null),className:"mb-4"}),s.jsxs("form",{onSubmit:w,className:"space-y-4",children:[s.jsx("div",{children:s.jsx("input",{autoFocus:!0,type:"text",placeholder:"Task Title (e.g., 'Investigate the Old Ruins')",className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent font-medium",value:i,onChange:I=>o(I.target.value)})}),s.jsx("div",{children:s.jsx("textarea",{rows:2,placeholder:"Details (optional)...",className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent resize-none text-sm",value:l,onChange:I=>u(I.target.value)})}),s.jsxs("div",{className:"flex justify-end gap-3 pt-2",children:[s.jsx(V,{type:"button",variant:"ghost",onClick:()=>d(!1),children:"Cancel"}),s.jsx(V,{type:"submit",loading:y.isPending,icon:Ht,children:"Add Task"})]})]})]}),(f==null?void 0:f.length)===0&&!c?s.jsxs("div",{className:"text-center py-16 border-2 border-dashed border-gray-200 rounded-xl bg-gray-50/50",children:[s.jsx("div",{className:"w-16 h-16 bg-indigo-50 rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx(go,{className:"w-8 h-8 text-indigo-400"})}),s.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"No active quests"}),s.jsx("p",{className:"text-gray-500 mt-1 max-w-sm mx-auto",children:t?"Your quest log is empty. Add a task to guide your players.":"The Dungeon Master hasn't assigned any quests yet."}),t&&s.jsx(V,{onClick:()=>d(!0),variant:"outline",className:"mt-6",children:"Create First Task"})]}):s.jsxs("div",{className:"space-y-8",children:[s.jsxs("section",{children:[s.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[s.jsx(Rx,{className:"w-4 h-4 text-indigo-600"}),s.jsxs("h3",{className:"text-sm font-bold text-gray-500 uppercase tracking-wider",children:["Active (",T.length,")"]})]}),s.jsx("div",{className:"space-y-3",children:T.length>0?T.map(I=>s.jsx(J2,{task:I,onToggle:C=>g.mutate({taskId:C.id,updates:{status:"completed"}}),onDelete:k,canManage:S(I)},I.id)):s.jsx("p",{className:"text-center py-8 text-gray-400 italic bg-gray-50 rounded-lg border border-dashed",children:"No active tasks."})})]}),A.length>0&&s.jsxs("section",{className:"opacity-75 hover:opacity-100 transition-opacity",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-4 mt-8 pt-8 border-t border-gray-100",children:[s.jsx(Ad,{className:"w-4 h-4 text-green-600"}),s.jsxs("h3",{className:"text-sm font-bold text-gray-500 uppercase tracking-wider",children:["Completed (",A.length,")"]})]}),s.jsx("div",{className:"space-y-3",children:A.map(I=>s.jsx(J2,{task:I,onToggle:C=>g.mutate({taskId:C.id,updates:{status:"open"}}),onDelete:k,canManage:S(I)},I.id))})]})]})]})}const Pne=({onClose:e,allItems:t,onAssignLoot:n})=>{const[r,a]=E.useState(""),[i,o]=E.useState(new Map),[l,u]=E.useState(!1),c=E.useMemo(()=>{if(!r.trim())return[];const f=r.toLowerCase();return t.filter(m=>m.name.toLowerCase().includes(f)).slice(0,50)},[r,t]),d=(f,m)=>{if(m<=0)return;const v=new Map(i),y=v.get(f.id);v.set(f.id,{item:f,quantity:((y==null?void 0:y.quantity)||0)+m}),o(v),a("")},p=f=>{const m=new Map(i);m.delete(f),o(m)},h=async()=>{i.size!==0&&(u(!0),await n(Array.from(i.values())),u(!1),e())};return s.jsx("div",{className:"fixed inset-0 bg-black/60 flex items-center justify-center p-4 z-[60] backdrop-blur-sm",children:s.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-4xl h-[80vh] flex flex-col overflow-hidden border border-gray-200 animate-in zoom-in-95 duration-200",children:[s.jsxs("div",{className:"p-4 border-b bg-gray-50 flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-bold text-gray-800",children:"Assign Loot to Party"}),s.jsx("p",{className:"text-xs text-gray-500",children:"Search items on the left, review loot on the right."})]}),s.jsx("button",{onClick:e,className:"p-1.5 rounded-full text-gray-400 hover:bg-gray-200 hover:text-gray-600 transition-colors",children:s.jsx(mt,{size:20})})]}),s.jsxs("div",{className:"flex-grow flex flex-col md:flex-row overflow-hidden",children:[s.jsxs("div",{className:"w-full md:w-1/2 flex flex-col border-r border-gray-200 bg-white",children:[s.jsx("div",{className:"p-4 border-b",children:s.jsxs("div",{className:"relative",children:[s.jsx(mr,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 w-4 h-4"}),s.jsx("input",{autoFocus:!0,type:"text",placeholder:"Search item database...",value:r,onChange:f=>a(f.target.value),className:"w-full pl-9 pr-4 py-2.5 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 outline-none"})]})}),s.jsx("div",{className:"flex-grow overflow-y-auto p-2 space-y-1 bg-gray-50/50",children:c.length>0?c.map(f=>s.jsxs("div",{className:"p-3 bg-white border border-gray-200 rounded-lg shadow-sm flex items-center gap-3 hover:border-blue-300 transition-colors group",children:[s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"font-medium text-sm text-gray-900 truncate",children:f.name}),s.jsx("p",{className:"text-xs text-gray-500 truncate",children:f.category||"Item"})]}),s.jsxs("form",{className:"flex items-center gap-2",onSubmit:m=>{m.preventDefault();const v=m.currentTarget.elements.namedItem("qty");d(f,parseInt(v.value)||1),v.value="1"},children:[s.jsx("input",{type:"number",name:"qty",defaultValue:1,min:"1",className:"w-12 py-1 px-1 text-center border rounded text-sm",onClick:m=>m.currentTarget.select()}),s.jsx(V,{type:"submit",size:"xs",variant:"secondary",icon:Ht,children:"Add"})]})]},f.id)):s.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-gray-400 p-8 text-center",children:[s.jsx(mr,{size:32,className:"mb-2 opacity-20"}),s.jsx("p",{className:"text-sm",children:"Type to search for items..."})]})})]}),s.jsxs("div",{className:"w-full md:w-1/2 flex flex-col bg-gray-50",children:[s.jsx("div",{className:"p-3 bg-blue-50 border-b border-blue-100 flex justify-between items-center",children:s.jsxs("h4",{className:"font-bold text-blue-900 text-sm uppercase tracking-wide",children:["Pending Loot (",i.size,")"]})}),s.jsx("div",{className:"flex-grow overflow-y-auto p-3 space-y-2",children:i.size===0?s.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-gray-400 border-2 border-dashed border-gray-200 rounded-lg m-4",children:[s.jsx(so,{size:32,className:"mb-2 opacity-20"}),s.jsx("p",{className:"text-sm",children:"No items added yet."})]}):Array.from(i.values()).map(({item:f,quantity:m})=>s.jsxs("div",{className:"flex items-center justify-between p-3 bg-white border rounded-lg shadow-sm animate-in slide-in-from-left-2",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"w-8 h-8 bg-blue-100 text-blue-700 rounded flex items-center justify-center font-bold text-xs",children:[m,"x"]}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-sm text-gray-900",children:f.name}),s.jsx("p",{className:"text-xs text-gray-500",children:f.category})]})]}),s.jsx("button",{onClick:()=>p(f.id),className:"text-gray-400 hover:text-red-600 p-1.5 hover:bg-red-50 rounded transition-colors",children:s.jsx(Cn,{size:16})})]},f.id))})]})]}),s.jsxs("div",{className:"p-4 border-t bg-white flex justify-end gap-3",children:[s.jsx(V,{variant:"ghost",onClick:e,children:"Cancel"}),s.jsx(V,{variant:"primary",onClick:h,disabled:i.size===0||l,icon:Ht,children:l?"Adding...":"Add Items to Party"})]})]})})};function Bne({partyId:e,members:t,isDM:n}){var Y,K,$,z;const r=nr(),[a,i]=E.useState([]),[o,l]=E.useState(!0),[u,c]=E.useState(null),[d,p]=E.useState(""),[h,f]=E.useState("all"),[m,v]=E.useState(""),[y,g]=E.useState([]),[x,w]=E.useState([]),[k,S]=E.useState(!1),[T,A]=E.useState(!1),{data:I=[]}=Vt({queryKey:["gameItems"],queryFn:Id,staleTime:1/0});E.useEffect(()=>{C()},[e]);async function C(){l(!0);try{const[_,U]=await Promise.all([se.from("party_inventory").select("*").eq("party_id",e),se.from("party_inventory_log").select("*").eq("party_id",e).order("timestamp",{ascending:!1}).limit(50)]);if(_.error)throw _.error;i(_.data||[]),w(U.data||[])}catch(_){c(_ instanceof Error?_.message:"Failed to load data")}finally{l(!1)}}const N=async _=>{try{c(null),await Promise.all(_.map(async({item:U,quantity:X})=>{const L=a.find(ie=>ie.name===U.name);L?await se.from("party_inventory").update({quantity:L.quantity+X}).eq("id",L.id):await se.from("party_inventory").insert([{party_id:e,name:U.name,quantity:X,category:U.category,description:U.description||U.effect}]),await se.from("party_inventory_log").insert([{party_id:e,item_name:U.name,quantity:X,from_type:"party",from_id:"DM",to_type:"party",to_id:e}])})),await C()}catch{c("Failed to assign loot.")}},O=async()=>{var U;if(!m||y.length===0)return;const _=t.find(X=>X.id===m);if(_)try{for(const X of y){const L=a.find(q=>q.id===X);if(!L)continue;L.quantity>1?await se.from("party_inventory").update({quantity:L.quantity-1}).eq("id",L.id):await se.from("party_inventory").delete().eq("id",L.id);const ie=((U=_.equipment)==null?void 0:U.inventory)||[],W=ie.findIndex(q=>q.name===L.name),Q=[...ie];if(W>=0)Q[W]={...Q[W],quantity:Q[W].quantity+1};else{const q=I.find(ee=>ee.name===L.name);Q.push({name:L.name,quantity:1,category:L.category||(q==null?void 0:q.category),description:L.description||(q==null?void 0:q.description)})}await se.from("characters").update({equipment:{..._.equipment,inventory:Q}}).eq("id",_.id),await se.from("party_inventory_log").insert([{party_id:e,item_name:L.name,quantity:1,from_type:"party",from_id:e,to_type:"character",to_id:_.id}])}await C(),r.invalidateQueries({queryKey:["character",_.id]}),g([])}catch{c("Transfer failed.")}},D=async _=>{var X;const U=t.find(L=>L.id===m);if(!(!U||!_.name))try{const L=[...((X=U.equipment)==null?void 0:X.inventory)||[]],ie=L.findIndex(Q=>Q.name===_.name);if(ie===-1)return;L[ie].quantity>1?L[ie].quantity-=1:L.splice(ie,1),await se.from("characters").update({equipment:{...U.equipment,inventory:L}}).eq("id",U.id);const W=a.find(Q=>Q.name===_.name);W?await se.from("party_inventory").update({quantity:W.quantity+1}).eq("id",W.id):await se.from("party_inventory").insert([{party_id:e,name:_.name,quantity:1,category:_.category,description:_.description}]),await se.from("party_inventory_log").insert([{party_id:e,item_name:_.name,quantity:1,from_type:"character",from_id:U.id,to_type:"party",to_id:e}]),await C(),r.invalidateQueries({queryKey:["character",U.id]})}catch{c("Transfer failed.")}},B=["all",...new Set(a.map(_=>_.category).filter(Boolean))],j=a.filter(_=>_.name.toLowerCase().includes(d.toLowerCase())&&(h==="all"||_.category===h)),P=t.find(_=>_.id===m);return s.jsxs(s.Fragment,{children:[T&&s.jsx(Pne,{onClose:()=>A(!1),allItems:I,onAssignLoot:N}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-6 h-[calc(100vh-140px)]",children:[s.jsxs("div",{className:"lg:col-span-7 flex flex-col bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:[s.jsxs("div",{className:"p-4 border-b border-gray-100 flex flex-wrap justify-between items-center gap-4 bg-white z-10",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"bg-indigo-100 p-2 rounded-lg text-indigo-600",children:s.jsx(Cr,{size:20})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-lg font-bold text-gray-900",children:"Party Stash"}),s.jsxs("p",{className:"text-xs text-gray-500",children:[a.length," Items total"]})]})]}),s.jsxs("div",{className:"flex gap-2",children:[n&&s.jsx(V,{size:"sm",variant:"primary",icon:Ht,onClick:()=>A(!0),children:"Add Loot"}),s.jsx(V,{size:"sm",variant:"ghost",icon:kR,onClick:()=>S(!k),className:k?"bg-gray-100":""})]})]}),s.jsxs("div",{className:"p-3 bg-gray-50 border-b border-gray-200 flex gap-3",children:[s.jsxs("div",{className:"relative flex-1",children:[s.jsx(mr,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 w-4 h-4"}),s.jsx("input",{className:"w-full pl-9 pr-3 py-1.5 text-sm border border-gray-300 rounded-md focus:ring-1 focus:ring-indigo-500 outline-none",placeholder:"Filter items...",value:d,onChange:_=>p(_.target.value)})]}),s.jsx("select",{className:"px-3 py-1.5 text-sm border border-gray-300 rounded-md bg-white outline-none focus:ring-1 focus:ring-indigo-500",value:h,onChange:_=>f(_.target.value),children:B.map(_=>s.jsx("option",{value:_,children:_==="all"?"All Categories":_},_))})]}),s.jsx("div",{className:"flex-1 overflow-y-auto p-3 space-y-2 bg-gray-50/30",children:o?s.jsx(et,{}):j.length===0?s.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-gray-400",children:[s.jsx(so,{size:48,className:"opacity-20 mb-2"}),s.jsx("p",{children:"Stash is empty or no match."})]}):j.map(_=>s.jsxs("div",{onClick:()=>g(U=>U.includes(_.id)?U.filter(X=>X!==_.id):[...U,_.id]),className:`
                      p-3 rounded-lg border cursor-pointer flex justify-between items-center transition-all group
                      ${y.includes(_.id)?"bg-indigo-50 border-indigo-500 shadow-sm ring-1 ring-indigo-500":"bg-white border-gray-200 hover:border-indigo-300 hover:shadow-sm"}
                    `,children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:`w-8 h-8 rounded flex items-center justify-center font-bold text-xs ${y.includes(_.id)?"bg-indigo-200 text-indigo-800":"bg-gray-100 text-gray-600"}`,children:_.quantity}),s.jsxs("div",{children:[s.jsx("p",{className:`font-medium text-sm ${y.includes(_.id)?"text-indigo-900":"text-gray-900"}`,children:_.name}),_.category&&s.jsx("p",{className:"text-[10px] uppercase tracking-wide text-gray-400 font-bold",children:_.category})]})]}),_.description&&s.jsx("div",{className:"hidden group-hover:block max-w-xs text-xs text-gray-500 truncate ml-4",children:_.description})]},_.id))})]}),s.jsxs("div",{className:"lg:col-span-5 flex flex-col gap-4 h-full",children:[s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-4 flex-shrink-0",children:[s.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-2",children:"Transfer Partner"}),s.jsxs("select",{className:"w-full p-2.5 border border-gray-300 rounded-lg text-sm font-medium focus:ring-2 focus:ring-indigo-500 outline-none",value:m,onChange:_=>v(_.target.value),children:[s.jsx("option",{value:"",children:"Select Character..."}),t.map(_=>s.jsx("option",{value:_.id,children:_.name},_.id))]})]}),P?s.jsxs("div",{className:"flex-1 flex flex-col gap-4 overflow-hidden",children:[s.jsxs("div",{className:`flex-1 bg-white rounded-xl border shadow-sm flex flex-col overflow-hidden ${y.length>0?"border-indigo-300 ring-2 ring-indigo-100":"border-gray-200"}`,children:[s.jsxs("div",{className:"p-3 border-b bg-gray-50 flex justify-between items-center",children:[s.jsxs("h4",{className:"font-bold text-gray-700 text-sm",children:["Give to ",P.name]}),y.length>0&&s.jsxs("span",{className:"bg-indigo-100 text-indigo-700 text-xs px-2 py-0.5 rounded-full font-bold",children:[y.length," Selected"]})]}),s.jsx("div",{className:"flex-1 p-4 flex flex-col items-center justify-center text-center",children:y.length===0?s.jsx("p",{className:"text-gray-400 text-sm",children:"Select items from the left to transfer."}):s.jsxs("div",{className:"w-full space-y-3",children:[s.jsxs("p",{className:"text-sm text-gray-600",children:["Transferring ",s.jsx("strong",{children:y.length})," item(s)"]}),s.jsx(V,{className:"w-full",variant:"primary",icon:bb,onClick:O,children:"Confirm Transfer"})]})})]}),s.jsxs("div",{className:"flex-1 bg-white rounded-xl border border-gray-200 shadow-sm flex flex-col overflow-hidden",children:[s.jsx("div",{className:"p-3 border-b bg-gray-50",children:s.jsxs("h4",{className:"font-bold text-gray-700 text-sm",children:[P.name,"'s Inventory"]})}),s.jsx("div",{className:"flex-1 overflow-y-auto p-2 space-y-1 bg-gray-50/30",children:((K=(Y=P.equipment)==null?void 0:Y.inventory)==null?void 0:K.length)===0?s.jsx("div",{className:"h-full flex items-center justify-center text-gray-400 text-sm",children:"Empty Inventory"}):(z=($=P.equipment)==null?void 0:$.inventory)==null?void 0:z.map((_,U)=>s.jsxs("div",{className:"flex justify-between items-center p-2 bg-white border rounded hover:bg-gray-50 group",children:[s.jsxs("span",{className:"text-sm text-gray-800",children:[s.jsx("span",{className:"font-mono text-xs bg-gray-100 px-1.5 py-0.5 rounded mr-2",children:_.quantity}),_.name]}),s.jsx(V,{size:"xs",variant:"secondary",icon:fx,onClick:()=>D(_),children:"Take"})]},U))})]})]}):s.jsxs("div",{className:"flex-1 bg-gray-50 border-2 border-dashed border-gray-300 rounded-xl flex flex-col items-center justify-center text-gray-400 p-6 text-center",children:[s.jsx(Cr,{size:48,className:"mb-3 opacity-20"}),s.jsx("p",{className:"font-medium",children:"Select a character above to start transferring items."})]}),k&&s.jsxs("div",{className:"absolute right-0 top-16 bottom-0 w-80 bg-white shadow-2xl border-l border-gray-200 z-20 animate-in slide-in-from-right duration-300 flex flex-col",children:[s.jsxs("div",{className:"p-4 border-b flex justify-between items-center bg-gray-50",children:[s.jsx("h3",{className:"font-bold text-gray-800",children:"History"}),s.jsx("button",{onClick:()=>S(!1),children:s.jsx(mt,{size:18,className:"text-gray-400 hover:text-gray-600"})})]}),s.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-3",children:x.map(_=>s.jsxs("div",{className:"text-xs p-2 bg-gray-50 rounded border border-gray-100",children:[s.jsxs("p",{className:"font-bold text-gray-700",children:[_.item_name," ",s.jsxs("span",{className:"font-normal text-gray-500",children:["x",_.quantity]})]}),s.jsxs("div",{className:"flex items-center gap-1 text-gray-500 mt-1",children:[s.jsx("span",{children:_.from_type==="party"?"Party":"Char"}),s.jsx(bb,{size:10}),s.jsx("span",{children:_.to_type==="party"?"Party":"Char"})]}),s.jsx("p",{className:"text-[10px] text-gray-400 mt-1",children:new Date(_.timestamp).toLocaleTimeString()})]},_.id))})]})]})]})]})}async function Une(){const{data:e,error:t}=await se.from("monsters").select("*").order("name");if(t)throw console.error("Error fetching all monsters:",t),t;return e||[]}function $ne(e){const t=nr();E.useEffect(()=>{if(!e)return;const n=[],r=se.channel(`encounter:${e}`).on("postgres_changes",{event:"UPDATE",schema:"public",table:"encounters",filter:`id=eq.${e}`},i=>{console.log("Encounter updated:",i),t.invalidateQueries({queryKey:["encounterDetails",e]})}).subscribe((i,o)=>{i==="SUBSCRIBED"&&console.log(`Subscribed to encounter:${e}`),(i==="CHANNEL_ERROR"||i==="TIMED_OUT")&&console.error(`Encounter channel error for ${e}:`,o)});n.push(r);const a=se.channel(`encounter_combatants:${e}`).on("postgres_changes",{event:"*",schema:"public",table:"encounter_combatants",filter:`encounter_id=eq.${e}`},i=>{console.log("Encounter combatants changed:",i),t.invalidateQueries({queryKey:["encounterCombatants",e]})}).subscribe((i,o)=>{i==="SUBSCRIBED"&&console.log(`Subscribed to encounter_combatants:${e}`),(i==="CHANNEL_ERROR"||i==="TIMED_OUT")&&console.error(`Encounter combatants channel error for ${e}:`,o)});return n.push(a),()=>{console.log(`Unsubscribing from encounter channels for ${e}`),n.forEach(i=>se.removeChannel(i))}},[e,t])}const eC=(e,t)=>{if(!e.monster_id)return[e];const n=e.display_name.replace(/ \(Act \d+\)$/,"");return t.filter(r=>r.monster_id===e.monster_id&&r.display_name.replace(/ \(Act \d+\)$/,"")===n)},Hne=(e,t)=>{let n=[];const r=Math.ceil(Math.max(e,1)/10);for(let a=0;a<r;a++)for(let i=1;i<=10;i++)n.push(i);t.forEach(a=>{const i=n.indexOf(a);i>-1&&n.splice(i,1)});for(let a=n.length-1;a>0;a--){const i=Math.floor(Math.random()*(a+1));[n[a],n[i]]=[n[i],n[a]]}return n},zne=({stats:e})=>s.jsx("div",{className:"grid grid-cols-3 gap-2 text-xs",children:Object.entries(e).map(([t,n])=>s.jsxs("div",{className:"bg-white/50 p-1 rounded border border-stone-200 flex flex-col items-center",children:[s.jsx("span",{className:"font-bold text-stone-500 uppercase text-[10px] truncate w-full text-center",title:t,children:t.replace(/_/g," ")}),s.jsx("span",{className:"font-mono font-bold text-stone-800",children:String(n)})]},t))});function Gne({description:e,attackName:t}){const{toggleDiceRoller:n}=Kr(),r=/(\d*d\d+\s*[+-]?\s*\d*)/gi,a=e.split(r);return s.jsx("p",{className:"text-stone-800 mt-1 leading-relaxed",children:a.map((i,o)=>i.match(r)&&i.match(/[dD]/)?s.jsxs("button",{className:"inline-flex items-center justify-center font-bold text-blue-700 hover:text-blue-900 bg-blue-100 hover:bg-blue-200 px-1.5 py-0.5 rounded mx-0.5 text-xs transition-colors",onClick:()=>n==null?void 0:n({dice:i.toLowerCase().replace(/\s/g,""),label:`${t} - Damage`}),children:[s.jsx(NR,{size:10,className:"mr-1"}),i]},o):s.jsx("span",{children:i},o))})}function qne({text:e,contextLabel:t}){const{toggleDiceRoller:n}=Kr();if(!e)return null;const r=/(\d*d\d+\s*[+-]?\s*\d*)/gi,a=e.split(r),i=o=>o.replace(/\*\*(.*?)\*\*/g,"<strong>$1</strong>").replace(/\*(.*?)\*/g,"<em>$1</em>");return s.jsx("div",{className:"whitespace-pre-wrap leading-relaxed",children:a.map((o,l)=>{if(o.match(r)&&o.match(/[dD]/))return s.jsxs("button",{className:"inline-flex items-center justify-center font-bold text-blue-700 hover:text-blue-900 bg-blue-100 hover:bg-blue-200 px-1.5 py-0.5 rounded mx-0.5 text-xs transition-colors",onClick:()=>n==null?void 0:n({dice:o.toLowerCase().replace(/\s/g,""),label:`${t} - Effects Roll`}),children:[s.jsx(NR,{size:10,className:"mr-1"}),o]},l);const u=i(o);return s.jsx("span",{dangerouslySetInnerHTML:{__html:u}},l)})})}function Vne({entry:e}){var r;const t=a=>new Date(a).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"});if(e.type==="round_advanced")return s.jsxs("div",{className:"flex items-center justify-center gap-2 my-2",children:[s.jsx("div",{className:"h-px bg-stone-300 w-10"}),s.jsxs("span",{className:"font-serif font-bold text-stone-600 text-xs uppercase tracking-widest",children:["Round ",e.round]}),s.jsx("div",{className:"h-px bg-stone-300 w-10"})]});let n=null;switch(e.type){case"turn_start":n=s.jsxs("span",{className:"text-stone-600",children:["Turn started: ",s.jsx("strong",{children:e.name})]});break;case"turn_end":n=s.jsxs("span",{className:"text-stone-400 italic",children:["Turn ended: ",e.name]});break;case"hp_change":const a=e.delta<0;n=s.jsxs("span",{className:a?"text-red-700":"text-green-700",children:[s.jsx("strong",{children:e.name})," ",a?`took ${Math.abs(e.delta)} DMG`:`healed ${e.delta} HP`]});break;case"wp_change":const i=e.delta<0;n=s.jsxs("span",{className:"text-blue-700",children:[s.jsx("strong",{children:e.name})," ",i?`spent ${Math.abs(e.delta)} WP`:`recovered ${e.delta} WP`]});break;case"monster_attack":n=s.jsxs("div",{className:"bg-orange-50 p-2 rounded border border-orange-100",children:[s.jsxs("span",{className:"text-orange-800 font-medium flex items-center gap-1",children:[s.jsx(Or,{size:12})," ",e.name,": ",((r=e.attack)==null?void 0:r.name)||"Attack"]}),s.jsxs("div",{className:"text-xs text-stone-600 mt-1 italic",children:["Rolled ",e.roll]})]});break;case"attack_resolve":n=s.jsxs("span",{className:"text-stone-700",children:[s.jsx(yb,{size:12,className:"inline mr-1"}),s.jsx("strong",{children:e.attacker})," dealt ",e.damage," damage to ",s.jsx("strong",{children:e.target})]});break;default:n=s.jsx("span",{children:e.message||JSON.stringify(e)})}return s.jsxs("div",{className:"flex gap-2 text-sm py-1 border-b border-stone-100 last:border-0",children:[s.jsx("time",{className:"text-xs text-stone-300 font-mono mt-0.5 w-10 shrink-0",children:t(e.ts)}),s.jsx("div",{className:"flex-grow",children:n})]})}function Wne({log:e}){return!e||e.length===0?s.jsx("p",{className:"text-sm text-gray-500 mt-2 px-1",children:"No events have been logged yet."}):s.jsx("div",{className:"space-y-1 divide-y divide-gray-100",children:e.slice().reverse().map((t,n)=>s.jsx(Vne,{entry:t},n))})}function Yne({isOpen:e,onClose:t,attacker:n,targets:r,attackName:a,onConfirm:i}){const[o,l]=E.useState(null),[u,c]=E.useState("");if(!e)return null;const d=!!n.monster_id,h=[...E.useMemo(()=>{const f=new Set;return r.filter(m=>{if(!m.monster_id)return!0;const v=m.display_name.replace(/ \(Act \d+\)$/,""),y=`${m.monster_id}:${v}`;return f.has(y)?!1:(f.add(y),!0)})},[r])].sort((f,m)=>{const v=!!f.monster_id,y=!!m.monster_id;return d?v===y?0:v?1:-1:v===y?0:v?-1:1});return s.jsx("div",{className:"fixed inset-0 bg-black/60 flex items-center justify-center z-50 p-4 backdrop-blur-sm",children:s.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-md overflow-hidden border border-stone-200 flex flex-col max-h-[90vh]",children:[s.jsxs("div",{className:"p-4 border-b bg-stone-800 text-white flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsxs("h3",{className:"text-lg font-bold font-serif flex items-center gap-2",children:[s.jsx(Or,{className:"w-5 h-5 text-red-400"})," Resolve Action"]}),s.jsxs("p",{className:"text-xs text-stone-400",children:[n.display_name," is acting",a?` using ${a}`:""]})]}),s.jsx("button",{onClick:t,className:"text-stone-400 hover:text-white",children:s.jsx(yi,{size:24})})]}),s.jsxs("div",{className:"flex-grow overflow-y-auto p-4 bg-stone-50 space-y-4",children:[s.jsxs("div",{children:[s.jsxs("h4",{className:"text-xs font-bold text-stone-500 uppercase mb-2 flex items-center gap-1",children:[s.jsx(Hh,{size:12})," Select Target"]}),s.jsx("div",{className:"space-y-2 max-h-60 overflow-y-auto pr-1 custom-scrollbar",children:h.map(f=>{const m=d&&!f.monster_id||!d&&!!f.monster_id,v=f.current_hp===0,y=f.monster_id?f.display_name.replace(/ \(Act \d+\)$/,""):f.display_name;return s.jsxs("div",{onClick:()=>!v&&l(f.id),className:`p-3 rounded border flex justify-between items-center cursor-pointer transition-all ${o===f.id?"ring-2 ring-red-500 border-red-500 bg-red-50":"bg-white border-stone-200 hover:border-stone-400"} ${v?"opacity-50 grayscale cursor-not-allowed":""}`,children:[s.jsxs("div",{children:[s.jsx("span",{className:`font-bold ${m?"text-red-700":"text-blue-700"}`,children:y}),s.jsxs("div",{className:"text-xs text-stone-500",children:[m?"Enemy":"Ally","  HP: ",f.current_hp,"/",f.max_hp]})]}),o===f.id&&s.jsx(Hh,{className:"text-red-600 w-5 h-5 animate-pulse"})]},f.id)})})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-xs font-bold text-stone-500 uppercase mb-2",children:"Damage Amount"}),s.jsx("div",{className:"flex gap-2",children:s.jsx("input",{type:"number",autoFocus:!0,placeholder:"0",className:"flex-grow p-3 text-lg font-bold border rounded shadow-sm focus:ring-2 focus:ring-red-500 outline-none",value:u,onChange:f=>c(f.target.value)})}),s.jsx("p",{className:"text-xs text-stone-400 mt-1",children:"Enter negative number to heal."})]})]}),s.jsxs("div",{className:"p-4 border-t bg-white flex justify-end gap-2",children:[s.jsx(V,{variant:"ghost",onClick:t,children:"Cancel"}),s.jsx(V,{variant:"danger",Icon:Or,disabled:!o||!u,onClick:()=>o&&i(o,parseInt(u)),children:"Apply"})]})]})})}function Kne({isOpen:e,onClose:t,combatants:n,onApply:r}){const[a,i]=E.useState({});E.useEffect(()=>{if(e){const l={};n.forEach(u=>{u.initiative_roll&&(l[u.id]=String(u.initiative_roll))}),i(l)}},[e,n]);const o=()=>{const l=[],u=[];if(n.forEach(c=>{const d=parseInt(a[c.id]);isNaN(d)||(u.push(d),l.push({id:c.id,initiative_roll:d}))}),n.length-l.length>0){const c=Hne(n.length,u);n.forEach(d=>{if(!l.find(p=>p.id===d.id)){const p=c.pop();p&&l.push({id:d.id,initiative_roll:p})}})}r(l)};return e?s.jsx("div",{className:"fixed inset-0 bg-black/60 flex items-center justify-center z-50 p-4 backdrop-blur-sm",children:s.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-lg h-[80vh] flex flex-col overflow-hidden border border-stone-200",children:[s.jsxs("div",{className:"p-4 border-b bg-stone-800 text-white flex justify-between items-center",children:[s.jsxs("h3",{className:"text-lg font-bold font-serif flex items-center gap-2",children:[s.jsx(Ut,{className:"w-5 h-5"})," Draw Initiative"]}),s.jsx("button",{onClick:t,className:"text-stone-400 hover:text-white",children:s.jsx(yi,{size:24})})]}),s.jsxs("div",{className:"p-3 bg-blue-50 text-blue-900 text-sm border-b border-blue-100",children:["Enter manual values for characters keeping their card (e.g. ",s.jsx("strong",{children:"Veteran"})," talent). Leave blank to draw from deck."]}),s.jsx("div",{className:"flex-grow overflow-y-auto p-4 bg-stone-50 space-y-2",children:n.map(l=>s.jsxs("div",{className:"flex items-center justify-between bg-white p-3 rounded border shadow-sm",children:[s.jsx("span",{className:"font-bold text-stone-800",children:l.display_name}),s.jsx("input",{type:"number",min:"1",max:"10",placeholder:"Auto",className:`w-20 px-2 py-1 text-center border rounded font-mono font-bold ${a[l.id]?"bg-yellow-50 border-yellow-400 text-yellow-900":"bg-white"}`,value:a[l.id]||"",onChange:u=>i(c=>({...c,[l.id]:u.target.value}))})]},l.id))}),s.jsxs("div",{className:"p-4 border-t bg-white flex justify-end gap-2",children:[s.jsx(V,{variant:"ghost",onClick:t,children:"Cancel"}),s.jsx(V,{variant:"primary",Icon:Ut,onClick:o,children:"Draw & Apply"})]})]})}):null}function Zne({isOpen:e,onClose:t,availablePartyMembers:n,allMonsters:r,onAddParty:a,onAddMonster:i}){var g;const[o,l]=E.useState("party"),[u,c]=E.useState(""),[d,p]=E.useState(null),[h,f]=E.useState(1),[m,v]=E.useState("");if(!e)return null;const y=r?r.filter(x=>x.name.toLowerCase().includes(u.toLowerCase())||x.category&&x.category.toLowerCase().includes(u.toLowerCase())).slice(0,20):[];return s.jsx("div",{className:"fixed inset-0 bg-black/60 flex items-center justify-center z-50 p-4 backdrop-blur-sm",children:s.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-2xl h-[80vh] flex flex-col overflow-hidden border border-stone-200",children:[s.jsxs("div",{className:"p-4 border-b bg-stone-50 flex justify-between items-center",children:[s.jsx("h3",{className:"text-xl font-bold font-serif text-stone-800",children:"Add Combatants"}),s.jsx("button",{onClick:t,className:"text-stone-400 hover:text-stone-600",children:s.jsx(yi,{size:24})})]}),s.jsxs("div",{className:"flex border-b",children:[s.jsx("button",{className:`flex-1 py-3 text-sm font-bold uppercase tracking-wide transition-colors ${o==="party"?"bg-white border-b-2 border-blue-600 text-blue-600":"bg-stone-100 text-stone-500 hover:bg-stone-200"}`,onClick:()=>l("party"),children:"Party Members"}),s.jsx("button",{className:`flex-1 py-3 text-sm font-bold uppercase tracking-wide transition-colors ${o==="monsters"?"bg-white border-b-2 border-orange-600 text-orange-600":"bg-stone-100 text-stone-500 hover:bg-stone-200"}`,onClick:()=>l("monsters"),children:"Monsters & NPCs"})]}),s.jsxs("div",{className:"flex-grow overflow-y-auto p-4 bg-stone-50/50",children:[o==="party"&&s.jsx("div",{className:"space-y-2",children:n.length===0?s.jsx("p",{className:"text-center text-stone-400 py-8 italic",children:"All party members added."}):n.map(x=>s.jsxs("div",{className:"flex items-center justify-between bg-white p-3 rounded border shadow-sm",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center text-blue-700",children:s.jsx(ms,{size:16})}),s.jsx("span",{className:"font-bold text-stone-800",children:x.name})]}),s.jsx(V,{size:"sm",onClick:()=>a(x.id),Icon:Yc,children:"Add"})]},x.id))}),o==="monsters"&&s.jsxs("div",{className:"flex flex-col h-full gap-4",children:[s.jsxs("div",{className:"relative",children:[s.jsx(mr,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-stone-400 w-4 h-4"}),s.jsx("input",{type:"text",placeholder:"Search monsters...",className:"w-full pl-9 pr-4 py-2 border rounded shadow-sm focus:ring-2 focus:ring-orange-500 outline-none",value:u,onChange:x=>c(x.target.value),autoFocus:!0})]}),s.jsxs("div",{className:"flex-grow overflow-hidden flex flex-col md:flex-row gap-4",children:[s.jsx("div",{className:"flex-1 overflow-y-auto border rounded bg-white divide-y",children:y.map(x=>s.jsxs("div",{className:`p-3 cursor-pointer hover:bg-orange-50 ${d===x.id?"bg-orange-50 border-l-4 border-orange-500":""}`,onClick:()=>p(x.id),children:[s.jsx("p",{className:"font-bold text-sm",children:x.name}),s.jsx("p",{className:"text-[10px] text-stone-500",children:x.category})]},x.id))}),d&&s.jsxs("div",{className:"w-full md:w-64 bg-white p-4 border rounded shadow-sm flex flex-col gap-3 flex-shrink-0 h-fit",children:[s.jsx("h4",{className:"font-bold text-stone-800 border-b pb-2",children:(g=r.find(x=>x.id===d))==null?void 0:g.name}),s.jsxs("div",{children:[s.jsx("label",{className:"text-[10px] font-bold text-stone-500 uppercase",children:"Count"}),s.jsx("input",{type:"number",min:"1",className:"w-full p-1.5 border rounded text-sm",value:h,onChange:x=>f(Math.max(1,parseInt(x.target.value)||1))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-[10px] font-bold text-stone-500 uppercase",children:"Name (Opt)"}),s.jsx("input",{type:"text",placeholder:"e.g. Boss",className:"w-full p-1.5 border rounded text-sm",value:m,onChange:x=>v(x.target.value)})]}),s.jsx(V,{className:"w-full mt-2",onClick:()=>{i(d,h,m),f(1),v("")},Icon:Yc,children:"Add to Fight"})]})]})]})]}),s.jsx("div",{className:"p-3 border-t bg-stone-50 flex justify-end",children:s.jsx(V,{onClick:t,variant:"secondary",children:"Done"})})]})})}function Xne({combatant:e,monsterData:t,currentAttack:n,onRollAttack:r,onEndTurn:a,onOpenAttackModal:i}){const o=!!e.monster_id;return s.jsxs("div",{className:"bg-white rounded-xl shadow-lg border-2 border-blue-500 overflow-hidden mb-6 relative animate-in fade-in slide-in-from-top-2",children:[s.jsxs("div",{className:"bg-blue-600 text-white px-4 py-2 flex justify-between items-center",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"bg-white text-blue-800 font-bold font-serif w-8 h-8 flex items-center justify-center rounded shadow",children:e.initiative_roll??"-"}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-lg leading-none",children:e.display_name}),s.jsx("span",{className:"text-xs text-blue-100 uppercase tracking-wider font-semibold",children:"Current Turn"})]})]}),s.jsx(V,{size:"sm",variant:"secondary",onClick:a,Icon:Ax,title:"End turn and automatically flip next card",children:"End Turn (Flip)"})]}),s.jsx("div",{className:"p-4",children:o&&t?s.jsxs("div",{className:"space-y-4",children:[t.stats&&s.jsx(zne,{stats:t.stats}),t.effectsSummary&&s.jsxs("div",{className:"bg-yellow-50 p-3 rounded border border-yellow-200 text-sm",children:[s.jsx("span",{className:"text-xs font-bold text-yellow-800 uppercase block mb-1",children:"Traits & Effects"}),s.jsx(qne,{text:t.effectsSummary,contextLabel:t.name})]}),s.jsx("div",{className:"bg-stone-50 rounded-lg border border-stone-200 p-3",children:n?s.jsxs("div",{className:"animate-in fade-in",children:[s.jsx("div",{className:"flex justify-between items-start mb-1",children:s.jsx("span",{className:"text-xs font-bold text-stone-400 uppercase",children:"Active Action (Rolled)"})}),s.jsx("h4",{className:"font-bold text-lg text-red-700 mb-1",children:n.name}),s.jsx(Gne,{description:n.description,attackName:n.name}),s.jsxs("div",{className:"mt-3 pt-2 border-t border-stone-200 flex justify-end gap-2",children:[s.jsx(V,{size:"xs",variant:"outline",Icon:Ut,onClick:r,children:"Reroll"}),s.jsx(V,{size:"xs",variant:"danger",Icon:yb,onClick:i,children:"Resolve / Apply"})]})]}):s.jsxs("div",{className:"text-center py-4",children:[s.jsx("p",{className:"text-stone-500 text-sm mb-3 italic",children:"No attack selected."}),s.jsx(V,{size:"md",variant:"danger",Icon:Or,onClick:r,className:"w-full justify-center shadow-md",children:"Roll Monster Attack"})]})})]}):s.jsxs("div",{className:"text-center py-6 text-stone-500 flex flex-col items-center gap-3",children:[s.jsx("p",{className:"italic",children:"It's a player's turn."}),s.jsx(V,{size:"sm",variant:"outline",Icon:yb,onClick:i,children:"Record Player Attack"})]})})]})}function Qne({combatant:e,isSelected:t,isSwapSource:n,onSelect:r,onSwapRequest:a,onFlipCard:i,onSaveStats:o,statsState:l,setStatsState:u,monsterData:c,onRemove:d,isDM:p}){const h=!!e.monster_id,f=e.has_acted||!1,m=e.initiative_roll??"-",v=h&&e.current_hp===0,y=!h&&e.current_hp===0,g=l.current_hp??"",x=l.current_wp??"";return s.jsxs("div",{className:`relative flex items-center gap-3 p-2 pr-3 rounded-lg border shadow-sm transition-all cursor-pointer overflow-hidden ${v?"bg-stone-200 border-stone-400 opacity-80":f?"bg-stone-100 border-stone-200 opacity-60 grayscale":t?"bg-blue-50 border-blue-400 ring-1 ring-blue-400":"bg-white border-stone-200 hover:border-stone-300 hover:shadow-md"} ${n?"ring-2 ring-purple-500 bg-purple-50 animate-pulse":""}`,onClick:()=>r(e.id),children:[v&&s.jsx("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none z-0 overflow-hidden",children:s.jsx("span",{className:"text-stone-400/20 font-black text-4xl uppercase -rotate-12 select-none",children:"Defeated"})}),s.jsx("div",{className:`relative z-10 flex-shrink-0 w-10 h-14 rounded flex items-center justify-center shadow-sm border transition-colors ${v?"bg-red-100 border-red-300 text-red-800":f?"bg-stone-200 border-stone-300 text-stone-400":"bg-white border-stone-800 text-stone-900"}`,children:s.jsx("span",{className:"font-serif font-bold text-xl",children:m})}),s.jsxs("div",{className:"relative z-10 flex-grow min-w-0",children:[s.jsxs("div",{className:"flex justify-between items-start mb-1",children:[s.jsxs("div",{className:"min-w-0 flex items-center gap-2",children:[s.jsx("p",{className:`font-bold truncate leading-tight ${f||v?"text-stone-500 line-through":"text-stone-800"}`,children:e.display_name}),s.jsx("span",{className:"text-[10px] uppercase font-bold tracking-wider text-stone-400",children:h?(c==null?void 0:c.name)||"Monster":"Player"}),h&&p&&s.jsx($f,{size:10,className:"text-stone-300",title:"HP synced across all action cards"})]}),s.jsxs("div",{className:"flex items-center gap-2",onClick:w=>w.stopPropagation(),children:[s.jsxs("div",{className:`flex items-center bg-white border border-stone-200 rounded overflow-hidden shadow-sm ${e.current_hp===0?"ring-2 ring-red-500 border-red-500":""}`,children:[s.jsx("div",{className:`px-1.5 py-1 ${e.current_hp===0?"bg-red-100":"bg-stone-50"} border-r border-stone-200`,children:s.jsx(xi,{className:`w-3 h-3 ${e.current_hp===0?"text-red-500":"text-red-600"}`})}),s.jsx("input",{type:"number",className:"w-10 px-1 py-0.5 text-xs text-center font-bold outline-none focus:bg-blue-50",value:g,onChange:w=>u({...l,current_hp:w.target.value}),onBlur:()=>o(e.id)}),s.jsxs("div",{className:"px-1.5 py-0.5 text-[10px] text-stone-400 bg-stone-50 border-l border-stone-200",children:["/",e.max_hp]})]}),s.jsxs("div",{className:"flex items-center bg-white border border-stone-200 rounded overflow-hidden shadow-sm",children:[s.jsx("div",{className:"px-1.5 py-1 bg-stone-50 border-r border-stone-200",children:s.jsx(Ar,{className:"w-3 h-3 text-blue-600"})}),s.jsx("input",{type:"number",className:"w-10 px-1 py-0.5 text-xs text-center font-bold outline-none focus:bg-blue-50",value:x,onChange:w=>u({...l,current_wp:w.target.value}),onBlur:()=>o(e.id)}),e.max_wp!=null&&s.jsxs("div",{className:"px-1.5 py-0.5 text-[10px] text-stone-400 bg-stone-50 border-l border-stone-200",children:["/",e.max_wp]})]})]})]}),s.jsxs("div",{className:"flex items-center justify-between mt-2 h-6",children:[y&&s.jsxs("div",{className:"flex items-center gap-1 bg-red-50 px-2 py-0.5 rounded border border-red-100",children:[s.jsx(ds,{size:10,className:"text-red-500"}),s.jsx("span",{className:"text-[10px] font-bold text-red-700 uppercase",children:"Dying"})]}),v&&s.jsxs("div",{className:"flex items-center gap-1 px-2 py-0.5 rounded bg-stone-700 text-white",children:[s.jsx(ds,{size:10}),s.jsx("span",{className:"text-[10px] font-bold uppercase",children:"Defeated"})]}),s.jsxs("div",{className:`flex items-center gap-1 transition-opacity ${f?"opacity-50 hover:opacity-100":""}`,onClick:w=>w.stopPropagation(),children:[!f&&!v&&s.jsx("button",{className:`p-1 rounded transition-colors ${n?"bg-purple-600 text-white":"text-stone-400 hover:text-purple-600 hover:bg-purple-50"}`,title:"Swap Initiative (Wait)",onClick:()=>a(e.id),children:s.jsx(vR,{size:14})}),!v&&s.jsx("button",{className:`p-1 rounded transition-colors ${f?"text-stone-400 hover:bg-stone-200":"text-stone-500 hover:bg-stone-100 hover:text-stone-800"}`,title:f?"Unflip Card":"Flip Card (End Turn/Reaction)",onClick:()=>i(e.id,f),children:f?s.jsx(Ax,{size:14}):s.jsx($h,{size:14})}),p&&s.jsxs("button",{className:`p-1 rounded transition-colors flex items-center gap-1 ${v?"bg-red-600 text-white hover:bg-red-700 px-2 shadow-sm":"text-stone-300 hover:text-red-600 hover:bg-red-50"}`,onClick:()=>d(e.id),title:"Remove from Encounter",children:[s.jsx(Cn,{size:14}),v&&s.jsx("span",{className:"text-[10px] font-bold uppercase",children:"Remove Corpse"})]})]})]})]})]})}function Jne({partyId:e,partyMembers:t,isDM:n}){var ae;const r=nr(),{toggleDiceRoller:a}=Kr(),[i,o]=E.useState(""),[l,u]=E.useState(null),[c,d]=E.useState("details"),[p,h]=E.useState(!1),[f,m]=E.useState(!1),[v,y]=E.useState(!1),[g,x]=E.useState(!1),[w,k]=E.useState(!1),[S,T]=E.useState(""),[A,I]=E.useState({}),[C,N]=E.useState({}),[O,D]=E.useState(null),[B,j]=E.useState(""),[P,Y]=E.useState(null),{data:K,isLoading:$}=Vt({queryKey:["allEncounters",e],queryFn:()=>Q7(e),enabled:!!e}),{data:z}=Vt({queryKey:["allMonsters"],queryFn:Une}),_=E.useMemo(()=>{var Z;return l||((Z=K==null?void 0:K[0])==null?void 0:Z.id)||null},[l,K]),{data:U}=Vt({queryKey:["encounterDetails",_],queryFn:()=>_?J7(_):Promise.resolve(null),enabled:!!_}),{data:X}=Vt({queryKey:["encounterCombatants",_],queryFn:()=>_?t3(_):Promise.resolve([]),enabled:!!_});$ne(_);const L=E.useMemo(()=>new Map((z??[]).map(Z=>[Z.id,Z])),[z]),ie=E.useMemo(()=>(X==null?void 0:X.slice().sort((Z,ue)=>{const Se=Z.initiative_roll??1e3,Le=ue.initiative_roll??1e3;return Se!==Le?Se-Le:(Z.display_name??"").localeCompare(ue.display_name??"")}))||[],[X]),W=E.useMemo(()=>ie.find(Z=>Z.id===O),[ie,O]),Q=E.useMemo(()=>W!=null&&W.monster_id?L.get(W.monster_id):null,[W,L]),q=E.useMemo(()=>t.filter(Z=>!ie.some(ue=>ue.character_id===Z.id)),[t,ie]);E.useEffect(()=>{!$&&(!K||K.length===0)&&d("create")},[K,$]),E.useEffect(()=>{U&&T(U.name)},[U]),E.useEffect(()=>{if(!ie)return;const Z={};ie.forEach(ue=>{Z[ue.id]={current_hp:String(ue.current_hp??0),current_wp:ue.max_wp!=null?String(ue.current_wp??ue.max_wp):String(ue.current_wp??""),initiative_roll:String(ue.initiative_roll||"")}}),I(Z)},[ie]),E.useEffect(()=>{if((U==null?void 0:U.status)==="active"&&ie.length>0){const Z=ie.find(ue=>ue.id===O);if(!O||Z&&(Z.has_acted||Z.monster_id&&Z.current_hp===0)){const ue=ie.find(Se=>!Se.has_acted&&!(Se.monster_id&&Se.current_hp===0));ue&&D(ue.id)}}},[ie,U,O]),E.useEffect(()=>{O&&!ie.find(Z=>Z.id===O)&&D(null)},[ie,O]);const ee=Ct({mutationFn:Z=>tB(e,Z),onSuccess:Z=>{r.invalidateQueries({queryKey:["allEncounters"]}),u(Z.id),d("details")}}),ve=Ct({mutationFn:uB,onSuccess:()=>r.invalidateQueries({queryKey:["allEncounters"]})}),Ie=Ct({mutationFn:({id:Z,name:ue})=>nB(Z,ue),onSuccess:Z=>{r.invalidateQueries({queryKey:["allEncounters"]}),u(Z.id)}}),te=Ct({mutationFn:({id:Z,updates:ue})=>qf(Z,ue),onSuccess:()=>{r.invalidateQueries({queryKey:["encounterDetails"]}),k(!1)}}),oe=Ct({mutationFn:rB,onSuccess:()=>r.invalidateQueries({queryKey:["encounterCombatants"]})}),ge=Ct({mutationFn:aB,onSuccess:()=>r.invalidateQueries({queryKey:["encounterCombatants"]})}),pe=Ct({mutationFn:cB,onSuccess:()=>r.invalidateQueries({queryKey:["encounterCombatants"]})}),dt=Ct({mutationFn:({id:Z,updates:ue})=>rh(Z,ue),onSuccess:()=>r.invalidateQueries({queryKey:["encounterCombatants"]})}),qe=Ct({mutationFn:dB,onSuccess:()=>{r.invalidateQueries({queryKey:["encounterCombatants"]}),Y(null)}}),_e=Ct({mutationFn:Z=>sB(_,Z),onSuccess:()=>r.invalidateQueries({queryKey:["encounterDetails"]})}),$e=Ct({mutationFn:()=>iB(_),onSuccess:()=>{r.invalidateQueries(),m(!0)}}),xt=Ct({mutationFn:oB,onSuccess:()=>r.invalidateQueries()}),gt=Ct({mutationFn:async()=>{await lB(_),X&&await Promise.all(X.map(Z=>rh(Z.id,{has_acted:!1})))},onSuccess:()=>{_e.mutate({type:"round_advanced",ts:Date.now(),round:((U==null?void 0:U.current_round)??0)+1}),D(null),m(!0),r.invalidateQueries()}}),Dn=Z=>{const ue=A[Z],Se=ie.find(Wt=>Wt.id===Z);if(!ue||!Se)return;const Le=parseInt(ue.current_hp),ft=parseInt(ue.current_wp),it={};let vt=[Se];Se.monster_id&&X&&(vt=eC(Se,X)),!isNaN(Le)&&Le!==Se.current_hp&&(it.current_hp=Le,_e.mutate({type:"hp_change",ts:Date.now(),who:Z,name:Se.display_name,delta:Le-(Se.current_hp||0)})),!isNaN(ft)&&ft!==Se.current_wp&&(it.current_wp=ft,_e.mutate({type:"wp_change",ts:Date.now(),who:Z,name:Se.display_name,delta:ft-(Se.current_wp||0)})),Object.keys(it).length>0&&vt.forEach(Wt=>dt.mutate({id:Wt.id,updates:it}))},lt=(Z,ue)=>{var ft;if(!((ft=ue.attacks)!=null&&ft.length))return;const Se=Math.floor(Math.random()*6)+1,Le=ue.attacks.find(it=>it.roll_values.split(",").includes(String(Se)));Le&&(N(it=>({...it,[Z]:Le})),_e.mutate({type:"monster_attack",ts:Date.now(),who:Z,name:ue.name,roll:Se,attack:{name:Le.name}}))},Fr=async Z=>{await Promise.all(Z.map(ue=>rh(ue.id,{...ue,has_acted:!1}))),m(!1),r.invalidateQueries({queryKey:["encounterCombatants"]}),_e.mutate({type:"generic",ts:Date.now(),message:"Initiative drawn."})},On=(Z,ue)=>{dt.mutate({id:Z,updates:{has_acted:!ue}})},Et=(Z,ue)=>{if(!W)return;const Se=ie.find(vt=>vt.id===Z);if(!Se)return;const ft={current_hp:Math.max(0,Se.current_hp-ue)};let it=[Se];Se.monster_id&&X&&(it=eC(Se,X)),it.forEach(vt=>dt.mutate({id:vt.id,updates:ft})),_e.mutate({type:"attack_resolve",ts:Date.now(),attacker:W.display_name,target:Se.display_name,damage:ue}),y(!1)};return n?$?s.jsx(et,{}):s.jsxs("div",{className:"p-4 max-w-7xl mx-auto space-y-6",children:[s.jsxs("header",{className:"flex flex-wrap items-center justify-between gap-4 bg-white p-4 rounded-xl shadow-sm border border-stone-200 sticky top-2 z-30",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold font-serif text-stone-900",children:U?U.name:"Encounters"}),U&&s.jsxs("div",{className:"flex items-center gap-3 text-sm mt-1",children:[s.jsx("span",{className:`px-2 py-0.5 rounded-full font-bold uppercase text-[10px] tracking-wider ${U.status==="active"?"bg-green-100 text-green-700":"bg-yellow-100 text-yellow-700"}`,children:U.status}),U.status==="active"&&s.jsxs("span",{className:"font-mono font-bold text-stone-600",children:["Round ",U.current_round]})]})]}),s.jsx("div",{className:"flex items-center gap-2",children:c==="details"&&s.jsxs(s.Fragment,{children:[s.jsx(V,{variant:"ghost",Icon:Yc,onClick:()=>d("create"),children:"New"}),s.jsx(V,{onClick:()=>x(!0),Icon:Hf,variant:"secondary",children:"List"}),(U==null?void 0:U.status)==="planning"&&s.jsx(V,{variant:"primary",Icon:BP,onClick:()=>$e.mutate(),children:"Start"}),(U==null?void 0:U.status)==="active"&&s.jsxs(s.Fragment,{children:[s.jsx(V,{variant:"primary",Icon:zP,onClick:()=>gt.mutate(),children:"Next Round"}),s.jsx(V,{variant:"outline",Icon:Rx,onClick:()=>xt.mutate(_),children:"End"})]})]})})]}),c==="create"?s.jsxs("div",{className:"bg-white p-8 rounded-xl shadow-sm max-w-md mx-auto text-center",children:[s.jsx("h3",{className:"text-xl font-bold mb-4",children:"Start a New Encounter"}),s.jsx("input",{className:"w-full p-3 border rounded-lg mb-4",placeholder:"Name",value:i,onChange:Z=>o(Z.target.value)}),s.jsxs("div",{className:"flex justify-center gap-3",children:[s.jsx(V,{variant:"primary",onClick:()=>ee.mutate(i),children:"Create"}),s.jsx(V,{variant:"ghost",onClick:()=>d("details"),children:"Cancel"})]})]}):U?s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"space-y-4 lg:col-span-1 h-fit lg:sticky lg:top-24",children:[s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-stone-200 overflow-hidden",children:[s.jsx("div",{className:"p-3 bg-stone-50 border-b border-stone-200",children:s.jsx("h4",{className:"font-bold text-stone-600 text-sm uppercase",children:"Combat Log"})}),s.jsx("div",{className:"h-64 lg:h-[calc(100vh-300px)] overflow-y-auto p-3 bg-white",children:s.jsx(Wne,{log:U.log||[]})})]}),s.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-stone-200",children:[s.jsx("textarea",{className:"w-full text-sm p-2 border rounded bg-yellow-50/50 min-h-[100px]",placeholder:"DM Notes...",value:B,onChange:Z=>j(Z.target.value)}),s.jsx("div",{className:"mt-2 flex justify-end gap-2",children:s.jsx(V,{size:"sm",variant:"ghost",onClick:()=>k(!0),Icon:_x,children:"Edit Encounter"})})]})]}),s.jsxs("div",{className:"lg:col-span-2 space-y-4",children:[P&&s.jsxs("div",{className:"bg-purple-600 text-white p-3 rounded-lg shadow-md flex justify-between items-center animate-pulse",children:[s.jsxs("span",{className:"font-bold flex items-center gap-2",children:[s.jsx(vR,{})," Select swap target..."]}),s.jsx(V,{size:"sm",variant:"secondary",onClick:()=>Y(null),children:"Cancel"})]}),w&&s.jsxs("div",{className:"bg-white p-4 rounded-xl shadow mb-4 border border-blue-200",children:[s.jsx("h4",{className:"font-bold mb-2",children:"Edit Details"}),s.jsx("input",{className:"w-full mb-2 p-2 border rounded",value:S,onChange:Z=>T(Z.target.value)}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(V,{size:"sm",onClick:()=>te.mutate({id:_,updates:{name:S}}),children:"Save"}),s.jsx(V,{size:"sm",variant:"ghost",onClick:()=>k(!1),children:"Cancel"})]})]}),U.status==="active"&&W&&s.jsx(Xne,{combatant:W,monsterData:Q||void 0,currentAttack:C[W.id],onRollAttack:()=>Q&&lt(W.id,Q),onEndTurn:()=>On(W.id,!1),onOpenAttackModal:()=>y(!0)}),s.jsxs("div",{className:"bg-stone-100/50 p-4 rounded-xl border border-stone-200",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsx("h3",{className:"font-bold text-stone-500 uppercase tracking-wider text-sm",children:"Initiative Track"}),s.jsxs("div",{className:"flex gap-2",children:[U.status==="active"&&s.jsx(V,{size:"sm",variant:"outline",Icon:Cx,onClick:()=>m(!0),children:"Re-Draw"}),s.jsx(V,{size:"sm",variant:"outline",Icon:zf,onClick:()=>h(!0),children:"Add"})]})]}),s.jsxs("div",{className:"space-y-2",children:[ie.length===0&&s.jsx("p",{className:"text-center py-8 text-stone-400 italic",children:"No combatants added."}),ie.map(Z=>s.jsx(Qne,{combatant:Z,monsterData:L.get(Z.monster_id||""),isSelected:O===Z.id,isSwapSource:P===Z.id,onSelect:D,onSwapRequest:ue=>P?qe.mutate({id1:P,id2:ue}):Y(ue),onFlipCard:On,onSaveStats:Dn,onRemove:ue=>pe.mutate(ue),statsState:A[Z.id]||{current_hp:"",current_wp:""},setStatsState:ue=>I(Se=>({...Se,[Z.id]:ue})),isDM:n},Z.id))]})]})]})]}):s.jsx("div",{className:"text-center py-12 text-stone-400",children:"No encounter selected."}),s.jsx(Zne,{isOpen:p,onClose:()=>h(!1),partyMembers:t,availablePartyMembers:q,allMonsters:z||[],onAddParty:Z=>oe.mutate({encounterId:_,characterId:Z,initiativeRoll:null}),onAddMonster:(Z,ue,Se)=>{var it;const Le=L.get(Z),ft=((it=Le==null?void 0:Le.stats)==null?void 0:it.FEROCITY)||1;for(let vt=1;vt<=ue;vt++){const Wt=ue>1?`${Se||(Le==null?void 0:Le.name)} ${vt}`:Se||(Le==null?void 0:Le.name);for(let de=1;de<=ft;de++)ge.mutate({encounterId:_,monsterId:Z,customName:ft>1?`${Wt} (Act ${de})`:Wt,initiativeRoll:null})}}}),s.jsx(Kne,{isOpen:f,onClose:()=>m(!1),combatants:ie,onApply:Fr}),v&&W&&s.jsx(Yne,{isOpen:v,onClose:()=>y(!1),attacker:W,targets:ie.filter(Z=>Z.id!==W.id),attackName:W.monster_id?(ae=C[W.id])==null?void 0:ae.name:void 0,onConfirm:Et}),g&&s.jsx("div",{className:"fixed inset-0 bg-black/60 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-xl w-full max-w-2xl space-y-4 max-h-[80vh] flex flex-col",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h3",{className:"text-xl font-semibold",children:"All Encounters"}),s.jsx(V,{variant:"ghost",size:"sm",onClick:()=>x(!1),Icon:yi,children:"Close"})]}),s.jsx("div",{className:"overflow-y-auto space-y-2 border-t pt-4",children:(K??[]).map(Z=>s.jsxs("div",{className:`flex items-center justify-between p-3 rounded-md ${_===Z.id?"bg-blue-100":"bg-gray-50"}`,children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold",children:Z.name}),s.jsxs("p",{className:"text-sm text-gray-600 capitalize",children:["Status: ",Z.status]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(V,{size:"sm",onClick:()=>u(Z.id),disabled:_===Z.id,children:"Select"}),s.jsx(V,{size:"sm",variant:"outline",Icon:gx,onClick:()=>Ie.mutate({id:Z.id,name:Z.name}),children:"Copy"}),s.jsx(V,{size:"sm",variant:"danger",Icon:Cn,onClick:()=>ve.mutate(Z.id),children:"Del"})]})]},Z.id))})]})})]}):s.jsx("div",{className:"p-8 text-center text-stone-500",children:"Only the DM can manage encounters."})}async function ere(){const{data:e,error:t}=await se.from("bio_data").select("flaws").eq("name","WEAKNESS").single();if(t)throw console.error("Error fetching weaknesses:",t),new Error(t.message);return e}const tre=["Did the adventurers explore a new and dangerous location?","Did they overcome a demanding challenge (a monster, trap, or riddle)?","Did they complete an important part of the adventure?","Did they make a discovery that is vital to the story?","Did the player roleplay their character in an exemplary way?","Did the player actively engage with the world and its inhabitants?","Did the player have a good time and contribute to the fun?"],nre=[{title:"Be Generous",description:"Its better to award one too many than one too few. Keep the momentum going!"},{title:"Don't Punish",description:"Never withhold marks for character mistakes or failed rolls. Failure is part of the story."}];function rre({members:e,partyId:t}){const n=nr(),[r,a]=E.useState(null),[i,o]=E.useState(""),[l,u]=E.useState(""),c=E.useMemo(()=>e.find(y=>y.id===i),[i,e]),{data:d,isLoading:p}=Vt({queryKey:["weaknesses"],queryFn:ere,enabled:r==="gaveIn"}),h=Ct({mutationFn:({characterId:y,flaw:g})=>JR(y,{flaw:g}),onSuccess:()=>{n.invalidateQueries({queryKey:["party",t]}),a(null),o(""),u("")}}),f=()=>{i&&l&&h.mutate({characterId:i,flaw:l})},m=()=>{i&&h.mutate({characterId:i,flaw:null})},v=(d==null?void 0:d.flaws)||[];return s.jsxs("div",{className:"max-w-4xl mx-auto space-y-8 p-6",children:[s.jsxs("div",{className:"text-center space-y-2 mb-8",children:[s.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-full bg-yellow-100 text-yellow-600 mb-2",children:s.jsx(Ff,{size:32})}),s.jsx("h2",{className:"text-3xl font-bold text-gray-900",children:"Session End Cheatsheet"}),s.jsx("p",{className:"text-gray-500 max-w-lg mx-auto",children:"Review the session's progress and award advancement marks to your players."})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:[s.jsxs("div",{className:"p-4 bg-blue-50/50 border-b border-gray-100 flex items-center gap-2",children:[s.jsx(Ad,{className:"text-blue-600 w-5 h-5"}),s.jsx("h3",{className:"font-bold text-gray-800",children:"Advancement Checklist"})]}),s.jsxs("div",{className:"p-6",children:[s.jsx("p",{className:"text-sm text-gray-600 mb-6",children:'Ask the group these questions. For every "Yes", each player marks an advancement skill of their choice.'}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-y-4 gap-x-8",children:tre.map((y,g)=>s.jsxs("div",{className:"flex gap-3 items-start",children:[s.jsx("div",{className:"w-5 h-5 rounded bg-gray-100 border border-gray-300 flex-shrink-0 mt-0.5"}),s.jsx("p",{className:"text-gray-700 text-sm leading-relaxed",children:y})]},g))})]})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:[s.jsxs("div",{className:"p-4 bg-purple-50/50 border-b border-gray-100 flex items-center gap-2",children:[s.jsx(NP,{className:"text-purple-600 w-5 h-5"}),s.jsx("h3",{className:"font-bold text-gray-800",children:"Weaknesses & Flaws"})]}),s.jsxs("div",{className:"p-6",children:[s.jsx("p",{className:"text-gray-800 font-medium mb-4",children:"Did a character interact significantly with their weakness?"}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-6",children:[s.jsxs("button",{onClick:()=>{a("gaveIn"),o("")},className:`flex-1 p-4 rounded-lg border-2 text-left transition-all ${r==="gaveIn"?"border-red-500 bg-red-50 ring-1 ring-red-200":"border-gray-200 hover:border-red-200 hover:bg-gray-50"}`,children:[s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsx("span",{className:"font-bold text-red-900 block mb-1",children:"Gave In to Weakness"}),r==="gaveIn"&&s.jsx(Wi,{size:20,className:"text-red-600"})]}),s.jsx("p",{className:"text-xs text-red-700",children:"Gain 1 Mark. Must take a new Flaw."})]}),s.jsxs("button",{onClick:()=>{a("overcame"),o("")},className:`flex-1 p-4 rounded-lg border-2 text-left transition-all ${r==="overcame"?"border-green-500 bg-green-50 ring-1 ring-green-200":"border-gray-200 hover:border-green-200 hover:bg-gray-50"}`,children:[s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsx("span",{className:"font-bold text-green-900 block mb-1",children:"Overcame Weakness"}),r==="overcame"&&s.jsx(Wi,{size:20,className:"text-green-600"})]}),s.jsx("p",{className:"text-xs text-green-700",children:"Gain 2 Marks. Remove current Flaw/Weakness."})]})]}),s.jsxs("div",{className:"transition-all duration-300 ease-in-out",children:[r==="gaveIn"&&s.jsxs("div",{className:"animate-in fade-in slide-in-from-top-2 bg-gray-50 p-5 rounded-lg border border-gray-200",children:[s.jsxs("div",{className:"flex items-start gap-3 mb-4 text-sm text-gray-600",children:[s.jsx(wt,{className:"w-5 h-5 text-red-500 flex-shrink-0 mt-0.5"}),s.jsxs("p",{children:["The character succumbed to their weakness. They gain ",s.jsx("strong",{children:"1 Advancement Mark"}),", but suffer a setback. Select a new ",s.jsx("strong",{children:"Flaw"})," for them."]})]}),p?s.jsx("div",{className:"flex justify-center py-8",children:s.jsx(Sa,{className:"animate-spin text-gray-400"})}):s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 items-end",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1",children:"Character"}),s.jsxs("select",{className:"w-full p-2.5 bg-white border border-gray-300 rounded-md shadow-sm focus:ring-2 focus:ring-red-500 outline-none",value:i,onChange:y=>o(y.target.value),children:[s.jsx("option",{value:"",disabled:!0,children:"Select character..."}),e.map(y=>s.jsx("option",{value:y.id,children:y.name},y.id))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1",children:"New Flaw"}),s.jsxs("select",{className:"w-full p-2.5 bg-white border border-gray-300 rounded-md shadow-sm focus:ring-2 focus:ring-red-500 outline-none",value:l,onChange:y=>u(y.target.value),children:[s.jsx("option",{value:"",disabled:!0,children:"Choose flaw..."}),v.map(y=>s.jsx("option",{value:y,children:y},y))]})]}),s.jsx("div",{className:"md:col-span-2 flex justify-end mt-2",children:s.jsx(V,{variant:"danger",onClick:f,disabled:!i||!l||h.isPending,isLoading:h.isPending,children:"Assign Flaw & Close"})})]})]}),r==="overcame"&&s.jsxs("div",{className:"animate-in fade-in slide-in-from-top-2 bg-green-50/50 p-5 rounded-lg border border-green-200",children:[s.jsxs("div",{className:"flex items-start gap-3 mb-4 text-sm text-gray-700",children:[s.jsx(Ix,{className:"w-5 h-5 text-green-600 flex-shrink-0 mt-0.5"}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("p",{children:[s.jsx("strong",{children:"Great Roleplaying!"})," The character acted against their nature."]}),s.jsxs("ul",{className:"list-disc pl-4 space-y-1 text-xs text-gray-600",children:[s.jsxs("li",{children:["Gain ",s.jsx("strong",{children:"2 Advancement Marks"}),"."]}),s.jsxs("li",{children:["They have overcome their weakness/flaw. ",s.jsx("strong",{children:"Remove it now."})]}),s.jsx("li",{children:"They must play one full session without a weakness before choosing a new one."})]})]})]}),s.jsxs("div",{className:"flex flex-col md:flex-row gap-4 items-end",children:[s.jsxs("div",{className:"flex-grow w-full",children:[s.jsx("label",{className:"block text-xs font-bold text-green-700 uppercase mb-1",children:"Character to Redeem"}),s.jsxs("select",{className:"w-full p-2.5 bg-white border border-gray-300 rounded-md shadow-sm focus:ring-2 focus:ring-green-500 outline-none",value:i,onChange:y=>o(y.target.value),children:[s.jsx("option",{value:"",disabled:!0,children:"Select character..."}),e.filter(y=>y.flaw).map(y=>s.jsxs("option",{value:y.id,children:[y.name," (Has Flaw)"]},y.id))]}),(c==null?void 0:c.flaw)&&s.jsxs("p",{className:"text-xs text-green-600 mt-1",children:["Removing: ",s.jsx("strong",{children:c.flaw})]})]}),s.jsx(V,{className:"w-full md:w-auto bg-green-600 hover:bg-green-700 text-white",onClick:m,disabled:!i||h.isPending,isLoading:h.isPending,children:"Redeem & Remove Flaw"})]}),e.filter(y=>y.flaw).length===0&&s.jsx("p",{className:"text-xs text-gray-500 italic mt-3 text-center",children:"No characters currently have a flaw to remove."})]}),h.isSuccess&&s.jsxs("div",{className:"mt-4 p-3 bg-green-100 text-green-800 text-sm rounded-lg flex items-center gap-2 animate-in fade-in",children:[s.jsx(Wi,{size:16})," Update successful!"]}),h.error&&s.jsxs("div",{className:"mt-4 p-3 bg-red-100 text-red-800 text-sm rounded-lg flex items-center gap-2 animate-in fade-in",children:[s.jsx(yi,{size:16})," ",h.error.message]})]})]})]}),s.jsxs("div",{className:"bg-yellow-50 border border-yellow-100 rounded-xl p-6",children:[s.jsxs("h3",{className:"text-lg font-bold text-yellow-800 mb-4 flex items-center gap-2",children:[s.jsx(Ia,{className:"w-5 h-5"})," GM Principles"]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:nre.map((y,g)=>s.jsxs("div",{children:[s.jsx("h4",{className:"font-bold text-yellow-900 text-sm uppercase tracking-wide mb-1",children:y.title}),s.jsx("p",{className:"text-yellow-800 text-sm",children:y.description})]},g))})]})]})}const are=async e=>{const{data:t,error:n}=await se.from("story_ideas").select("*").eq("party_id",e).order("created_at",{ascending:!1});if(n)throw new Error(n.message);return t},sre=async e=>{const{data:t,error:n}=await se.from("story_ideas").insert([e]).select();if(n)throw new Error(n.message);return t},ire=async(e,t)=>{const{data:n,error:r}=await se.from("story_ideas").update(t).eq("id",e).select();if(r)throw new Error(r.message);return n},ore=async e=>{const{error:t}=await se.from("story_ideas").delete().eq("id",e);if(t)throw new Error(t.message)},lre=`\`\`\`monster
## Monster Name
*Size type (tag)*
___
- **Ferocity:** 1
- **Movement:** 12
- **Armor:** 2
- **HP:** 24
___
|STR|CON|AGL|INT|WIL|CHA|
|:---:|:---:|:---:|:---:|:---:|:---:|
|16|14|12|10|14|8|
___
***Trait Name.*** Description of trait (e.g. Immunity to Fire).

### Monster Attacks
| d6 | Attack |
|:---|:---|
| 1 | **Slash:** 2D8 slashing damage. |
| 2 | **Bite:** 3D6 piercing damage. |
| 3 | **Roar:** Fear attack (WIL roll). |
\`\`\``,ure="```note\n#### GM Note\nUse this block for specific rules, descriptions, or secrets that should stand out on the page.\n```",cre=`\`\`\`spell
#### Spell Name
*Rank 1 School*
___
- **Requirement:** Word, Gesture
- **Casting Time:** Action
- **Range:** 10 meters
- **Duration:** Instant
___
Description of the spell effect goes here.
\`\`\``,dre={name:"monsterBlock",keyCommand:"monsterBlock",buttonProps:{"aria-label":"Insert Monster Block"},icon:s.jsx(Tn,{size:12}),execute:(e,t)=>{t.replaceSelection(lre)}},pre={name:"noteBlock",keyCommand:"noteBlock",buttonProps:{"aria-label":"Insert Note Block"},icon:s.jsx(ii,{size:12}),execute:(e,t)=>{t.replaceSelection(ure)}},hre={name:"spellBlock",keyCommand:"spellBlock",buttonProps:{"aria-label":"Insert Spell Block"},icon:s.jsx(Aa,{size:12}),execute:(e,t)=>{t.replaceSelection(cre)}},tC=[QS,nN,iN,eN,Ra,lL,sN,JS,Nm,Ra,rN,tN,Ra,dre,pre,hre];function fre({idea:e,onClick:t,isActive:n}){return s.jsxs("div",{onClick:t,className:`
        p-4 rounded-lg cursor-pointer border transition-all duration-200
        ${n?"bg-indigo-50 border-indigo-500 shadow-sm ring-1 ring-indigo-200":"bg-white border-gray-200 hover:border-indigo-300 hover:shadow-sm"}
      `,children:[s.jsxs("div",{className:"flex justify-between items-start mb-1",children:[s.jsx("h4",{className:`font-bold text-sm truncate pr-2 ${n?"text-indigo-800":"text-gray-800"}`,children:e.prompt||"Untitled Idea"}),s.jsx("span",{className:"text-[10px] text-gray-400 whitespace-nowrap",children:new Date(e.created_at).toLocaleDateString()})]}),s.jsxs("p",{className:"text-xs text-gray-500 line-clamp-2 leading-relaxed",children:[e.response.replace(/[#*`]/g,"").substring(0,100),"..."]})]})}function mre({onKeySubmit:e}){const[t,n]=E.useState("");return s.jsxs("div",{className:"flex flex-col items-center justify-center h-[60vh] bg-white rounded-xl border border-gray-200 shadow-sm p-8 text-center max-w-lg mx-auto mt-10",children:[s.jsx("div",{className:"w-16 h-16 bg-indigo-100 rounded-full flex items-center justify-center mb-6 text-indigo-600",children:s.jsx(AP,{size:32})}),s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Configure AI Assistant"}),s.jsx("p",{className:"text-gray-500 mb-8 leading-relaxed",children:"To generate Dragonbane content, this tool uses OpenRouter. Please enter your API key below. It is stored locally in your browser."}),s.jsxs("form",{onSubmit:r=>{r.preventDefault(),t.trim()&&e(t)},className:"w-full flex gap-2",children:[s.jsx("input",{type:"password",value:t,onChange:r=>n(r.target.value),placeholder:"sk-or-...",className:"flex-grow px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 outline-none"}),s.jsx(V,{type:"submit",variant:"primary",children:"Save Key"})]}),s.jsxs("p",{className:"text-xs text-gray-400 mt-4",children:["Don't have a key? Visit ",s.jsx("a",{href:"https://openrouter.ai/",target:"_blank",rel:"noreferrer",className:"underline hover:text-indigo-600",children:"OpenRouter.ai"})]})]})}function gre({partyId:e,initialPartyData:t=""}){const{user:n}=cn(),r=nr(),[a,i]=E.useState("generate"),[o,l]=E.useState(""),[u,c]=E.useState(""),[d,p]=E.useState(t),[h,f]=E.useState(""),[m,v]=E.useState(""),[y,g]=E.useState(!0),[x,w]=E.useState(""),[k,S]=E.useState(""),[T,A]=E.useState(""),[I,C]=E.useState(!1),[N,O]=E.useState(!1),[D,B]=E.useState(!1),[j,P]=E.useState(""),[Y,K]=E.useState(null),[$,z]=E.useState(!1),[_,U]=E.useState("");E.useEffect(()=>{const te=localStorage.getItem("openrouter_api_key");te&&(A(te),C(!0))},[]),E.useEffect(()=>{S(x)},[x]),E.useEffect(()=>{d||p(t)},[t]);const X=te=>{localStorage.setItem("openrouter_api_key",te),A(te),C(!0),O(!1)},{data:L,isLoading:ie}=Vt({queryKey:["storyIdeas",e],queryFn:()=>are(e),enabled:I}),W=Ct({mutationFn:te=>sre(te),onSuccess:te=>{r.invalidateQueries({queryKey:["storyIdeas",e]}),w(""),c(""),i("saved"),te&&te.length>0&&K(te[0])}}),Q=Ct({mutationFn:te=>ore(te),onSuccess:()=>{r.invalidateQueries({queryKey:["storyIdeas",e]}),K(null)}}),q=Ct({mutationFn:({ideaId:te,updates:oe})=>ire(te,oe),onSuccess:te=>{r.invalidateQueries({queryKey:["storyIdeas",e]}),te&&te.length>0&&K(te[0]),z(!1)}}),ee=()=>{if(!k||!n)return;const te={party_id:e,user_id:n.id,prompt:u||"Generated Idea",response:k,context:{party:d,location:h,npc:m}};W.mutate(te)},ve=async()=>{var te,oe;if(!u.trim()){P("Please enter a prompt.");return}if(!T.trim()){P("API Key missing."),O(!0);return}B(!0),P(""),w("");try{let ge=`You are a helpful GM assistant for a Dragonbane TTRPG game. Generate creative content based on the following information. CRITICALLY: Format your entire response using markdown suitable for a tool like Homebrewery, but do not include the backticks or labels for the content blocks (like \`\`\`monster or \`\`\`note).

--- Main Prompt ---
${u}`;(u.toLowerCase().includes("monster")||u.toLowerCase().includes("creature"))&&(ge+=`

STRICT FORMATTING: Create a Dragonbane monster. Use the Markdown format: 
\`\`\`monster
## Name
*Size type*
___
- **Ferocity:** 1
...
\`\`\`
Include a Monster Attacks table with d6 rolls.`),d.trim()&&(ge+=`

--- Context: Party ---
${d}`),h.trim()&&(ge+=`

--- Context: Location ---
${h}`),m.trim()&&(ge+=`

--- Context: NPCs ---
${m}`);const pe=await fetch("https://openrouter.ai/api/v1/chat/completions",{method:"POST",headers:{Authorization:`Bearer ${T}`,"Content-Type":"application/json"},body:JSON.stringify({model:"google/gemini-2.5-flash",messages:[{role:"user",content:ge}],max_tokens:2048,temperature:.75})});if(!pe.ok)throw new Error(`API error: ${pe.status}`);const qe=((oe=(te=(await pe.json()).choices[0])==null?void 0:te.message)==null?void 0:oe.content)||"No response.";w(qe),S(qe)}catch(ge){P(ge instanceof Error?ge.message:"Generation failed.")}finally{B(!1)}},Ie=L==null?void 0:L.filter(te=>{var oe;return(((oe=te.prompt)==null?void 0:oe.toLowerCase())||"").includes(o.toLowerCase())});return I?s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden flex flex-col h-[calc(100vh-150px)]",children:[s.jsxs("div",{className:"bg-white border-b border-gray-200 px-6 py-3 flex justify-between items-center shrink-0",children:[s.jsxs("div",{className:"flex gap-6",children:[s.jsxs("button",{onClick:()=>i("generate"),className:`flex items-center gap-2 pb-3 -mb-3 border-b-2 text-sm font-bold transition-colors ${a==="generate"?"border-indigo-600 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-800"}`,children:[s.jsx(zh,{size:18})," Generator"]}),s.jsxs("button",{onClick:()=>i("saved"),className:`flex items-center gap-2 pb-3 -mb-3 border-b-2 text-sm font-bold transition-colors ${a==="saved"?"border-indigo-600 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-800"}`,children:[s.jsx(Aa,{size:18})," Library"]})]}),s.jsx("div",{className:"flex items-center gap-2",children:N?s.jsxs("div",{className:"flex items-center gap-2 bg-gray-100 p-1 rounded-lg animate-in fade-in slide-in-from-right-2",children:[s.jsx("input",{type:"password",value:T,onChange:te=>A(te.target.value),className:"bg-white border-none rounded px-2 py-1 text-xs w-32 focus:ring-0",placeholder:"API Key"}),s.jsx(V,{size:"xs",onClick:()=>X(T),children:"Save"}),s.jsx("button",{onClick:()=>O(!1),className:"p-1 text-gray-400 hover:text-gray-600",children:s.jsx(mt,{size:14})})]}):s.jsx(V,{variant:"ghost",size:"icon_sm",onClick:()=>O(!0),title:"Settings",children:s.jsx(Uh,{size:18,className:"text-gray-400"})})})]}),s.jsxs("div",{className:"flex-grow overflow-hidden bg-gray-50",children:[a==="generate"&&s.jsxs("div",{className:"h-full flex flex-col lg:flex-row",children:[s.jsx("div",{className:"w-full lg:w-1/3 p-6 border-r border-gray-200 bg-white overflow-y-auto",children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"What do you need?"}),s.jsx("textarea",{className:"w-full p-3 border border-gray-300 rounded-lg shadow-sm focus:ring-2 focus:ring-indigo-500 outline-none text-sm min-h-[100px]",placeholder:"e.g. 'A trap involving mirrors', 'A stats block for a Giant Spider'",value:u,onChange:te=>c(te.target.value)})]}),s.jsxs("div",{className:"border-t border-gray-100 pt-4",children:[s.jsxs("button",{onClick:()=>g(!y),className:"flex items-center gap-2 text-xs font-bold text-gray-500 uppercase tracking-wide hover:text-indigo-600 mb-3",children:[y?s.jsx(iu,{size:14}):s.jsx(wa,{size:14})," Context Helpers"]}),y&&s.jsxs("div",{className:"space-y-4 animate-in fade-in slide-in-from-top-1",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"Party"}),s.jsx("textarea",{rows:3,className:"w-full p-2 border rounded text-xs",value:d,onChange:te=>p(te.target.value),placeholder:"Characters..."})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"Location"}),s.jsx("textarea",{rows:2,className:"w-full p-2 border rounded text-xs",value:h,onChange:te=>f(te.target.value),placeholder:"Current place..."})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"NPCs"}),s.jsx("textarea",{rows:2,className:"w-full p-2 border rounded text-xs",value:m,onChange:te=>v(te.target.value),placeholder:"Nearby figures..."})]})]})]}),s.jsx(V,{onClick:ve,disabled:D,className:"w-full",icon:$l,variant:"primary",children:D?"Conjuring...":"Generate"}),j&&s.jsx("div",{className:"p-3 bg-red-50 text-red-600 text-xs rounded border border-red-100",children:j})]})}),s.jsx("div",{className:"w-full lg:w-2/3 bg-gray-50 p-6 flex flex-col h-full overflow-hidden",children:k?s.jsxs("div",{className:"flex flex-col h-full bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:[s.jsx("div",{className:"flex-grow overflow-hidden","data-color-mode":"light",children:s.jsx(af,{value:k,onChange:te=>S(te||""),height:"100%",visibleDragbar:!1,preview:"preview",commands:tC,previewOptions:{style:{backgroundColor:"transparent",padding:0},wrapper:({children:te})=>s.jsx("div",{className:"phb p-6",children:te}),components:{markdown:te=>s.jsx(hl,{remarkPlugins:[Yi,Sc],rehypePlugins:[ri],...te})}},className:"h-full border-none"})}),s.jsxs("div",{className:"p-3 border-t bg-gray-50 flex justify-end gap-2 shrink-0",children:[s.jsx(V,{size:"sm",variant:"secondary",onClick:()=>{w(""),S("")},children:"Clear"}),s.jsx(V,{size:"sm",variant:"primary",icon:vn,onClick:ee,loading:W.isPending,children:"Save to Library"})]})]}):s.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-gray-400 border-2 border-dashed border-gray-200 rounded-xl",children:[s.jsx(fP,{size:48,className:"opacity-20 mb-4"}),s.jsx("p",{className:"text-sm font-medium",children:"AI output will appear here."})]})})]}),a==="saved"&&s.jsxs("div",{className:"h-full flex flex-col lg:flex-row",children:[s.jsxs("div",{className:"w-full lg:w-1/3 border-r border-gray-200 bg-white flex flex-col h-full",children:[s.jsx("div",{className:"p-4 border-b border-gray-100",children:s.jsxs("div",{className:"relative",children:[s.jsx(mr,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 w-4 h-4"}),s.jsx("input",{className:"w-full pl-9 pr-3 py-2 border rounded-lg text-sm outline-none focus:ring-2 focus:ring-indigo-500",placeholder:"Search library...",value:o,onChange:te=>l(te.target.value)})]})}),s.jsx("div",{className:"flex-grow overflow-y-auto p-3 space-y-2 bg-gray-50/50",children:ie?s.jsx("div",{className:"flex justify-center py-10",children:s.jsx(et,{})}):(Ie==null?void 0:Ie.length)===0?s.jsx("div",{className:"text-center py-10 text-gray-400 text-sm",children:"No saved ideas found."}):Ie==null?void 0:Ie.map(te=>s.jsx(fre,{idea:te,onClick:()=>{K(te),z(!1)},isActive:(Y==null?void 0:Y.id)===te.id},te.id))})]}),s.jsx("div",{className:"w-full lg:w-2/3 bg-gray-50 flex flex-col h-full overflow-hidden",children:Y?s.jsxs("div",{className:"flex-grow flex flex-col h-full",children:[s.jsxs("div",{className:"bg-white border-b p-4 flex justify-between items-center shrink-0",children:[s.jsxs("div",{className:"min-w-0 mr-4",children:[s.jsx("h3",{className:"font-bold text-gray-900 truncate",children:Y.prompt}),s.jsxs("p",{className:"text-xs text-gray-500",children:["Created ",new Date(Y.created_at).toLocaleString()]})]}),s.jsx("div",{className:"flex gap-2",children:$?s.jsxs(s.Fragment,{children:[s.jsx(V,{size:"sm",variant:"ghost",onClick:()=>z(!1),children:"Cancel"}),s.jsx(V,{size:"sm",variant:"primary",icon:vn,onClick:()=>{q.mutate({ideaId:Y.id,updates:{response:_}})},loading:q.isPending,children:"Save"})]}):s.jsxs(s.Fragment,{children:[s.jsx(V,{size:"sm",variant:"secondary",icon:qP,onClick:()=>{U(Y.response),z(!0)},children:"Edit"}),s.jsx(V,{size:"sm",variant:"danger_outline",icon:Cn,onClick:()=>Q.mutate(Y.id),loading:Q.isPending,children:"Delete"})]})})]}),s.jsx("div",{className:"flex-grow overflow-hidden bg-white p-0 h-full",children:$?s.jsx(af,{value:_,onChange:te=>U(te||""),height:"100%",visibleDragbar:!1,preview:"edit",commands:tC,previewOptions:{style:{backgroundColor:"transparent",padding:0},wrapper:({children:te})=>s.jsx("div",{className:"phb p-8",children:te}),components:{markdown:te=>s.jsx(hl,{remarkPlugins:[Yi,Sc],rehypePlugins:[ri],...te})}}}):s.jsx("div",{className:"h-full overflow-y-auto p-8",children:s.jsx("div",{className:"phb",children:s.jsx(hl,{remarkPlugins:[Yi,Sc],rehypePlugins:[ri],children:Y.response})})})})]}):s.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-gray-400",children:[s.jsx(ou,{size:48,className:"opacity-20 mb-4"}),s.jsx("p",{className:"text-sm font-medium",children:"Select an idea to view details."})]})})]})]})]}):s.jsx(mre,{onKeySubmit:X})}const TL=E.createContext(void 0);function CL(){const e=E.useContext(TL);if(!e)throw new Error("useDropdown must be used within a DropdownMenu");return e}function bre({children:e}){const[t,n]=E.useState(!1),r=E.useRef(null);return E.useEffect(()=>{const a=i=>{r.current&&!r.current.contains(i.target)&&n(!1)};return document.addEventListener("mousedown",a),()=>{document.removeEventListener("mousedown",a)}},[]),s.jsx(TL.Provider,{value:{isOpen:t,setIsOpen:n},children:s.jsx("div",{className:"relative inline-block text-left",ref:r,children:e})})}function yre({children:e}){const{isOpen:t,setIsOpen:n}=CL();return s.jsx("button",{type:"button",onClick:r=>{r.stopPropagation(),n(a=>!a)},className:"p-2 rounded-full text-gray-500 hover:bg-gray-100 hover:text-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500","aria-expanded":t,"aria-haspopup":"true",children:e||s.jsx(bx,{className:"w-5 h-5"})})}function xre({children:e}){const{isOpen:t,setIsOpen:n}=CL();return t?s.jsx("div",{className:"origin-top-right absolute right-0 mt-2 w-56 rounded-md shadow-lg bg-white ring-1 ring-black ring-opacity-5 z-10",role:"menu","aria-orientation":"vertical","aria-labelledby":"menu-button",children:s.jsx("div",{className:"py-1",role:"none",onClick:()=>n(!1),children:e})}):null}function vre({onSelect:e,children:t,className:n}){return s.jsx("a",{href:"#",onClick:r=>{r.preventDefault(),e()},className:`flex items-center gap-3 px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 hover:text-gray-900 ${n}`,role:"menuitem",children:t})}const zu={npcs:{title:"NPCs",icon:ds,sections:[{title:"Typical NPCs",type:"table",headers:["Type","Skills","Abilities","Dmg","HP","WP","Gear"],rows:[["Guard","Awareness 10, Swords 12","","STR +D4","12","","Broadsword, studded leather"],["Cultist","Evade 14, Knives 14","","AGL +D4","12","","Dagger"],["Thief","Evade 12, Knives 12","","AGL +D4","10","","Knife"],["Villager","Brawling 8","","","8","","Wooden club"],["Hunter","Awareness 12, Bows 13","","AGL +D4","13","","Longbow, leather armor"],["Bandit","Bows 12, Evade 10, Swords 12","","","12","","Short sword, short bow"],["Adventurer","Awareness 10, Swords 12","","STR +D4","13","","Broadsword, studded leather"],["Scholar","Languages 13, Myths 13","","","7","","A good book"],["Bandit Chief","Awareness 12, Brawling 15","Berserker, Robust x6","STR +D6","30","16","Heavy warhammer, chainmail"],["Knight Champion","Brawling 14, Swords 16","Defensive, Double Slash","STR +D6","28","26","Longsword, plate, horse"],["Archmage","Magic 15, Staves 13","Master Spellcaster","","22","30","Staff, grimoire"]]},{title:"NPCs and Skills",type:"text",content:"NPCs use skills like PCs, but the GM only rolls for actions that directly affect a player. For other actions, the GM decides the outcome. For an unlisted skill, an NPC's default skill level is 5."},{title:"Attributes for NPCs",type:"text",content:"STR & AGL: Use damage bonus (+D6  17, +D4  14, none  10). WIL: Use max WP if listed, otherwise 10. INT & CHA: Roll against 10."}]},rolling:{title:"Rolling",icon:Ut,sections:[{title:"Rolling a Dragon",type:"list",items:["You impress everyone around you.","You achieve more than intended.","The action is performed faster than usual."]},{title:"Dragon: Melee Combat",type:"list",items:["Roll double the dice for weapon damage.","Immediately perform a second, free attack against another enemy.","Armor has no effect (piercing damage only, optional rule)."]},{title:"Dragon: Ranged Combat",type:"list",items:["Weapon's damage is doubled (roll twice as many dice).","Armor has no effect (piercing damage only, optional rule)."]},{title:"Rolling a Demon",type:"list",items:["The roll cannot be pushed.","You damage yourself, someone else, or an item.","You make a fool of yourself.","You make a lot of noise."]},{title:"Demon: Melee Combat (d6)",type:"table",headers:["D6","Effect"],rows:[["1","Drop your weapon."],["2","Expose yourself; enemy gets a free attack."],["3","Weapon gets stuck (STR roll to free)."],["4","Accidentally toss your weapon D3+3 meters."],["5","Damage your weapon (bane on use until repaired)."],["6","You hit yourself (roll damage as usual, no bonus)."]]},{title:"Demon: Ranged Combat (d6)",type:"table",headers:["D6","Effect"],rows:[["1","Drop your weapon."],["2","Run out of arrows (re-roll for slings/throwing)."],["3","You hit a valuable item nearby."],["4","You break your weapon (bane on use until repaired)."],["5","Accidentally hit a random friendly target."],["6","You hit yourself (roll damage as usual, no bonus)."]]}]},actions:{title:"Actions",icon:Aa,sections:[{title:"Common Actions",type:"definitions",items:{Dash:"Doubles your movement rate for the round.","Melee/Ranged Attack":"Attack an enemy within range.","Parry/Dodge":"A reaction to avoid an attack, replaces your next action.","Pick Up Item":"Pick up an item within 2 meters.","Equip/Unequip Armor":"Don or doff armor/helmets.","First Aid":"HEALING skill to save a dying character.",Rally:"PERSUADE an ally at 0 HP to keep fighting.","Cast Spell":"Counts as an action, including tricks."}},{title:"Free Actions",type:"definitions",items:{"Draw Weapon":"Draw, exchange, or sheathe a weapon.","Change Position":"Drop prone or stand up.","Drop Item":"Drop a held item.",Shout:"Say a few words."}},{title:"Special Attacks",type:"definitions",items:{"Find Weak Spot":"Take a bane on your attack to ignore enemy armor.",Topple:"Opposed roll (weapon skill vs EVADE) to knock an enemy prone.",Disarm:"Opposed roll (weapon skill vs enemy's) to make them drop their weapon.",Grapple:"Opposed BRAWLING roll to trap an enemy.",Shove:"Push an enemy 2m if your STR bonus is higher."}}]},damage:{title:"Damage & Health",icon:xi,sections:[{title:"Fear Table (d8)",type:"table",headers:["D8","Effect"],rows:[["1","Enfeebled. Lose 2D6 WP (min 0), become Disheartened."],["2","Shaken. You suffer the Scared condition."],["3","Panting. Become Exhausted."],["4","Pale. You and allies within 10m become Scared."],["5","Scream. Allies hearing this suffer fear attack."],["6","Rage. Must attack source. Become Angry."],["7","Paralyzed. No move/act. Roll WIL to break."],["8","Wild Panic. Dash away. Roll WIL to stop."]]},{title:"Severe Injuries",type:"table",headers:["D20","Injury","Effect"],rows:[["1-2","Broken nose","Bane on AWARENESS. Heal: D6 days."],["3-4","Scarred face","Bane on PERFORMANCE/PERSUASION. Heal: 2D6 days."],["5-6","Teeth lost","PERFORMANCE/PERSUASION reduced by 2."],["7-8","Broken ribs","Bane on STR/AGL skills. Heal: D6 days."],["9-10","Concussion","Bane on INT skills. Heal: D6 days."],["11-12","Deep wounds","Bane on STR/AGL skills, roll causes D6 dmg. Heal: 2D6 days."],["13","Broken leg","Movement halved. Heal: 3D6 days."],["14","Broken arm","No 2H weapons/dual wield, bane on climbing. Heal: 3D6 days."],["15","Severed toe","Movement reduced by 2."],["16","Severed finger","Weapon skills reduced by 1."],["17","Gouged eye","SPOT HIDDEN reduced by 2."],["18","Nightmares","Roll vs Fear to sleep. Heal: 2D6 days."],["19","Changed personality","New Random Weakness."],["20","Amnesia","Forget identity. Heal: D6 days."]]},{title:"Damage Types",type:"definitions",items:{Leather:"+2 AR vs Bludgeoning.",Chainmail:"+2 AR vs Slashing."}},{title:"Resting",type:"definitions",items:{"Round Rest":"10 sec. Recover D6 WP.","Stretch Rest":"15 min. Heal D6 HP, D6 WP, 1 condition.","Shift Rest":"6 hours. Full recovery."}}]},journeys:{title:"Journeys",icon:_R,sections:[{title:"Wilderness Travel",type:"definitions",items:{Pathfinder:"One character must lead in pathless terrain.",Hunger:"Must eat daily or become famished (cannot heal).","Bushcraft Roll":"Pathfinder rolls BUSHCRAFT each shift. Failure causes a mishap.","Dragon Roll":"Pathfinder finds a shortcut, doubling distance covered."}},{title:"Leaving Site (d6)",type:"table",headers:["D6","Consequence"],rows:[["1","Enemies follow."],["2","Enemies reinforce (x2)."],["3","Site looted."],["4-6","Nothing happens."]]}]},mishaps:{title:"Mishaps",icon:wt,sections:[{title:"Wilderness Mishaps (d12)",type:"table",headers:["D12","Mishap"],rows:[["1","Fog. Distance halved."],["2","Blocking Terrain. ACROBATICS to proceed."],["3","Torn Clothes."],["4","Lost. No progress."],["5","Dropped Item."],["6","Mosquitoes. Become Angry."],["7","Sprained Ankle. D6 dmg."],["8","Downpour. Roll vs Cold."],["9","Wasps. EVADE or D6 dmg + Cond."],["10","Landslide. EVADE or D10 dmg."],["11","Savage Animal."],["12","Quicksand. BUSHCRAFT or stuck."]]}]}},_m=({text:e})=>{const{toggleDiceRoller:t}=Kr();if(!e)return null;const n=/(\b\d*[dD](?:4|6|8|10|12|20|66|100)(?:\s*[+\-]\s*\d+)?\b)/g,r=e.split(n);return s.jsx("span",{children:r.map((a,i)=>{if(a.match(n)){const o=a.toLowerCase().replace(/\s/g,"");return s.jsxs("button",{onClick:()=>t==null?void 0:t({dice:o,label:`GM Screen: ${a}`}),className:"inline-flex items-center justify-center font-bold text-blue-700 bg-blue-100 hover:bg-blue-200 px-1.5 py-0.5 rounded mx-0.5 text-xs transition-colors cursor-pointer",title:`Roll ${a}`,children:[s.jsx(Ut,{size:10,className:"mr-1"}),a]},i)}return s.jsx("span",{children:a},i)})})},Ere=({title:e,children:t})=>s.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm overflow-hidden break-inside-avoid hover:shadow-md transition-shadow",children:[s.jsx("div",{className:"bg-gray-50 px-4 py-3 border-b border-gray-100",children:s.jsx("h3",{className:"font-bold text-gray-800 text-base",children:e})}),s.jsx("div",{className:"p-4 space-y-4",children:t})]}),wre=({headers:e,rows:t})=>s.jsx("div",{className:"overflow-x-auto rounded-lg border border-gray-200",children:s.jsxs("table",{className:"w-full text-sm text-left",children:[s.jsx("thead",{className:"bg-gray-100 text-gray-700 uppercase text-xs font-bold",children:s.jsx("tr",{children:e.map(n=>s.jsx("th",{className:"px-3 py-2 whitespace-nowrap",children:n},n))})}),s.jsx("tbody",{className:"divide-y divide-gray-100",children:t.map((n,r)=>s.jsx("tr",{className:"even:bg-gray-50 hover:bg-blue-50 transition-colors",children:n.map((a,i)=>s.jsx("td",{className:"px-3 py-2 text-gray-700",children:s.jsx(_m,{text:a})},i))},r))})]})}),Sre=({items:e})=>s.jsx("dl",{className:"grid grid-cols-1 gap-x-4 gap-y-3 sm:grid-cols-2",children:Object.entries(e).map(([t,n])=>s.jsxs("div",{className:"bg-gray-50 p-2 rounded border border-gray-100",children:[s.jsx("dt",{className:"font-bold text-gray-900 text-xs uppercase tracking-wide mb-1",children:t}),s.jsx("dd",{className:"text-sm text-gray-700 leading-relaxed",children:s.jsx(_m,{text:n})})]},t))}),Nre=({items:e})=>s.jsx("ul",{className:"space-y-2",children:e.map((t,n)=>s.jsxs("li",{className:"flex items-start gap-2 text-sm text-gray-700",children:[s.jsx("span",{className:"mt-1.5 w-1.5 h-1.5 bg-blue-500 rounded-full flex-shrink-0"}),s.jsx("span",{children:s.jsx(_m,{text:t})})]},n))});function kre(){const[e,t]=E.useState("npcs"),n=zu[e]?e:"npcs",r=Object.keys(zu).map(a=>({id:a,label:zu[a].title,icon:zu[a].icon}));return s.jsxs("div",{className:"min-h-screen bg-gray-50/50 p-4 md:p-6 font-sans",children:[s.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-2 mb-6 sticky top-2 z-20 overflow-x-auto no-scrollbar",children:s.jsx("nav",{className:"flex gap-1 min-w-max",children:r.map(a=>s.jsxs("button",{onClick:()=>t(a.id),className:`
                flex items-center gap-2 px-4 py-2.5 rounded-lg text-sm font-bold transition-all
                ${n===a.id?"bg-blue-600 text-white shadow-md":"text-gray-600 hover:bg-gray-100 hover:text-gray-900"}
              `,children:[s.jsx(a.icon,{size:18}),a.label]},a.id))})}),s.jsx("div",{className:"animate-in fade-in duration-300",children:s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6 items-start",children:zu[n].sections.map((a,i)=>s.jsxs(Ere,{title:a.title,children:[a.type==="table"&&s.jsx(wre,{headers:a.headers,rows:a.rows}),a.type==="text"&&s.jsx("p",{className:"text-sm text-gray-700 leading-relaxed",children:s.jsx(_m,{text:a.content})}),a.type==="list"&&s.jsx(Nre,{items:a.items}),a.type==="definitions"&&s.jsx(Sre,{items:a.items})]},i))})})]})}function _re(){const{id:e}=ox(),t=Mr(),{user:n,isDM:r}=cn(),a=nr(),[i,o]=E.useState(!1),[l,u]=E.useState(null),[c,d]=E.useState(null),[p,h]=E.useState("members"),{data:f,isLoading:m,error:v}=Vt({queryKey:["party",e],queryFn:()=>vee(e),enabled:!!e}),y=Ct({mutationFn:C=>{if(!e)throw new Error("Party ID is missing");return cL(e,C)},onSuccess:()=>{a.invalidateQueries({queryKey:["party",e]}),a.invalidateQueries({queryKey:["availableCharacters"]}),u(null),d(null)}}),g=Ct({mutationFn:()=>{if(!e)throw new Error("Party ID is missing");return Eee(e)},onSuccess:()=>{a.invalidateQueries({queryKey:["parties"]}),t("/adventure-party")}}),x=()=>{c&&y.mutate(c.id)},w=()=>{g.mutate()},k=n&&f&&n.id===f.created_by&&r(),S=f!=null&&f.invite_code?`${window.location.origin}/party/join/${f.invite_code}`:"",T=E.useMemo(()=>f!=null&&f.members?f.members.map(C=>`- ${C.name} (${C.kin} ${C.profession})`).join(`
`):"",[f]);if(m)return s.jsx("div",{className:"flex justify-center items-center h-96",children:s.jsx(et,{size:"lg"})});if(v)return s.jsx("div",{className:"p-8",children:s.jsx(He,{message:v.message})});if(!f)return s.jsx("div",{className:"p-8",children:s.jsx(He,{message:"Party not found."})});const I=[{id:"members",label:"Roster",icon:Cr},{id:"notes",label:"Journal",icon:ou},{id:"tasks",label:"Quests",icon:vP},{id:"inventory",label:"Stash",icon:ER},{id:"encounter",label:"Combat",icon:Dx,dmOnly:!0},{id:"sessionEnd",label:"Session End",icon:Ff,dmOnly:!0},{id:"gmScreen",label:"GM Screen",icon:$h,dmOnly:!0},{id:"storyhelper",label:"Story AI",icon:$l,dmOnly:!0}].filter(C=>!C.dmOnly||k);return s.jsxs("div",{className:"max-w-7xl mx-auto p-4 sm:p-6 space-y-6",children:[s.jsxs("div",{className:"bg-white shadow-sm border border-gray-200 rounded-xl overflow-hidden",children:[s.jsxs("div",{className:"p-6 md:p-8 bg-gradient-to-r from-white to-gray-50 border-b border-gray-200",children:[s.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-extrabold text-gray-900 tracking-tight",children:f.name}),s.jsxs("p",{className:"text-gray-500 mt-1 font-medium",children:["A band of ",f.members.length," brave adventurers."]})]}),k&&s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(V,{variant:"secondary",size:"sm",icon:zf,onClick:()=>o(!i),className:i?"bg-blue-50 border-blue-200 text-blue-700":"",children:"Invite"}),s.jsxs(bre,{children:[s.jsx(yre,{children:s.jsx(V,{variant:"outline",size:"icon","aria-label":"Party Settings",children:s.jsx(bx,{className:"h-5 w-5"})})}),s.jsx(xre,{align:"end",children:s.jsxs(vre,{onSelect:()=>u("deleteParty"),className:"text-red-600 hover:text-red-700 hover:bg-red-50",children:[s.jsx(Cn,{className:"w-4 h-4 mr-2"})," Disband Party"]})})]})]})]}),i&&k&&s.jsxs("div",{className:"mt-6 p-4 bg-blue-50 border border-blue-100 rounded-lg animate-in slide-in-from-top-2 fade-in",children:[s.jsx("h3",{className:"text-sm font-bold text-blue-900 uppercase tracking-wide mb-2",children:"Invite Link"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"flex-grow bg-white border border-blue-200 rounded-md px-3 py-2 text-sm text-gray-600 font-mono truncate",children:S}),s.jsx(Cne,{textToCopy:S})]})]})]}),s.jsx("div",{className:"border-b border-gray-200 bg-white overflow-x-auto",children:s.jsx("nav",{className:"flex px-6 min-w-max",children:I.map(C=>s.jsxs("button",{onClick:()=>h(C.id),className:`
                  group flex items-center gap-2 px-4 py-4 text-sm font-medium border-b-2 transition-all
                  ${p===C.id?"border-indigo-600 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-800 hover:border-gray-300"}
                `,children:[s.jsx(C.icon,{className:`w-4 h-4 ${p===C.id?"text-indigo-600":"text-gray-400 group-hover:text-gray-600"}`}),C.label]},C.id))})})]}),s.jsxs("div",{className:"bg-white shadow-sm border border-gray-200 rounded-xl min-h-[500px] overflow-hidden",children:[p==="members"&&s.jsx("div",{className:"p-6",children:s.jsx(Ine,{party:f,isDM:k,currentUserId:n==null?void 0:n.id,onUpdate:()=>a.invalidateQueries({queryKey:["party",e]})})}),p==="notes"&&s.jsx(Rne,{partyId:e,isDM:k}),p==="tasks"&&s.jsx(Fne,{partyId:e,isDM:k}),p==="inventory"&&s.jsx("div",{className:"p-6",children:s.jsx(Bne,{partyId:e,members:f.members,isDM:k})}),p==="encounter"&&s.jsx(Jne,{partyId:e,partyMembers:f.members,isDM:k}),p==="sessionEnd"&&s.jsx("div",{className:"p-6",children:s.jsx(rre,{members:f.members,partyId:e})}),p==="gmScreen"&&s.jsx(kre,{}),p==="storyhelper"&&s.jsx("div",{className:"p-6",children:s.jsx(gre,{partyId:e,initialPartyData:T})})]}),s.jsx(Eb,{isOpen:l==="removeMember",onClose:()=>u(null),onConfirm:x,title:"Remove Member",description:`Are you sure you want to remove ${c==null?void 0:c.name} from the party?`,confirmText:"Remove",isDestructive:!0,isLoading:y.isPending,icon:s.jsx(AR,{className:"w-6 h-6 text-red-500"})}),s.jsx(Eb,{isOpen:l==="deleteParty",onClose:()=>u(null),onConfirm:w,title:"Disband Party",description:"Are you sure? This will permanently delete the party and all associated data (notes, tasks, chat). Characters will remain but will be removed from this group.",confirmText:"Disband Permanently",isDestructive:!0,isLoading:g.isPending,icon:s.jsx($h,{className:"w-6 h-6 text-red-500"})})]})}function Tre(){var f;const{inviteCode:e}=ox();console.log("Invite Code from URL:",e);const t=Mr(),{user:n}=cn(),r=nr(),[a,i]=E.useState(""),{data:o=[],isLoading:l,error:u}=Vt({queryKey:["availableCharacters",n==null?void 0:n.id],queryFn:()=>uL(n==null?void 0:n.id),enabled:!!n}),c=Ct({mutationFn:async m=>{if(!m)throw new Error("Please select a character");if(!e)throw new Error("Invite code is missing");const{data:v,error:y}=await se.rpc("join_party_with_character",{p_invite_code:e,p_character_id:m});if(y)throw y.message.includes("invalid_invite_code")?new Error("This invite link is invalid or has expired."):y.message.includes("character_already_in_a_party")?new Error("This character is already in a party."):y.message.includes("user_already_in_party")?new Error("You are already a member of this party."):y;return v},onSuccess:m=>{const v=m==null?void 0:m.party_id;v?(r.invalidateQueries({queryKey:["parties"]}),r.invalidateQueries({queryKey:["party",v]}),r.invalidateQueries({queryKey:["availableCharacters",n==null?void 0:n.id]}),t(`/party/${v}`)):t("/adventure-party")}}),d=()=>{a&&c.mutate(a)},p=l,h=(u==null?void 0:u.message)||((f=c.error)==null?void 0:f.message);return p?s.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-50",children:s.jsx(et,{size:"lg"})}):h?s.jsxs("div",{className:"container mx-auto px-4 py-8 text-center",children:[s.jsx(He,{message:h}),s.jsx(V,{variant:"secondary",onClick:()=>t("/adventure-party"),className:"mt-4",children:"Back to Parties"})]}):s.jsx("div",{className:"min-h-screen bg-gray-50 py-12 px-4",children:s.jsxs("div",{className:"max-w-2xl mx-auto bg-white p-8 rounded-xl shadow-lg",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx(Cr,{className:"w-12 h-12 text-blue-600 mx-auto mb-4"}),s.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Join an Adventure"}),s.jsx("p",{className:"text-gray-600 text-lg",children:"You've been invited to join a new party!"})]}),o.length>0?s.jsxs("div",{className:"space-y-6",children:[s.jsx("p",{className:"text-center text-gray-700",children:"Select one of your available characters to join with."}),s.jsx("div",{className:"space-y-3",children:o.map(m=>s.jsxs("div",{onClick:()=>i(m.id),className:`p-4 border rounded-lg cursor-pointer transition-all flex items-center justify-between ${a===m.id?"border-blue-500 bg-blue-50 ring-2 ring-blue-500":"border-gray-200 hover:border-blue-400"}`,children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-gray-800",children:m.name}),s.jsxs("p",{className:"text-sm text-gray-500",children:[m.kin," ",m.profession]})]}),a===m.id&&s.jsx("div",{className:"w-6 h-6 rounded-full bg-blue-500 flex items-center justify-center",children:s.jsx(Vs,{className:"w-4 h-4 text-white"})})]},m.id))}),s.jsxs("div",{className:"flex justify-end gap-4 pt-4",children:[s.jsx(V,{variant:"secondary",onClick:()=>t("/adventure-party"),children:"Cancel"}),s.jsx(V,{variant:"primary",loading:c.isPending,disabled:!a||c.isPending,onClick:d,children:"Join with Selected Character"})]})]}):s.jsxs("div",{className:"text-center py-8 border-t mt-8",children:[s.jsx("p",{className:"text-gray-600 mb-4",children:"You don't have any available characters to join with."}),s.jsx(V,{variant:"primary",onClick:()=>t("/"),children:"Create a Character"})]})]})})}function Cre(){return s.jsxs(s.Fragment,{children:[s.jsx("a",{href:"#main-content",className:"sr-only focus:not-sr-only focus:absolute focus:top-0 focus:left-0 focus:z-50 focus:p-4 focus:bg-white focus:text-blue-600",children:"Skip to main content"}),s.jsxs(Hk,{children:[s.jsx(Br,{path:"/login",element:s.jsx(wne,{})}),s.jsx(Br,{path:"*",element:s.jsx(Tne,{children:s.jsxs(s.Fragment,{children:[s.jsx(f8,{}),s.jsx("main",{id:"main-content",className:"container mx-auto px-4 py-8",children:s.jsxs(Hk,{children:[s.jsx(Br,{path:"/",element:s.jsx(X7,{})}),s.jsx(Br,{path:"/character/:id",element:s.jsx(lK,{})}),s.jsx(Br,{path:"/compendium",element:s.jsx(yee,{})}),s.jsx(Br,{path:"/adventure-party",element:s.jsx(wee,{})}),s.jsx(Br,{path:"/party/:id",element:s.jsx(_re,{})}),s.jsx(Br,{path:"/party/join/:inviteCode",element:s.jsx(Tre,{})}),s.jsx(Br,{path:"/notes",element:s.jsx(See,{})}),s.jsx(Br,{path:"/settings",element:s.jsx(Ene,{})}),s.jsx(Br,{path:"*",element:s.jsx(lx,{to:"/",replace:!0})})]})}),s.jsx(_ne,{}),s.jsx(oO,{})]})})})]})]})}function Are(){const{showWarning:e,extendSession:t}=l8();return e?s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:s.jsxs("div",{className:"bg-white rounded-lg max-w-md w-full p-6",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[s.jsx("div",{className:"p-2 bg-amber-100 rounded-full",children:s.jsx(Pf,{className:"w-6 h-6 text-amber-600"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Session Timeout Warning"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Your session will expire in 30 seconds due to inactivity."})]})]}),s.jsx("div",{className:"p-4 bg-amber-50 border border-amber-200 rounded-lg mb-6",children:s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx(wt,{className:"w-5 h-5 text-amber-500 flex-shrink-0 mt-0.5"}),s.jsx("p",{className:"text-sm text-amber-700",children:'Click "Continue Session" to stay logged in, or your session will end automatically.'})]})}),s.jsx("div",{className:"flex justify-end",children:s.jsx(V,{variant:"primary",onClick:t,children:"Continue Session"})})]})}):null}function Ire(){return s.jsx($5,{children:s.jsx(u8,{children:s.jsxs(MI,{client:LR,children:[s.jsx(t8,{children:s.jsx(s8,{children:s.jsx(o8,{children:s.jsx(h8,{children:s.jsxs("div",{className:"min-h-screen bg-gray-100",children:[s.jsx(Cre,{}),s.jsx(Are,{})]})})})})}),!1]})})})}NI(document.getElementById("root")).render(s.jsx(E.StrictMode,{children:s.jsxs(MI,{client:LR,children:[" ",s.jsx(Ire,{})]})}));export{Xl as g};
